var Lk=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var QU=Lk((Ki,Zi)=>{class Mk{constructor(e,t,r){this.eventTarget=e,this.eventName=t,this.eventOptions=r,this.unorderedBindings=new Set}connect(){this.eventTarget.addEventListener(this.eventName,this,this.eventOptions)}disconnect(){this.eventTarget.removeEventListener(this.eventName,this,this.eventOptions)}bindingConnected(e){this.unorderedBindings.add(e)}bindingDisconnected(e){this.unorderedBindings.delete(e)}handleEvent(e){const t=Pk(e);for(const r of this.bindings){if(t.immediatePropagationStopped)break;r.handleEvent(t)}}hasBindings(){return this.unorderedBindings.size>0}get bindings(){return Array.from(this.unorderedBindings).sort((e,t)=>{const r=e.index,i=t.index;return r<i?-1:r>i?1:0})}}function Pk(n){if("immediatePropagationStopped"in n)return n;{const{stopImmediatePropagation:e}=n;return Object.assign(n,{immediatePropagationStopped:!1,stopImmediatePropagation(){this.immediatePropagationStopped=!0,e.call(this)}})}}class Nk{constructor(e){this.application=e,this.eventListenerMaps=new Map,this.started=!1}start(){this.started||(this.started=!0,this.eventListeners.forEach(e=>e.connect()))}stop(){this.started&&(this.started=!1,this.eventListeners.forEach(e=>e.disconnect()))}get eventListeners(){return Array.from(this.eventListenerMaps.values()).reduce((e,t)=>e.concat(Array.from(t.values())),[])}bindingConnected(e){this.fetchEventListenerForBinding(e).bindingConnected(e)}bindingDisconnected(e,t=!1){this.fetchEventListenerForBinding(e).bindingDisconnected(e),t&&this.clearEventListenersForBinding(e)}handleError(e,t,r={}){this.application.handleError(e,`Error ${t}`,r)}clearEventListenersForBinding(e){const t=this.fetchEventListenerForBinding(e);t.hasBindings()||(t.disconnect(),this.removeMappedEventListenerFor(e))}removeMappedEventListenerFor(e){const{eventTarget:t,eventName:r,eventOptions:i}=e,o=this.fetchEventListenerMapForEventTarget(t),l=this.cacheKey(r,i);o.delete(l),o.size==0&&this.eventListenerMaps.delete(t)}fetchEventListenerForBinding(e){const{eventTarget:t,eventName:r,eventOptions:i}=e;return this.fetchEventListener(t,r,i)}fetchEventListener(e,t,r){const i=this.fetchEventListenerMapForEventTarget(e),o=this.cacheKey(t,r);let l=i.get(o);return l||(l=this.createEventListener(e,t,r),i.set(o,l)),l}createEventListener(e,t,r){const i=new Mk(e,t,r);return this.started&&i.connect(),i}fetchEventListenerMapForEventTarget(e){let t=this.eventListenerMaps.get(e);return t||(t=new Map,this.eventListenerMaps.set(e,t)),t}cacheKey(e,t){const r=[e];return Object.keys(t).sort().forEach(i=>{r.push(`${t[i]?"":"!"}${i}`)}),r.join(":")}}const Ik={stop({event:n,value:e}){return e&&n.stopPropagation(),!0},prevent({event:n,value:e}){return e&&n.preventDefault(),!0},self({event:n,value:e,element:t}){return e?t===n.target:!0}},Dk=/^(?:(?:([^.]+?)\+)?(.+?)(?:\.(.+?))?(?:@(window|document))?->)?(.+?)(?:#([^:]+?))(?::(.+))?$/;function Rk(n){const t=n.trim().match(Dk)||[];let r=t[2],i=t[3];return i&&!["keydown","keyup","keypress"].includes(r)&&(r+=`.${i}`,i=""),{eventTarget:Fk(t[4]),eventName:r,eventOptions:t[7]?Bk(t[7]):{},identifier:t[5],methodName:t[6],keyFilter:t[1]||i}}function Fk(n){if(n=="window")return window;if(n=="document")return document}function Bk(n){return n.split(":").reduce((e,t)=>Object.assign(e,{[t.replace(/^!/,"")]:!/^!/.test(t)}),{})}function jk(n){if(n==window)return"window";if(n==document)return"document"}function hy(n){return n.replace(/(?:[_-])([a-z0-9])/g,(e,t)=>t.toUpperCase())}function mv(n){return hy(n.replace(/--/g,"-").replace(/__/g,"_"))}function Ih(n){return n.charAt(0).toUpperCase()+n.slice(1)}function yx(n){return n.replace(/([A-Z])/g,(e,t)=>`-${t.toLowerCase()}`)}function Hk(n){return n.match(/[^\s]+/g)||[]}function Gb(n){return n!=null}function gv(n,e){return Object.prototype.hasOwnProperty.call(n,e)}const Yb=["meta","ctrl","alt","shift"];class zk{constructor(e,t,r,i){this.element=e,this.index=t,this.eventTarget=r.eventTarget||e,this.eventName=r.eventName||$k(e)||jf("missing event name"),this.eventOptions=r.eventOptions||{},this.identifier=r.identifier||jf("missing identifier"),this.methodName=r.methodName||jf("missing method name"),this.keyFilter=r.keyFilter||"",this.schema=i}static forToken(e,t){return new this(e.element,e.index,Rk(e.content),t)}toString(){const e=this.keyFilter?`.${this.keyFilter}`:"",t=this.eventTargetName?`@${this.eventTargetName}`:"";return`${this.eventName}${e}${t}->${this.identifier}#${this.methodName}`}shouldIgnoreKeyboardEvent(e){if(!this.keyFilter)return!1;const t=this.keyFilter.split("+");if(this.keyFilterDissatisfied(e,t))return!0;const r=t.filter(i=>!Yb.includes(i))[0];return r?(gv(this.keyMappings,r)||jf(`contains unknown key filter: ${this.keyFilter}`),this.keyMappings[r].toLowerCase()!==e.key.toLowerCase()):!1}shouldIgnoreMouseEvent(e){if(!this.keyFilter)return!1;const t=[this.keyFilter];return!!this.keyFilterDissatisfied(e,t)}get params(){const e={},t=new RegExp(`^data-${this.identifier}-(.+)-param$`,"i");for(const{name:r,value:i}of Array.from(this.element.attributes)){const o=r.match(t),l=o&&o[1];l&&(e[hy(l)]=Uk(i))}return e}get eventTargetName(){return jk(this.eventTarget)}get keyMappings(){return this.schema.keyMappings}keyFilterDissatisfied(e,t){const[r,i,o,l]=Yb.map(h=>t.includes(h));return e.metaKey!==r||e.ctrlKey!==i||e.altKey!==o||e.shiftKey!==l}}const Kb={a:()=>"click",button:()=>"click",form:()=>"submit",details:()=>"toggle",input:n=>n.getAttribute("type")=="submit"?"click":"input",select:()=>"change",textarea:()=>"input"};function $k(n){const e=n.tagName.toLowerCase();if(e in Kb)return Kb[e](n)}function jf(n){throw new Error(n)}function Uk(n){try{return JSON.parse(n)}catch{return n}}class qk{constructor(e,t){this.context=e,this.action=t}get index(){return this.action.index}get eventTarget(){return this.action.eventTarget}get eventOptions(){return this.action.eventOptions}get identifier(){return this.context.identifier}handleEvent(e){const t=this.prepareActionEvent(e);this.willBeInvokedByEvent(e)&&this.applyEventModifiers(t)&&this.invokeWithEvent(t)}get eventName(){return this.action.eventName}get method(){const e=this.controller[this.methodName];if(typeof e=="function")return e;throw new Error(`Action "${this.action}" references undefined method "${this.methodName}"`)}applyEventModifiers(e){const{element:t}=this.action,{actionDescriptorFilters:r}=this.context.application,{controller:i}=this.context;let o=!0;for(const[l,h]of Object.entries(this.eventOptions))if(l in r){const u=r[l];o=o&&u({name:l,value:h,event:e,element:t,controller:i})}else continue;return o}prepareActionEvent(e){return Object.assign(e,{params:this.action.params})}invokeWithEvent(e){const{target:t,currentTarget:r}=e;try{this.method.call(this.controller,e),this.context.logDebugActivity(this.methodName,{event:e,target:t,currentTarget:r,action:this.methodName})}catch(i){const{identifier:o,controller:l,element:h,index:u}=this,f={identifier:o,controller:l,element:h,index:u,event:e};this.context.handleError(i,`invoking action "${this.action}"`,f)}}willBeInvokedByEvent(e){const t=e.target;return e instanceof KeyboardEvent&&this.action.shouldIgnoreKeyboardEvent(e)||e instanceof MouseEvent&&this.action.shouldIgnoreMouseEvent(e)?!1:this.element===t?!0:t instanceof Element&&this.element.contains(t)?this.scope.containsElement(t):this.scope.containsElement(this.action.element)}get controller(){return this.context.controller}get methodName(){return this.action.methodName}get element(){return this.scope.element}get scope(){return this.context.scope}}class bx{constructor(e,t){this.mutationObserverInit={attributes:!0,childList:!0,subtree:!0},this.element=e,this.started=!1,this.delegate=t,this.elements=new Set,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,this.mutationObserverInit),this.refresh())}pause(e){this.started&&(this.mutationObserver.disconnect(),this.started=!1),e(),this.started||(this.mutationObserver.observe(this.element,this.mutationObserverInit),this.started=!0)}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started){const e=new Set(this.matchElementsInTree());for(const t of Array.from(this.elements))e.has(t)||this.removeElement(t);for(const t of Array.from(e))this.addElement(t)}}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){e.type=="attributes"?this.processAttributeChange(e.target,e.attributeName):e.type=="childList"&&(this.processRemovedNodes(e.removedNodes),this.processAddedNodes(e.addedNodes))}processAttributeChange(e,t){this.elements.has(e)?this.delegate.elementAttributeChanged&&this.matchElement(e)?this.delegate.elementAttributeChanged(e,t):this.removeElement(e):this.matchElement(e)&&this.addElement(e)}processRemovedNodes(e){for(const t of Array.from(e)){const r=this.elementFromNode(t);r&&this.processTree(r,this.removeElement)}}processAddedNodes(e){for(const t of Array.from(e)){const r=this.elementFromNode(t);r&&this.elementIsActive(r)&&this.processTree(r,this.addElement)}}matchElement(e){return this.delegate.matchElement(e)}matchElementsInTree(e=this.element){return this.delegate.matchElementsInTree(e)}processTree(e,t){for(const r of this.matchElementsInTree(e))t.call(this,r)}elementFromNode(e){if(e.nodeType==Node.ELEMENT_NODE)return e}elementIsActive(e){return e.isConnected!=this.element.isConnected?!1:this.element.contains(e)}addElement(e){this.elements.has(e)||this.elementIsActive(e)&&(this.elements.add(e),this.delegate.elementMatched&&this.delegate.elementMatched(e))}removeElement(e){this.elements.has(e)&&(this.elements.delete(e),this.delegate.elementUnmatched&&this.delegate.elementUnmatched(e))}}class wx{constructor(e,t,r){this.attributeName=t,this.delegate=r,this.elementObserver=new bx(e,this)}get element(){return this.elementObserver.element}get selector(){return`[${this.attributeName}]`}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get started(){return this.elementObserver.started}matchElement(e){return e.hasAttribute(this.attributeName)}matchElementsInTree(e){const t=this.matchElement(e)?[e]:[],r=Array.from(e.querySelectorAll(this.selector));return t.concat(r)}elementMatched(e){this.delegate.elementMatchedAttribute&&this.delegate.elementMatchedAttribute(e,this.attributeName)}elementUnmatched(e){this.delegate.elementUnmatchedAttribute&&this.delegate.elementUnmatchedAttribute(e,this.attributeName)}elementAttributeChanged(e,t){this.delegate.elementAttributeValueChanged&&this.attributeName==t&&this.delegate.elementAttributeValueChanged(e,t)}}function Wk(n,e,t){_x(n,e).add(t)}function Vk(n,e,t){_x(n,e).delete(t),Gk(n,e)}function _x(n,e){let t=n.get(e);return t||(t=new Set,n.set(e,t)),t}function Gk(n,e){const t=n.get(e);t!=null&&t.size==0&&n.delete(e)}class pl{constructor(){this.valuesByKey=new Map}get keys(){return Array.from(this.valuesByKey.keys())}get values(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t.concat(Array.from(r)),[])}get size(){return Array.from(this.valuesByKey.values()).reduce((t,r)=>t+r.size,0)}add(e,t){Wk(this.valuesByKey,e,t)}delete(e,t){Vk(this.valuesByKey,e,t)}has(e,t){const r=this.valuesByKey.get(e);return r!=null&&r.has(t)}hasKey(e){return this.valuesByKey.has(e)}hasValue(e){return Array.from(this.valuesByKey.values()).some(r=>r.has(e))}getValuesForKey(e){const t=this.valuesByKey.get(e);return t?Array.from(t):[]}getKeysForValue(e){return Array.from(this.valuesByKey).filter(([t,r])=>r.has(e)).map(([t,r])=>t)}}class Yk{constructor(e,t,r,i){this._selector=t,this.details=i,this.elementObserver=new bx(e,this),this.delegate=r,this.matchesByElement=new pl}get started(){return this.elementObserver.started}get selector(){return this._selector}set selector(e){this._selector=e,this.refresh()}start(){this.elementObserver.start()}pause(e){this.elementObserver.pause(e)}stop(){this.elementObserver.stop()}refresh(){this.elementObserver.refresh()}get element(){return this.elementObserver.element}matchElement(e){const{selector:t}=this;if(t){const r=e.matches(t);return this.delegate.selectorMatchElement?r&&this.delegate.selectorMatchElement(e,this.details):r}else return!1}matchElementsInTree(e){const{selector:t}=this;if(t){const r=this.matchElement(e)?[e]:[],i=Array.from(e.querySelectorAll(t)).filter(o=>this.matchElement(o));return r.concat(i)}else return[]}elementMatched(e){const{selector:t}=this;t&&this.selectorMatched(e,t)}elementUnmatched(e){const t=this.matchesByElement.getKeysForValue(e);for(const r of t)this.selectorUnmatched(e,r)}elementAttributeChanged(e,t){const{selector:r}=this;if(r){const i=this.matchElement(e),o=this.matchesByElement.has(r,e);i&&!o?this.selectorMatched(e,r):!i&&o&&this.selectorUnmatched(e,r)}}selectorMatched(e,t){this.delegate.selectorMatched(e,t,this.details),this.matchesByElement.add(t,e)}selectorUnmatched(e,t){this.delegate.selectorUnmatched(e,t,this.details),this.matchesByElement.delete(t,e)}}class Kk{constructor(e,t){this.element=e,this.delegate=t,this.started=!1,this.stringMap=new Map,this.mutationObserver=new MutationObserver(r=>this.processMutations(r))}start(){this.started||(this.started=!0,this.mutationObserver.observe(this.element,{attributes:!0,attributeOldValue:!0}),this.refresh())}stop(){this.started&&(this.mutationObserver.takeRecords(),this.mutationObserver.disconnect(),this.started=!1)}refresh(){if(this.started)for(const e of this.knownAttributeNames)this.refreshAttribute(e,null)}processMutations(e){if(this.started)for(const t of e)this.processMutation(t)}processMutation(e){const t=e.attributeName;t&&this.refreshAttribute(t,e.oldValue)}refreshAttribute(e,t){const r=this.delegate.getStringMapKeyForAttribute(e);if(r!=null){this.stringMap.has(e)||this.stringMapKeyAdded(r,e);const i=this.element.getAttribute(e);if(this.stringMap.get(e)!=i&&this.stringMapValueChanged(i,r,t),i==null){const o=this.stringMap.get(e);this.stringMap.delete(e),o&&this.stringMapKeyRemoved(r,e,o)}else this.stringMap.set(e,i)}}stringMapKeyAdded(e,t){this.delegate.stringMapKeyAdded&&this.delegate.stringMapKeyAdded(e,t)}stringMapValueChanged(e,t,r){this.delegate.stringMapValueChanged&&this.delegate.stringMapValueChanged(e,t,r)}stringMapKeyRemoved(e,t,r){this.delegate.stringMapKeyRemoved&&this.delegate.stringMapKeyRemoved(e,t,r)}get knownAttributeNames(){return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)))}get currentAttributeNames(){return Array.from(this.element.attributes).map(e=>e.name)}get recordedAttributeNames(){return Array.from(this.stringMap.keys())}}class xx{constructor(e,t,r){this.attributeObserver=new wx(e,t,this),this.delegate=r,this.tokensByElement=new pl}get started(){return this.attributeObserver.started}start(){this.attributeObserver.start()}pause(e){this.attributeObserver.pause(e)}stop(){this.attributeObserver.stop()}refresh(){this.attributeObserver.refresh()}get element(){return this.attributeObserver.element}get attributeName(){return this.attributeObserver.attributeName}elementMatchedAttribute(e){this.tokensMatched(this.readTokensForElement(e))}elementAttributeValueChanged(e){const[t,r]=this.refreshTokensForElement(e);this.tokensUnmatched(t),this.tokensMatched(r)}elementUnmatchedAttribute(e){this.tokensUnmatched(this.tokensByElement.getValuesForKey(e))}tokensMatched(e){e.forEach(t=>this.tokenMatched(t))}tokensUnmatched(e){e.forEach(t=>this.tokenUnmatched(t))}tokenMatched(e){this.delegate.tokenMatched(e),this.tokensByElement.add(e.element,e)}tokenUnmatched(e){this.delegate.tokenUnmatched(e),this.tokensByElement.delete(e.element,e)}refreshTokensForElement(e){const t=this.tokensByElement.getValuesForKey(e),r=this.readTokensForElement(e),i=Xk(t,r).findIndex(([o,l])=>!Jk(o,l));return i==-1?[[],[]]:[t.slice(i),r.slice(i)]}readTokensForElement(e){const t=this.attributeName,r=e.getAttribute(t)||"";return Zk(r,e,t)}}function Zk(n,e,t){return n.trim().split(/\s+/).filter(r=>r.length).map((r,i)=>({element:e,attributeName:t,content:r,index:i}))}function Xk(n,e){const t=Math.max(n.length,e.length);return Array.from({length:t},(r,i)=>[n[i],e[i]])}function Jk(n,e){return n&&e&&n.index==e.index&&n.content==e.content}class Sx{constructor(e,t,r){this.tokenListObserver=new xx(e,t,this),this.delegate=r,this.parseResultsByToken=new WeakMap,this.valuesByTokenByElement=new WeakMap}get started(){return this.tokenListObserver.started}start(){this.tokenListObserver.start()}stop(){this.tokenListObserver.stop()}refresh(){this.tokenListObserver.refresh()}get element(){return this.tokenListObserver.element}get attributeName(){return this.tokenListObserver.attributeName}tokenMatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).set(e,r),this.delegate.elementMatchedValue(t,r))}tokenUnmatched(e){const{element:t}=e,{value:r}=this.fetchParseResultForToken(e);r&&(this.fetchValuesByTokenForElement(t).delete(e),this.delegate.elementUnmatchedValue(t,r))}fetchParseResultForToken(e){let t=this.parseResultsByToken.get(e);return t||(t=this.parseToken(e),this.parseResultsByToken.set(e,t)),t}fetchValuesByTokenForElement(e){let t=this.valuesByTokenByElement.get(e);return t||(t=new Map,this.valuesByTokenByElement.set(e,t)),t}parseToken(e){try{return{value:this.delegate.parseValueForToken(e)}}catch(t){return{error:t}}}}class Qk{constructor(e,t){this.context=e,this.delegate=t,this.bindingsByAction=new Map}start(){this.valueListObserver||(this.valueListObserver=new Sx(this.element,this.actionAttribute,this),this.valueListObserver.start())}stop(){this.valueListObserver&&(this.valueListObserver.stop(),delete this.valueListObserver,this.disconnectAllActions())}get element(){return this.context.element}get identifier(){return this.context.identifier}get actionAttribute(){return this.schema.actionAttribute}get schema(){return this.context.schema}get bindings(){return Array.from(this.bindingsByAction.values())}connectAction(e){const t=new qk(this.context,e);this.bindingsByAction.set(e,t),this.delegate.bindingConnected(t)}disconnectAction(e){const t=this.bindingsByAction.get(e);t&&(this.bindingsByAction.delete(e),this.delegate.bindingDisconnected(t))}disconnectAllActions(){this.bindings.forEach(e=>this.delegate.bindingDisconnected(e,!0)),this.bindingsByAction.clear()}parseValueForToken(e){const t=zk.forToken(e,this.schema);if(t.identifier==this.identifier)return t}elementMatchedValue(e,t){this.connectAction(t)}elementUnmatchedValue(e,t){this.disconnectAction(t)}}class eC{constructor(e,t){this.context=e,this.receiver=t,this.stringMapObserver=new Kk(this.element,this),this.valueDescriptorMap=this.controller.valueDescriptorMap}start(){this.stringMapObserver.start(),this.invokeChangedCallbacksForDefaultValues()}stop(){this.stringMapObserver.stop()}get element(){return this.context.element}get controller(){return this.context.controller}getStringMapKeyForAttribute(e){if(e in this.valueDescriptorMap)return this.valueDescriptorMap[e].name}stringMapKeyAdded(e,t){const r=this.valueDescriptorMap[t];this.hasValue(e)||this.invokeChangedCallback(e,r.writer(this.receiver[e]),r.writer(r.defaultValue))}stringMapValueChanged(e,t,r){const i=this.valueDescriptorNameMap[t];e!==null&&(r===null&&(r=i.writer(i.defaultValue)),this.invokeChangedCallback(t,e,r))}stringMapKeyRemoved(e,t,r){const i=this.valueDescriptorNameMap[e];this.hasValue(e)?this.invokeChangedCallback(e,i.writer(this.receiver[e]),r):this.invokeChangedCallback(e,i.writer(i.defaultValue),r)}invokeChangedCallbacksForDefaultValues(){for(const{key:e,name:t,defaultValue:r,writer:i}of this.valueDescriptors)r!=null&&!this.controller.data.has(e)&&this.invokeChangedCallback(t,i(r),void 0)}invokeChangedCallback(e,t,r){const i=`${e}Changed`,o=this.receiver[i];if(typeof o=="function"){const l=this.valueDescriptorNameMap[e];try{const h=l.reader(t);let u=r;r&&(u=l.reader(r)),o.call(this.receiver,h,u)}catch(h){throw h instanceof TypeError&&(h.message=`Stimulus Value "${this.context.identifier}.${l.name}" - ${h.message}`),h}}}get valueDescriptors(){const{valueDescriptorMap:e}=this;return Object.keys(e).map(t=>e[t])}get valueDescriptorNameMap(){const e={};return Object.keys(this.valueDescriptorMap).forEach(t=>{const r=this.valueDescriptorMap[t];e[r.name]=r}),e}hasValue(e){const t=this.valueDescriptorNameMap[e],r=`has${Ih(t.name)}`;return this.receiver[r]}}class tC{constructor(e,t){this.context=e,this.delegate=t,this.targetsByName=new pl}start(){this.tokenListObserver||(this.tokenListObserver=new xx(this.element,this.attributeName,this),this.tokenListObserver.start())}stop(){this.tokenListObserver&&(this.disconnectAllTargets(),this.tokenListObserver.stop(),delete this.tokenListObserver)}tokenMatched({element:e,content:t}){this.scope.containsElement(e)&&this.connectTarget(e,t)}tokenUnmatched({element:e,content:t}){this.disconnectTarget(e,t)}connectTarget(e,t){var r;this.targetsByName.has(t,e)||(this.targetsByName.add(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetConnected(e,t)))}disconnectTarget(e,t){var r;this.targetsByName.has(t,e)&&(this.targetsByName.delete(t,e),(r=this.tokenListObserver)===null||r===void 0||r.pause(()=>this.delegate.targetDisconnected(e,t)))}disconnectAllTargets(){for(const e of this.targetsByName.keys)for(const t of this.targetsByName.getValuesForKey(e))this.disconnectTarget(t,e)}get attributeName(){return`data-${this.context.identifier}-target`}get element(){return this.context.element}get scope(){return this.context.scope}}function Dh(n,e){const t=Ex(n);return Array.from(t.reduce((r,i)=>(rC(i,e).forEach(o=>r.add(o)),r),new Set))}function nC(n,e){return Ex(n).reduce((r,i)=>(r.push(...iC(i,e)),r),[])}function Ex(n){const e=[];for(;n;)e.push(n),n=Object.getPrototypeOf(n);return e.reverse()}function rC(n,e){const t=n[e];return Array.isArray(t)?t:[]}function iC(n,e){const t=n[e];return t?Object.keys(t).map(r=>[r,t[r]]):[]}class sC{constructor(e,t){this.started=!1,this.context=e,this.delegate=t,this.outletsByName=new pl,this.outletElementsByName=new pl,this.selectorObserverMap=new Map,this.attributeObserverMap=new Map}start(){this.started||(this.outletDefinitions.forEach(e=>{this.setupSelectorObserverForOutlet(e),this.setupAttributeObserverForOutlet(e)}),this.started=!0,this.dependentContexts.forEach(e=>e.refresh()))}refresh(){this.selectorObserverMap.forEach(e=>e.refresh()),this.attributeObserverMap.forEach(e=>e.refresh())}stop(){this.started&&(this.started=!1,this.disconnectAllOutlets(),this.stopSelectorObservers(),this.stopAttributeObservers())}stopSelectorObservers(){this.selectorObserverMap.size>0&&(this.selectorObserverMap.forEach(e=>e.stop()),this.selectorObserverMap.clear())}stopAttributeObservers(){this.attributeObserverMap.size>0&&(this.attributeObserverMap.forEach(e=>e.stop()),this.attributeObserverMap.clear())}selectorMatched(e,t,{outletName:r}){const i=this.getOutlet(e,r);i&&this.connectOutlet(i,e,r)}selectorUnmatched(e,t,{outletName:r}){const i=this.getOutletFromMap(e,r);i&&this.disconnectOutlet(i,e,r)}selectorMatchElement(e,{outletName:t}){const r=this.selector(t),i=this.hasOutlet(e,t),o=e.matches(`[${this.schema.controllerAttribute}~=${t}]`);return r?i&&o&&e.matches(r):!1}elementMatchedAttribute(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}elementAttributeValueChanged(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}elementUnmatchedAttribute(e,t){const r=this.getOutletNameFromOutletAttributeName(t);r&&this.updateSelectorObserverForOutlet(r)}connectOutlet(e,t,r){var i;this.outletElementsByName.has(r,t)||(this.outletsByName.add(r,e),this.outletElementsByName.add(r,t),(i=this.selectorObserverMap.get(r))===null||i===void 0||i.pause(()=>this.delegate.outletConnected(e,t,r)))}disconnectOutlet(e,t,r){var i;this.outletElementsByName.has(r,t)&&(this.outletsByName.delete(r,e),this.outletElementsByName.delete(r,t),(i=this.selectorObserverMap.get(r))===null||i===void 0||i.pause(()=>this.delegate.outletDisconnected(e,t,r)))}disconnectAllOutlets(){for(const e of this.outletElementsByName.keys)for(const t of this.outletElementsByName.getValuesForKey(e))for(const r of this.outletsByName.getValuesForKey(e))this.disconnectOutlet(r,t,e)}updateSelectorObserverForOutlet(e){const t=this.selectorObserverMap.get(e);t&&(t.selector=this.selector(e))}setupSelectorObserverForOutlet(e){const t=this.selector(e),r=new Yk(document.body,t,this,{outletName:e});this.selectorObserverMap.set(e,r),r.start()}setupAttributeObserverForOutlet(e){const t=this.attributeNameForOutletName(e),r=new wx(this.scope.element,t,this);this.attributeObserverMap.set(e,r),r.start()}selector(e){return this.scope.outlets.getSelectorForOutletName(e)}attributeNameForOutletName(e){return this.scope.schema.outletAttributeForScope(this.identifier,e)}getOutletNameFromOutletAttributeName(e){return this.outletDefinitions.find(t=>this.attributeNameForOutletName(t)===e)}get outletDependencies(){const e=new pl;return this.router.modules.forEach(t=>{const r=t.definition.controllerConstructor;Dh(r,"outlets").forEach(o=>e.add(o,t.identifier))}),e}get outletDefinitions(){return this.outletDependencies.getKeysForValue(this.identifier)}get dependentControllerIdentifiers(){return this.outletDependencies.getValuesForKey(this.identifier)}get dependentContexts(){const e=this.dependentControllerIdentifiers;return this.router.contexts.filter(t=>e.includes(t.identifier))}hasOutlet(e,t){return!!this.getOutlet(e,t)||!!this.getOutletFromMap(e,t)}getOutlet(e,t){return this.application.getControllerForElementAndIdentifier(e,t)}getOutletFromMap(e,t){return this.outletsByName.getValuesForKey(t).find(r=>r.element===e)}get scope(){return this.context.scope}get schema(){return this.context.schema}get identifier(){return this.context.identifier}get application(){return this.context.application}get router(){return this.application.router}}class oC{constructor(e,t){this.logDebugActivity=(r,i={})=>{const{identifier:o,controller:l,element:h}=this;i=Object.assign({identifier:o,controller:l,element:h},i),this.application.logDebugActivity(this.identifier,r,i)},this.module=e,this.scope=t,this.controller=new e.controllerConstructor(this),this.bindingObserver=new Qk(this,this.dispatcher),this.valueObserver=new eC(this,this.controller),this.targetObserver=new tC(this,this),this.outletObserver=new sC(this,this);try{this.controller.initialize(),this.logDebugActivity("initialize")}catch(r){this.handleError(r,"initializing controller")}}connect(){this.bindingObserver.start(),this.valueObserver.start(),this.targetObserver.start(),this.outletObserver.start();try{this.controller.connect(),this.logDebugActivity("connect")}catch(e){this.handleError(e,"connecting controller")}}refresh(){this.outletObserver.refresh()}disconnect(){try{this.controller.disconnect(),this.logDebugActivity("disconnect")}catch(e){this.handleError(e,"disconnecting controller")}this.outletObserver.stop(),this.targetObserver.stop(),this.valueObserver.stop(),this.bindingObserver.stop()}get application(){return this.module.application}get identifier(){return this.module.identifier}get schema(){return this.application.schema}get dispatcher(){return this.application.dispatcher}get element(){return this.scope.element}get parentElement(){return this.element.parentElement}handleError(e,t,r={}){const{identifier:i,controller:o,element:l}=this;r=Object.assign({identifier:i,controller:o,element:l},r),this.application.handleError(e,`Error ${t}`,r)}targetConnected(e,t){this.invokeControllerMethod(`${t}TargetConnected`,e)}targetDisconnected(e,t){this.invokeControllerMethod(`${t}TargetDisconnected`,e)}outletConnected(e,t,r){this.invokeControllerMethod(`${mv(r)}OutletConnected`,e,t)}outletDisconnected(e,t,r){this.invokeControllerMethod(`${mv(r)}OutletDisconnected`,e,t)}invokeControllerMethod(e,...t){const r=this.controller;typeof r[e]=="function"&&r[e](...t)}}function aC(n){return lC(n,uC(n))}function lC(n,e){const t=dC(n),r=cC(n.prototype,e);return Object.defineProperties(t.prototype,r),t}function uC(n){return Dh(n,"blessings").reduce((t,r)=>{const i=r(n);for(const o in i){const l=t[o]||{};t[o]=Object.assign(l,i[o])}return t},{})}function cC(n,e){return fC(e).reduce((t,r)=>{const i=hC(n,e,r);return i&&Object.assign(t,{[r]:i}),t},{})}function hC(n,e,t){const r=Object.getOwnPropertyDescriptor(n,t);if(!(r&&"value"in r)){const o=Object.getOwnPropertyDescriptor(e,t).value;return r&&(o.get=r.get||o.get,o.set=r.set||o.set),o}}const fC=typeof Object.getOwnPropertySymbols=="function"?n=>[...Object.getOwnPropertyNames(n),...Object.getOwnPropertySymbols(n)]:Object.getOwnPropertyNames,dC=(()=>{function n(t){function r(){return Reflect.construct(t,arguments,new.target)}return r.prototype=Object.create(t.prototype,{constructor:{value:r}}),Reflect.setPrototypeOf(r,t),r}function e(){const r=n(function(){this.a.call(this)});return r.prototype.a=function(){},new r}try{return e(),n}catch{return r=>class extends r{}}})();function pC(n){return{identifier:n.identifier,controllerConstructor:aC(n.controllerConstructor)}}let mC=class{constructor(e,t){this.application=e,this.definition=pC(t),this.contextsByScope=new WeakMap,this.connectedContexts=new Set}get identifier(){return this.definition.identifier}get controllerConstructor(){return this.definition.controllerConstructor}get contexts(){return Array.from(this.connectedContexts)}connectContextForScope(e){const t=this.fetchContextForScope(e);this.connectedContexts.add(t),t.connect()}disconnectContextForScope(e){const t=this.contextsByScope.get(e);t&&(this.connectedContexts.delete(t),t.disconnect())}fetchContextForScope(e){let t=this.contextsByScope.get(e);return t||(t=new oC(this,e),this.contextsByScope.set(e,t)),t}};class gC{constructor(e){this.scope=e}has(e){return this.data.has(this.getDataKey(e))}get(e){return this.getAll(e)[0]}getAll(e){const t=this.data.get(this.getDataKey(e))||"";return Hk(t)}getAttributeName(e){return this.data.getAttributeNameForKey(this.getDataKey(e))}getDataKey(e){return`${e}-class`}get data(){return this.scope.data}}class vC{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get(e){const t=this.getAttributeNameForKey(e);return this.element.getAttribute(t)}set(e,t){const r=this.getAttributeNameForKey(e);return this.element.setAttribute(r,t),this.get(e)}has(e){const t=this.getAttributeNameForKey(e);return this.element.hasAttribute(t)}delete(e){if(this.has(e)){const t=this.getAttributeNameForKey(e);return this.element.removeAttribute(t),!0}else return!1}getAttributeNameForKey(e){return`data-${this.identifier}-${yx(e)}`}}class yC{constructor(e){this.warnedKeysByObject=new WeakMap,this.logger=e}warn(e,t,r){let i=this.warnedKeysByObject.get(e);i||(i=new Set,this.warnedKeysByObject.set(e,i)),i.has(t)||(i.add(t),this.logger.warn(r,e))}}function vv(n,e){return`[${n}~="${e}"]`}class bC{constructor(e){this.scope=e}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,r)=>t||this.findTarget(r)||this.findLegacyTarget(r),void 0)}findAll(...e){return e.reduce((t,r)=>[...t,...this.findAllTargets(r),...this.findAllLegacyTargets(r)],[])}findTarget(e){const t=this.getSelectorForTargetName(e);return this.scope.findElement(t)}findAllTargets(e){const t=this.getSelectorForTargetName(e);return this.scope.findAllElements(t)}getSelectorForTargetName(e){const t=this.schema.targetAttributeForScope(this.identifier);return vv(t,e)}findLegacyTarget(e){const t=this.getLegacySelectorForTargetName(e);return this.deprecate(this.scope.findElement(t),e)}findAllLegacyTargets(e){const t=this.getLegacySelectorForTargetName(e);return this.scope.findAllElements(t).map(r=>this.deprecate(r,e))}getLegacySelectorForTargetName(e){const t=`${this.identifier}.${e}`;return vv(this.schema.targetAttribute,t)}deprecate(e,t){if(e){const{identifier:r}=this,i=this.schema.targetAttribute,o=this.schema.targetAttributeForScope(r);this.guide.warn(e,`target:${t}`,`Please replace ${i}="${r}.${t}" with ${o}="${t}". The ${i} attribute is deprecated and will be removed in a future version of Stimulus.`)}return e}get guide(){return this.scope.guide}}class wC{constructor(e,t){this.scope=e,this.controllerElement=t}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get schema(){return this.scope.schema}has(e){return this.find(e)!=null}find(...e){return e.reduce((t,r)=>t||this.findOutlet(r),void 0)}findAll(...e){return e.reduce((t,r)=>[...t,...this.findAllOutlets(r)],[])}getSelectorForOutletName(e){const t=this.schema.outletAttributeForScope(this.identifier,e);return this.controllerElement.getAttribute(t)}findOutlet(e){const t=this.getSelectorForOutletName(e);if(t)return this.findElement(t,e)}findAllOutlets(e){const t=this.getSelectorForOutletName(e);return t?this.findAllElements(t,e):[]}findElement(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))[0]}findAllElements(e,t){return this.scope.queryElements(e).filter(i=>this.matchesElement(i,e,t))}matchesElement(e,t,r){const i=e.getAttribute(this.scope.schema.controllerAttribute)||"";return e.matches(t)&&i.split(" ").includes(r)}}let _C=class Ax{constructor(e,t,r,i){this.targets=new bC(this),this.classes=new gC(this),this.data=new vC(this),this.containsElement=o=>o.closest(this.controllerSelector)===this.element,this.schema=e,this.element=t,this.identifier=r,this.guide=new yC(i),this.outlets=new wC(this.documentScope,t)}findElement(e){return this.element.matches(e)?this.element:this.queryElements(e).find(this.containsElement)}findAllElements(e){return[...this.element.matches(e)?[this.element]:[],...this.queryElements(e).filter(this.containsElement)]}queryElements(e){return Array.from(this.element.querySelectorAll(e))}get controllerSelector(){return vv(this.schema.controllerAttribute,this.identifier)}get isDocumentScope(){return this.element===document.documentElement}get documentScope(){return this.isDocumentScope?this:new Ax(this.schema,document.documentElement,this.identifier,this.guide.logger)}};class xC{constructor(e,t,r){this.element=e,this.schema=t,this.delegate=r,this.valueListObserver=new Sx(this.element,this.controllerAttribute,this),this.scopesByIdentifierByElement=new WeakMap,this.scopeReferenceCounts=new WeakMap}start(){this.valueListObserver.start()}stop(){this.valueListObserver.stop()}get controllerAttribute(){return this.schema.controllerAttribute}parseValueForToken(e){const{element:t,content:r}=e;return this.parseValueForElementAndIdentifier(t,r)}parseValueForElementAndIdentifier(e,t){const r=this.fetchScopesByIdentifierForElement(e);let i=r.get(t);return i||(i=this.delegate.createScopeForElementAndIdentifier(e,t),r.set(t,i)),i}elementMatchedValue(e,t){const r=(this.scopeReferenceCounts.get(t)||0)+1;this.scopeReferenceCounts.set(t,r),r==1&&this.delegate.scopeConnected(t)}elementUnmatchedValue(e,t){const r=this.scopeReferenceCounts.get(t);r&&(this.scopeReferenceCounts.set(t,r-1),r==1&&this.delegate.scopeDisconnected(t))}fetchScopesByIdentifierForElement(e){let t=this.scopesByIdentifierByElement.get(e);return t||(t=new Map,this.scopesByIdentifierByElement.set(e,t)),t}}class SC{constructor(e){this.application=e,this.scopeObserver=new xC(this.element,this.schema,this),this.scopesByIdentifier=new pl,this.modulesByIdentifier=new Map}get element(){return this.application.element}get schema(){return this.application.schema}get logger(){return this.application.logger}get controllerAttribute(){return this.schema.controllerAttribute}get modules(){return Array.from(this.modulesByIdentifier.values())}get contexts(){return this.modules.reduce((e,t)=>e.concat(t.contexts),[])}start(){this.scopeObserver.start()}stop(){this.scopeObserver.stop()}loadDefinition(e){this.unloadIdentifier(e.identifier);const t=new mC(this.application,e);this.connectModule(t);const r=e.controllerConstructor.afterLoad;r&&r.call(e.controllerConstructor,e.identifier,this.application)}unloadIdentifier(e){const t=this.modulesByIdentifier.get(e);t&&this.disconnectModule(t)}getContextForElementAndIdentifier(e,t){const r=this.modulesByIdentifier.get(t);if(r)return r.contexts.find(i=>i.element==e)}proposeToConnectScopeForElementAndIdentifier(e,t){const r=this.scopeObserver.parseValueForElementAndIdentifier(e,t);r?this.scopeObserver.elementMatchedValue(r.element,r):console.error(`Couldn't find or create scope for identifier: "${t}" and element:`,e)}handleError(e,t,r){this.application.handleError(e,t,r)}createScopeForElementAndIdentifier(e,t){return new _C(this.schema,e,t,this.logger)}scopeConnected(e){this.scopesByIdentifier.add(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.connectContextForScope(e)}scopeDisconnected(e){this.scopesByIdentifier.delete(e.identifier,e);const t=this.modulesByIdentifier.get(e.identifier);t&&t.disconnectContextForScope(e)}connectModule(e){this.modulesByIdentifier.set(e.identifier,e),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.connectContextForScope(r))}disconnectModule(e){this.modulesByIdentifier.delete(e.identifier),this.scopesByIdentifier.getValuesForKey(e.identifier).forEach(r=>e.disconnectContextForScope(r))}}const EC={controllerAttribute:"data-controller",actionAttribute:"data-action",targetAttribute:"data-target",targetAttributeForScope:n=>`data-${n}-target`,outletAttributeForScope:(n,e)=>`data-${n}-${e}-outlet`,keyMappings:Object.assign(Object.assign({enter:"Enter",tab:"Tab",esc:"Escape",space:" ",up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",home:"Home",end:"End",page_up:"PageUp",page_down:"PageDown"},Zb("abcdefghijklmnopqrstuvwxyz".split("").map(n=>[n,n]))),Zb("0123456789".split("").map(n=>[n,n])))};function Zb(n){return n.reduce((e,[t,r])=>Object.assign(Object.assign({},e),{[t]:r}),{})}class AC{constructor(e=document.documentElement,t=EC){this.logger=console,this.debug=!1,this.logDebugActivity=(r,i,o={})=>{this.debug&&this.logFormattedMessage(r,i,o)},this.element=e,this.schema=t,this.dispatcher=new Nk(this),this.router=new SC(this),this.actionDescriptorFilters=Object.assign({},Ik)}static start(e,t){const r=new this(e,t);return r.start(),r}async start(){await TC(),this.logDebugActivity("application","starting"),this.dispatcher.start(),this.router.start(),this.logDebugActivity("application","start")}stop(){this.logDebugActivity("application","stopping"),this.dispatcher.stop(),this.router.stop(),this.logDebugActivity("application","stop")}register(e,t){this.load({identifier:e,controllerConstructor:t})}registerActionOption(e,t){this.actionDescriptorFilters[e]=t}load(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>{i.controllerConstructor.shouldLoad&&this.router.loadDefinition(i)})}unload(e,...t){(Array.isArray(e)?e:[e,...t]).forEach(i=>this.router.unloadIdentifier(i))}get controllers(){return this.router.contexts.map(e=>e.controller)}getControllerForElementAndIdentifier(e,t){const r=this.router.getContextForElementAndIdentifier(e,t);return r?r.controller:null}handleError(e,t,r){var i;this.logger.error(`%s

%o

%o`,t,e,r),(i=window.onerror)===null||i===void 0||i.call(window,t,"",0,0,e)}logFormattedMessage(e,t,r={}){r=Object.assign({application:this},r),this.logger.groupCollapsed(`${e} #${t}`),this.logger.log("details:",Object.assign({},r)),this.logger.groupEnd()}}function TC(){return new Promise(n=>{document.readyState=="loading"?document.addEventListener("DOMContentLoaded",()=>n()):n()})}function kC(n){return Dh(n,"classes").reduce((t,r)=>Object.assign(t,CC(r)),{})}function CC(n){return{[`${n}Class`]:{get(){const{classes:e}=this;if(e.has(n))return e.get(n);{const t=e.getAttributeName(n);throw new Error(`Missing attribute "${t}"`)}}},[`${n}Classes`]:{get(){return this.classes.getAll(n)}},[`has${Ih(n)}Class`]:{get(){return this.classes.has(n)}}}}function OC(n){return Dh(n,"outlets").reduce((t,r)=>Object.assign(t,LC(r)),{})}function Xb(n,e,t){return n.application.getControllerForElementAndIdentifier(e,t)}function Jb(n,e,t){let r=Xb(n,e,t);if(r||(n.application.router.proposeToConnectScopeForElementAndIdentifier(e,t),r=Xb(n,e,t),r))return r}function LC(n){const e=mv(n);return{[`${e}Outlet`]:{get(){const t=this.outlets.find(n),r=this.outlets.getSelectorForOutletName(n);if(t){const i=Jb(this,t,n);if(i)return i;throw new Error(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`)}throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}Outlets`]:{get(){const t=this.outlets.findAll(n);return t.length>0?t.map(r=>{const i=Jb(this,r,n);if(i)return i;console.warn(`The provided outlet element is missing an outlet controller "${n}" instance for host controller "${this.identifier}"`,r)}).filter(r=>r):[]}},[`${e}OutletElement`]:{get(){const t=this.outlets.find(n),r=this.outlets.getSelectorForOutletName(n);if(t)return t;throw new Error(`Missing outlet element "${n}" for host controller "${this.identifier}". Stimulus couldn't find a matching outlet element using selector "${r}".`)}},[`${e}OutletElements`]:{get(){return this.outlets.findAll(n)}},[`has${Ih(e)}Outlet`]:{get(){return this.outlets.has(n)}}}}function MC(n){return Dh(n,"targets").reduce((t,r)=>Object.assign(t,PC(r)),{})}function PC(n){return{[`${n}Target`]:{get(){const e=this.targets.find(n);if(e)return e;throw new Error(`Missing target element "${n}" for "${this.identifier}" controller`)}},[`${n}Targets`]:{get(){return this.targets.findAll(n)}},[`has${Ih(n)}Target`]:{get(){return this.targets.has(n)}}}}function NC(n){const e=nC(n,"values"),t={valueDescriptorMap:{get(){return e.reduce((r,i)=>{const o=Tx(i,this.identifier),l=this.data.getAttributeNameForKey(o.key);return Object.assign(r,{[l]:o})},{})}}};return e.reduce((r,i)=>Object.assign(r,IC(i)),t)}function IC(n,e){const t=Tx(n,e),{key:r,name:i,reader:o,writer:l}=t;return{[i]:{get(){const h=this.data.get(r);return h!==null?o(h):t.defaultValue},set(h){h===void 0?this.data.delete(r):this.data.set(r,l(h))}},[`has${Ih(i)}`]:{get(){return this.data.has(r)||t.hasCustomDefaultValue}}}}function Tx([n,e],t){return BC({controller:t,token:n,typeDefinition:e})}function Rd(n){switch(n){case Array:return"array";case Boolean:return"boolean";case Number:return"number";case Object:return"object";case String:return"string"}}function wh(n){switch(typeof n){case"boolean":return"boolean";case"number":return"number";case"string":return"string"}if(Array.isArray(n))return"array";if(Object.prototype.toString.call(n)==="[object Object]")return"object"}function DC(n){const{controller:e,token:t,typeObject:r}=n,i=Gb(r.type),o=Gb(r.default),l=i&&o,h=i&&!o,u=!i&&o,f=Rd(r.type),d=wh(n.typeObject.default);if(h)return f;if(u)return d;if(f!==d){const g=e?`${e}.${t}`:t;throw new Error(`The specified default value for the Stimulus Value "${g}" must match the defined type "${f}". The provided default value of "${r.default}" is of type "${d}".`)}if(l)return f}function RC(n){const{controller:e,token:t,typeDefinition:r}=n,o=DC({controller:e,token:t,typeObject:r}),l=wh(r),h=Rd(r),u=o||l||h;if(u)return u;const f=e?`${e}.${r}`:t;throw new Error(`Unknown value type "${f}" for "${t}" value`)}function FC(n){const e=Rd(n);if(e)return Qb[e];const t=gv(n,"default"),r=gv(n,"type"),i=n;if(t)return i.default;if(r){const{type:o}=i,l=Rd(o);if(l)return Qb[l]}return n}function BC(n){const{token:e,typeDefinition:t}=n,r=`${yx(e)}-value`,i=RC(n);return{type:i,key:r,name:hy(r),get defaultValue(){return FC(t)},get hasCustomDefaultValue(){return wh(t)!==void 0},reader:jC[i],writer:e0[i]||e0.default}}const Qb={get array(){return[]},boolean:!1,number:0,get object(){return{}},string:""},jC={array(n){const e=JSON.parse(n);if(!Array.isArray(e))throw new TypeError(`expected value of type "array" but instead got value "${n}" of type "${wh(e)}"`);return e},boolean(n){return!(n=="0"||String(n).toLowerCase()=="false")},number(n){return Number(n.replace(/_/g,""))},object(n){const e=JSON.parse(n);if(e===null||typeof e!="object"||Array.isArray(e))throw new TypeError(`expected value of type "object" but instead got value "${n}" of type "${wh(e)}"`);return e},string(n){return n}},e0={default:HC,array:t0,object:t0};function t0(n){return JSON.stringify(n)}function HC(n){return`${n}`}class Tl{constructor(e){this.context=e}static get shouldLoad(){return!0}static afterLoad(e,t){}get application(){return this.context.application}get scope(){return this.context.scope}get element(){return this.scope.element}get identifier(){return this.scope.identifier}get targets(){return this.scope.targets}get outlets(){return this.scope.outlets}get classes(){return this.scope.classes}get data(){return this.scope.data}initialize(){}connect(){}disconnect(){}dispatch(e,{target:t=this.element,detail:r={},prefix:i=this.identifier,bubbles:o=!0,cancelable:l=!0}={}){const h=i?`${i}:${e}`:e,u=new CustomEvent(h,{detail:r,bubbles:o,cancelable:l});return t.dispatchEvent(u),u}}Tl.blessings=[kC,MC,NC,OC];Tl.targets=[];Tl.outlets=[];Tl.values={};const kx={register(n,e){if(application.router.modulesByIdentifier.has(n)){console.warn(`Controller with name "${n}" already exists.`);return}application.register(n,e)},id(){let n=sessionStorage.getItem("orchid_tab_id");return n||(n="orchid_window_"+crypto.randomUUID(),sessionStorage.setItem("orchid_tab_id",n)),n}};class dn extends Tl{prefix(e){let r=`${document.head.querySelector('meta[name="dashboard-prefix"]').content}${e}`.replace(/\/\/+/g,"/");return`${location.protocol}//${location.hostname}${location.port?`:${location.port}`:""}${r}`}alert(e,t,r="warning"){let i=document.querySelector('[data-controller="toast"]');application.getControllerForElementAndIdentifier(i,"toast").alert(e,t,r)}toast(e,t="warning"){let r=document.querySelector('[data-controller="toast"]');application.getControllerForElementAndIdentifier(r,"toast").toast(e,t)}formToObject(e){let t={};return new FormData(e).forEach((r,i)=>{if(!Object.prototype.hasOwnProperty.call(t,i)){t[i]=r;return}let o=t[i];Array.isArray(o)||(o=t[i]=[o]),o.push(r)}),t}loadStream(e,t,r=null){return window.axios.post(e,t,{headers:{Accept:"text/vnd.turbo-stream.html"}}).then(i=>i.data).then(i=>{Turbo.renderStreamMessage(i),typeof r=="function"&&r(i)})}updateTurboCacheControl(e){const t="turbo-cache-control";let r=document.querySelector(`meta[name="${t}"]`);if(e===!1){r&&r.remove();return}r||(r=document.createElement("meta"),r.name=t,document.head.appendChild(r)),r.content=e===!0?"no-cache":String(e)}tabId(){return kx.id()}}const zC=Object.freeze(Object.defineProperty({__proto__:null,default:dn},Symbol.toStringTag,{value:"Module"}));function n0(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function ho(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?n0(Object(t),!0).forEach(function(r){$C(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):n0(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function bd(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bd=function(e){return typeof e}:bd=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bd(n)}function $C(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Bo(){return Bo=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Bo.apply(this,arguments)}function UC(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function qC(n,e){if(n==null)return{};var t=UC(n,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}var WC="1.15.6";function Do(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Uo=Do(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Rh=Do(/Edge/i),r0=Do(/firefox/i),oh=Do(/safari/i)&&!Do(/chrome/i)&&!Do(/android/i),fy=Do(/iP(ad|od|hone)/i),Cx=Do(/chrome/i)&&Do(/android/i),Ox={capture:!1,passive:!1};function xn(n,e,t){n.addEventListener(e,t,!Uo&&Ox)}function yn(n,e,t){n.removeEventListener(e,t,!Uo&&Ox)}function Fd(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Lx(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function Is(n,e,t,r){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&Fd(n,e):Fd(n,e))||r&&n===t)return n;if(n===t)break}while(n=Lx(n))}return null}var i0=/\s+/g;function Wi(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var r=(" "+n.className+" ").replace(i0," ").replace(" "+e+" "," ");n.className=(r+(t?" "+e:"")).replace(i0," ")}}function en(n,e,t){var r=n&&n.style;if(r){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in r)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),r[e]=t+(typeof t=="string"?"":"px")}}function Cu(n,e){var t="";if(typeof n=="string")t=n;else do{var r=en(n,"transform");r&&r!=="none"&&(t=r+" "+t)}while(!e&&(n=n.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(t)}function Mx(n,e,t){if(n){var r=n.getElementsByTagName(e),i=0,o=r.length;if(t)for(;i<o;i++)t(r[i],i);return r}return[]}function oo(){var n=document.scrollingElement;return n||document.documentElement}function xr(n,e,t,r,i){if(!(!n.getBoundingClientRect&&n!==window)){var o,l,h,u,f,d,g;if(n!==window&&n.parentNode&&n!==oo()?(o=n.getBoundingClientRect(),l=o.top,h=o.left,u=o.bottom,f=o.right,d=o.height,g=o.width):(l=0,h=0,u=window.innerHeight,f=window.innerWidth,d=window.innerHeight,g=window.innerWidth),(e||t)&&n!==window&&(i=i||n.parentNode,!Uo))do if(i&&i.getBoundingClientRect&&(en(i,"transform")!=="none"||t&&en(i,"position")!=="static")){var y=i.getBoundingClientRect();l-=y.top+parseInt(en(i,"border-top-width")),h-=y.left+parseInt(en(i,"border-left-width")),u=l+o.height,f=h+o.width;break}while(i=i.parentNode);if(r&&n!==window){var k=Cu(i||n),w=k&&k.a,_=k&&k.d;k&&(l/=_,h/=w,g/=w,d/=_,u=l+d,f=h+g)}return{top:l,left:h,bottom:u,right:f,width:g,height:d}}}function s0(n,e,t){for(var r=va(n,!0),i=xr(n)[e];r;){var o=xr(r)[t],l=void 0;if(l=i>=o,!l)return r;if(r===oo())break;r=va(r,!1)}return!1}function Hu(n,e,t,r){for(var i=0,o=0,l=n.children;o<l.length;){if(l[o].style.display!=="none"&&l[o]!==Kt.ghost&&(r||l[o]!==Kt.dragged)&&Is(l[o],t.draggable,n,!1)){if(i===e)return l[o];i++}o++}return null}function dy(n,e){for(var t=n.lastElementChild;t&&(t===Kt.ghost||en(t,"display")==="none"||e&&!Fd(t,e));)t=t.previousElementSibling;return t||null}function os(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==Kt.clone&&(!e||Fd(n,e))&&t++;return t}function o0(n){var e=0,t=0,r=oo();if(n)do{var i=Cu(n),o=i.a,l=i.d;e+=n.scrollLeft*o,t+=n.scrollTop*l}while(n!==r&&(n=n.parentNode));return[e,t]}function VC(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var r in e)if(e.hasOwnProperty(r)&&e[r]===n[t][r])return Number(t)}return-1}function va(n,e){if(!n||!n.getBoundingClientRect)return oo();var t=n,r=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var i=en(t);if(t.clientWidth<t.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return oo();if(r||e)return t;r=!0}}while(t=t.parentNode);return oo()}function GC(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function dm(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var ah;function Px(n,e){return function(){if(!ah){var t=arguments,r=this;t.length===1?n.call(r,t[0]):n.apply(r,t),ah=setTimeout(function(){ah=void 0},e)}}}function YC(){clearTimeout(ah),ah=void 0}function Nx(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function Ix(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function Dx(n,e,t){var r={};return Array.from(n.children).forEach(function(i){var o,l,h,u;if(!(!Is(i,e.draggable,n,!1)||i.animated||i===t)){var f=xr(i);r.left=Math.min((o=r.left)!==null&&o!==void 0?o:1/0,f.left),r.top=Math.min((l=r.top)!==null&&l!==void 0?l:1/0,f.top),r.right=Math.max((h=r.right)!==null&&h!==void 0?h:-1/0,f.right),r.bottom=Math.max((u=r.bottom)!==null&&u!==void 0?u:-1/0,f.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var ki="Sortable"+new Date().getTime();function KC(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(en(i,"display")==="none"||i===Kt.ghost)){n.push({target:i,rect:xr(i)});var o=ho({},n[n.length-1].rect);if(i.thisAnimationDuration){var l=Cu(i,!0);l&&(o.top-=l.f,o.left-=l.e)}i.fromRect=o}})}},addAnimationState:function(r){n.push(r)},removeAnimationState:function(r){n.splice(VC(n,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(e),typeof r=="function"&&r();return}var o=!1,l=0;n.forEach(function(h){var u=0,f=h.target,d=f.fromRect,g=xr(f),y=f.prevFromRect,k=f.prevToRect,w=h.rect,_=Cu(f,!0);_&&(g.top-=_.f,g.left-=_.e),f.toRect=g,f.thisAnimationDuration&&dm(y,g)&&!dm(d,g)&&(w.top-g.top)/(w.left-g.left)===(d.top-g.top)/(d.left-g.left)&&(u=XC(w,y,k,i.options)),dm(g,d)||(f.prevFromRect=d,f.prevToRect=g,u||(u=i.options.animation),i.animate(f,w,g,u)),u&&(o=!0,l=Math.max(l,u),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},u),f.thisAnimationDuration=u)}),clearTimeout(e),o?e=setTimeout(function(){typeof r=="function"&&r()},l):typeof r=="function"&&r(),n=[]},animate:function(r,i,o,l){if(l){en(r,"transition",""),en(r,"transform","");var h=Cu(this.el),u=h&&h.a,f=h&&h.d,d=(i.left-o.left)/(u||1),g=(i.top-o.top)/(f||1);r.animatingX=!!d,r.animatingY=!!g,en(r,"transform","translate3d("+d+"px,"+g+"px,0)"),this.forRepaintDummy=ZC(r),en(r,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),en(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){en(r,"transition",""),en(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},l)}}}}function ZC(n){return n.offsetWidth}function XC(n,e,t,r){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*r.animation}var nu=[],pm={initializeByDefault:!0},Fh={mount:function(e){for(var t in pm)pm.hasOwnProperty(t)&&!(t in e)&&(e[t]=pm[t]);nu.forEach(function(r){if(r.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),nu.push(e)},pluginEvent:function(e,t,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=e+"Global";nu.forEach(function(l){t[l.pluginName]&&(t[l.pluginName][o]&&t[l.pluginName][o](ho({sortable:t},r)),t.options[l.pluginName]&&t[l.pluginName][e]&&t[l.pluginName][e](ho({sortable:t},r)))})},initializePlugins:function(e,t,r,i){nu.forEach(function(h){var u=h.pluginName;if(!(!e.options[u]&&!h.initializeByDefault)){var f=new h(e,t,e.options);f.sortable=e,f.options=e.options,e[u]=f,Bo(r,f.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var l=this.modifyOption(e,o,e.options[o]);typeof l<"u"&&(e.options[o]=l)}},getEventProperties:function(e,t){var r={};return nu.forEach(function(i){typeof i.eventProperties=="function"&&Bo(r,i.eventProperties.call(t[i.pluginName],e))}),r},modifyOption:function(e,t,r){var i;return nu.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[t]=="function"&&(i=o.optionListeners[t].call(e[o.pluginName],r))}),i}};function JC(n){var e=n.sortable,t=n.rootEl,r=n.name,i=n.targetEl,o=n.cloneEl,l=n.toEl,h=n.fromEl,u=n.oldIndex,f=n.newIndex,d=n.oldDraggableIndex,g=n.newDraggableIndex,y=n.originalEvent,k=n.putSortable,w=n.extraEventProperties;if(e=e||t&&t[ki],!!e){var _,A=e.options,N="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Uo&&!Rh?_=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(_=document.createEvent("Event"),_.initEvent(r,!0,!0)),_.to=l||t,_.from=h||t,_.item=i||t,_.clone=o,_.oldIndex=u,_.newIndex=f,_.oldDraggableIndex=d,_.newDraggableIndex=g,_.originalEvent=y,_.pullMode=k?k.lastPutMode:void 0;var b=ho(ho({},w),Fh.getEventProperties(r,e));for(var M in b)_[M]=b[M];t&&t.dispatchEvent(_),A[N]&&A[N].call(e,_)}}var QC=["evt"],Si=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=qC(r,QC);Fh.pluginEvent.bind(Kt)(e,t,ho({dragEl:vt,parentEl:ar,ghostEl:un,rootEl:Zn,nextEl:al,lastDownEl:wd,cloneEl:nr,cloneHidden:pa,dragStarted:Zc,putSortable:Wr,activeSortable:Kt.active,originalEvent:i,oldIndex:xu,oldDraggableIndex:lh,newIndex:Gi,newDraggableIndex:fa,hideGhostForTarget:jx,unhideGhostForTarget:Hx,cloneNowHidden:function(){pa=!0},cloneNowShown:function(){pa=!1},dispatchSortableEvent:function(h){fi({sortable:t,name:h,originalEvent:i})}},o))};function fi(n){JC(ho({putSortable:Wr,cloneEl:nr,targetEl:vt,rootEl:Zn,oldIndex:xu,oldDraggableIndex:lh,newIndex:Gi,newDraggableIndex:fa},n))}var vt,ar,un,Zn,al,wd,nr,pa,xu,Gi,lh,fa,Hf,Wr,hu=!1,Bd=!1,jd=[],el,Os,mm,gm,a0,l0,Zc,ru,uh,ch=!1,zf=!1,_d,ni,vm=[],yv=!1,Hd=[],dp=typeof document<"u",$f=fy,u0=Rh||Uo?"cssFloat":"float",eO=dp&&!Cx&&!fy&&"draggable"in document.createElement("div"),Rx=(function(){if(dp){if(Uo)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}})(),Fx=function(e,t){var r=en(e),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Hu(e,0,t),l=Hu(e,1,t),h=o&&en(o),u=l&&en(l),f=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+xr(o).width,d=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+xr(l).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&h.float&&h.float!=="none"){var g=h.float==="left"?"left":"right";return l&&(u.clear==="both"||u.clear===g)?"vertical":"horizontal"}return o&&(h.display==="block"||h.display==="flex"||h.display==="table"||h.display==="grid"||f>=i&&r[u0]==="none"||l&&r[u0]==="none"&&f+d>i)?"vertical":"horizontal"},tO=function(e,t,r){var i=r?e.left:e.top,o=r?e.right:e.bottom,l=r?e.width:e.height,h=r?t.left:t.top,u=r?t.right:t.bottom,f=r?t.width:t.height;return i===h||o===u||i+l/2===h+f/2},nO=function(e,t){var r;return jd.some(function(i){var o=i[ki].options.emptyInsertThreshold;if(!(!o||dy(i))){var l=xr(i),h=e>=l.left-o&&e<=l.right+o,u=t>=l.top-o&&t<=l.bottom+o;if(h&&u)return r=i}}),r},Bx=function(e){function t(o,l){return function(h,u,f,d){var g=h.options.group.name&&u.options.group.name&&h.options.group.name===u.options.group.name;if(o==null&&(l||g))return!0;if(o==null||o===!1)return!1;if(l&&o==="clone")return o;if(typeof o=="function")return t(o(h,u,f,d),l)(h,u,f,d);var y=(l?h:u).options.group.name;return o===!0||typeof o=="string"&&o===y||o.join&&o.indexOf(y)>-1}}var r={},i=e.group;(!i||bd(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=t(i.pull,!0),r.checkPut=t(i.put),r.revertClone=i.revertClone,e.group=r},jx=function(){!Rx&&un&&en(un,"display","none")},Hx=function(){!Rx&&un&&en(un,"display","")};dp&&!Cx&&document.addEventListener("click",function(n){if(Bd)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Bd=!1,!1},!0);var tl=function(e){if(vt){e=e.touches?e.touches[0]:e;var t=nO(e.clientX,e.clientY);if(t){var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=e[i]);r.target=r.rootEl=t,r.preventDefault=void 0,r.stopPropagation=void 0,t[ki]._onDragOver(r)}}},rO=function(e){vt&&vt.parentNode[ki]._isOutsideThisEl(e.target)};function Kt(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=Bo({},e),n[ki]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Fx(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,h){l.setData("Text",h.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Kt.supportPointer!==!1&&"PointerEvent"in window&&(!oh||fy),emptyInsertThreshold:5};Fh.initializePlugins(this,n,t);for(var r in t)!(r in e)&&(e[r]=t[r]);Bx(e);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=e.forceFallback?!1:eO,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?xn(n,"pointerdown",this._onTapStart):(xn(n,"mousedown",this._onTapStart),xn(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(xn(n,"dragover",this),xn(n,"dragenter",this)),jd.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Bo(this,KC())}Kt.prototype={constructor:Kt,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(ru=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,vt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,r=this.el,i=this.options,o=i.preventOnFilter,l=e.type,h=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,u=(h||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||u,d=i.filter;if(hO(r),!vt&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||i.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&oh&&u&&u.tagName.toUpperCase()==="SELECT")&&(u=Is(u,i.draggable,r,!1),!(u&&u.animated)&&wd!==u)){if(xu=os(u),lh=os(u,i.draggable),typeof d=="function"){if(d.call(this,e,u,this)){fi({sortable:t,rootEl:f,name:"filter",targetEl:u,toEl:r,fromEl:r}),Si("filter",t,{evt:e}),o&&e.preventDefault();return}}else if(d&&(d=d.split(",").some(function(g){if(g=Is(f,g.trim(),r,!1),g)return fi({sortable:t,rootEl:g,name:"filter",targetEl:u,fromEl:r,toEl:r}),Si("filter",t,{evt:e}),!0}),d)){o&&e.preventDefault();return}i.handle&&!Is(f,i.handle,r,!1)||this._prepareDragStart(e,h,u)}}},_prepareDragStart:function(e,t,r){var i=this,o=i.el,l=i.options,h=o.ownerDocument,u;if(r&&!vt&&r.parentNode===o){var f=xr(r);if(Zn=o,vt=r,ar=vt.parentNode,al=vt.nextSibling,wd=r,Hf=l.group,Kt.dragged=vt,el={target:vt,clientX:(t||e).clientX,clientY:(t||e).clientY},a0=el.clientX-f.left,l0=el.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,vt.style["will-change"]="all",u=function(){if(Si("delayEnded",i,{evt:e}),Kt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!r0&&i.nativeDraggable&&(vt.draggable=!0),i._triggerDragStart(e,t),fi({sortable:i,name:"choose",originalEvent:e}),Wi(vt,l.chosenClass,!0)},l.ignore.split(",").forEach(function(d){Mx(vt,d.trim(),ym)}),xn(h,"dragover",tl),xn(h,"mousemove",tl),xn(h,"touchmove",tl),l.supportPointer?(xn(h,"pointerup",i._onDrop),!this.nativeDraggable&&xn(h,"pointercancel",i._onDrop)):(xn(h,"mouseup",i._onDrop),xn(h,"touchend",i._onDrop),xn(h,"touchcancel",i._onDrop)),r0&&this.nativeDraggable&&(this.options.touchStartThreshold=4,vt.draggable=!0),Si("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Rh||Uo))){if(Kt.eventCanceled){this._onDrop();return}l.supportPointer?(xn(h,"pointerup",i._disableDelayedDrag),xn(h,"pointercancel",i._disableDelayedDrag)):(xn(h,"mouseup",i._disableDelayedDrag),xn(h,"touchend",i._disableDelayedDrag),xn(h,"touchcancel",i._disableDelayedDrag)),xn(h,"mousemove",i._delayedDragTouchMoveHandler),xn(h,"touchmove",i._delayedDragTouchMoveHandler),l.supportPointer&&xn(h,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(u,l.delay)}else u()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){vt&&ym(vt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;yn(e,"mouseup",this._disableDelayedDrag),yn(e,"touchend",this._disableDelayedDrag),yn(e,"touchcancel",this._disableDelayedDrag),yn(e,"pointerup",this._disableDelayedDrag),yn(e,"pointercancel",this._disableDelayedDrag),yn(e,"mousemove",this._delayedDragTouchMoveHandler),yn(e,"touchmove",this._delayedDragTouchMoveHandler),yn(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?xn(document,"pointermove",this._onTouchMove):t?xn(document,"touchmove",this._onTouchMove):xn(document,"mousemove",this._onTouchMove):(xn(vt,"dragend",this),xn(Zn,"dragstart",this._onDragStart));try{document.selection?xd(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(hu=!1,Zn&&vt){Si("dragStarted",this,{evt:t}),this.nativeDraggable&&xn(document,"dragover",rO);var r=this.options;!e&&Wi(vt,r.dragClass,!1),Wi(vt,r.ghostClass,!0),Kt.active=this,e&&this._appendGhost(),fi({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Os){this._lastX=Os.clientX,this._lastY=Os.clientY,jx();for(var e=document.elementFromPoint(Os.clientX,Os.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Os.clientX,Os.clientY),e!==t);)t=e;if(vt.parentNode[ki]._isOutsideThisEl(e),t)do{if(t[ki]){var r=void 0;if(r=t[ki]._onDragOver({clientX:Os.clientX,clientY:Os.clientY,target:e,rootEl:t}),r&&!this.options.dragoverBubble)break}e=t}while(t=Lx(t));Hx()}},_onTouchMove:function(e){if(el){var t=this.options,r=t.fallbackTolerance,i=t.fallbackOffset,o=e.touches?e.touches[0]:e,l=un&&Cu(un,!0),h=un&&l&&l.a,u=un&&l&&l.d,f=$f&&ni&&o0(ni),d=(o.clientX-el.clientX+i.x)/(h||1)+(f?f[0]-vm[0]:0)/(h||1),g=(o.clientY-el.clientY+i.y)/(u||1)+(f?f[1]-vm[1]:0)/(u||1);if(!Kt.active&&!hu){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(e,!0)}if(un){l?(l.e+=d-(mm||0),l.f+=g-(gm||0)):l={a:1,b:0,c:0,d:1,e:d,f:g};var y="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");en(un,"webkitTransform",y),en(un,"mozTransform",y),en(un,"msTransform",y),en(un,"transform",y),mm=d,gm=g,Os=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!un){var e=this.options.fallbackOnBody?document.body:Zn,t=xr(vt,!0,$f,!0,e),r=this.options;if($f){for(ni=e;en(ni,"position")==="static"&&en(ni,"transform")==="none"&&ni!==document;)ni=ni.parentNode;ni!==document.body&&ni!==document.documentElement?(ni===document&&(ni=oo()),t.top+=ni.scrollTop,t.left+=ni.scrollLeft):ni=oo(),vm=o0(ni)}un=vt.cloneNode(!0),Wi(un,r.ghostClass,!1),Wi(un,r.fallbackClass,!0),Wi(un,r.dragClass,!0),en(un,"transition",""),en(un,"transform",""),en(un,"box-sizing","border-box"),en(un,"margin",0),en(un,"top",t.top),en(un,"left",t.left),en(un,"width",t.width),en(un,"height",t.height),en(un,"opacity","0.8"),en(un,"position",$f?"absolute":"fixed"),en(un,"zIndex","100000"),en(un,"pointerEvents","none"),Kt.ghost=un,e.appendChild(un),en(un,"transform-origin",a0/parseInt(un.style.width)*100+"% "+l0/parseInt(un.style.height)*100+"%")}},_onDragStart:function(e,t){var r=this,i=e.dataTransfer,o=r.options;if(Si("dragStart",this,{evt:e}),Kt.eventCanceled){this._onDrop();return}Si("setupClone",this),Kt.eventCanceled||(nr=Ix(vt),nr.removeAttribute("id"),nr.draggable=!1,nr.style["will-change"]="",this._hideClone(),Wi(nr,this.options.chosenClass,!1),Kt.clone=nr),r.cloneId=xd(function(){Si("clone",r),!Kt.eventCanceled&&(r.options.removeCloneOnHide||Zn.insertBefore(nr,vt),r._hideClone(),fi({sortable:r,name:"clone"}))}),!t&&Wi(vt,o.dragClass,!0),t?(Bd=!0,r._loopId=setInterval(r._emulateDragOver,50)):(yn(document,"mouseup",r._onDrop),yn(document,"touchend",r._onDrop),yn(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,vt)),xn(document,"drop",r),en(vt,"transform","translateZ(0)")),hu=!0,r._dragStartId=xd(r._dragStarted.bind(r,t,e)),xn(document,"selectstart",r),Zc=!0,window.getSelection().removeAllRanges(),oh&&en(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,r=e.target,i,o,l,h=this.options,u=h.group,f=Kt.active,d=Hf===u,g=h.sort,y=Wr||f,k,w=this,_=!1;if(yv)return;function A(V,de){Si(V,w,ho({evt:e,isOwner:d,axis:k?"vertical":"horizontal",revert:l,dragRect:i,targetRect:o,canSort:g,fromSortable:y,target:r,completed:b,onMove:function(ue,xe){return Uf(Zn,t,vt,i,ue,xr(ue),e,xe)},changed:M},de))}function N(){A("dragOverAnimationCapture"),w.captureAnimationState(),w!==y&&y.captureAnimationState()}function b(V){return A("dragOverCompleted",{insertion:V}),V&&(d?f._hideClone():f._showClone(w),w!==y&&(Wi(vt,Wr?Wr.options.ghostClass:f.options.ghostClass,!1),Wi(vt,h.ghostClass,!0)),Wr!==w&&w!==Kt.active?Wr=w:w===Kt.active&&Wr&&(Wr=null),y===w&&(w._ignoreWhileAnimating=r),w.animateAll(function(){A("dragOverAnimationComplete"),w._ignoreWhileAnimating=null}),w!==y&&(y.animateAll(),y._ignoreWhileAnimating=null)),(r===vt&&!vt.animated||r===t&&!r.animated)&&(ru=null),!h.dragoverBubble&&!e.rootEl&&r!==document&&(vt.parentNode[ki]._isOutsideThisEl(e.target),!V&&tl(e)),!h.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),_=!0}function M(){Gi=os(vt),fa=os(vt,h.draggable),fi({sortable:w,name:"change",toEl:t,newIndex:Gi,newDraggableIndex:fa,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),r=Is(r,h.draggable,t,!0),A("dragOver"),Kt.eventCanceled)return _;if(vt.contains(e.target)||r.animated&&r.animatingX&&r.animatingY||w._ignoreWhileAnimating===r)return b(!1);if(Bd=!1,f&&!h.disabled&&(d?g||(l=ar!==Zn):Wr===this||(this.lastPutMode=Hf.checkPull(this,f,vt,e))&&u.checkPut(this,f,vt,e))){if(k=this._getDirection(e,r)==="vertical",i=xr(vt),A("dragOverValid"),Kt.eventCanceled)return _;if(l)return ar=Zn,N(),this._hideClone(),A("revert"),Kt.eventCanceled||(al?Zn.insertBefore(vt,al):Zn.appendChild(vt)),b(!0);var E=dy(t,h.draggable);if(!E||aO(e,k,this)&&!E.animated){if(E===vt)return b(!1);if(E&&t===e.target&&(r=E),r&&(o=xr(r)),Uf(Zn,t,vt,i,r,o,e,!!r)!==!1)return N(),E&&E.nextSibling?t.insertBefore(vt,E.nextSibling):t.appendChild(vt),ar=t,M(),b(!0)}else if(E&&oO(e,k,this)){var D=Hu(t,0,h,!0);if(D===vt)return b(!1);if(r=D,o=xr(r),Uf(Zn,t,vt,i,r,o,e,!1)!==!1)return N(),t.insertBefore(vt,D),ar=t,M(),b(!0)}else if(r.parentNode===t){o=xr(r);var T=0,C,R=vt.parentNode!==t,B=!tO(vt.animated&&vt.toRect||i,r.animated&&r.toRect||o,k),I=k?"top":"left",P=s0(r,"top","top")||s0(vt,"top","top"),j=P?P.scrollTop:void 0;ru!==r&&(C=o[I],ch=!1,zf=!B&&h.invertSwap||R),T=lO(e,r,o,k,B?1:h.swapThreshold,h.invertedSwapThreshold==null?h.swapThreshold:h.invertedSwapThreshold,zf,ru===r);var $;if(T!==0){var Z=os(vt);do Z-=T,$=ar.children[Z];while($&&(en($,"display")==="none"||$===un))}if(T===0||$===r)return b(!1);ru=r,uh=T;var se=r.nextElementSibling,te=!1;te=T===1;var X=Uf(Zn,t,vt,i,r,o,e,te);if(X!==!1)return(X===1||X===-1)&&(te=X===1),yv=!0,setTimeout(sO,30),N(),te&&!se?t.appendChild(vt):r.parentNode.insertBefore(vt,te?se:r),P&&Nx(P,0,j-P.scrollTop),ar=vt.parentNode,C!==void 0&&!zf&&(_d=Math.abs(C-xr(r)[I])),M(),b(!0)}if(t.contains(vt))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){yn(document,"mousemove",this._onTouchMove),yn(document,"touchmove",this._onTouchMove),yn(document,"pointermove",this._onTouchMove),yn(document,"dragover",tl),yn(document,"mousemove",tl),yn(document,"touchmove",tl)},_offUpEvents:function(){var e=this.el.ownerDocument;yn(e,"mouseup",this._onDrop),yn(e,"touchend",this._onDrop),yn(e,"pointerup",this._onDrop),yn(e,"pointercancel",this._onDrop),yn(e,"touchcancel",this._onDrop),yn(document,"selectstart",this)},_onDrop:function(e){var t=this.el,r=this.options;if(Gi=os(vt),fa=os(vt,r.draggable),Si("drop",this,{evt:e}),ar=vt&&vt.parentNode,Gi=os(vt),fa=os(vt,r.draggable),Kt.eventCanceled){this._nulling();return}hu=!1,zf=!1,ch=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),bv(this.cloneId),bv(this._dragStartId),this.nativeDraggable&&(yn(document,"drop",this),yn(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),oh&&en(document.body,"user-select",""),en(vt,"transform",""),e&&(Zc&&(e.cancelable&&e.preventDefault(),!r.dropBubble&&e.stopPropagation()),un&&un.parentNode&&un.parentNode.removeChild(un),(Zn===ar||Wr&&Wr.lastPutMode!=="clone")&&nr&&nr.parentNode&&nr.parentNode.removeChild(nr),vt&&(this.nativeDraggable&&yn(vt,"dragend",this),ym(vt),vt.style["will-change"]="",Zc&&!hu&&Wi(vt,Wr?Wr.options.ghostClass:this.options.ghostClass,!1),Wi(vt,this.options.chosenClass,!1),fi({sortable:this,name:"unchoose",toEl:ar,newIndex:null,newDraggableIndex:null,originalEvent:e}),Zn!==ar?(Gi>=0&&(fi({rootEl:ar,name:"add",toEl:ar,fromEl:Zn,originalEvent:e}),fi({sortable:this,name:"remove",toEl:ar,originalEvent:e}),fi({rootEl:ar,name:"sort",toEl:ar,fromEl:Zn,originalEvent:e}),fi({sortable:this,name:"sort",toEl:ar,originalEvent:e})),Wr&&Wr.save()):Gi!==xu&&Gi>=0&&(fi({sortable:this,name:"update",toEl:ar,originalEvent:e}),fi({sortable:this,name:"sort",toEl:ar,originalEvent:e})),Kt.active&&((Gi==null||Gi===-1)&&(Gi=xu,fa=lh),fi({sortable:this,name:"end",toEl:ar,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){Si("nulling",this),Zn=vt=ar=un=al=nr=wd=pa=el=Os=Zc=Gi=fa=xu=lh=ru=uh=Wr=Hf=Kt.dragged=Kt.ghost=Kt.clone=Kt.active=null,Hd.forEach(function(e){e.checked=!0}),Hd.length=mm=gm=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":vt&&(this._onDragOver(e),iO(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,r=this.el.children,i=0,o=r.length,l=this.options;i<o;i++)t=r[i],Is(t,l.draggable,this.el,!1)&&e.push(t.getAttribute(l.dataIdAttr)||cO(t));return e},sort:function(e,t){var r={},i=this.el;this.toArray().forEach(function(o,l){var h=i.children[l];Is(h,this.options.draggable,i,!1)&&(r[o]=h)},this),t&&this.captureAnimationState(),e.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return Is(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var r=this.options;if(t===void 0)return r[e];var i=Fh.modifyOption(this,e,t);typeof i<"u"?r[e]=i:r[e]=t,e==="group"&&Bx(r)},destroy:function(){Si("destroy",this);var e=this.el;e[ki]=null,yn(e,"mousedown",this._onTapStart),yn(e,"touchstart",this._onTapStart),yn(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(yn(e,"dragover",this),yn(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),jd.splice(jd.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!pa){if(Si("hideClone",this),Kt.eventCanceled)return;en(nr,"display","none"),this.options.removeCloneOnHide&&nr.parentNode&&nr.parentNode.removeChild(nr),pa=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(pa){if(Si("showClone",this),Kt.eventCanceled)return;vt.parentNode==Zn&&!this.options.group.revertClone?Zn.insertBefore(nr,vt):al?Zn.insertBefore(nr,al):Zn.appendChild(nr),this.options.group.revertClone&&this.animate(vt,nr),en(nr,"display",""),pa=!1}}};function iO(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Uf(n,e,t,r,i,o,l,h){var u,f=n[ki],d=f.options.onMove,g;return window.CustomEvent&&!Uo&&!Rh?u=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(u=document.createEvent("Event"),u.initEvent("move",!0,!0)),u.to=e,u.from=n,u.dragged=t,u.draggedRect=r,u.related=i||e,u.relatedRect=o||xr(e),u.willInsertAfter=h,u.originalEvent=l,n.dispatchEvent(u),d&&(g=d.call(f,u,l)),g}function ym(n){n.draggable=!1}function sO(){yv=!1}function oO(n,e,t){var r=xr(Hu(t.el,0,t.options,!0)),i=Dx(t.el,t.options,un),o=10;return e?n.clientX<i.left-o||n.clientY<r.top&&n.clientX<r.right:n.clientY<i.top-o||n.clientY<r.bottom&&n.clientX<r.left}function aO(n,e,t){var r=xr(dy(t.el,t.options.draggable)),i=Dx(t.el,t.options,un),o=10;return e?n.clientX>i.right+o||n.clientY>r.bottom&&n.clientX>r.left:n.clientY>i.bottom+o||n.clientX>r.right&&n.clientY>r.top}function lO(n,e,t,r,i,o,l,h){var u=r?n.clientY:n.clientX,f=r?t.height:t.width,d=r?t.top:t.left,g=r?t.bottom:t.right,y=!1;if(!l){if(h&&_d<f*i){if(!ch&&(uh===1?u>d+f*o/2:u<g-f*o/2)&&(ch=!0),ch)y=!0;else if(uh===1?u<d+_d:u>g-_d)return-uh}else if(u>d+f*(1-i)/2&&u<g-f*(1-i)/2)return uO(e)}return y=y||l,y&&(u<d+f*o/2||u>g-f*o/2)?u>d+f/2?1:-1:0}function uO(n){return os(vt)<os(n)?1:-1}function cO(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,r=0;t--;)r+=e.charCodeAt(t);return r.toString(36)}function hO(n){Hd.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var r=e[t];r.checked&&Hd.push(r)}}function xd(n){return setTimeout(n,0)}function bv(n){return clearTimeout(n)}dp&&xn(document,"touchmove",function(n){(Kt.active||hu)&&n.cancelable&&n.preventDefault()});Kt.utils={on:xn,off:yn,css:en,find:Mx,is:function(e,t){return!!Is(e,t,e,!1)},extend:GC,throttle:Px,closest:Is,toggleClass:Wi,clone:Ix,index:os,nextTick:xd,cancelNextTick:bv,detectDirection:Fx,getChild:Hu,expando:ki};Kt.get=function(n){return n[ki]};Kt.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(Kt.utils=ho(ho({},Kt.utils),r.utils)),Fh.mount(r)})};Kt.create=function(n,e){return new Kt(n,e)};Kt.version=WC;var _r=[],Xc,wv,_v=!1,bm,wm,zd,Jc;function fO(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var r=t.originalEvent;this.sortable.nativeDraggable?xn(document,"dragover",this._handleAutoScroll):this.options.supportPointer?xn(document,"pointermove",this._handleFallbackAutoScroll):r.touches?xn(document,"touchmove",this._handleFallbackAutoScroll):xn(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var r=t.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?yn(document,"dragover",this._handleAutoScroll):(yn(document,"pointermove",this._handleFallbackAutoScroll),yn(document,"touchmove",this._handleFallbackAutoScroll),yn(document,"mousemove",this._handleFallbackAutoScroll)),c0(),Sd(),YC()},nulling:function(){zd=wv=Xc=_v=Jc=bm=wm=null,_r.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,r){var i=this,o=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,h=document.elementFromPoint(o,l);if(zd=t,r||this.options.forceAutoScrollFallback||Rh||Uo||oh){_m(t,this.options,h,r);var u=va(h,!0);_v&&(!Jc||o!==bm||l!==wm)&&(Jc&&c0(),Jc=setInterval(function(){var f=va(document.elementFromPoint(o,l),!0);f!==u&&(u=f,Sd()),_m(t,i.options,f,r)},10),bm=o,wm=l)}else{if(!this.options.bubbleScroll||va(h,!0)===oo()){Sd();return}_m(t,this.options,va(h,!1),!1)}}},Bo(n,{pluginName:"scroll",initializeByDefault:!0})}function Sd(){_r.forEach(function(n){clearInterval(n.pid)}),_r=[]}function c0(){clearInterval(Jc)}var _m=Px(function(n,e,t,r){if(e.scroll){var i=(n.touches?n.touches[0]:n).clientX,o=(n.touches?n.touches[0]:n).clientY,l=e.scrollSensitivity,h=e.scrollSpeed,u=oo(),f=!1,d;wv!==t&&(wv=t,Sd(),Xc=e.scroll,d=e.scrollFn,Xc===!0&&(Xc=va(t,!0)));var g=0,y=Xc;do{var k=y,w=xr(k),_=w.top,A=w.bottom,N=w.left,b=w.right,M=w.width,E=w.height,D=void 0,T=void 0,C=k.scrollWidth,R=k.scrollHeight,B=en(k),I=k.scrollLeft,P=k.scrollTop;k===u?(D=M<C&&(B.overflowX==="auto"||B.overflowX==="scroll"||B.overflowX==="visible"),T=E<R&&(B.overflowY==="auto"||B.overflowY==="scroll"||B.overflowY==="visible")):(D=M<C&&(B.overflowX==="auto"||B.overflowX==="scroll"),T=E<R&&(B.overflowY==="auto"||B.overflowY==="scroll"));var j=D&&(Math.abs(b-i)<=l&&I+M<C)-(Math.abs(N-i)<=l&&!!I),$=T&&(Math.abs(A-o)<=l&&P+E<R)-(Math.abs(_-o)<=l&&!!P);if(!_r[g])for(var Z=0;Z<=g;Z++)_r[Z]||(_r[Z]={});(_r[g].vx!=j||_r[g].vy!=$||_r[g].el!==k)&&(_r[g].el=k,_r[g].vx=j,_r[g].vy=$,clearInterval(_r[g].pid),(j!=0||$!=0)&&(f=!0,_r[g].pid=setInterval((function(){r&&this.layer===0&&Kt.active._onTouchMove(zd);var se=_r[this.layer].vy?_r[this.layer].vy*h:0,te=_r[this.layer].vx?_r[this.layer].vx*h:0;typeof d=="function"&&d.call(Kt.dragged.parentNode[ki],te,se,n,zd,_r[this.layer].el)!=="continue"||Nx(_r[this.layer].el,te,se)}).bind({layer:g}),24))),g++}while(e.bubbleScroll&&y!==u&&(y=va(y,!1)));_v=f}},30),zx=function(e){var t=e.originalEvent,r=e.putSortable,i=e.dragEl,o=e.activeSortable,l=e.dispatchSortableEvent,h=e.hideGhostForTarget,u=e.unhideGhostForTarget;if(t){var f=r||o;h();var d=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,g=document.elementFromPoint(d.clientX,d.clientY);u(),f&&!f.el.contains(g)&&(l("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function py(){}py.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,r=e.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Hu(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(t,i):this.sortable.el.appendChild(t),this.sortable.animateAll(),r&&r.animateAll()},drop:zx};Bo(py,{pluginName:"revertOnSpill"});function my(){}my.prototype={onSpill:function(e){var t=e.dragEl,r=e.putSortable,i=r||this.sortable;i.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),i.animateAll()},drop:zx};Bo(my,{pluginName:"removeOnSpill"});Kt.mount(new fO);Kt.mount(my,py);class dO extends dn{static values={name:{type:String,default:"attachment[]"},attachment:{type:Array,default:[]},group:{type:String,default:""},storage:{type:String,default:"public"},path:{type:String,default:""},count:{type:Number,default:0},size:{type:Number,default:0},loading:{type:Number,default:0},uploadUrl:{type:String},sortUrl:{type:String},errorSize:{type:String,default:'File ":name" is too large to upload'},errorType:{type:String,default:"The attached file must be an image"}};static targets=["files","preview","container","template","nullable"];connect(){this.attachmentValue.forEach(e=>this.renderPreview(e)),this.togglePlaceholderShow(),new Kt(this.element.querySelector(".sortable-dropzone"),{disabled:this.filesTarget.disabled===!0||this.filesTarget.readonly===!0,filter:".attach-file-uploader",draggable:".pip",animation:150,onEnd:()=>{this.reorderElements()}})}preventDefaults(e){e.preventDefault(),e.stopPropagation()}dropFiles(e){this.filesTarget.files=e.dataTransfer.files,this.filesTarget.dispatchEvent(new Event("change",{bubbles:!0}))}selectFiles(e){[...e.target.files].forEach(r=>{let i=r.size/1e3/1e3;if(this.sizeValue>0&&i>this.sizeValue){this.toast(this.errorSizeValue.replace(":name",r.name));return}this.upload(r)});let t=new DataTransfer;e.target.files=t.files}upload(e){let t=new FormData;t.append("file",e),t.append("storage",this.storageValue),t.append("group",this.groupValue),t.append("path",this.pathValue),this.loadingValue=this.loadingValue+1,this.element.ariaBusy="true",fetch(this.uploadUrlValue,{method:"POST",body:t,headers:{"X-CSRF-Token":document.head.querySelector('meta[name="csrf_token"]').content}}).then(r=>r.json()).then(r=>{this.element.ariaBusy="false",this.loadingValue=this.loadingValue-1,!(!(this.attachmentValue.length<this.countValue)&&this.countValue>0)&&(this.attachmentValue=[...this.attachmentValue,r],this.togglePlaceholderShow(),this.renderPreview(r))}).catch(r=>{this.element.ariaBusy="false",this.loadingValue=this.loadingValue-1,this.togglePlaceholderShow(),console.error("Error:",r),this.toast(this.errorTypeValue)})}remove(e){const t=e.currentTarget.getAttribute("data-index");e.currentTarget.closest(".pip").remove(),this.attachmentValue=this.attachmentValue.filter(r=>String(r.id)!==String(t)),this.togglePlaceholderShow()}togglePlaceholderShow(){let e=this.attachmentValue.length>=this.countValue&&this.countValue!==0;this.containerTarget.classList.toggle("d-none",e),this.filesTarget.disabled=e,this.countValue===1?this.nullableTarget.disabled=this.attachmentValue.length>0:this.nullableTarget.disabled=!0}renderPreview(e,t=null){let r=this.templateTarget.content.querySelector("*").cloneNode(!0);if(r.querySelectorAll("*").forEach(i=>{r.innerHTML=r.innerHTML.replace(/{id}/gi,e.id).replace(/{url}/gi,e.url).replace(/{original_name}/gi,e.original_name).replace(/{mime}/gi,e.mime).replace(/{name}/gi,this.nameValue)}),t!==null){this.element.querySelector(`#attachment-${t}`).outerHTML=pip.outerHTML;return}this.containerTarget.insertAdjacentElement("beforebegin",r)}reorderElements(){const e={};this.element.querySelectorAll(":scope .pip").forEach((r,i)=>{const o=r.querySelector("input").value;e[o]=i}),fetch(this.sortUrlValue,{method:"POST",body:JSON.stringify({files:e}),headers:{"Content-Type":"application/json;charset=utf-8","X-CSRF-Token":document.head.querySelector('meta[name="csrf_token"]').content}}).then()}}const pO=Object.freeze(Object.defineProperty({__proto__:null,default:dO},Symbol.toStringTag,{value:"Module"}));class mO extends dn{connect(){var e=this.element.querySelector("iframe");this.resizeTimer=setInterval(()=>{e.contentDocument.body.style.backgroundColor="initial",e.contentDocument.body.style.overflow="hidden";let t=e.contentWindow.document.body;e.contentDocument.body.style.height="inherit",e.style.height=Math.max(t.scrollHeight,t.offsetHeight)+"px"},100)}disconnect(){clearTimeout(this.resizeTimer)}}const gO=Object.freeze(Object.defineProperty({__proto__:null,default:mO},Symbol.toStringTag,{value:"Module"}));class vO extends dn{confirm(e){let t=this.element.outerHTML.replace("btn-link","btn-default").replace(/data-action="(.*?)"/g,"");return this.application.getControllerForElementAndIdentifier(this.confirmModal,"confirm").open({message:this.data.get("confirm"),button:t}),e.preventDefault(),!1}get confirmModal(){return document.getElementById("confirm-dialog")}}const yO=Object.freeze(Object.defineProperty({__proto__:null,default:vO},Symbol.toStringTag,{value:"Module"}));function bO(n,e){e===void 0&&(e={});var t=e.insertAt;if(typeof document<"u"){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}function _a(n,e){return typeof n=="string"?(e||document).querySelector(n):n||null}function _h(n){var e=n.getBoundingClientRect();return{top:e.top+(document.documentElement.scrollTop||document.body.scrollTop),left:e.left+(document.documentElement.scrollLeft||document.body.scrollLeft)}}function wO(n){return n.offsetParent===null}function _O(n){var e=n.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function xO(n){var e=window.getComputedStyle(n),t=parseFloat(e.paddingLeft)+parseFloat(e.paddingRight);return n.clientWidth-t}function SO(n,e,t){var r=document.createEvent("HTMLEvents");r.initEvent(e,!0,!0);for(var i in t)r[i]=t[i];return n.dispatchEvent(r)}function $d(n){return n.titleHeight+n.margins.top+n.paddings.top}function Ed(n){return n.margins.left+n.paddings.left}function $x(n){return n.margins.top+n.margins.bottom+n.paddings.top+n.paddings.bottom+n.titleHeight+n.legendHeight}function Ud(n){return n.margins.left+n.margins.right+n.paddings.left+n.paddings.right}function EO(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function Ux(n){return parseFloat(n.toFixed(2))}function xv(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0&&arguments[3];t||(t=r?n[0]:n[n.length-1]);var i=new Array(Math.abs(e)).fill(t);return n=r?i.concat(n):n.concat(i)}function qx(n,e){return(n+"").length*e}function Ou(n,e){return{x:Math.sin(n*b0)*e,y:Math.cos(n*b0)*e}}function Su(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return!Number.isNaN(n)&&n!==void 0&&!!Number.isFinite(n)&&!(e&&n<0)}function AO(n){return+(Math.round(n+"e4")+"e-4")}function Wx(n){var e=void 0,t=void 0,r=void 0;if(n instanceof Date)return new Date(n.getTime());if((n===void 0?"undefined":sM(n))!=="object"||n===null)return n;e=Array.isArray(n)?[]:{};for(r in n)t=n[r],e[r]=Wx(t);return e}function Vx(n,e){var t=void 0,r=void 0;return n<=e?(t=e-n,r=n):(t=n-e,r=e),[t,r]}function zi(n,e){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.length-n.length;return t>0?n=xv(n,t):e=xv(e,t),[n,e]}function gy(n,e){if(n)return n.length>e?n.slice(0,e-3)+"...":n}function TO(n){var e=void 0;if(typeof n=="number")e=n;else if(typeof n=="string"&&(e=Number(n),Number.isNaN(e)))return n;var t=Math.floor(Math.log10(Math.abs(e)));if(t<=2)return e;var r=Math.floor(t/3),i=Math.pow(10,t-3*r)*+(e/Math.pow(10,t)).toFixed(1);return Math.round(100*i)/100+" "+["","K","M","B","T"][r]}function Gx(n,e){for(var t=[],r=0;r<n.length;r++)t.push([n[r],e[r]]);var i=function(l,h){var u=h[0]-l[0],f=h[1]-l[1];return{length:Math.sqrt(Math.pow(u,2)+Math.pow(f,2)),angle:Math.atan2(f,u)}},o=function(l,h,u,f){var d=i(h||l,u||l),g=d.angle+(f?Math.PI:0),y=.2*d.length;return[l[0]+Math.cos(g)*y,l[1]+Math.sin(g)*y]};return(function(l,h){return l.reduce(function(u,f,d,g){return d===0?f[0]+","+f[1]:u+" "+h(f,d,g)},"")})(t,function(l,h,u){var f=o(u[h-1],u[h-2],l),d=o(l,u[h-1],u[h+1],!0);return"C "+f[0]+","+f[1]+" "+d[0]+","+d[1]+" "+l[0]+","+l[1]})}function xm(n){return n>255?255:n<0?0:n}function vy(n,e){var t=tS(n),r=!1;t[0]=="#"&&(t=t.slice(1),r=!0);var i=parseInt(t,16),o=xm((i>>16)+e),l=xm((i>>8&255)+e),h=xm((255&i)+e);return(r?"#":"")+(h|l<<8|o<<16).toString(16)}function kO(n){var e=/(^\s*)(rgb|hsl)(a?)[(]\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*,\s*([\d.]+\s*%?)\s*(?:,\s*([\d.]+)\s*)?[)]$/i;return/(^\s*)(#)((?:[A-Fa-f0-9]{3}){1,2})$/i.test(n)||e.test(n)}function h0(n,e){return typeof n=="string"?(e||document).querySelector(n):n||null}function Ln(n,e){var t=document.createElementNS("http://www.w3.org/2000/svg",n);for(var r in e){var i=e[r];if(r==="inside")h0(i).appendChild(t);else if(r==="around"){var o=h0(i);o.parentNode.insertBefore(t,o),t.appendChild(o)}else r==="styles"?(i===void 0?"undefined":lM(i))==="object"&&Object.keys(i).map(function(l){t.style[l]=i[l]}):(r==="className"&&(r="class"),r==="innerHTML"?t.textContent=i:t.setAttribute(r,i))}return t}function CO(n,e){return Ln("linearGradient",{inside:n,id:e,x1:0,x2:0,y1:0,y2:1})}function Sm(n,e,t,r){return Ln("stop",{inside:n,style:"stop-color: "+t,offset:e,"stop-opacity":r})}function OO(n,e,t,r){return Ln("svg",{className:e,inside:n,width:t,height:r})}function LO(n){return Ln("defs",{inside:n})}function Sv(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,r={className:n,transform:e};return t&&(r.inside=t),Ln("g",r)}function qd(n){return Ln("path",{className:arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",d:n,styles:{stroke:arguments.length>2&&arguments[2]!==void 0?arguments[2]:"none",fill:arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none","stroke-width":arguments.length>4&&arguments[4]!==void 0?arguments[4]:2}})}function MO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,u=t.x+e.x,f=t.y+e.y;return"M"+t.x+" "+t.y+`
		L`+l+" "+h+`
		A `+r+" "+r+" 0 "+o+" "+(i?1:0)+`
		`+u+" "+f+" z"}function PO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,u=t.x+e.x,f=2*t.y,d=t.y+e.y;return"M"+t.x+" "+t.y+`
		L`+l+" "+h+`
		A `+r+" "+r+" 0 "+o+" "+(i?1:0)+`
		`+u+" "+f+` z
		L`+l+" "+f+`
		A `+r+" "+r+" 0 "+o+" "+(i?1:0)+`
		`+u+" "+d+" z"}function NO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,u=t.x+e.x,f=t.y+e.y;return"M"+l+" "+h+`
		A `+r+" "+r+" 0 "+o+" "+(i?1:0)+`
		`+u+" "+f}function IO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=t.x+n.x,h=t.y+n.y,u=t.x+e.x,f=2*r+h,d=t.y+n.y;return"M"+l+" "+h+`
		A `+r+" "+r+" 0 "+o+" "+(i?1:0)+`
		`+u+" "+f+`
		M`+l+" "+f+`
		A `+r+" "+r+" 0 "+o+" "+(i?1:0)+`
		`+u+" "+d}function f0(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r="path-fill-gradient-"+e+"-"+(t?"lighter":"default"),i=CO(n,r),o=[1,.6,.2];return t&&(o=[.4,.2,0]),Sm(i,"0%",e,o[0]),Sm(i,"50%",e,o[1]),Sm(i,"100%",e,o[2]),r}function DO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:Qx,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none";return Ln("rect",{className:"percentage-bar",x:n,y:e,width:t,height:r,fill:o,styles:{stroke:vy(o,-25),"stroke-dasharray":"0, "+(r+t)+", "+t+", "+r,"stroke-width":i}})}function Yx(n,e,t,r,i){var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"none",l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:{},h={className:n,x:e,y:t,width:r,height:r,rx:i,fill:o};return Object.keys(l).map(function(u){h[u]=l[u]}),Ln("rect",h)}function RO(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",i=arguments[4];i=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?gy(i,nS):i;var o={className:"legend-bar",x:0,y:0,width:t,height:"2px",fill:r},l=Ln("text",{className:"legend-dataset-text",x:0,y:0,dy:2*Pr+"px","font-size":1.2*Pr+"px","text-anchor":"start",fill:yy,innerHTML:i}),h=Ln("g",{transform:"translate("+n+", "+e+")"});return h.appendChild(Ln("rect",o)),h.appendChild(l),h}function FO(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"none",i=arguments[4];i=arguments.length>5&&arguments[5]!==void 0&&arguments[5]?gy(i,nS):i;var o={className:"legend-dot",cx:0,cy:0,r:t,fill:r},l=Ln("text",{className:"legend-dataset-text",x:0,y:0,dx:Pr+"px",dy:Pr/3+"px","font-size":1.2*Pr+"px","text-anchor":"start",fill:yy,innerHTML:i}),h=Ln("g",{transform:"translate("+n+", "+e+")"});return h.appendChild(Ln("circle",o)),h.appendChild(l),h}function hh(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=i.fontSize||Pr;return Ln("text",{className:n,x:e,y:t,dy:(i.dy!==void 0?i.dy:o/2)+"px","font-size":o+"px",fill:i.fill||yy,"text-anchor":i.textAnchor||"start",innerHTML:r})}function BO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};i.stroke||(i.stroke=Xu);var o=Ln("line",{className:"line-vertical "+i.className,x1:0,x2:0,y1:t,y2:r,styles:{stroke:i.stroke}}),l=Ln("text",{x:0,y:t>r?t+Ea:t-Ea-Pr,dy:Pr+"px","font-size":Pr+"px","text-anchor":"middle",innerHTML:e+""}),h=Ln("g",{transform:"translate("+n+", 0)"});return h.appendChild(o),h.appendChild(l),h}function Kx(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{};i.stroke||(i.stroke=Xu),i.lineType||(i.lineType=""),i.shortenNumbers&&(e=TO(e));var o=Ln("line",{className:"line-horizontal "+i.className+(i.lineType==="dashed"?"dashed":""),x1:t,x2:r,y1:0,y2:0,styles:{stroke:i.stroke}}),l=Ln("text",{x:t<r?t-Ea:t+Ea,y:0,dy:Pr/2-2+"px","font-size":Pr+"px","text-anchor":t<r?"end":"start",innerHTML:e+""}),h=Ln("g",{transform:"translate(0, "+n+")","stroke-opacity":1});return l!==0&&l!=="0"||(h.style.stroke="rgba(27, 31, 35, 0.6)"),h.appendChild(o),h.appendChild(l),h}function jO(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Su(n)||(n=0),r.pos||(r.pos="left"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=Xu),r.className||(r.className="");var i=-1*Lu,o=r.mode==="span"?t+Lu:0;return r.mode==="tick"&&r.pos==="right"&&(i=t+Lu,o=t),i+=r.offset,o+=r.offset,Kx(n,e,i,o,{stroke:r.stroke,className:r.className,lineType:r.lineType,shortenNumbers:r.shortenNumbers})}function HO(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};Su(n)||(n=0),r.pos||(r.pos="bottom"),r.offset||(r.offset=0),r.mode||(r.mode="span"),r.stroke||(r.stroke=Xu),r.className||(r.className="");var i=t+Lu,o=r.mode==="span"?-1*Lu:t;return r.mode==="tick"&&r.pos==="top"&&(i=-1*Lu,o=0),BO(n,e,i,o,{stroke:r.stroke,className:r.className,lineType:r.lineType})}function zO(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};r.labelPos||(r.labelPos="right");var i=Ln("text",{className:"chart-label",x:r.labelPos==="left"?Ea:t-qx(e,5)-Ea,y:0,dy:Pr/-2+"px","font-size":Pr+"px","text-anchor":"start",innerHTML:e+""}),o=Kx(n,"",0,t,{stroke:r.stroke||Xu,className:r.className||"",lineType:r.lineType});return o.appendChild(i),o}function $O(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=n-e,l=Ln("rect",{className:"bar mini",styles:{fill:"rgba(228, 234, 239, 0.49)",stroke:Xu,"stroke-dasharray":t+", "+o},x:0,y:0,width:t,height:o});i.labelPos||(i.labelPos="right");var h=Ln("text",{className:"chart-label",x:i.labelPos==="left"?Ea:t-qx(r+"",4.5)-Ea,y:0,dy:Pr/-2+"px","font-size":Pr+"px","text-anchor":"start",innerHTML:r+""}),u=Ln("g",{transform:"translate(0, "+e+")"});return u.appendChild(l),u.appendChild(h),u}function UO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,h=arguments.length>7&&arguments[7]!==void 0?arguments[7]:{},u=Vx(e,h.zeroLine),f=aM(u,2),d=f[0],g=f[1];g-=l,d===0&&(d=h.minHeight,g-=h.minHeight),Su(n)||(n=0),Su(g)||(g=0),Su(d,!0)||(d=0),Su(t,!0)||(t=0);var y=Ln("rect",{className:"bar mini",style:"fill: "+r,"data-point-index":o,x:n,y:g,width:t,height:d});if((i+="")||i.length){y.setAttribute("y",0),y.setAttribute("x",0);var k=Ln("text",{className:"data-point-value",x:t/2,y:0,dy:Pr/2*-1+"px","font-size":Pr+"px","text-anchor":"middle",innerHTML:i}),w=Ln("g",{"data-point-index":o,transform:"translate("+n+", "+g+")"});return w.appendChild(y),w.appendChild(k),w}return y}function qO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:"",o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,l=Ln("circle",{style:"fill: "+r,"data-point-index":o,cx:n,cy:e,r:t});if((i+="")||i.length){l.setAttribute("cy",0),l.setAttribute("cx",0);var h=Ln("text",{className:"data-point-value",x:0,y:0,dy:Pr/2*-1-t+"px","font-size":Pr+"px","text-anchor":"middle",innerHTML:i}),u=Ln("g",{"data-point-index":o,transform:"translate("+n+", "+e+")"});return u.appendChild(l),u.appendChild(h),u}return l}function WO(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},o=e.map(function(g,y){return n[y]+","+g}).join("L");r.spline&&(o=Gx(n,e));var l=qd("M"+o,"line-graph-path",t);if(r.heatline){var h=f0(i.svgDefs,t);l.style.stroke="url(#"+h+")"}var u={path:l};if(r.regionFill){var f=f0(i.svgDefs,t,!0),d="M"+n[0]+","+i.zeroLine+"L"+o+"L"+n.slice(-1)[0]+","+i.zeroLine;u.region=qd(d,"region-fill","none","url(#"+f+")")}return u}function Bh(n,e,t,r){var i=typeof e=="string"?e:e.join(", ");return[n,{transform:t.join(", ")},r,Aa,"translate",{transform:i}]}function VO(n,e,t){return Bh(n,[t,0],[e,0],zu)}function d0(n,e,t){return Bh(n,[0,t],[0,e],zu)}function GO(n,e,t,r){var i=e-t,o=n.childNodes[0];return[[o,{height:i,"stroke-dasharray":o.getAttribute("width")+", "+i},zu,Aa],Bh(n,[0,r],[0,t],zu)]}function YO(n,e,t,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=Vx(t,(arguments.length>5&&arguments[5]!==void 0?arguments[5]:{}).zeroLine),l=hM(o,2),h=l[0],u=l[1];return u-=i,n.nodeName!=="rect"?[[n.childNodes[0],{width:r,height:h},xh,Aa],Bh(n,n.getAttribute("transform").split("(")[1].slice(0,-1),[e,u],zu)]:[[n,{width:r,height:h,x:e,y:u},xh,Aa]]}function KO(n,e,t){return n.nodeName!=="circle"?[Bh(n,n.getAttribute("transform").split("(")[1].slice(0,-1),[e,t],zu)]:[[n,{cx:e,cy:t},xh,Aa]]}function ZO(n,e,t,r,i){var o=[],l=t.map(function(g,y){return e[y]+","+g}).join("L");i&&(l=Gx(e,t));var h=[n.path,{d:"M"+l},w0,Aa];if(o.push(h),n.region){var u=e[0]+","+r+"L",f="L"+e.slice(-1)[0]+", "+r,d=[n.region,{d:"M"+u+l+f},w0,Aa];o.push(d)}return o}function p0(n,e){return[n,{d:e},xh,Aa]}function XO(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function JO(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"linear",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:void 0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=n.cloneNode(!0),h=n.cloneNode(!0);for(var u in e){var f=void 0;f=u==="transform"?document.createElementNS("http://www.w3.org/2000/svg","animateTransform"):document.createElementNS("http://www.w3.org/2000/svg","animate");var d=o[u]||n.getAttribute(u),g=e[u],y={attributeName:u,from:d,to:g,begin:"0s",dur:t/1e3+"s",values:d+";"+g,keySplines:pM[r],keyTimes:"0;1",calcMode:"spline",fill:"freeze"};i&&(y.type=i);for(var k in y)f.setAttribute(k,y[k]);l.appendChild(f),i?h.setAttribute(u,"translate("+g+")"):h.setAttribute(u,g)}return[l,h]}function Wd(n,e){n.style.transform=e,n.style.webkitTransform=e,n.style.msTransform=e,n.style.mozTransform=e,n.style.oTransform=e}function QO(n,e){var t=[],r=[];e.map(function(o){var l=o[0],h=l.parentNode,u=void 0,f=void 0;o[0]=l;var d=JO.apply(void 0,XO(o)),g=dM(d,2);u=g[0],f=g[1],t.push(f),r.push([u,h]),h&&h.replaceChild(u,l)});var i=n.cloneNode(!0);return r.map(function(o,l){o[1]&&(o[1].replaceChild(t[l],o[0]),e[l][0]=t[l])}),i}function eL(n,e,t){if(t.length!==0){var r=QO(e,t);e.parentNode==n&&(n.removeChild(e),n.appendChild(r)),setTimeout(function(){r.parentNode==n&&(n.removeChild(r),n.appendChild(e))},fM)}}function tL(n,e){var t=document.createElement("a");t.style="display: none";var r=new Blob(e,{type:"image/svg+xml; charset=utf-8"}),i=window.URL.createObjectURL(r);t.href=i,t.download=n,document.body.appendChild(t),t.click(),setTimeout(function(){document.body.removeChild(t),window.URL.revokeObjectURL(i)},300)}function nL(n){var e=n.cloneNode(!0);e.classList.add("chart-container"),e.setAttribute("xmlns","http://www.w3.org/2000/svg"),e.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink");var t=_a.create("style",{innerHTML:mM});e.insertBefore(t,e.firstChild);var r=_a.create("div");return r.appendChild(e),r.innerHTML}function rL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function iL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function oL(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function m0(n){var e=new Date(n);return e.setMinutes(e.getMinutes()-e.getTimezoneOffset()),e}function Em(n){var e=n.getDate(),t=n.getMonth()+1;return[n.getFullYear(),(t>9?"":"0")+t,(e>9?"":"0")+e].join("-")}function ll(n){return new Date(n.getTime())}function Am(n,e){var t=Xx(n);return Math.ceil(aL(t,e)/eh)}function aL(n,e){var t=bM*rS;return(m0(e)-m0(n))/t}function lL(n,e){return n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()}function Zx(n){var e=arguments.length>1&&arguments[1]!==void 0&&arguments[1],t=wM[n];return e?t.slice(0,3):t}function g0(n,e){return new Date(e,n+1,0)}function Xx(n){var e=ll(n),t=e.getDay();return t!==0&&fu(e,-1*t),e}function fu(n,e){n.setDate(n.getDate()+e)}function uL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function jh(n,e,t){var r=Object.keys(x0).filter(function(o){return n.includes(o)}),i=x0[r[0]];return Object.assign(i,{constants:e,getData:t}),new SM(i)}function cL(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function hL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function fL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function dL(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function pL(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function mL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function gL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function vL(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function Ev(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function Qc(n){if(n===0)return[0,0];if(isNaN(n))return{mantissa:-6755399441055744,exponent:972};var e=n>0?1:-1;if(!isFinite(n))return{mantissa:4503599627370496*e,exponent:972};n=Math.abs(n);var t=Math.floor(Math.log10(n));return[e*(n/Math.pow(10,t)),t]}function yL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=Math.ceil(n),r=Math.floor(e),i=t-r,o=i,l=1;i>5&&(i%2!=0&&(i=++t-r),o=i/2,l=2),i<=2&&(l=i/(o=4)),i===0&&(o=5,l=1);for(var h=[],u=0;u<=o;u++)h.push(r+l*u);return h}function Bc(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,t=Qc(n),r=OM(t,2),i=r[0],o=r[1],l=e?e/Math.pow(10,o):0,h=yL(i=i.toFixed(6),l);return h=h.map(function(u){return u*Math.pow(10,o)})}function bL(n){function e(f,d){for(var g=Bc(f),y=g[1]-g[0],k=0,w=1;k<d;w++)k+=y,g.unshift(-1*k);return g}var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],r=Math.max.apply(Math,Ev(n)),i=Math.min.apply(Math,Ev(n)),o=[];if(r>=0&&i>=0)Qc(r)[1],o=t?Bc(r,i):Bc(r);else if(r>0&&i<0){var l=Math.abs(i);r>=l?(Qc(r)[1],o=e(r,l)):(Qc(l)[1],o=e(l,r).reverse().map(function(f){return-1*f}))}else if(r<=0&&i<=0){var h=Math.abs(i),u=Math.abs(r);Qc(h)[1],o=(o=t?Bc(h,u):Bc(h)).reverse().map(function(f){return-1*f})}return o}function wL(n){var e=Jx(n);return n.indexOf(0)>=0?n.indexOf(0):n[0]>0?-1*n[0]/e:-1*n[n.length-1]/e+(n.length-1)}function Jx(n){return n[1]-n[0]}function _L(n){return n[n.length-1]-n[0]}function qf(n,e){return Ux(e.zeroLine-n*e.scaleMultiplier)}function xL(n,e){var t=arguments.length>2&&arguments[2]!==void 0&&arguments[2],r=e.reduce(function(i,o){return Math.abs(o-n)<Math.abs(i-n)?o:i},[]);return t?e.indexOf(r):r}function SL(n,e){for(var t=Math.max.apply(Math,Ev(n)),r=1/(e-1),i=[],o=0;o<e;o++){var l=t*(r*o);i.push(l)}return i}function EL(n,e){return e.filter(function(t){return t<n}).length}function AL(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function TL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function kL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function CL(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function OL(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function LL(n,e){n.labels=n.labels||[];var t=n.labels.length,r=n.datasets,i=new Array(t).fill(0);return r||(r=[{values:i}]),r.map(function(o){if(o.values){var l=o.values;l=(l=l.map(function(h){return isNaN(h)?0:h})).length>t?l.slice(0,t):xv(l,t-l.length,0),o.values=l}else o.values=i;o.chartType||(o.chartType=e)}),n.yRegions&&n.yRegions.map(function(o){if(o.end<o.start){var l=[o.end,o.start];o.start=l[0],o.end=l[1]}}),n}function ML(n){var e=n.labels.length,t=new Array(e).fill(0),r={labels:n.labels.slice(0,-1),datasets:n.datasets.map(function(i){return{name:"",values:t.slice(0,-1),chartType:i.chartType}})};return n.yMarkers&&(r.yMarkers=[{value:0,label:""}]),n.yRegions&&(r.yRegions=[{start:0,end:0,label:""}]),r}function PL(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],r=n/e.length;r<=0&&(r=1);var i=r/QL,o=void 0;if(t){var l=Math.max.apply(Math,OL(e.map(function(h){return h.length})));o=Math.ceil(l/i)}return e.map(function(h,u){return(h+="").length>i&&(t?u%o!=0&&(h=""):h=i-3>0?h.slice(0,i-3)+" ...":h.slice(0,i)+".."),h})}function v0(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function NL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function IL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function DL(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function RL(n){if(Array.isArray(n)){for(var e=0,t=Array(n.length);e<n.length;e++)t[e]=n[e];return t}return Array.from(n)}function FL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function BL(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?n:e}function jL(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function HL(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function zL(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"line",e=arguments[1],t=arguments[2];return n==="axis-mixed"?(t.type="line",new Av(e,t)):A0[n]?new A0[n](e,t):void console.error("Undefined chart type: "+n)}var $L='.chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ol,.graph-svg-tip ul{padding-left:0;display:-webkit-box;display:-ms-flexbox;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;-webkit-box-flex:1;-ms-flex:1;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}';bO($L);var UL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n};_a.create=function(n,e){var t=document.createElement(n);for(var r in e){var i=e[r];if(r==="inside")_a(i).appendChild(t);else if(r==="around"){var o=_a(i);o.parentNode.insertBefore(t,o),t.appendChild(o)}else r==="styles"?(i===void 0?"undefined":UL(i))==="object"&&Object.keys(i).map(function(l){t.style[l]=i[l]}):r in t?t[r]=i:t.setAttribute(r,i)}return t};var qL={margins:{top:10,bottom:10,left:20,right:20},paddings:{top:20,bottom:40,left:30,right:10},baseHeight:240,titleHeight:20,legendHeight:30,titleFontSize:12},WL=700,VL=400,GL=100,YL=.5,KL=0,ZL=4,y0=4,XL=20,Qx=2,Tm=5,du=10,JL=2,QL=7,eM=5,jc=["light-blue","blue","violet","red","orange","yellow","green","light-green","purple","magenta","light-grey","dark-grey"],tM=["#ebedf0","#c6e48b","#7bc96f","#239a3b","#196127"],nM={bar:jc,line:jc,pie:jc,percentage:jc,heatmap:tM,donut:jc},b0=Math.PI/180,eS=360,rM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),iM=(function(){function n(e){var t=e.parent,r=t===void 0?null:t,i=e.colors,o=i===void 0?[]:i;EO(this,n),this.parent=r,this.colors=o,this.titleName="",this.titleValue="",this.listValues=[],this.titleValueFirst=0,this.x=0,this.y=0,this.top=0,this.left=0,this.setup()}return rM(n,[{key:"setup",value:function(){this.makeTooltip()}},{key:"refresh",value:function(){this.fill(),this.calcPosition()}},{key:"makeTooltip",value:function(){var e=this;this.container=_a.create("div",{inside:this.parent,className:"graph-svg-tip comparison",innerHTML:`<span class="title"></span>
				<ul class="data-point-list"></ul>
				<div class="svg-pointer"></div>`}),this.hideTip(),this.title=this.container.querySelector(".title"),this.dataPointList=this.container.querySelector(".data-point-list"),this.parent.addEventListener("mouseleave",function(){e.hideTip()})}},{key:"fill",value:function(){var e=this,t=void 0;this.index&&this.container.setAttribute("data-point-index",this.index),t=this.titleValueFirst?"<strong>"+this.titleValue+"</strong>"+this.titleName:this.titleName+"<strong>"+this.titleValue+"</strong>",this.title.innerHTML=t,this.dataPointList.innerHTML="",this.listValues.map(function(r,i){var o=e.colors[i]||"black",l=r.formatted===0||r.formatted?r.formatted:r.value,h=_a.create("li",{styles:{"border-top":"3px solid "+o},innerHTML:'<strong style="display: block;">'+(l===0||l?l:"")+`</strong>
					`+(r.title?r.title:"")});e.dataPointList.appendChild(h)})}},{key:"calcPosition",value:function(){var e=this.container.offsetWidth;this.top=this.y-this.container.offsetHeight-eM,this.left=this.x-e/2;var t=this.parent.offsetWidth-e,r=this.container.querySelector(".svg-pointer");if(this.left<0)r.style.left="calc(50% - "+-1*this.left+"px)",this.left=0;else if(this.left>t){var i="calc(50% + "+(this.left-t)+"px)";r.style.left=i,this.left=t}else r.style.left="50%"}},{key:"setValues",value:function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1;this.titleName=r.name,this.titleValue=r.value,this.listValues=i,this.x=e,this.y=t,this.titleValueFirst=r.valueFirst||0,this.index=o,this.refresh()}},{key:"hideTip",value:function(){this.container.style.top="0px",this.container.style.left="0px",this.container.style.opacity="0"}},{key:"showTip",value:function(){this.container.style.top=this.top+"px",this.container.style.left=this.left+"px",this.container.style.opacity="1"}}]),n})(),sM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},oM={"light-blue":"#7cd6fd",blue:"#5e64ff",violet:"#743ee2",red:"#ff5858",orange:"#ffa00a",yellow:"#feef72",green:"#28a745","light-green":"#98d85b",purple:"#b554ff",magenta:"#ffa3ef",black:"#36114C",grey:"#bdd3e6","light-grey":"#f0f4f7","dark-grey":"#b8c2cc"},tS=function(n){return/rgb[a]{0,1}\([\d, ]+\)/gim.test(n)?/\D+(\d*)\D+(\d*)\D+(\d*)/gim.exec(n).map(function(e,t){return t!==0?Number(e).toString(16):"#"}).reduce(function(e,t){return""+e+t}):oM[n]||n},aM=(function(){function n(e,t){var r=[],i=!0,o=!1,l=void 0;try{for(var h,u=e[Symbol.iterator]();!(i=(h=u.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(f){o=!0,l=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),lM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Lu=6,Ea=4,nS=15,Pr=10,Xu="#dadada",yy="#555b51",uM={bar:function(n){var e=void 0;n.nodeName!=="rect"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode();return t.style.fill="#000000",t.style.opacity="0.4",e&&t.setAttribute("transform",e),t},dot:function(n){var e=void 0;n.nodeName!=="circle"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode(),r=n.getAttribute("r"),i=n.getAttribute("fill");return t.setAttribute("r",parseInt(r)+y0),t.setAttribute("fill",i),t.style.opacity="0.6",e&&t.setAttribute("transform",e),t},heat_square:function(n){var e=void 0;n.nodeName!=="circle"&&(e=n.getAttribute("transform"),n=n.childNodes[0]);var t=n.cloneNode(),r=n.getAttribute("r"),i=n.getAttribute("fill");return t.setAttribute("r",parseInt(r)+y0),t.setAttribute("fill",i),t.style.opacity="0.6",e&&t.setAttribute("transform",e),t}},cM={bar:function(n,e){var t=void 0;n.nodeName!=="rect"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var r=["x","y","width","height"];Object.values(n.attributes).filter(function(i){return r.includes(i.name)&&i.specified}).map(function(i){e.setAttribute(i.name,i.nodeValue)}),t&&e.setAttribute("transform",t)},dot:function(n,e){var t=void 0;n.nodeName!=="circle"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var r=["cx","cy"];Object.values(n.attributes).filter(function(i){return r.includes(i.name)&&i.specified}).map(function(i){e.setAttribute(i.name,i.nodeValue)}),t&&e.setAttribute("transform",t)},heat_square:function(n,e){var t=void 0;n.nodeName!=="circle"&&(t=n.getAttribute("transform"),n=n.childNodes[0]);var r=["cx","cy"];Object.values(n.attributes).filter(function(i){return r.includes(i.name)&&i.specified}).map(function(i){e.setAttribute(i.name,i.nodeValue)}),t&&e.setAttribute("transform",t)}},hM=(function(){function n(e,t){var r=[],i=!0,o=!1,l=void 0;try{for(var h,u=e[Symbol.iterator]();!(i=(h=u.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(f){o=!0,l=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),xh=350,w0=350,zu=xh,fM=250,Aa="easein",dM=(function(){function n(e,t){var r=[],i=!0,o=!1,l=void 0;try{for(var h,u=e[Symbol.iterator]();!(i=(h=u.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(f){o=!0,l=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),pM={ease:"0.25 0.1 0.25 1",linear:"0 0 1 1",easein:"0.1 0.8 0.2 1",easeout:"0 0 0.58 1",easeinout:"0.42 0 0.58 1"},mM=".chart-container{position:relative;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif}.chart-container .axis,.chart-container .chart-label{fill:#555b51}.chart-container .axis line,.chart-container .chart-label line{stroke:#dadada}.chart-container .dataset-units circle{stroke:#fff;stroke-width:2}.chart-container .dataset-units path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container .dataset-path{stroke-width:2px}.chart-container .path-group path{fill:none;stroke-opacity:1;stroke-width:2px}.chart-container line.dashed{stroke-dasharray:5,3}.chart-container .axis-line .specific-value{text-anchor:start}.chart-container .axis-line .y-line{text-anchor:end}.chart-container .axis-line .x-line{text-anchor:middle}.chart-container .legend-dataset-text{fill:#6c7680;font-weight:600}.graph-svg-tip{position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.8);border-radius:3px}.graph-svg-tip ul{padding-left:0;display:flex}.graph-svg-tip ol{padding-left:0;display:flex}.graph-svg-tip ul.data-point-list li{min-width:90px;flex:1;font-weight:600}.graph-svg-tip strong{color:#dfe2e5;font-weight:600}.graph-svg-tip .svg-pointer{position:absolute;height:5px;margin:0 0 0 -5px;content:' ';border:5px solid transparent;border-top-color:rgba(0,0,0,.8)}.graph-svg-tip.comparison{padding:0;text-align:left;pointer-events:none}.graph-svg-tip.comparison .title{display:block;padding:10px;margin:0;font-weight:600;line-height:1;pointer-events:none}.graph-svg-tip.comparison ul{margin:0;white-space:nowrap;list-style:none}.graph-svg-tip.comparison li{display:inline-block;padding:5px 10px}",gM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),by=(function(){function n(e,t){if(rL(this,n),t=Wx(t),this.parent=typeof e=="string"?document.querySelector(e):e,!(this.parent instanceof HTMLElement))throw new Error("No `parent` element to render on was provided.");this.rawChartArgs=t,this.title=t.title||"",this.type=t.type||"",this.realData=this.prepareData(t.data),this.data=this.prepareFirstData(this.realData),this.colors=this.validateColors(t.colors,this.type),this.config={showTooltip:1,showLegend:1,isNavigable:t.isNavigable||0,animate:t.animate!==void 0?t.animate:1,truncateLegends:t.truncateLegends||1},this.measures=JSON.parse(JSON.stringify(qL));var r=this.measures;this.setMeasures(t),this.title.length||(r.titleHeight=0),this.config.showLegend||(r.legendHeight=0),this.argHeight=t.height||r.baseHeight,this.state={},this.options={},this.initTimeout=WL,this.config.isNavigable&&(this.overlays=[]),this.configure(t)}return gM(n,[{key:"prepareData",value:function(e){return e}},{key:"prepareFirstData",value:function(e){return e}},{key:"validateColors",value:function(e,t){var r=[];return(e=(e||[]).concat(nM[t])).forEach(function(i){var o=tS(i);kO(o)?r.push(o):console.warn('"'+i+'" is not a valid color.')}),r}},{key:"setMeasures",value:function(){}},{key:"configure",value:function(){var e=this,t=this.argHeight;this.baseHeight=t,this.height=t-$x(this.measures),this.boundDrawFn=function(){return e.draw(!0)},ResizeObserver&&(this.resizeObserver=new ResizeObserver(this.boundDrawFn),this.resizeObserver.observe(this.parent)),window.addEventListener("resize",this.boundDrawFn),window.addEventListener("orientationchange",this.boundDrawFn)}},{key:"destroy",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),window.removeEventListener("resize",this.boundDrawFn),window.removeEventListener("orientationchange",this.boundDrawFn)}},{key:"setup",value:function(){this.makeContainer(),this.updateWidth(),this.makeTooltip(),this.draw(!1,!0)}},{key:"makeContainer",value:function(){this.parent.innerHTML="";var e={inside:this.parent,className:"chart-container"};this.independentWidth&&(e.styles={width:this.independentWidth+"px"}),this.container=_a.create("div",e)}},{key:"makeTooltip",value:function(){this.tip=new iM({parent:this.container,colors:this.colors}),this.bindTooltip()}},{key:"bindTooltip",value:function(){}},{key:"draw",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0],r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];t&&wO(this.parent)||(this.updateWidth(),this.calc(t),this.makeChartArea(),this.setupComponents(),this.components.forEach(function(i){return i.setup(e.drawArea)}),this.render(this.components,!1),r&&(this.data=this.realData,setTimeout(function(){e.update(e.data)},this.initTimeout)),this.renderLegend(),this.setupNavigation(r))}},{key:"calc",value:function(){}},{key:"updateWidth",value:function(){this.baseWidth=xO(this.parent),this.width=this.baseWidth-Ud(this.measures)}},{key:"makeChartArea",value:function(){this.svg&&this.container.removeChild(this.svg);var e=this.measures;this.svg=OO(this.container,"frappe-chart chart",this.baseWidth,this.baseHeight),this.svgDefs=LO(this.svg),this.title.length&&(this.titleEL=hh("title",e.margins.left,e.margins.top,this.title,{fontSize:e.titleFontSize,fill:"#666666",dy:e.titleFontSize}));var t=$d(e);this.drawArea=Sv(this.type+"-chart chart-draw-area","translate("+Ed(e)+", "+t+")"),this.config.showLegend&&(t+=this.height+e.paddings.bottom,this.legendArea=Sv("chart-legend","translate("+Ed(e)+", "+t+")")),this.title.length&&this.svg.appendChild(this.titleEL),this.svg.appendChild(this.drawArea),this.config.showLegend&&this.svg.appendChild(this.legendArea),this.updateTipOffset(Ed(e),$d(e))}},{key:"updateTipOffset",value:function(e,t){this.tip.offset={x:e,y:t}}},{key:"setupComponents",value:function(){this.components=new Map}},{key:"update",value:function(e){e||console.error("No data to update."),this.data=this.prepareData(e),this.calc(),this.render(this.components,this.config.animate),this.renderLegend()}},{key:"render",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.components,r=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.config.isNavigable&&this.overlays.map(function(o){return o.parentNode.removeChild(o)});var i=[];t.forEach(function(o){i=i.concat(o.update(r))}),i.length>0?(eL(this.container,this.svg,i),setTimeout(function(){t.forEach(function(o){return o.make()}),e.updateNav()},VL)):(t.forEach(function(o){return o.make()}),this.updateNav())}},{key:"updateNav",value:function(){this.config.isNavigable&&(this.makeOverlay(),this.bindUnits())}},{key:"renderLegend",value:function(){}},{key:"setupNavigation",value:function(){var e=this,t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.config.isNavigable&&t&&(this.bindOverlay(),this.keyActions={13:this.onEnterKey.bind(this),37:this.onLeftArrow.bind(this),38:this.onUpArrow.bind(this),39:this.onRightArrow.bind(this),40:this.onDownArrow.bind(this)},document.addEventListener("keydown",function(r){_O(e.container)&&(r=r||window.event,e.keyActions[r.keyCode]&&e.keyActions[r.keyCode]())}))}},{key:"makeOverlay",value:function(){}},{key:"updateOverlay",value:function(){}},{key:"bindOverlay",value:function(){}},{key:"bindUnits",value:function(){}},{key:"onLeftArrow",value:function(){}},{key:"onRightArrow",value:function(){}},{key:"onUpArrow",value:function(){}},{key:"onDownArrow",value:function(){}},{key:"onEnterKey",value:function(){}},{key:"addDataPoint",value:function(){}},{key:"removeDataPoint",value:function(){}},{key:"getDataPoint",value:function(){}},{key:"setCurrentDataPoint",value:function(){}},{key:"updateDataset",value:function(){}},{key:"export",value:function(){var e=nL(this.svg);tL(this.title||"Chart",[e])}}]),n})(),vM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),yM=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:n(o,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},wy=(function(n){function e(t,r){return iL(this,e),sL(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r))}return oL(e,n),vM(e,[{key:"configure",value:function(t){yM(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.config.formatTooltipY=(t.tooltipOptions||{}).formatTooltipY,this.config.maxSlices=t.maxSlices||20,this.config.maxLegendPoints=t.maxLegendPoints||20}},{key:"calc",value:function(){var t=this,r=this.state,i=this.config.maxSlices;r.sliceTotals=[];var o=this.data.labels.map(function(u,f){var d=0;return t.data.datasets.map(function(g){d+=g.values[f]}),[d,u]}).filter(function(u){return u[0]>=0}),l=o;if(o.length>i){o.sort(function(u,f){return f[0]-u[0]}),l=o.slice(0,i-1);var h=0;o.slice(i-1).map(function(u){h+=u[0]}),l.push([h,"Rest"]),this.colors[i-1]="grey"}r.labels=[],l.map(function(u){r.sliceTotals.push(AO(u[0])),r.labels.push(u[1])}),r.grandTotal=r.sliceTotals.reduce(function(u,f){return u+f},0),this.center={x:this.width/2,y:this.height/2}}},{key:"renderLegend",value:function(){var t=this,r=this.state;this.legendArea.textContent="",this.legendTotals=r.sliceTotals.slice(0,this.config.maxLegendPoints);var i=0,o=0;this.legendTotals.map(function(l,h){var u=150,f=Math.floor((t.width-Ud(t.measures))/u);t.legendTotals.length<f&&(u=t.width/t.legendTotals.length),i>f&&(i=0,o+=20);var d=u*i+5,g=t.config.truncateLegends?gy(r.labels[h],u/10):r.labels[h],y=t.config.formatTooltipY?t.config.formatTooltipY(l):l,k=FO(d,o,5,t.colors[h],g+": "+y,!1);t.legendArea.appendChild(k),i++})}}]),e})(by),_0=12,eh=7,rS=1e3,bM=86400,wM=["January","February","March","April","May","June","July","August","September","October","November","December"],_M=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],$i=(function(){function n(e,t){var r=[],i=!0,o=!1,l=void 0;try{for(var h,u=e[Symbol.iterator]();!(i=(h=u.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(f){o=!0,l=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),xM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),SM=(function(){function n(e){var t=e.layerClass,r=t===void 0?"":t,i=e.layerTransform,o=i===void 0?"":i,l=e.constants,h=e.getData,u=e.makeElements,f=e.animateElements;uL(this,n),this.layerTransform=o,this.constants=l,this.makeElements=u,this.getData=h,this.animateElements=f,this.store=[],this.labels=[],this.layerClass=r,this.layerClass=typeof this.layerClass=="function"?this.layerClass():this.layerClass,this.refresh()}return xM(n,[{key:"refresh",value:function(e){this.data=e||this.getData()}},{key:"setup",value:function(e){this.layer=Sv(this.layerClass,this.layerTransform,e)}},{key:"make",value:function(){this.render(this.data),this.oldData=this.data}},{key:"render",value:function(e){var t=this;this.store=this.makeElements(e),this.layer.textContent="",this.store.forEach(function(r){t.layer.appendChild(r)}),this.labels.forEach(function(r){t.layer.appendChild(r)})}},{key:"update",value:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.refresh();var t=[];return e&&(t=this.animateElements(this.data)||[]),t}}]),n})(),x0={donutSlices:{layerClass:"donut-slices",makeElements:function(n){return n.sliceStrings.map(function(e,t){var r=qd(e,"donut-path",n.colors[t],"none",n.strokeWidth);return r.style.transition="transform .3s;",r})},animateElements:function(n){return this.store.map(function(e,t){return p0(e,n.sliceStrings[t])})}},pieSlices:{layerClass:"pie-slices",makeElements:function(n){return n.sliceStrings.map(function(e,t){var r=qd(e,"pie-path","none",n.colors[t]);return r.style.transition="transform .3s;",r})},animateElements:function(n){return this.store.map(function(e,t){return p0(e,n.sliceStrings[t])})}},percentageBars:{layerClass:"percentage-bars",makeElements:function(n){var e=this;return n.xPositions.map(function(t,r){return DO(t,0,n.widths[r],e.constants.barHeight,e.constants.barDepth,n.colors[r])})},animateElements:function(n){if(n)return[]}},yAxis:{layerClass:"y axis",makeElements:function(n){var e=this;return n.positions.map(function(t,r){return jO(t,n.labels[r],e.constants.width,{mode:e.constants.mode,pos:e.constants.pos,shortenNumbers:e.constants.shortenNumbers})})},animateElements:function(n){var e=n.positions,t=n.labels,r=this.oldData.positions,i=this.oldData.labels,o=zi(r,e),l=$i(o,2);r=l[0],e=l[1];var h=zi(i,t),u=$i(h,2);return i=u[0],t=u[1],this.render({positions:r,labels:t}),this.store.map(function(f,d){return d0(f,e[d],r[d])})}},xAxis:{layerClass:"x axis",makeElements:function(n){var e=this;return n.positions.map(function(t,r){return HO(t,n.calcLabels[r],e.constants.height,{mode:e.constants.mode,pos:e.constants.pos})})},animateElements:function(n){var e=n.positions,t=n.calcLabels,r=this.oldData.positions,i=this.oldData.calcLabels,o=zi(r,e),l=$i(o,2);r=l[0],e=l[1];var h=zi(i,t),u=$i(h,2);return i=u[0],t=u[1],this.render({positions:r,calcLabels:t}),this.store.map(function(f,d){return VO(f,e[d],r[d])})}},yMarkers:{layerClass:"y-markers",makeElements:function(n){var e=this;return n.map(function(t){return zO(t.position,t.label,e.constants.width,{labelPos:t.options.labelPos,mode:"span",lineType:"dashed"})})},animateElements:function(n){var e=zi(this.oldData,n),t=$i(e,2);this.oldData=t[0];var r=(n=t[1]).map(function(h){return h.position}),i=n.map(function(h){return h.label}),o=n.map(function(h){return h.options}),l=this.oldData.map(function(h){return h.position});return this.render(l.map(function(h,u){return{position:l[u],label:i[u],options:o[u]}})),this.store.map(function(h,u){return d0(h,r[u],l[u])})}},yRegions:{layerClass:"y-regions",makeElements:function(n){var e=this;return n.map(function(t){return $O(t.startPos,t.endPos,e.constants.width,t.label,{labelPos:t.options.labelPos})})},animateElements:function(n){var e=zi(this.oldData,n),t=$i(e,2);this.oldData=t[0];var r=(n=t[1]).map(function(d){return d.endPos}),i=n.map(function(d){return d.label}),o=n.map(function(d){return d.startPos}),l=n.map(function(d){return d.options}),h=this.oldData.map(function(d){return d.endPos}),u=this.oldData.map(function(d){return d.startPos});this.render(h.map(function(d,g){return{startPos:u[g],endPos:h[g],label:i[g],options:l[g]}}));var f=[];return this.store.map(function(d,g){f=f.concat(GO(d,o[g],r[g],h[g]))}),f}},heatDomain:{layerClass:function(){return"heat-domain domain-"+this.constants.index},makeElements:function(n){var e=this,t=this.constants,r=t.index,i=t.colWidth,o=t.rowHeight,l=t.squareSize,h=t.radius,u=t.xTranslate,f=0;return this.serializedSubDomains=[],n.cols.map(function(d,g){g===1&&e.labels.push(hh("domain-name",u,-12,Zx(r,!0).toUpperCase(),{fontSize:9})),d.map(function(y,k){if(y.fill){var w={"data-date":y.yyyyMmDd,"data-value":y.dataValue,"data-day":k},_=Yx("day",u,f,l,h,y.fill,w);e.serializedSubDomains.push(_)}f+=o}),f=0,u+=i}),this.serializedSubDomains},animateElements:function(n){if(n)return[]}},barGraph:{layerClass:function(){return"dataset-units dataset-bars dataset-"+this.constants.index},makeElements:function(n){var e=this.constants;return this.unitType="bar",this.units=n.yPositions.map(function(t,r){return UO(n.xPositions[r],t,n.barWidth,e.color,n.labels[r],r,n.offsets[r],{zeroLine:n.zeroLine,barsWidth:n.barsWidth,minHeight:e.minHeight})}),this.units},animateElements:function(n){var e=n.xPositions,t=n.yPositions,r=n.offsets,i=n.labels,o=this.oldData.xPositions,l=this.oldData.yPositions,h=this.oldData.offsets,u=this.oldData.labels,f=zi(o,e),d=$i(f,2);o=d[0],e=d[1];var g=zi(l,t),y=$i(g,2);l=y[0],t=y[1];var k=zi(h,r),w=$i(k,2);h=w[0],r=w[1];var _=zi(u,i),A=$i(_,2);u=A[0],i=A[1],this.render({xPositions:o,yPositions:l,offsets:h,labels:i,zeroLine:this.oldData.zeroLine,barsWidth:this.oldData.barsWidth,barWidth:this.oldData.barWidth});var N=[];return this.store.map(function(b,M){N=N.concat(YO(b,e[M],t[M],n.barWidth,r[M],{zeroLine:n.zeroLine}))}),N}},lineGraph:{layerClass:function(){return"dataset-units dataset-line dataset-"+this.constants.index},makeElements:function(n){var e=this.constants;return this.unitType="dot",this.paths={},e.hideLine||(this.paths=WO(n.xPositions,n.yPositions,e.color,{heatline:e.heatline,regionFill:e.regionFill,spline:e.spline},{svgDefs:e.svgDefs,zeroLine:n.zeroLine})),this.units=[],e.hideDots||(this.units=n.yPositions.map(function(t,r){return qO(n.xPositions[r],t,n.radius,e.color,e.valuesOverPoints?n.values[r]:"",r)})),Object.values(this.paths).concat(this.units)},animateElements:function(n){var e=n.xPositions,t=n.yPositions,r=n.values,i=this.oldData.xPositions,o=this.oldData.yPositions,l=this.oldData.values,h=zi(i,e),u=$i(h,2);i=u[0],e=u[1];var f=zi(o,t),d=$i(f,2);o=d[0],t=d[1];var g=zi(l,r),y=$i(g,2);l=y[0],r=y[1],this.render({xPositions:i,yPositions:o,values:r,zeroLine:this.oldData.zeroLine,radius:this.oldData.radius});var k=[];return Object.keys(this.paths).length&&(k=k.concat(ZO(this.paths,e,t,n.zeroLine,this.constants.spline))),this.units.length&&this.units.map(function(w,_){k=k.concat(KO(w,e[_],t[_]))}),k}}},EM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),AM=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:n(o,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},TM=(function(n){function e(t,r){hL(this,e);var i=fL(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.type="percentage",i.setup(),i}return dL(e,n),EM(e,[{key:"setMeasures",value:function(t){var r=this.measures;this.barOptions=t.barOptions||{};var i=this.barOptions;i.height=i.height||XL,i.depth=i.depth||Qx,r.paddings.right=30,r.legendHeight=60,r.baseHeight=8*(i.height+.5*i.depth)}},{key:"setupComponents",value:function(){var t=this.state,r=[["percentageBars",{barHeight:this.barOptions.height,barDepth:this.barOptions.depth},(function(){return{xPositions:t.xPositions,widths:t.widths,colors:this.colors}}).bind(this)]];this.components=new Map(r.map(function(i){var o=jh.apply(void 0,cL(i));return[i[0],o]}))}},{key:"calc",value:function(){var t=this;AM(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var r=this.state;r.xPositions=[],r.widths=[];var i=0;r.sliceTotals.map(function(o){var l=t.width*o/r.grandTotal;r.widths.push(l),r.xPositions.push(i),i+=l})}},{key:"makeDataByIndex",value:function(){}},{key:"bindTooltip",value:function(){var t=this,r=this.state;this.container.addEventListener("mousemove",function(i){var o=t.components.get("percentageBars").store,l=i.target;if(o.includes(l)){var h=o.indexOf(l),u=_h(t.container),f=_h(l),d=f.left-u.left+parseInt(l.getAttribute("width"))/2,g=f.top-u.top,y=(t.formattedLabels&&t.formattedLabels.length>0?t.formattedLabels[h]:t.state.labels[h])+": ",k=r.sliceTotals[h]/r.grandTotal;t.tip.setValues(d,g,{name:y,value:(100*k).toFixed(1)+"%"}),t.tip.showTip()}})}}]),e})(wy),kM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),S0=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:n(o,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},CM=(function(n){function e(t,r){mL(this,e);var i=gL(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.type="pie",i.initTimeout=0,i.init=1,i.setup(),i}return vL(e,n),kM(e,[{key:"configure",value:function(t){S0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1}},{key:"calc",value:function(){var t=this;S0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var r=this.state;this.radius=this.height>this.width?this.center.x:this.center.y;var i=this.radius,o=this.clockWise,l=r.slicesProperties||[];r.sliceStrings=[],r.slicesProperties=[];var h=180-this.config.startAngle;r.sliceTotals.map(function(u,f){var d=h,g=u/r.grandTotal*eS,y=g>180?1:0,k=o?-g:g,w=h+=k,_=Ou(d,i),A=Ou(w,i),N=t.init&&l[f],b=void 0,M=void 0;t.init?(b=N?N.startPosition:_,M=N?N.endPosition:_):(b=_,M=A);var E=g===360?PO(b,M,t.center,t.radius,o,y):MO(b,M,t.center,t.radius,o,y);r.sliceStrings.push(E),r.slicesProperties.push({startPosition:_,endPosition:A,value:u,total:r.grandTotal,startAngle:d,endAngle:w,angle:k})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,r=[["pieSlices",{},(function(){return{sliceStrings:t.sliceStrings,colors:this.colors}}).bind(this)]];this.components=new Map(r.map(function(i){var o=jh.apply(void 0,pL(i));return[i[0],o]}))}},{key:"calTranslateByAngle",value:function(t){var r=this.radius,i=this.hoverRadio,o=Ou(t.startAngle+t.angle/2,r);return"translate3d("+o.x*i+"px,"+o.y*i+"px,0)"}},{key:"hoverSlice",value:function(t,r,i,o){if(t){var l=this.colors[r];if(i){Wd(t,this.calTranslateByAngle(this.state.slicesProperties[r])),t.style.fill=vy(l,50);var h=_h(this.svg),u=o.pageX-h.left+10,f=o.pageY-h.top-10,d=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[r]:this.state.labels[r])+": ",g=(100*this.state.sliceTotals[r]/this.state.grandTotal).toFixed(1);this.tip.setValues(u,f,{name:d,value:g+"%"}),this.tip.showTip()}else Wd(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.fill=l}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var r=t.target,i=this.components.get("pieSlices").store,o=this.curActiveSliceIndex,l=this.curActiveSlice;if(i.includes(r)){var h=i.indexOf(r);this.hoverSlice(l,o,!1),this.curActiveSlice=r,this.curActiveSliceIndex=h,this.hoverSlice(r,h,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e})(wy),OM=(function(){function n(e,t){var r=[],i=!0,o=!1,l=void 0;try{for(var h,u=e[Symbol.iterator]();!(i=(h=u.next()).done)&&(r.push(h.value),!t||r.length!==t);i=!0);}catch(f){o=!0,l=f}finally{try{!i&&u.return&&u.return()}finally{if(o)throw l}}return r}return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return n(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}})(),LM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),Ps=du+JL,iu=Ps,MM=(function(n){function e(t,r){TL(this,e);var i=kL(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));i.type="heatmap",i.countLabel=r.countLabel||"";var o=["Sunday","Monday"],l=o.includes(r.startSubDomain)?r.startSubDomain:"Sunday";return i.startSubDomainIndex=o.indexOf(l),i.setup(),i}return CL(e,n),LM(e,[{key:"setMeasures",value:function(t){var r=this.measures;this.discreteDomains=t.discreteDomains===0?0:1,r.paddings.top=3*iu,r.paddings.bottom=0,r.legendHeight=2*iu,r.baseHeight=iu*eh+$x(r);var i=this.data,o=this.discreteDomains?_0:0;this.independentWidth=(Am(i.start,i.end)+o)*Ps+Ud(r)}},{key:"updateWidth",value:function(){var t=this.discreteDomains?_0:0,r=this.state.noOfWeeks?this.state.noOfWeeks:52;this.baseWidth=(r+t)*Ps+Ud(this.measures)}},{key:"prepareData",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data;if(t.start&&t.end&&t.start>t.end)throw new Error("Start date cannot be greater than end date.");if(t.start||(t.start=new Date,t.start.setFullYear(t.start.getFullYear()-1)),t.end||(t.end=new Date),t.dataPoints=t.dataPoints||{},parseInt(Object.keys(t.dataPoints)[0])>1e5){var r={};Object.keys(t.dataPoints).forEach(function(i){var o=new Date(i*rS);r[Em(o)]=t.dataPoints[i]}),t.dataPoints=r}return t}},{key:"calc",value:function(){var t=this.state;t.start=ll(this.data.start),t.end=ll(this.data.end),t.firstWeekStart=ll(t.start),t.noOfWeeks=Am(t.start,t.end),t.distribution=SL(Object.values(this.data.dataPoints),Tm),t.domainConfigs=this.getDomains()}},{key:"setupComponents",value:function(){var t=this,r=this.state,i=this.discreteDomains?0:1,o=r.domainConfigs.map(function(h,u){return["heatDomain",{index:h.index,colWidth:Ps,rowHeight:iu,squareSize:du,radius:t.rawChartArgs.radius||0,xTranslate:r.domainConfigs.filter(function(f,d){return d<u}).map(function(f){return f.cols.length-i}).reduce(function(f,d){return f+d},0)*Ps},(function(){return r.domainConfigs[u]}).bind(t)]});this.components=new Map(o.map(function(h,u){var f=jh.apply(void 0,AL(h));return[h[0]+"-"+u,f]}));var l=0;_M.forEach(function(h,u){if([1,3,5].includes(u)){var f=hh("subdomain-name",-Ps/2,l,h,{fontSize:du,dy:8,textAnchor:"end"});t.drawArea.appendChild(f)}l+=iu})}},{key:"update",value:function(t){t||console.error("No data to update."),this.data=this.prepareData(t),this.draw(),this.bindTooltip()}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(r){t.components.forEach(function(i){var o=i.store,l=r.target;if(o.includes(l)){var h=l.getAttribute("data-value"),u=l.getAttribute("data-date").split("-"),f=Zx(parseInt(u[1])-1,!0),d=t.container.getBoundingClientRect(),g=l.getBoundingClientRect(),y=parseInt(r.target.getAttribute("width")),k=g.left-d.left+y/2,w=g.top-d.top,_=h+" "+t.countLabel,A=" on "+f+" "+u[0]+", "+u[2];t.tip.setValues(k,w,{name:A,value:_,valueFirst:1},[]),t.tip.showTip()}})})}},{key:"renderLegend",value:function(){var t=this;this.legendArea.textContent="";var r=0,i=iu,o=this.rawChartArgs.radius||0,l=hh("subdomain-name",r,i,"Less",{fontSize:du+1,dy:9});r=2*Ps+Ps/2,this.legendArea.appendChild(l),this.colors.slice(0,Tm).map(function(u,f){var d=Yx("heatmap-legend-unit",r+(Ps+3)*f,i,du,o,u);t.legendArea.appendChild(d)});var h=hh("subdomain-name",r+Tm*(Ps+3)+Ps/4,i,"More",{fontSize:du+1,dy:9});this.legendArea.appendChild(h)}},{key:"getDomains",value:function(){for(var t=this.state,r=[t.start.getMonth(),t.start.getFullYear()],i=r[0],o=r[1],l=[t.end.getMonth(),t.end.getFullYear()],h=l[0]-i+1+12*(l[1]-o),u=[],f=ll(t.start),d=0;d<h;d++){var g=t.end;if(!lL(f,t.end)){var y=[f.getMonth(),f.getFullYear()];g=g0(y[0],y[1])}u.push(this.getDomainConfig(f,g)),fu(g,1),f=g}return u}},{key:"getDomainConfig",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=[t.getMonth(),t.getFullYear()],o=i[0],l=i[1],h=Xx(t),u={index:o,cols:[]};fu(r=ll(r)||g0(o,l),1);for(var f=Am(h,r),d=[],g=void 0,y=0;y<f;y++)g=this.getCol(h,o),d.push(g),fu(h=new Date(g[eh-1].yyyyMmDd),1);return g[eh-1].dataValue!==void 0&&(fu(h,1),d.push(this.getCol(h,o,!0))),u.cols=d,u}},{key:"getCol",value:function(t,r){for(var i=arguments.length>2&&arguments[2]!==void 0&&arguments[2],o=this.state,l=ll(t),h=[],u=0;u<eh;u++,fu(l,1)){var f={},d=l>=o.start&&l<=o.end;i||l.getMonth()!==r||!d?f.yyyyMmDd=Em(l):f=this.getSubDomainConfig(l),h.push(f)}return h}},{key:"getSubDomainConfig",value:function(t){var r=Em(t),i=this.data.dataPoints[r];return{yyyyMmDd:r,dataValue:i||0,fill:this.colors[EL(i,this.state.distribution)]}}}]),e})(by),PM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),km=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:n(o,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},Av=(function(n){function e(t,r){NL(this,e);var i=IL(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.barOptions=r.barOptions||{},i.lineOptions=r.lineOptions||{},i.type=r.type||"line",i.init=1,i.setup(),i}return DL(e,n),PM(e,[{key:"setMeasures",value:function(){this.data.datasets.length<=1&&(this.config.showLegend=0,this.measures.paddings.bottom=30)}},{key:"configure",value:function(t){km(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),t.axisOptions=t.axisOptions||{},t.tooltipOptions=t.tooltipOptions||{},this.config.xAxisMode=t.axisOptions.xAxisMode||"span",this.config.yAxisMode=t.axisOptions.yAxisMode||"span",this.config.xIsSeries=t.axisOptions.xIsSeries||0,this.config.shortenYAxisNumbers=t.axisOptions.shortenYAxisNumbers||0,this.config.formatTooltipX=t.tooltipOptions.formatTooltipX,this.config.formatTooltipY=t.tooltipOptions.formatTooltipY,this.config.valuesOverPoints=t.valuesOverPoints}},{key:"prepareData",value:function(){return LL(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data,this.type)}},{key:"prepareFirstData",value:function(){return ML(arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.data)}},{key:"calc",value:function(){var t=arguments.length>0&&arguments[0]!==void 0&&arguments[0];this.calcXPositions(),t||this.calcYAxisParameters(this.getAllYValues(),this.type==="line"),this.makeDataByIndex()}},{key:"calcXPositions",value:function(){var t=this.state,r=this.data.labels;t.datasetLength=r.length,t.unitWidth=this.width/t.datasetLength,t.xOffset=t.unitWidth/2,t.xAxis={labels:r,positions:r.map(function(i,o){return Ux(t.xOffset+o*t.unitWidth)})}}},{key:"calcYAxisParameters",value:function(t){var r=bL(t,arguments.length>1&&arguments[1]!==void 0?arguments[1]:"false"),i=this.height/_L(r),o=Jx(r)*i,l=this.height-wL(r)*o;this.state.yAxis={labels:r,positions:r.map(function(h){return l-h*i}),scaleMultiplier:i,zeroLine:l},this.calcDatasetPoints(),this.calcYExtremes(),this.calcYRegions()}},{key:"calcDatasetPoints",value:function(){var t=this.state,r=function(i){return i.map(function(o){return qf(o,t.yAxis)})};t.datasets=this.data.datasets.map(function(i,o){var l=i.values,h=i.cumulativeYs||[];return{name:i.name&&i.name.replace(/<|>|&/g,function(u){return u=="&"?"&amp;":u=="<"?"&lt;":"&gt;"}),index:o,chartType:i.chartType,values:l,yPositions:r(l),cumulativeYs:h,cumulativeYPos:r(h)}})}},{key:"calcYExtremes",value:function(){var t=this.state;if(this.barOptions.stacked)return void(t.yExtremes=t.datasets[t.datasets.length-1].cumulativeYPos);t.yExtremes=new Array(t.datasetLength).fill(9999),t.datasets.map(function(r){r.yPositions.map(function(i,o){i<t.yExtremes[o]&&(t.yExtremes[o]=i)})})}},{key:"calcYRegions",value:function(){var t=this.state;this.data.yMarkers&&(this.state.yMarkers=this.data.yMarkers.map(function(r){return r.position=qf(r.value,t.yAxis),r.options||(r.options={}),r})),this.data.yRegions&&(this.state.yRegions=this.data.yRegions.map(function(r){return r.startPos=qf(r.start,t.yAxis),r.endPos=qf(r.end,t.yAxis),r.options||(r.options={}),r}))}},{key:"getAllYValues",value:function(){var t,r=this,i="values";if(this.barOptions.stacked){i="cumulativeYs";var o=new Array(this.state.datasetLength).fill(0);this.data.datasets.map(function(h,u){var f=r.data.datasets[u].values;h[i]=o=o.map(function(d,g){return d+f[g]})})}var l=this.data.datasets.map(function(h){return h[i]});return this.data.yMarkers&&l.push(this.data.yMarkers.map(function(h){return h.value})),this.data.yRegions&&this.data.yRegions.map(function(h){l.push([h.end,h.start])}),(t=[]).concat.apply(t,v0(l))}},{key:"setupComponents",value:function(){var t=this,r=[["yAxis",{mode:this.config.yAxisMode,width:this.width,shortenNumbers:this.config.shortenYAxisNumbers},(function(){return this.state.yAxis}).bind(this)],["xAxis",{mode:this.config.xAxisMode,height:this.height},(function(){var d=this.state;return d.xAxis.calcLabels=PL(this.width,d.xAxis.labels,this.config.xIsSeries),d.xAxis}).bind(this)],["yRegions",{width:this.width,pos:"right"},(function(){return this.state.yRegions}).bind(this)]],i=this.state.datasets.filter(function(d){return d.chartType==="bar"}),o=this.state.datasets.filter(function(d){return d.chartType==="line"}),l=i.map(function(d){var g=d.index;return["barGraph-"+d.index,{index:g,color:t.colors[g],stacked:t.barOptions.stacked,valuesOverPoints:t.config.valuesOverPoints,minHeight:t.height*KL},(function(){var y=this.state,k=y.datasets[g],w=this.barOptions.stacked,_=this.barOptions.spaceRatio||YL,A=y.unitWidth*(1-_),N=A/(w?1:i.length),b=y.xAxis.positions.map(function(D){return D-A/2});w||(b=b.map(function(D){return D+N*g}));var M=new Array(y.datasetLength).fill("");this.config.valuesOverPoints&&(M=w&&k.index===y.datasets.length-1?k.cumulativeYs:k.values);var E=new Array(y.datasetLength).fill(0);return w&&(E=k.yPositions.map(function(D,T){return D-k.cumulativeYPos[T]})),{xPositions:b,yPositions:k.yPositions,offsets:E,labels:M,zeroLine:y.yAxis.zeroLine,barsWidth:A,barWidth:N}}).bind(t)]}),h=o.map(function(d){var g=d.index;return["lineGraph-"+d.index,{index:g,color:t.colors[g],svgDefs:t.svgDefs,heatline:t.lineOptions.heatline,regionFill:t.lineOptions.regionFill,spline:t.lineOptions.spline,hideDots:t.lineOptions.hideDots,hideLine:t.lineOptions.hideLine,valuesOverPoints:t.config.valuesOverPoints},(function(){var y=this.state,k=y.datasets[g],w=y.yAxis.positions[0]<y.yAxis.zeroLine?y.yAxis.positions[0]:y.yAxis.zeroLine;return{xPositions:y.xAxis.positions,yPositions:k.yPositions,values:k.values,zeroLine:w,radius:this.lineOptions.dotSize||ZL}}).bind(t)]}),u=[["yMarkers",{width:this.width,pos:"right"},(function(){return this.state.yMarkers}).bind(this)]];r=r.concat(l,h,u);var f=["yMarkers","yRegions"];this.dataUnitComponents=[],this.components=new Map(r.filter(function(d){return!f.includes(d[0])||t.state[d[0]]}).map(function(d){var g=jh.apply(void 0,v0(d));return(d[0].includes("lineGraph")||d[0].includes("barGraph"))&&t.dataUnitComponents.push(g),[d[0],g]}))}},{key:"makeDataByIndex",value:function(){var t=this;this.dataByIndex={};var r=this.state,i=this.config.formatTooltipX,o=this.config.formatTooltipY;r.xAxis.labels.map(function(l,h){var u=t.state.datasets.map(function(f,d){var g=f.values[h];return{title:f.name,value:g,yPos:f.yPositions[h],color:t.colors[d],formatted:o?o(g):g}});t.dataByIndex[h]={label:l,formattedLabel:i?i(l):l,xPos:r.xAxis.positions[h],values:u,yExtreme:r.yExtremes[h]}})}},{key:"bindTooltip",value:function(){var t=this;this.container.addEventListener("mousemove",function(r){var i=t.measures,o=_h(t.container),l=r.pageX-o.left-Ed(i),h=r.pageY-o.top;h<t.height+$d(i)&&h>$d(i)?t.mapTooltipXPosition(l):t.tip.hideTip()})}},{key:"mapTooltipXPosition",value:function(t){var r=this.state;if(r.yExtremes){var i=xL(t,r.xAxis.positions,!0);if(i>=0){var o=this.dataByIndex[i];this.tip.setValues(o.xPos+this.tip.offset.x,o.yExtreme+this.tip.offset.y,{name:o.formattedLabel,value:""},o.values,i),this.tip.showTip()}}}},{key:"renderLegend",value:function(){var t=this,r=this.data;r.datasets.length>1&&(this.legendArea.textContent="",r.datasets.map(function(i,o){var l=GL,h=RO(l*o,"0",l,t.colors[o],i.name,t.config.truncateLegends);t.legendArea.appendChild(h)}))}},{key:"makeOverlay",value:function(){var t=this;if(this.init)return void(this.init=0);this.overlayGuides&&this.overlayGuides.forEach(function(r){var i=r.overlay;i.parentNode.removeChild(i)}),this.overlayGuides=this.dataUnitComponents.map(function(r){return{type:r.unitType,overlay:void 0,units:r.units}}),this.state.currentIndex===void 0&&(this.state.currentIndex=this.state.datasetLength-1),this.overlayGuides.map(function(r){var i=r.units[t.state.currentIndex];r.overlay=uM[r.type](i),t.drawArea.appendChild(r.overlay)})}},{key:"updateOverlayGuides",value:function(){this.overlayGuides&&this.overlayGuides.forEach(function(t){var r=t.overlay;r.parentNode.removeChild(r)})}},{key:"bindOverlay",value:function(){var t=this;this.parent.addEventListener("data-select",function(){t.updateOverlay()})}},{key:"bindUnits",value:function(){var t=this;this.dataUnitComponents.map(function(r){r.units.map(function(i){i.addEventListener("click",function(){var o=i.getAttribute("data-point-index");t.setCurrentDataPoint(o)})})}),this.tip.container.addEventListener("click",function(){var r=t.tip.container.getAttribute("data-point-index");t.setCurrentDataPoint(r)})}},{key:"updateOverlay",value:function(){var t=this;this.overlayGuides.map(function(r){var i=r.units[t.state.currentIndex];cM[r.type](i,r.overlay)})}},{key:"onLeftArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex-1)}},{key:"onRightArrow",value:function(){this.setCurrentDataPoint(this.state.currentIndex+1)}},{key:"getDataPoint",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.currentIndex,r=this.state;return{index:t,label:r.xAxis.labels[t],values:r.datasets.map(function(i){return i.values[t]})}}},{key:"setCurrentDataPoint",value:function(t){var r=this.state;(t=parseInt(t))<0&&(t=0),t>=r.xAxis.labels.length&&(t=r.xAxis.labels.length-1),t!==r.currentIndex&&(r.currentIndex=t,SO(this.parent,"data-select",this.getDataPoint()))}},{key:"addDataPoint",value:function(t,r){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.state.datasetLength;km(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"addDataPoint",this).call(this,t,r,i),this.data.labels.splice(i,0,t),this.data.datasets.map(function(o,l){o.values.splice(i,0,r[l])}),this.update(this.data)}},{key:"removeDataPoint",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.state.datasetLength-1;this.data.labels.length<=1||(km(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"removeDataPoint",this).call(this,t),this.data.labels.splice(t,1),this.data.datasets.map(function(r){r.values.splice(t,1)}),this.update(this.data))}},{key:"updateDataset",value:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.data.datasets[r].values=t,this.update(this.data)}},{key:"updateDatasets",value:function(t){this.data.datasets.map(function(r,i){t[i]&&(r.values=t[i])}),this.update(this.data)}}]),e})(by),NM=(function(){function n(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}})(),E0=function n(e,t,r){e===null&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,t);if(i===void 0){var o=Object.getPrototypeOf(e);return o===null?void 0:n(o,t,r)}if("value"in i)return i.value;var l=i.get;if(l!==void 0)return l.call(r)},IM=(function(n){function e(t,r){FL(this,e);var i=BL(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,r));return i.type="donut",i.initTimeout=0,i.init=1,i.setup(),i}return jL(e,n),NM(e,[{key:"configure",value:function(t){E0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"configure",this).call(this,t),this.mouseMove=this.mouseMove.bind(this),this.mouseLeave=this.mouseLeave.bind(this),this.hoverRadio=t.hoverRadio||.1,this.config.startAngle=t.startAngle||0,this.clockWise=t.clockWise||!1,this.strokeWidth=t.strokeWidth||30}},{key:"calc",value:function(){var t=this;E0(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"calc",this).call(this);var r=this.state;this.radius=this.height>this.width?this.center.x-this.strokeWidth/2:this.center.y-this.strokeWidth/2;var i=this.radius,o=this.clockWise,l=r.slicesProperties||[];r.sliceStrings=[],r.slicesProperties=[];var h=180-this.config.startAngle;r.sliceTotals.map(function(u,f){var d=h,g=u/r.grandTotal*eS,y=g>180?1:0,k=o?-g:g,w=h+=k,_=Ou(d,i),A=Ou(w,i),N=t.init&&l[f],b=void 0,M=void 0;t.init?(b=N?N.startPosition:_,M=N?N.endPosition:_):(b=_,M=A);var E=g===360?IO(b,M,t.center,t.radius,t.clockWise,y):NO(b,M,t.center,t.radius,t.clockWise,y);r.sliceStrings.push(E),r.slicesProperties.push({startPosition:_,endPosition:A,value:u,total:r.grandTotal,startAngle:d,endAngle:w,angle:k})}),this.init=0}},{key:"setupComponents",value:function(){var t=this.state,r=[["donutSlices",{},(function(){return{sliceStrings:t.sliceStrings,colors:this.colors,strokeWidth:this.strokeWidth}}).bind(this)]];this.components=new Map(r.map(function(i){var o=jh.apply(void 0,RL(i));return[i[0],o]}))}},{key:"calTranslateByAngle",value:function(t){var r=this.radius,i=this.hoverRadio,o=Ou(t.startAngle+t.angle/2,r);return"translate3d("+o.x*i+"px,"+o.y*i+"px,0)"}},{key:"hoverSlice",value:function(t,r,i,o){if(t){var l=this.colors[r];if(i){Wd(t,this.calTranslateByAngle(this.state.slicesProperties[r])),t.style.stroke=vy(l,50);var h=_h(this.svg),u=o.pageX-h.left+10,f=o.pageY-h.top-10,d=(this.formatted_labels&&this.formatted_labels.length>0?this.formatted_labels[r]:this.state.labels[r])+": ",g=(100*this.state.sliceTotals[r]/this.state.grandTotal).toFixed(1);this.tip.setValues(u,f,{name:d,value:g+"%"}),this.tip.showTip()}else Wd(t,"translate3d(0,0,0)"),this.tip.hideTip(),t.style.stroke=l}}},{key:"bindTooltip",value:function(){this.container.addEventListener("mousemove",this.mouseMove),this.container.addEventListener("mouseleave",this.mouseLeave)}},{key:"mouseMove",value:function(t){var r=t.target,i=this.components.get("donutSlices").store,o=this.curActiveSliceIndex,l=this.curActiveSlice;if(i.includes(r)){var h=i.indexOf(r);this.hoverSlice(l,o,!1),this.curActiveSlice=r,this.curActiveSliceIndex=h,this.hoverSlice(r,h,!0,t)}else this.mouseLeave()}},{key:"mouseLeave",value:function(){this.hoverSlice(this.curActiveSlice,this.curActiveSliceIndex,!1)}}]),e})(wy),A0={bar:Av,line:Av,percentage:TM,heatmap:MM,pie:CM,donut:IM},DM=function n(e,t){return HL(this,n),zL(t.type,e,t)};class RM extends dn{connect(){this.chart=new DM(this.data.get("parent"),{title:this.data.get("title"),data:{labels:JSON.parse(this.data.get("labels")),datasets:JSON.parse(this.data.get("datasets")),yMarkers:JSON.parse(this.data.get("markers"))},type:this.data.get("type"),height:this.data.get("height"),maxSlices:JSON.parse(this.data.get("max-slices")),valuesOverPoints:JSON.parse(this.data.get("values-over-points")),axisOptions:JSON.parse(this.data.get("axis-options")),barOptions:JSON.parse(this.data.get("bar-options")),lineOptions:JSON.parse(this.data.get("line-options")),colors:JSON.parse(this.data.get("colors"))}),this.drawEvent=()=>setTimeout(()=>{this.chart.draw()},100),window.addEventListener("resize",this.drawEvent),document.querySelectorAll('a[data-bs-toggle="tab"]').forEach(e=>{e.addEventListener("shown.bs.tab",this.drawEvent)})}export(){this.chart.export()}disconnect(){this.chart.destroy(),window.removeEventListener("resize",this.drawEvent),document.querySelectorAll('a[data-bs-toggle="tab"]').forEach(e=>{e.removeEventListener("shown.bs.tab",this.drawEvent)})}}const FM=Object.freeze(Object.defineProperty({__proto__:null,default:RM},Symbol.toStringTag,{value:"Module"}));class BM extends dn{connect(){const e=this.element.querySelector("input:not([hidden])");e&&(e.indeterminate=this.data.get("indeterminate"))}}const jM=Object.freeze(Object.defineProperty({__proto__:null,default:BM},Symbol.toStringTag,{value:"Module"}));var iS="#fff",Cm="20px",HM="13px",zM=`
.codeflask {
  background: `+iS+`;
  color: #4f559c;
}

.codeflask .token.punctuation {
  color: #4a4a4a;
}

.codeflask .token.keyword {
  color: #8500ff;
}

.codeflask .token.operator {
  color: #ff5598;
}

.codeflask .token.string {
  color: #41ad8f;
}

.codeflask .token.comment {
  color: #9badb7;
}

.codeflask .token.function {
  color: #8500ff;
}

.codeflask .token.boolean {
  color: #8500ff;
}

.codeflask .token.number {
  color: #8500ff;
}

.codeflask .token.selector {
  color: #8500ff;
}

.codeflask .token.property {
  color: #8500ff;
}

.codeflask .token.tag {
  color: #8500ff;
}

.codeflask .token.attr-value {
  color: #8500ff;
}
`;function $M(n,e){return typeof CSS<"u"?CSS.supports(n,e):typeof document<"u"&&UM(n)in document.body.style}function UM(n){return(n=n.split("-").filter(function(e){return!!e}).map(function(e){return e[0].toUpperCase()+e.substr(1)}).join(""))[0].toLowerCase()+n.substr(1)}var T0='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',qM=$M("caret-color","#000")?iS:"#ccc",su="40px",WM=`
  .codeflask {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .codeflask, .codeflask * {
    box-sizing: border-box;
  }

  .codeflask__pre {
    pointer-events: none;
    z-index: 3;
    overflow: hidden;
  }

  .codeflask__textarea {
    background: none;
    border: none;
    color: `+qM+`;
    z-index: 1;
    resize: none;
    font-family: `+T0+`;
    -webkit-appearance: pre;
    caret-color: #111;
    z-index: 2;
    width: 100%;
    height: 100%;
  }

  .codeflask--has-line-numbers .codeflask__textarea {
    width: calc(100% - `+su+`);
  }

  .codeflask__code {
    display: block;
    font-family: `+T0+`;
    overflow: hidden;
  }

  .codeflask__flatten {
    padding: 10px;
    font-size: `+HM+`;
    line-height: `+Cm+`;
    white-space: pre;
    position: absolute;
    top: 0;
    left: 0;
    overflow: auto;
    margin: 0 !important;
    outline: none;
    text-align: left;
  }

  .codeflask--has-line-numbers .codeflask__flatten {
    width: calc(100% - `+su+`);
    left: `+su+`;
  }

  .codeflask__line-highlight {
    position: absolute;
    top: 10px;
    left: 0;
    width: 100%;
    height: `+Cm+`;
    background: rgba(0,0,0,0.1);
    z-index: 1;
  }

  .codeflask__lines {
    padding: 10px 4px;
    font-size: 12px;
    line-height: `+Cm+`;
    font-family: 'Cousine', monospace;
    position: absolute;
    left: 0;
    top: 0;
    width: `+su+`;
    height: 100%;
    text-align: right;
    color: #999;
    z-index: 2;
  }

  .codeflask__lines__line {
    display: block;
  }

  .codeflask.codeflask--has-line-numbers {
    padding-left: `+su+`;
  }

  .codeflask.codeflask--has-line-numbers:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: `+su+`;
    height: 100%;
    background: #eee;
    z-index: 1;
  }
`;function k0(n,e,t){var r=e||"codeflask-style",i=t||document.head;if(!n)return!1;if(document.getElementById(r))return!0;var o=document.createElement("style");return o.innerHTML=n,o.id=r,i.appendChild(o),!0}var VM={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function C0(n){return String(n).replace(/[&<>"'`=/]/g,function(e){return VM[e]})}var O0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function GM(n,e){return n(e={exports:{}},e.exports),e.exports}var L0=GM(function(n){var e=(function(t){var r=/\blang(?:uage)?-([\w-]+)\b/i,i=0,o={manual:t.Prism&&t.Prism.manual,disableWorkerMessageHandler:t.Prism&&t.Prism.disableWorkerMessageHandler,util:{encode:function(u){return u instanceof l?new l(u.type,o.util.encode(u.content),u.alias):Array.isArray(u)?u.map(o.util.encode):u.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(u){return Object.prototype.toString.call(u).slice(8,-1)},objId:function(u){return u.__id||Object.defineProperty(u,"__id",{value:++i}),u.__id},clone:function u(f,d){var g,y,k=o.util.type(f);switch(d=d||{},k){case"Object":if(y=o.util.objId(f),d[y])return d[y];for(var w in g={},d[y]=g,f)f.hasOwnProperty(w)&&(g[w]=u(f[w],d));return g;case"Array":return y=o.util.objId(f),d[y]?d[y]:(g=[],d[y]=g,f.forEach(function(_,A){g[A]=u(_,d)}),g);default:return f}}},languages:{extend:function(u,f){var d=o.util.clone(o.languages[u]);for(var g in f)d[g]=f[g];return d},insertBefore:function(u,f,d,g){var y=(g=g||o.languages)[u],k={};for(var w in y)if(y.hasOwnProperty(w)){if(w==f)for(var _ in d)d.hasOwnProperty(_)&&(k[_]=d[_]);d.hasOwnProperty(w)||(k[w]=y[w])}var A=g[u];return g[u]=k,o.languages.DFS(o.languages,function(N,b){b===A&&N!=u&&(this[N]=k)}),k},DFS:function u(f,d,g,y){y=y||{};var k=o.util.objId;for(var w in f)if(f.hasOwnProperty(w)){d.call(f,w,f[w],g||w);var _=f[w],A=o.util.type(_);A!=="Object"||y[k(_)]?A!=="Array"||y[k(_)]||(y[k(_)]=!0,u(_,d,w,y)):(y[k(_)]=!0,u(_,d,null,y))}}},plugins:{},highlightAll:function(u,f){o.highlightAllUnder(document,u,f)},highlightAllUnder:function(u,f,d){var g={callback:d,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};o.hooks.run("before-highlightall",g);for(var y,k=g.elements||u.querySelectorAll(g.selector),w=0;y=k[w++];)o.highlightElement(y,f===!0,g.callback)},highlightElement:function(u,f,d){for(var g,y,k=u;k&&!r.test(k.className);)k=k.parentNode;k&&(g=(k.className.match(r)||[,""])[1].toLowerCase(),y=o.languages[g]),u.className=u.className.replace(r,"").replace(/\s+/g," ")+" language-"+g,u.parentNode&&(k=u.parentNode,/pre/i.test(k.nodeName)&&(k.className=k.className.replace(r,"").replace(/\s+/g," ")+" language-"+g));var w={element:u,language:g,grammar:y,code:u.textContent},_=function(N){w.highlightedCode=N,o.hooks.run("before-insert",w),w.element.innerHTML=w.highlightedCode,o.hooks.run("after-highlight",w),o.hooks.run("complete",w),d&&d.call(w.element)};if(o.hooks.run("before-sanity-check",w),w.code)if(o.hooks.run("before-highlight",w),w.grammar)if(f&&t.Worker){var A=new Worker(o.filename);A.onmessage=function(N){_(N.data)},A.postMessage(JSON.stringify({language:w.language,code:w.code,immediateClose:!0}))}else _(o.highlight(w.code,w.grammar,w.language));else _(o.util.encode(w.code));else o.hooks.run("complete",w)},highlight:function(u,f,d){var g={code:u,grammar:f,language:d};return o.hooks.run("before-tokenize",g),g.tokens=o.tokenize(g.code,g.grammar),o.hooks.run("after-tokenize",g),l.stringify(o.util.encode(g.tokens),g.language)},matchGrammar:function(u,f,d,g,y,k,w){for(var _ in d)if(d.hasOwnProperty(_)&&d[_]){if(_==w)return;var A=d[_];A=o.util.type(A)==="Array"?A:[A];for(var N=0;N<A.length;++N){var b=A[N],M=b.inside,E=!!b.lookbehind,D=!!b.greedy,T=0,C=b.alias;if(D&&!b.pattern.global){var R=b.pattern.toString().match(/[imuy]*$/)[0];b.pattern=RegExp(b.pattern.source,R+"g")}b=b.pattern||b;for(var B=g,I=y;B<f.length;I+=f[B].length,++B){var P=f[B];if(f.length>u.length)return;if(!(P instanceof l)){if(D&&B!=f.length-1){if(b.lastIndex=I,!(X=b.exec(u)))break;for(var j=X.index+(E?X[1].length:0),$=X.index+X[0].length,Z=B,se=I,te=f.length;Z<te&&(se<$||!f[Z].type&&!f[Z-1].greedy);++Z)j>=(se+=f[Z].length)&&(++B,I=se);if(f[B]instanceof l)continue;V=Z-B,P=u.slice(I,se),X.index-=I}else{b.lastIndex=0;var X=b.exec(P),V=1}if(X){E&&(T=X[1]?X[1].length:0),$=(j=X.index+T)+(X=X[0].slice(T)).length;var de=P.slice(0,j),Y=P.slice($),ue=[B,V];de&&(++B,I+=de.length,ue.push(de));var xe=new l(_,M?o.tokenize(X,M):X,C,X,D);if(ue.push(xe),Y&&ue.push(Y),Array.prototype.splice.apply(f,ue),V!=1&&o.matchGrammar(u,f,d,B,I,!0,_),k)break}else if(k)break}}}}},tokenize:function(u,f){var d=[u],g=f.rest;if(g){for(var y in g)f[y]=g[y];delete f.rest}return o.matchGrammar(u,d,f,0,0,!1),d},hooks:{all:{},add:function(u,f){var d=o.hooks.all;d[u]=d[u]||[],d[u].push(f)},run:function(u,f){var d=o.hooks.all[u];if(d&&d.length)for(var g,y=0;g=d[y++];)g(f)}},Token:l};function l(u,f,d,g,y){this.type=u,this.content=f,this.alias=d,this.length=0|(g||"").length,this.greedy=!!y}if(t.Prism=o,l.stringify=function(u,f,d){if(typeof u=="string")return u;if(Array.isArray(u))return u.map(function(w){return l.stringify(w,f,u)}).join("");var g={type:u.type,content:l.stringify(u.content,f,d),tag:"span",classes:["token",u.type],attributes:{},language:f,parent:d};if(u.alias){var y=Array.isArray(u.alias)?u.alias:[u.alias];Array.prototype.push.apply(g.classes,y)}o.hooks.run("wrap",g);var k=Object.keys(g.attributes).map(function(w){return w+'="'+(g.attributes[w]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+g.tag+' class="'+g.classes.join(" ")+'"'+(k?" "+k:"")+">"+g.content+"</"+g.tag+">"},!t.document)return t.addEventListener&&(o.disableWorkerMessageHandler||t.addEventListener("message",function(u){var f=JSON.parse(u.data),d=f.language,g=f.code,y=f.immediateClose;t.postMessage(o.highlight(g,o.languages[d],d)),y&&t.close()},!1)),o;var h=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return h&&(o.filename=h.src,o.manual||h.hasAttribute("data-manual")||(document.readyState!=="loading"?window.requestAnimationFrame?window.requestAnimationFrame(o.highlightAll):window.setTimeout(o.highlightAll,16):document.addEventListener("DOMContentLoaded",o.highlightAll))),o})(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});n.exports&&(n.exports=e),O0!==void 0&&(O0.Prism=e),e.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},e.languages.markup.tag.inside["attr-value"].inside.entity=e.languages.markup.entity,e.hooks.add("wrap",function(t){t.type==="entity"&&(t.attributes.title=t.content.replace(/&amp;/,"&"))}),Object.defineProperty(e.languages.markup.tag,"addInlined",{value:function(t,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:e.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};o["language-"+r]={pattern:/[\s\S]+/,inside:e.languages[r]};var l={};l[t]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,t),"i"),lookbehind:!0,greedy:!0,inside:o},e.languages.insertBefore("markup","cdata",l)}}),e.languages.xml=e.languages.extend("markup",{}),e.languages.html=e.languages.markup,e.languages.mathml=e.languages.markup,e.languages.svg=e.languages.markup,(function(t){var r=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;t.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+r.source+"|.*?)\\)","i"),selector:RegExp(`[^{}\\s](?:[^{};"']|`+r.source+")*?(?=\\s*\\{)"),string:{pattern:r,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},t.languages.css.atrule.inside.rest=t.languages.css;var i=t.languages.markup;i&&(i.tag.addInlined("style","css"),t.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:i.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:t.languages.css}},alias:"language-css"}},i.tag))})(e),e.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},e.languages.javascript=e.languages.extend("clike",{"class-name":[e.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),e.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,e.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:e.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:e.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:e.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:e.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),e.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:e.languages.javascript}},string:/[\s\S]+/}}}),e.languages.markup&&e.languages.markup.tag.addInlined("script","javascript"),e.languages.js=e.languages.javascript,typeof self<"u"&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(t){t=t||document;var r={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(t.querySelectorAll("pre[data-src]")).forEach(function(i){if(!i.hasAttribute("data-src-loaded")){for(var o,l=i.getAttribute("data-src"),h=i,u=/\blang(?:uage)?-([\w-]+)\b/i;h&&!u.test(h.className);)h=h.parentNode;if(h&&(o=(i.className.match(u)||[,""])[1]),!o){var f=(l.match(/\.(\w+)$/)||[,""])[1];o=r[f]||f}var d=document.createElement("code");d.className="language-"+o,i.textContent="",d.textContent="Loading",i.appendChild(d);var g=new XMLHttpRequest;g.open("GET",l,!0),g.onreadystatechange=function(){g.readyState==4&&(g.status<400&&g.responseText?(d.textContent=g.responseText,e.highlightElement(d),i.setAttribute("data-src-loaded","")):g.status>=400?d.textContent=" Error "+g.status+" while fetching file: "+g.statusText:d.textContent=" Error: File does not exist or is empty")},g.send(null)}}),e.plugins.toolbar&&e.plugins.toolbar.registerButton("download-file",function(i){var o=i.element.parentNode;if(o&&/pre/i.test(o.nodeName)&&o.hasAttribute("data-src")&&o.hasAttribute("data-download-link")){var l=o.getAttribute("data-src"),h=document.createElement("a");return h.textContent=o.getAttribute("data-download-link-label")||"Download",h.setAttribute("download",""),h.href=l,h}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}),In=function(n,e){if(!n)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!e)throw Error("CodeFlask expects an object containing options as second parameter");if(n.nodeType)this.editorRoot=n;else{var t=document.querySelector(n);t&&(this.editorRoot=t)}this.opts=e,this.startEditor()};In.prototype.startEditor=function(){if(!k0(WM,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},In.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},In.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},In.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},In.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},In.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},In.prototype.createElement=function(n,e){var t=document.createElement(n);return e.appendChild(t),t},In.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=this.opts.defaultTheme!==!1,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,typeof this.opts.handleTabs!="boolean"&&(this.opts.handleTabs=!0),typeof this.opts.handleSelfClosingCharacters!="boolean"&&(this.opts.handleSelfClosingCharacters=!0),typeof this.opts.handleNewLineIndentation!="boolean"&&(this.opts.handleNewLineIndentation=!0),this.opts.rtl===!0&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),this.opts.enableAutocorrect===!1&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&k0(zM,"theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},In.prototype.updateLineNumbersCount=function(){for(var n="",e=1;e<=this.lineNumber;e++)n=n+'<span class="codeflask__lines__line">'+e+"</span>";this.elLineNumbers.innerHTML=n},In.prototype.listenTextarea=function(){var n=this;this.elTextarea.addEventListener("input",function(e){n.code=e.target.value,n.elCode.innerHTML=C0(e.target.value),n.highlight(),setTimeout(function(){n.runUpdate(),n.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(e){n.handleTabs(e),n.handleSelfClosingCharacters(e),n.handleNewLineIndentation(e)}),this.elTextarea.addEventListener("scroll",function(e){n.elPre.style.transform="translate3d(-"+e.target.scrollLeft+"px, -"+e.target.scrollTop+"px, 0)",n.elLineNumbers&&(n.elLineNumbers.style.transform="translate3d(0, -"+e.target.scrollTop+"px, 0)")})},In.prototype.handleTabs=function(n){if(this.opts.handleTabs){if(n.keyCode!==9)return;n.preventDefault();var e=this.elTextarea,t=e.selectionDirection,r=e.selectionStart,i=e.selectionEnd,o=e.value,l=o.substr(0,r),h=o.substring(r,i),u=o.substring(i),f=" ".repeat(this.opts.tabSize);if(r!==i&&h.length>=f.length){var d=r-l.split(`
`).pop().length,g=f.length,y=f.length;n.shiftKey?(o.substr(d,f.length)===f?(g=-g,d>r?(h=h.substring(0,d)+h.substring(d+f.length),y=0):d===r?(g=0,y=0,h=h.substring(f.length)):(y=-y,l=l.substring(0,d)+l.substring(d+f.length))):(g=0,y=0),h=h.replace(new RegExp(`
`+f.split("").join("\\"),"g"),`
`)):(l=l.substr(0,d)+f+l.substring(d,r),h=h.replace(/\n/g,`
`+f)),e.value=l+h+u,e.selectionStart=r+g,e.selectionEnd=r+h.length+y,e.selectionDirection=t}else e.value=l+f+u,e.selectionStart=r+f.length,e.selectionEnd=r+f.length;var k=e.value;this.updateCode(k),this.elTextarea.selectionEnd=i+this.opts.tabSize}},In.prototype.handleSelfClosingCharacters=function(n){if(this.opts.handleSelfClosingCharacters){var e=n.key;if(["(","[","{","<","'",'"'].includes(e)||[")","]","}",">","'",'"'].includes(e))switch(e){case"(":case")":this.closeCharacter(e);break;case"[":case"]":this.closeCharacter(e);break;case"{":case"}":this.closeCharacter(e);break;case"<":case">":case"'":case'"':this.closeCharacter(e)}}},In.prototype.setLineNumber=function(){this.lineNumber=this.code.split(`
`).length,this.opts.lineNumbers&&this.updateLineNumbersCount()},In.prototype.handleNewLineIndentation=function(n){if(this.opts.handleNewLineIndentation&&n.keyCode===13){n.preventDefault();var e=this.elTextarea,t=e.selectionStart,r=e.selectionEnd,i=e.value,o=i.substr(0,t),l=i.substring(r),h=i.lastIndexOf(`
`,t-1),u=h+i.slice(h+1).search(/[^ ]|$/),f=u>h?u-h:0,d=o+`
`+" ".repeat(f)+l;e.value=d,e.selectionStart=t+f+1,e.selectionEnd=t+f+1,this.updateCode(e.value)}},In.prototype.closeCharacter=function(n){var e=this.elTextarea.selectionStart,t=this.elTextarea.selectionEnd;if(this.skipCloseChar(n)){var r=this.code.substr(t,1)===n,i=r?t+1:t,o=!r&&["'",'"'].includes(n)?n:"",l=""+this.code.substring(0,e)+o+this.code.substring(i);this.updateCode(l),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var h=n;switch(n){case"(":h=String.fromCharCode(n.charCodeAt()+1);break;case"<":case"{":case"[":h=String.fromCharCode(n.charCodeAt()+2)}var u=this.code.substring(e,t),f=""+this.code.substring(0,e)+u+h+this.code.substring(t);this.updateCode(f)}this.elTextarea.selectionEnd=e},In.prototype.skipCloseChar=function(n){var e=this.elTextarea.selectionStart,t=this.elTextarea.selectionEnd,r=Math.abs(t-e)>0;return[")","}","]",">"].includes(n)||["'",'"'].includes(n)&&!r},In.prototype.updateCode=function(n){this.code=n,this.elTextarea.value=n,this.elCode.innerHTML=C0(n),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},In.prototype.updateLanguage=function(n){var e=this.opts.language;this.elCode.classList.remove("language-"+e),this.elCode.classList.add("language-"+n),this.opts.language=n,this.highlight()},In.prototype.addLanguage=function(n,e){L0.languages[n]=e},In.prototype.populateDefault=function(){this.updateCode(this.code)},In.prototype.highlight=function(){L0.highlightElement(this.elCode,!1)},In.prototype.onUpdate=function(n){if(n&&{}.toString.call(n)!=="[object Function]")throw Error("CodeFlask expects callback of type Function");this.updateCallBack=n},In.prototype.getCode=function(){return this.code},In.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},In.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},In.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")};class YM extends dn{connect(){const e=this.element.querySelector("input"),t=new In(this.element.querySelector(".code"),{language:this.data.get("language"),lineNumbers:this.data.get("lineNumbers"),defaultTheme:this.data.get("defaultTheme"),readonly:e.readOnly});t.updateCode(e.value),t.onUpdate(r=>{e.value=r})}}const KM=Object.freeze(Object.defineProperty({__proto__:null,default:YM},Symbol.toStringTag,{value:"Module"}));var mi="top",Ji="bottom",Qi="right",gi="left",pp="auto",Ju=[mi,Ji,Qi,gi],yl="start",$u="end",sS="clippingParents",_y="viewport",pu="popper",oS="reference",Tv=Ju.reduce(function(n,e){return n.concat([e+"-"+yl,e+"-"+$u])},[]),xy=[].concat(Ju,[pp]).reduce(function(n,e){return n.concat([e,e+"-"+yl,e+"-"+$u])},[]),aS="beforeRead",lS="read",uS="afterRead",cS="beforeMain",hS="main",fS="afterMain",dS="beforeWrite",pS="write",mS="afterWrite",gS=[aS,lS,uS,cS,hS,fS,dS,pS,mS];function fo(n){return n?(n.nodeName||"").toLowerCase():null}function es(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function bl(n){var e=es(n).Element;return n instanceof e||n instanceof Element}function hs(n){var e=es(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function Sy(n){if(typeof ShadowRoot>"u")return!1;var e=es(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function ZM(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var r=e.styles[t]||{},i=e.attributes[t]||{},o=e.elements[t];!hs(o)||!fo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(l){var h=i[l];h===!1?o.removeAttribute(l):o.setAttribute(l,h===!0?"":h)}))})}function XM(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},l=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:t[r]),h=l.reduce(function(u,f){return u[f]="",u},{});!hs(i)||!fo(i)||(Object.assign(i.style,h),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const vS={name:"applyStyles",enabled:!0,phase:"write",fn:ZM,effect:XM,requires:["computeStyles"]};function ao(n){return n.split("-")[0]}var ml=Math.max,Vd=Math.min,Uu=Math.round;function kv(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function yS(){return!/^((?!chrome|android).)*safari/i.test(kv())}function qu(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var r=n.getBoundingClientRect(),i=1,o=1;e&&hs(n)&&(i=n.offsetWidth>0&&Uu(r.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Uu(r.height)/n.offsetHeight||1);var l=bl(n)?es(n):window,h=l.visualViewport,u=!yS()&&t,f=(r.left+(u&&h?h.offsetLeft:0))/i,d=(r.top+(u&&h?h.offsetTop:0))/o,g=r.width/i,y=r.height/o;return{width:g,height:y,top:d,right:f+g,bottom:d+y,left:f,x:f,y:d}}function Ey(n){var e=qu(n),t=n.offsetWidth,r=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:r}}function bS(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&Sy(t)){var r=e;do{if(r&&n.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function jo(n){return es(n).getComputedStyle(n)}function JM(n){return["table","td","th"].indexOf(fo(n))>=0}function La(n){return((bl(n)?n.ownerDocument:n.document)||window.document).documentElement}function mp(n){return fo(n)==="html"?n:n.assignedSlot||n.parentNode||(Sy(n)?n.host:null)||La(n)}function M0(n){return!hs(n)||jo(n).position==="fixed"?null:n.offsetParent}function QM(n){var e=/firefox/i.test(kv()),t=/Trident/i.test(kv());if(t&&hs(n)){var r=jo(n);if(r.position==="fixed")return null}var i=mp(n);for(Sy(i)&&(i=i.host);hs(i)&&["html","body"].indexOf(fo(i))<0;){var o=jo(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Hh(n){for(var e=es(n),t=M0(n);t&&JM(t)&&jo(t).position==="static";)t=M0(t);return t&&(fo(t)==="html"||fo(t)==="body"&&jo(t).position==="static")?e:t||QM(n)||e}function Ay(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function fh(n,e,t){return ml(n,Vd(e,t))}function eP(n,e,t){var r=fh(n,e,t);return r>t?t:r}function wS(){return{top:0,right:0,bottom:0,left:0}}function _S(n){return Object.assign({},wS(),n)}function xS(n,e){return e.reduce(function(t,r){return t[r]=n,t},{})}var tP=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,_S(typeof e!="number"?e:xS(e,Ju))};function nP(n){var e,t=n.state,r=n.name,i=n.options,o=t.elements.arrow,l=t.modifiersData.popperOffsets,h=ao(t.placement),u=Ay(h),f=[gi,Qi].indexOf(h)>=0,d=f?"height":"width";if(!(!o||!l)){var g=tP(i.padding,t),y=Ey(o),k=u==="y"?mi:gi,w=u==="y"?Ji:Qi,_=t.rects.reference[d]+t.rects.reference[u]-l[u]-t.rects.popper[d],A=l[u]-t.rects.reference[u],N=Hh(o),b=N?u==="y"?N.clientHeight||0:N.clientWidth||0:0,M=_/2-A/2,E=g[k],D=b-y[d]-g[w],T=b/2-y[d]/2+M,C=fh(E,T,D),R=u;t.modifiersData[r]=(e={},e[R]=C,e.centerOffset=C-T,e)}}function rP(n){var e=n.state,t=n.options,r=t.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||bS(e.elements.popper,i)&&(e.elements.arrow=i))}const SS={name:"arrow",enabled:!0,phase:"main",fn:nP,effect:rP,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Wu(n){return n.split("-")[1]}var iP={top:"auto",right:"auto",bottom:"auto",left:"auto"};function sP(n,e){var t=n.x,r=n.y,i=e.devicePixelRatio||1;return{x:Uu(t*i)/i||0,y:Uu(r*i)/i||0}}function P0(n){var e,t=n.popper,r=n.popperRect,i=n.placement,o=n.variation,l=n.offsets,h=n.position,u=n.gpuAcceleration,f=n.adaptive,d=n.roundOffsets,g=n.isFixed,y=l.x,k=y===void 0?0:y,w=l.y,_=w===void 0?0:w,A=typeof d=="function"?d({x:k,y:_}):{x:k,y:_};k=A.x,_=A.y;var N=l.hasOwnProperty("x"),b=l.hasOwnProperty("y"),M=gi,E=mi,D=window;if(f){var T=Hh(t),C="clientHeight",R="clientWidth";if(T===es(t)&&(T=La(t),jo(T).position!=="static"&&h==="absolute"&&(C="scrollHeight",R="scrollWidth")),T=T,i===mi||(i===gi||i===Qi)&&o===$u){E=Ji;var B=g&&T===D&&D.visualViewport?D.visualViewport.height:T[C];_-=B-r.height,_*=u?1:-1}if(i===gi||(i===mi||i===Ji)&&o===$u){M=Qi;var I=g&&T===D&&D.visualViewport?D.visualViewport.width:T[R];k-=I-r.width,k*=u?1:-1}}var P=Object.assign({position:h},f&&iP),j=d===!0?sP({x:k,y:_},es(t)):{x:k,y:_};if(k=j.x,_=j.y,u){var $;return Object.assign({},P,($={},$[E]=b?"0":"",$[M]=N?"0":"",$.transform=(D.devicePixelRatio||1)<=1?"translate("+k+"px, "+_+"px)":"translate3d("+k+"px, "+_+"px, 0)",$))}return Object.assign({},P,(e={},e[E]=b?_+"px":"",e[M]=N?k+"px":"",e.transform="",e))}function oP(n){var e=n.state,t=n.options,r=t.gpuAcceleration,i=r===void 0?!0:r,o=t.adaptive,l=o===void 0?!0:o,h=t.roundOffsets,u=h===void 0?!0:h,f={placement:ao(e.placement),variation:Wu(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,P0(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,P0(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ES={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:oP,data:{}};var Wf={passive:!0};function aP(n){var e=n.state,t=n.instance,r=n.options,i=r.scroll,o=i===void 0?!0:i,l=r.resize,h=l===void 0?!0:l,u=es(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&f.forEach(function(d){d.addEventListener("scroll",t.update,Wf)}),h&&u.addEventListener("resize",t.update,Wf),function(){o&&f.forEach(function(d){d.removeEventListener("scroll",t.update,Wf)}),h&&u.removeEventListener("resize",t.update,Wf)}}const AS={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:aP,data:{}};var lP={left:"right",right:"left",bottom:"top",top:"bottom"};function Ad(n){return n.replace(/left|right|bottom|top/g,function(e){return lP[e]})}var uP={start:"end",end:"start"};function N0(n){return n.replace(/start|end/g,function(e){return uP[e]})}function Ty(n){var e=es(n),t=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:t,scrollTop:r}}function ky(n){return qu(La(n)).left+Ty(n).scrollLeft}function cP(n,e){var t=es(n),r=La(n),i=t.visualViewport,o=r.clientWidth,l=r.clientHeight,h=0,u=0;if(i){o=i.width,l=i.height;var f=yS();(f||!f&&e==="fixed")&&(h=i.offsetLeft,u=i.offsetTop)}return{width:o,height:l,x:h+ky(n),y:u}}function hP(n){var e,t=La(n),r=Ty(n),i=(e=n.ownerDocument)==null?void 0:e.body,o=ml(t.scrollWidth,t.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),l=ml(t.scrollHeight,t.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),h=-r.scrollLeft+ky(n),u=-r.scrollTop;return jo(i||t).direction==="rtl"&&(h+=ml(t.clientWidth,i?i.clientWidth:0)-o),{width:o,height:l,x:h,y:u}}function Cy(n){var e=jo(n),t=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+i+r)}function TS(n){return["html","body","#document"].indexOf(fo(n))>=0?n.ownerDocument.body:hs(n)&&Cy(n)?n:TS(mp(n))}function dh(n,e){var t;e===void 0&&(e=[]);var r=TS(n),i=r===((t=n.ownerDocument)==null?void 0:t.body),o=es(r),l=i?[o].concat(o.visualViewport||[],Cy(r)?r:[]):r,h=e.concat(l);return i?h:h.concat(dh(mp(l)))}function Cv(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function fP(n,e){var t=qu(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function I0(n,e,t){return e===_y?Cv(cP(n,t)):bl(e)?fP(e,t):Cv(hP(La(n)))}function dP(n){var e=dh(mp(n)),t=["absolute","fixed"].indexOf(jo(n).position)>=0,r=t&&hs(n)?Hh(n):n;return bl(r)?e.filter(function(i){return bl(i)&&bS(i,r)&&fo(i)!=="body"}):[]}function pP(n,e,t,r){var i=e==="clippingParents"?dP(n):[].concat(e),o=[].concat(i,[t]),l=o[0],h=o.reduce(function(u,f){var d=I0(n,f,r);return u.top=ml(d.top,u.top),u.right=Vd(d.right,u.right),u.bottom=Vd(d.bottom,u.bottom),u.left=ml(d.left,u.left),u},I0(n,l,r));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function kS(n){var e=n.reference,t=n.element,r=n.placement,i=r?ao(r):null,o=r?Wu(r):null,l=e.x+e.width/2-t.width/2,h=e.y+e.height/2-t.height/2,u;switch(i){case mi:u={x:l,y:e.y-t.height};break;case Ji:u={x:l,y:e.y+e.height};break;case Qi:u={x:e.x+e.width,y:h};break;case gi:u={x:e.x-t.width,y:h};break;default:u={x:e.x,y:e.y}}var f=i?Ay(i):null;if(f!=null){var d=f==="y"?"height":"width";switch(o){case yl:u[f]=u[f]-(e[d]/2-t[d]/2);break;case $u:u[f]=u[f]+(e[d]/2-t[d]/2);break}}return u}function Vu(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=r===void 0?n.placement:r,o=t.strategy,l=o===void 0?n.strategy:o,h=t.boundary,u=h===void 0?sS:h,f=t.rootBoundary,d=f===void 0?_y:f,g=t.elementContext,y=g===void 0?pu:g,k=t.altBoundary,w=k===void 0?!1:k,_=t.padding,A=_===void 0?0:_,N=_S(typeof A!="number"?A:xS(A,Ju)),b=y===pu?oS:pu,M=n.rects.popper,E=n.elements[w?b:y],D=pP(bl(E)?E:E.contextElement||La(n.elements.popper),u,d,l),T=qu(n.elements.reference),C=kS({reference:T,element:M,placement:i}),R=Cv(Object.assign({},M,C)),B=y===pu?R:T,I={top:D.top-B.top+N.top,bottom:B.bottom-D.bottom+N.bottom,left:D.left-B.left+N.left,right:B.right-D.right+N.right},P=n.modifiersData.offset;if(y===pu&&P){var j=P[i];Object.keys(I).forEach(function($){var Z=[Qi,Ji].indexOf($)>=0?1:-1,se=[mi,Ji].indexOf($)>=0?"y":"x";I[$]+=j[se]*Z})}return I}function mP(n,e){e===void 0&&(e={});var t=e,r=t.placement,i=t.boundary,o=t.rootBoundary,l=t.padding,h=t.flipVariations,u=t.allowedAutoPlacements,f=u===void 0?xy:u,d=Wu(r),g=d?h?Tv:Tv.filter(function(w){return Wu(w)===d}):Ju,y=g.filter(function(w){return f.indexOf(w)>=0});y.length===0&&(y=g);var k=y.reduce(function(w,_){return w[_]=Vu(n,{placement:_,boundary:i,rootBoundary:o,padding:l})[ao(_)],w},{});return Object.keys(k).sort(function(w,_){return k[w]-k[_]})}function gP(n){if(ao(n)===pp)return[];var e=Ad(n);return[N0(n),e,N0(e)]}function vP(n){var e=n.state,t=n.options,r=n.name;if(!e.modifiersData[r]._skip){for(var i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!0:l,u=t.fallbackPlacements,f=t.padding,d=t.boundary,g=t.rootBoundary,y=t.altBoundary,k=t.flipVariations,w=k===void 0?!0:k,_=t.allowedAutoPlacements,A=e.options.placement,N=ao(A),b=N===A,M=u||(b||!w?[Ad(A)]:gP(A)),E=[A].concat(M).reduce(function(Q,K){return Q.concat(ao(K)===pp?mP(e,{placement:K,boundary:d,rootBoundary:g,padding:f,flipVariations:w,allowedAutoPlacements:_}):K)},[]),D=e.rects.reference,T=e.rects.popper,C=new Map,R=!0,B=E[0],I=0;I<E.length;I++){var P=E[I],j=ao(P),$=Wu(P)===yl,Z=[mi,Ji].indexOf(j)>=0,se=Z?"width":"height",te=Vu(e,{placement:P,boundary:d,rootBoundary:g,altBoundary:y,padding:f}),X=Z?$?Qi:gi:$?Ji:mi;D[se]>T[se]&&(X=Ad(X));var V=Ad(X),de=[];if(o&&de.push(te[j]<=0),h&&de.push(te[X]<=0,te[V]<=0),de.every(function(Q){return Q})){B=P,R=!1;break}C.set(P,de)}if(R)for(var Y=w?3:1,ue=function(K){var Ce=E.find(function(Me){var ne=C.get(Me);if(ne)return ne.slice(0,K).every(function(ie){return ie})});if(Ce)return B=Ce,"break"},xe=Y;xe>0;xe--){var we=ue(xe);if(we==="break")break}e.placement!==B&&(e.modifiersData[r]._skip=!0,e.placement=B,e.reset=!0)}}const CS={name:"flip",enabled:!0,phase:"main",fn:vP,requiresIfExists:["offset"],data:{_skip:!1}};function D0(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function R0(n){return[mi,Qi,Ji,gi].some(function(e){return n[e]>=0})}function yP(n){var e=n.state,t=n.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,l=Vu(e,{elementContext:"reference"}),h=Vu(e,{altBoundary:!0}),u=D0(l,r),f=D0(h,i,o),d=R0(u),g=R0(f);e.modifiersData[t]={referenceClippingOffsets:u,popperEscapeOffsets:f,isReferenceHidden:d,hasPopperEscaped:g},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":g})}const OS={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:yP};function bP(n,e,t){var r=ao(n),i=[gi,mi].indexOf(r)>=0?-1:1,o=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,l=o[0],h=o[1];return l=l||0,h=(h||0)*i,[gi,Qi].indexOf(r)>=0?{x:h,y:l}:{x:l,y:h}}function wP(n){var e=n.state,t=n.options,r=n.name,i=t.offset,o=i===void 0?[0,0]:i,l=xy.reduce(function(d,g){return d[g]=bP(g,e.rects,o),d},{}),h=l[e.placement],u=h.x,f=h.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=f),e.modifiersData[r]=l}const LS={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:wP};function _P(n){var e=n.state,t=n.name;e.modifiersData[t]=kS({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const MS={name:"popperOffsets",enabled:!0,phase:"read",fn:_P,data:{}};function xP(n){return n==="x"?"y":"x"}function SP(n){var e=n.state,t=n.options,r=n.name,i=t.mainAxis,o=i===void 0?!0:i,l=t.altAxis,h=l===void 0?!1:l,u=t.boundary,f=t.rootBoundary,d=t.altBoundary,g=t.padding,y=t.tether,k=y===void 0?!0:y,w=t.tetherOffset,_=w===void 0?0:w,A=Vu(e,{boundary:u,rootBoundary:f,padding:g,altBoundary:d}),N=ao(e.placement),b=Wu(e.placement),M=!b,E=Ay(N),D=xP(E),T=e.modifiersData.popperOffsets,C=e.rects.reference,R=e.rects.popper,B=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,I=typeof B=="number"?{mainAxis:B,altAxis:B}:Object.assign({mainAxis:0,altAxis:0},B),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,j={x:0,y:0};if(T){if(o){var $,Z=E==="y"?mi:gi,se=E==="y"?Ji:Qi,te=E==="y"?"height":"width",X=T[E],V=X+A[Z],de=X-A[se],Y=k?-R[te]/2:0,ue=b===yl?C[te]:R[te],xe=b===yl?-R[te]:-C[te],we=e.elements.arrow,Q=k&&we?Ey(we):{width:0,height:0},K=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:wS(),Ce=K[Z],Me=K[se],ne=fh(0,C[te],Q[te]),ie=M?C[te]/2-Y-ne-Ce-I.mainAxis:ue-ne-Ce-I.mainAxis,oe=M?-C[te]/2+Y+ne+Me+I.mainAxis:xe+ne+Me+I.mainAxis,ce=e.elements.arrow&&Hh(e.elements.arrow),W=ce?E==="y"?ce.clientTop||0:ce.clientLeft||0:0,ee=($=P?.[E])!=null?$:0,pe=X+ie-ee-W,ve=X+oe-ee,Ae=fh(k?Vd(V,pe):V,X,k?ml(de,ve):de);T[E]=Ae,j[E]=Ae-X}if(h){var ke,Fe=E==="x"?mi:gi,ae=E==="x"?Ji:Qi,fe=T[D],me=D==="y"?"height":"width",O=fe+A[Fe],H=fe-A[ae],U=[mi,gi].indexOf(N)!==-1,le=(ke=P?.[D])!=null?ke:0,Se=U?O:fe-C[me]-R[me]-le+I.altAxis,Le=U?fe+C[me]+R[me]-le-I.altAxis:H,Pe=k&&U?eP(Se,fe,Le):fh(k?Se:O,fe,k?Le:H);T[D]=Pe,j[D]=Pe-fe}e.modifiersData[r]=j}}const PS={name:"preventOverflow",enabled:!0,phase:"main",fn:SP,requiresIfExists:["offset"]};function EP(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function AP(n){return n===es(n)||!hs(n)?Ty(n):EP(n)}function TP(n){var e=n.getBoundingClientRect(),t=Uu(e.width)/n.offsetWidth||1,r=Uu(e.height)/n.offsetHeight||1;return t!==1||r!==1}function kP(n,e,t){t===void 0&&(t=!1);var r=hs(e),i=hs(e)&&TP(e),o=La(e),l=qu(n,i,t),h={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!t)&&((fo(e)!=="body"||Cy(o))&&(h=AP(e)),hs(e)?(u=qu(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=ky(o))),{x:l.left+h.scrollLeft-u.x,y:l.top+h.scrollTop-u.y,width:l.width,height:l.height}}function CP(n){var e=new Map,t=new Set,r=[];n.forEach(function(o){e.set(o.name,o)});function i(o){t.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(h){if(!t.has(h)){var u=e.get(h);u&&i(u)}}),r.push(o)}return n.forEach(function(o){t.has(o.name)||i(o)}),r}function OP(n){var e=CP(n);return gS.reduce(function(t,r){return t.concat(e.filter(function(i){return i.phase===r}))},[])}function LP(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function MP(n){var e=n.reduce(function(t,r){var i=t[r.name];return t[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,t},{});return Object.keys(e).map(function(t){return e[t]})}var F0={placement:"bottom",modifiers:[],strategy:"absolute"};function B0(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function NS(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,r=t===void 0?[]:t,i=e.defaultOptions,o=i===void 0?F0:i;return function(h,u,f){f===void 0&&(f=o);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},F0,o),modifiersData:{},elements:{reference:h,popper:u},attributes:{},styles:{}},g=[],y=!1,k={state:d,setOptions:function(N){var b=typeof N=="function"?N(d.options):N;_(),d.options=Object.assign({},o,d.options,b),d.scrollParents={reference:bl(h)?dh(h):h.contextElement?dh(h.contextElement):[],popper:dh(u)};var M=OP(MP([].concat(r,d.options.modifiers)));return d.orderedModifiers=M.filter(function(E){return E.enabled}),w(),k.update()},forceUpdate:function(){if(!y){var N=d.elements,b=N.reference,M=N.popper;if(B0(b,M)){d.rects={reference:kP(b,Hh(M),d.options.strategy==="fixed"),popper:Ey(M)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(I){return d.modifiersData[I.name]=Object.assign({},I.data)});for(var E=0;E<d.orderedModifiers.length;E++){if(d.reset===!0){d.reset=!1,E=-1;continue}var D=d.orderedModifiers[E],T=D.fn,C=D.options,R=C===void 0?{}:C,B=D.name;typeof T=="function"&&(d=T({state:d,options:R,name:B,instance:k})||d)}}}},update:LP(function(){return new Promise(function(A){k.forceUpdate(),A(d)})}),destroy:function(){_(),y=!0}};if(!B0(h,u))return k;k.setOptions(f).then(function(A){!y&&f.onFirstUpdate&&f.onFirstUpdate(A)});function w(){d.orderedModifiers.forEach(function(A){var N=A.name,b=A.options,M=b===void 0?{}:b,E=A.effect;if(typeof E=="function"){var D=E({state:d,name:N,instance:k,options:M}),T=function(){};g.push(D||T)}})}function _(){g.forEach(function(A){return A()}),g=[]}return k}}var PP=[AS,MS,ES,vS,LS,CS,PS,SS,OS],Oy=NS({defaultModifiers:PP});const IS=Object.freeze(Object.defineProperty({__proto__:null,afterMain:fS,afterRead:uS,afterWrite:mS,applyStyles:vS,arrow:SS,auto:pp,basePlacements:Ju,beforeMain:cS,beforeRead:aS,beforeWrite:dS,bottom:Ji,clippingParents:sS,computeStyles:ES,createPopper:Oy,detectOverflow:Vu,end:$u,eventListeners:AS,flip:CS,hide:OS,left:gi,main:hS,modifierPhases:gS,offset:LS,placements:xy,popper:pu,popperGenerator:NS,popperOffsets:MS,preventOverflow:PS,read:lS,reference:oS,right:Qi,start:yl,top:mi,variationPlacements:Tv,viewport:_y,write:pS},Symbol.toStringTag,{value:"Module"}));const aa=new Map,Om={set(n,e,t){aa.has(n)||aa.set(n,new Map);const r=aa.get(n);if(!r.has(e)&&r.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(r.keys())[0]}.`);return}r.set(e,t)},get(n,e){return aa.has(n)&&aa.get(n).get(e)||null},remove(n,e){if(!aa.has(n))return;const t=aa.get(n);t.delete(e),t.size===0&&aa.delete(n)}},NP=1e6,IP=1e3,Ov="transitionend",DS=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(e,t)=>`#${CSS.escape(t)}`)),n),DP=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),RP=n=>{do n+=Math.floor(Math.random()*NP);while(document.getElementById(n));return n},FP=n=>{if(!n)return 0;let{transitionDuration:e,transitionDelay:t}=window.getComputedStyle(n);const r=Number.parseFloat(e),i=Number.parseFloat(t);return!r&&!i?0:(e=e.split(",")[0],t=t.split(",")[0],(Number.parseFloat(e)+Number.parseFloat(t))*IP)},RS=n=>{n.dispatchEvent(new Event(Ov))},Ro=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),Ta=n=>Ro(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(DS(n)):null,Qu=n=>{if(!Ro(n)||n.getClientRects().length===0)return!1;const e=getComputedStyle(n).getPropertyValue("visibility")==="visible",t=n.closest("details:not([open])");if(!t)return e;if(t!==n){const r=n.closest("summary");if(r&&r.parentNode!==t||r===null)return!1}return e},ka=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",FS=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const e=n.getRootNode();return e instanceof ShadowRoot?e:null}return n instanceof ShadowRoot?n:n.parentNode?FS(n.parentNode):null},Gd=()=>{},zh=n=>{n.offsetHeight},BS=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,Lm=[],BP=n=>{document.readyState==="loading"?(Lm.length||document.addEventListener("DOMContentLoaded",()=>{for(const e of Lm)e()}),Lm.push(n)):n()},ds=()=>document.documentElement.dir==="rtl",ms=n=>{BP(()=>{const e=BS();if(e){const t=n.NAME,r=e.fn[t];e.fn[t]=n.jQueryInterface,e.fn[t].Constructor=n,e.fn[t].noConflict=()=>(e.fn[t]=r,n.jQueryInterface)}})},Ci=(n,e=[],t=n)=>typeof n=="function"?n.call(...e):t,jS=(n,e,t=!0)=>{if(!t){Ci(n);return}const i=FP(e)+5;let o=!1;const l=({target:h})=>{h===e&&(o=!0,e.removeEventListener(Ov,l),Ci(n))};e.addEventListener(Ov,l),setTimeout(()=>{o||RS(e)},i)},Ly=(n,e,t,r)=>{const i=n.length;let o=n.indexOf(e);return o===-1?!t&&r?n[i-1]:n[0]:(o+=t?1:-1,r&&(o=(o+i)%i),n[Math.max(0,Math.min(o,i-1))])},jP=/[^.]*(?=\..*)\.|.*/,HP=/\..*/,zP=/::\d+$/,Mm={};let j0=1;const HS={mouseenter:"mouseover",mouseleave:"mouseout"},$P=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function zS(n,e){return e&&`${e}::${j0++}`||n.uidEvent||j0++}function $S(n){const e=zS(n);return n.uidEvent=e,Mm[e]=Mm[e]||{},Mm[e]}function UP(n,e){return function t(r){return My(r,{delegateTarget:n}),t.oneOff&&at.off(n,r.type,e),e.apply(n,[r])}}function qP(n,e,t){return function r(i){const o=n.querySelectorAll(e);for(let{target:l}=i;l&&l!==this;l=l.parentNode)for(const h of o)if(h===l)return My(i,{delegateTarget:l}),r.oneOff&&at.off(n,i.type,e,t),t.apply(l,[i])}}function US(n,e,t=null){return Object.values(n).find(r=>r.callable===e&&r.delegationSelector===t)}function qS(n,e,t){const r=typeof e=="string",i=r?t:e||t;let o=WS(n);return $P.has(o)||(o=n),[r,i,o]}function H0(n,e,t,r,i){if(typeof e!="string"||!n)return;let[o,l,h]=qS(e,t,r);e in HS&&(l=(w=>function(_){if(!_.relatedTarget||_.relatedTarget!==_.delegateTarget&&!_.delegateTarget.contains(_.relatedTarget))return w.call(this,_)})(l));const u=$S(n),f=u[h]||(u[h]={}),d=US(f,l,o?t:null);if(d){d.oneOff=d.oneOff&&i;return}const g=zS(l,e.replace(jP,"")),y=o?qP(n,t,l):UP(n,l);y.delegationSelector=o?t:null,y.callable=l,y.oneOff=i,y.uidEvent=g,f[g]=y,n.addEventListener(h,y,o)}function Lv(n,e,t,r,i){const o=US(e[t],r,i);o&&(n.removeEventListener(t,o,!!i),delete e[t][o.uidEvent])}function WP(n,e,t,r){const i=e[t]||{};for(const[o,l]of Object.entries(i))o.includes(r)&&Lv(n,e,t,l.callable,l.delegationSelector)}function WS(n){return n=n.replace(HP,""),HS[n]||n}const at={on(n,e,t,r){H0(n,e,t,r,!1)},one(n,e,t,r){H0(n,e,t,r,!0)},off(n,e,t,r){if(typeof e!="string"||!n)return;const[i,o,l]=qS(e,t,r),h=l!==e,u=$S(n),f=u[l]||{},d=e.startsWith(".");if(typeof o<"u"){if(!Object.keys(f).length)return;Lv(n,u,l,o,i?t:null);return}if(d)for(const g of Object.keys(u))WP(n,u,g,e.slice(1));for(const[g,y]of Object.entries(f)){const k=g.replace(zP,"");(!h||e.includes(k))&&Lv(n,u,l,y.callable,y.delegationSelector)}},trigger(n,e,t){if(typeof e!="string"||!n)return null;const r=BS(),i=WS(e),o=e!==i;let l=null,h=!0,u=!0,f=!1;o&&r&&(l=r.Event(e,t),r(n).trigger(l),h=!l.isPropagationStopped(),u=!l.isImmediatePropagationStopped(),f=l.isDefaultPrevented());const d=My(new Event(e,{bubbles:h,cancelable:!0}),t);return f&&d.preventDefault(),u&&n.dispatchEvent(d),d.defaultPrevented&&l&&l.preventDefault(),d}};function My(n,e={}){for(const[t,r]of Object.entries(e))try{n[t]=r}catch{Object.defineProperty(n,t,{configurable:!0,get(){return r}})}return n}function z0(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function Pm(n){return n.replace(/[A-Z]/g,e=>`-${e.toLowerCase()}`)}const Fo={setDataAttribute(n,e,t){n.setAttribute(`data-bs-${Pm(e)}`,t)},removeDataAttribute(n,e){n.removeAttribute(`data-bs-${Pm(e)}`)},getDataAttributes(n){if(!n)return{};const e={},t=Object.keys(n.dataset).filter(r=>r.startsWith("bs")&&!r.startsWith("bsConfig"));for(const r of t){let i=r.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1),e[i]=z0(n.dataset[r])}return e},getDataAttribute(n,e){return z0(n.getAttribute(`data-bs-${Pm(e)}`))}};let $h=class{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(e){return e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e}_mergeConfigObj(e,t){const r=Ro(t)?Fo.getDataAttribute(t,"config"):{};return{...this.constructor.Default,...typeof r=="object"?r:{},...Ro(t)?Fo.getDataAttributes(t):{},...typeof e=="object"?e:{}}}_typeCheckConfig(e,t=this.constructor.DefaultType){for(const[r,i]of Object.entries(t)){const o=e[r],l=Ro(o)?"element":DP(o);if(!new RegExp(i).test(l))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${r}" provided type "${l}" but expected type "${i}".`)}}};const VP="5.3.8";class zs extends $h{constructor(e,t){super(),e=Ta(e),e&&(this._element=e,this._config=this._getConfig(t),Om.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Om.remove(this._element,this.constructor.DATA_KEY),at.off(this._element,this.constructor.EVENT_KEY);for(const e of Object.getOwnPropertyNames(this))this[e]=null}_queueCallback(e,t,r=!0){jS(e,t,r)}_getConfig(e){return e=this._mergeConfigObj(e,this._element),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}static getInstance(e){return Om.get(Ta(e),this.DATA_KEY)}static getOrCreateInstance(e,t={}){return this.getInstance(e)||new this(e,typeof t=="object"?t:null)}static get VERSION(){return VP}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(e){return`${e}${this.EVENT_KEY}`}}const Nm=n=>{let e=n.getAttribute("data-bs-target");if(!e||e==="#"){let t=n.getAttribute("href");if(!t||!t.includes("#")&&!t.startsWith("."))return null;t.includes("#")&&!t.startsWith("#")&&(t=`#${t.split("#")[1]}`),e=t&&t!=="#"?t.trim():null}return e?e.split(",").map(t=>DS(t)).join(","):null},zt={find(n,e=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(e,n))},findOne(n,e=document.documentElement){return Element.prototype.querySelector.call(e,n)},children(n,e){return[].concat(...n.children).filter(t=>t.matches(e))},parents(n,e){const t=[];let r=n.parentNode.closest(e);for(;r;)t.push(r),r=r.parentNode.closest(e);return t},prev(n,e){let t=n.previousElementSibling;for(;t;){if(t.matches(e))return[t];t=t.previousElementSibling}return[]},next(n,e){let t=n.nextElementSibling;for(;t;){if(t.matches(e))return[t];t=t.nextElementSibling}return[]},focusableChildren(n){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(t=>`${t}:not([tabindex^="-"])`).join(",");return this.find(e,n).filter(t=>!ka(t)&&Qu(t))},getSelectorFromElement(n){const e=Nm(n);return e&&zt.findOne(e)?e:null},getElementFromSelector(n){const e=Nm(n);return e?zt.findOne(e):null},getMultipleElementsFromSelector(n){const e=Nm(n);return e?zt.find(e):[]}},gp=(n,e="hide")=>{const t=`click.dismiss${n.EVENT_KEY}`,r=n.NAME;at.on(document,t,`[data-bs-dismiss="${r}"]`,function(i){if(["A","AREA"].includes(this.tagName)&&i.preventDefault(),ka(this))return;const o=zt.getElementFromSelector(this)||this.closest(`.${r}`);n.getOrCreateInstance(o)[e]()})},GP="alert",YP="bs.alert",VS=`.${YP}`,KP=`close${VS}`,ZP=`closed${VS}`,XP="fade",JP="show";class Uh extends zs{static get NAME(){return GP}close(){if(at.trigger(this._element,KP).defaultPrevented)return;this._element.classList.remove(JP);const t=this._element.classList.contains(XP);this._queueCallback(()=>this._destroyElement(),this._element,t)}_destroyElement(){this._element.remove(),at.trigger(this._element,ZP),this.dispose()}static jQueryInterface(e){return this.each(function(){const t=Uh.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}gp(Uh,"close");ms(Uh);const QP="button",eN="bs.button",tN=`.${eN}`,nN=".data-api",rN="active",$0='[data-bs-toggle="button"]',iN=`click${tN}${nN}`;class qh extends zs{static get NAME(){return QP}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(rN))}static jQueryInterface(e){return this.each(function(){const t=qh.getOrCreateInstance(this);e==="toggle"&&t[e]()})}}at.on(document,iN,$0,n=>{n.preventDefault();const e=n.target.closest($0);qh.getOrCreateInstance(e).toggle()});ms(qh);const sN="swipe",ec=".bs.swipe",oN=`touchstart${ec}`,aN=`touchmove${ec}`,lN=`touchend${ec}`,uN=`pointerdown${ec}`,cN=`pointerup${ec}`,hN="touch",fN="pen",dN="pointer-event",pN=40,mN={endCallback:null,leftCallback:null,rightCallback:null},gN={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Yd extends $h{constructor(e,t){super(),this._element=e,!(!e||!Yd.isSupported())&&(this._config=this._getConfig(t),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return mN}static get DefaultType(){return gN}static get NAME(){return sN}dispose(){at.off(this._element,ec)}_start(e){if(!this._supportPointerEvents){this._deltaX=e.touches[0].clientX;return}this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX)}_end(e){this._eventIsPointerPenTouch(e)&&(this._deltaX=e.clientX-this._deltaX),this._handleSwipe(),Ci(this._config.endCallback)}_move(e){this._deltaX=e.touches&&e.touches.length>1?0:e.touches[0].clientX-this._deltaX}_handleSwipe(){const e=Math.abs(this._deltaX);if(e<=pN)return;const t=e/this._deltaX;this._deltaX=0,t&&Ci(t>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(at.on(this._element,uN,e=>this._start(e)),at.on(this._element,cN,e=>this._end(e)),this._element.classList.add(dN)):(at.on(this._element,oN,e=>this._start(e)),at.on(this._element,aN,e=>this._move(e)),at.on(this._element,lN,e=>this._end(e)))}_eventIsPointerPenTouch(e){return this._supportPointerEvents&&(e.pointerType===fN||e.pointerType===hN)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const vN="carousel",yN="bs.carousel",Ma=`.${yN}`,GS=".data-api",bN="ArrowLeft",wN="ArrowRight",_N=500,Hc="next",ou="prev",mu="left",Td="right",xN=`slide${Ma}`,Im=`slid${Ma}`,SN=`keydown${Ma}`,EN=`mouseenter${Ma}`,AN=`mouseleave${Ma}`,TN=`dragstart${Ma}`,kN=`load${Ma}${GS}`,CN=`click${Ma}${GS}`,YS="carousel",Vf="active",ON="slide",LN="carousel-item-end",MN="carousel-item-start",PN="carousel-item-next",NN="carousel-item-prev",KS=".active",ZS=".carousel-item",IN=KS+ZS,DN=".carousel-item img",RN=".carousel-indicators",FN="[data-bs-slide], [data-bs-slide-to]",BN='[data-bs-ride="carousel"]',jN={[bN]:Td,[wN]:mu},HN={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},zN={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class tc extends zs{constructor(e,t){super(e,t),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=zt.findOne(RN,this._element),this._addEventListeners(),this._config.ride===YS&&this.cycle()}static get Default(){return HN}static get DefaultType(){return zN}static get NAME(){return vN}next(){this._slide(Hc)}nextWhenVisible(){!document.hidden&&Qu(this._element)&&this.next()}prev(){this._slide(ou)}pause(){this._isSliding&&RS(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){at.one(this._element,Im,()=>this.cycle());return}this.cycle()}}to(e){const t=this._getItems();if(e>t.length-1||e<0)return;if(this._isSliding){at.one(this._element,Im,()=>this.to(e));return}const r=this._getItemIndex(this._getActive());if(r===e)return;const i=e>r?Hc:ou;this._slide(i,t[e])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(e){return e.defaultInterval=e.interval,e}_addEventListeners(){this._config.keyboard&&at.on(this._element,SN,e=>this._keydown(e)),this._config.pause==="hover"&&(at.on(this._element,EN,()=>this.pause()),at.on(this._element,AN,()=>this._maybeEnableCycle())),this._config.touch&&Yd.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const r of zt.find(DN,this._element))at.on(r,TN,i=>i.preventDefault());const t={leftCallback:()=>this._slide(this._directionToOrder(mu)),rightCallback:()=>this._slide(this._directionToOrder(Td)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),_N+this._config.interval))}};this._swipeHelper=new Yd(this._element,t)}_keydown(e){if(/input|textarea/i.test(e.target.tagName))return;const t=jN[e.key];t&&(e.preventDefault(),this._slide(this._directionToOrder(t)))}_getItemIndex(e){return this._getItems().indexOf(e)}_setActiveIndicatorElement(e){if(!this._indicatorsElement)return;const t=zt.findOne(KS,this._indicatorsElement);t.classList.remove(Vf),t.removeAttribute("aria-current");const r=zt.findOne(`[data-bs-slide-to="${e}"]`,this._indicatorsElement);r&&(r.classList.add(Vf),r.setAttribute("aria-current","true"))}_updateInterval(){const e=this._activeElement||this._getActive();if(!e)return;const t=Number.parseInt(e.getAttribute("data-bs-interval"),10);this._config.interval=t||this._config.defaultInterval}_slide(e,t=null){if(this._isSliding)return;const r=this._getActive(),i=e===Hc,o=t||Ly(this._getItems(),r,i,this._config.wrap);if(o===r)return;const l=this._getItemIndex(o),h=k=>at.trigger(this._element,k,{relatedTarget:o,direction:this._orderToDirection(e),from:this._getItemIndex(r),to:l});if(h(xN).defaultPrevented||!r||!o)return;const f=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(l),this._activeElement=o;const d=i?MN:LN,g=i?PN:NN;o.classList.add(g),zh(o),r.classList.add(d),o.classList.add(d);const y=()=>{o.classList.remove(d,g),o.classList.add(Vf),r.classList.remove(Vf,g,d),this._isSliding=!1,h(Im)};this._queueCallback(y,r,this._isAnimated()),f&&this.cycle()}_isAnimated(){return this._element.classList.contains(ON)}_getActive(){return zt.findOne(IN,this._element)}_getItems(){return zt.find(ZS,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(e){return ds()?e===mu?ou:Hc:e===mu?Hc:ou}_orderToDirection(e){return ds()?e===ou?mu:Td:e===ou?Td:mu}static jQueryInterface(e){return this.each(function(){const t=tc.getOrCreateInstance(this,e);if(typeof e=="number"){t.to(e);return}if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}at.on(document,CN,FN,function(n){const e=zt.getElementFromSelector(this);if(!e||!e.classList.contains(YS))return;n.preventDefault();const t=tc.getOrCreateInstance(e),r=this.getAttribute("data-bs-slide-to");if(r){t.to(r),t._maybeEnableCycle();return}if(Fo.getDataAttribute(this,"slide")==="next"){t.next(),t._maybeEnableCycle();return}t.prev(),t._maybeEnableCycle()});at.on(window,kN,()=>{const n=zt.find(BN);for(const e of n)tc.getOrCreateInstance(e)});ms(tc);const $N="collapse",UN="bs.collapse",Wh=`.${UN}`,qN=".data-api",WN=`show${Wh}`,VN=`shown${Wh}`,GN=`hide${Wh}`,YN=`hidden${Wh}`,KN=`click${Wh}${qN}`,Dm="show",Eu="collapse",Gf="collapsing",ZN="collapsed",XN=`:scope .${Eu} .${Eu}`,JN="collapse-horizontal",QN="width",eI="height",tI=".collapse.show, .collapse.collapsing",Mv='[data-bs-toggle="collapse"]',nI={parent:null,toggle:!0},rI={parent:"(null|element)",toggle:"boolean"};class Gu extends zs{constructor(e,t){super(e,t),this._isTransitioning=!1,this._triggerArray=[];const r=zt.find(Mv);for(const i of r){const o=zt.getSelectorFromElement(i),l=zt.find(o).filter(h=>h===this._element);o!==null&&l.length&&this._triggerArray.push(i)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return nI}static get DefaultType(){return rI}static get NAME(){return $N}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let e=[];if(this._config.parent&&(e=this._getFirstLevelChildren(tI).filter(h=>h!==this._element).map(h=>Gu.getOrCreateInstance(h,{toggle:!1}))),e.length&&e[0]._isTransitioning||at.trigger(this._element,WN).defaultPrevented)return;for(const h of e)h.hide();const r=this._getDimension();this._element.classList.remove(Eu),this._element.classList.add(Gf),this._element.style[r]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Gf),this._element.classList.add(Eu,Dm),this._element.style[r]="",at.trigger(this._element,VN)},l=`scroll${r[0].toUpperCase()+r.slice(1)}`;this._queueCallback(i,this._element,!0),this._element.style[r]=`${this._element[l]}px`}hide(){if(this._isTransitioning||!this._isShown()||at.trigger(this._element,GN).defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,zh(this._element),this._element.classList.add(Gf),this._element.classList.remove(Eu,Dm);for(const i of this._triggerArray){const o=zt.getElementFromSelector(i);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([i],!1)}this._isTransitioning=!0;const r=()=>{this._isTransitioning=!1,this._element.classList.remove(Gf),this._element.classList.add(Eu),at.trigger(this._element,YN)};this._element.style[t]="",this._queueCallback(r,this._element,!0)}_isShown(e=this._element){return e.classList.contains(Dm)}_configAfterMerge(e){return e.toggle=!!e.toggle,e.parent=Ta(e.parent),e}_getDimension(){return this._element.classList.contains(JN)?QN:eI}_initializeChildren(){if(!this._config.parent)return;const e=this._getFirstLevelChildren(Mv);for(const t of e){const r=zt.getElementFromSelector(t);r&&this._addAriaAndCollapsedClass([t],this._isShown(r))}}_getFirstLevelChildren(e){const t=zt.find(XN,this._config.parent);return zt.find(e,this._config.parent).filter(r=>!t.includes(r))}_addAriaAndCollapsedClass(e,t){if(e.length)for(const r of e)r.classList.toggle(ZN,!t),r.setAttribute("aria-expanded",t)}static jQueryInterface(e){const t={};return typeof e=="string"&&/show|hide/.test(e)&&(t.toggle=!1),this.each(function(){const r=Gu.getOrCreateInstance(this,t);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e]()}})}}at.on(document,KN,Mv,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const e of zt.getMultipleElementsFromSelector(this))Gu.getOrCreateInstance(e,{toggle:!1}).toggle()});ms(Gu);const U0="dropdown",iI="bs.dropdown",kl=`.${iI}`,Py=".data-api",sI="Escape",q0="Tab",oI="ArrowUp",W0="ArrowDown",aI=2,lI=`hide${kl}`,uI=`hidden${kl}`,cI=`show${kl}`,hI=`shown${kl}`,XS=`click${kl}${Py}`,JS=`keydown${kl}${Py}`,fI=`keyup${kl}${Py}`,gu="show",dI="dropup",pI="dropend",mI="dropstart",gI="dropup-center",vI="dropdown-center",cl='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',yI=`${cl}.${gu}`,kd=".dropdown-menu",bI=".navbar",wI=".navbar-nav",_I=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",xI=ds()?"top-end":"top-start",SI=ds()?"top-start":"top-end",EI=ds()?"bottom-end":"bottom-start",AI=ds()?"bottom-start":"bottom-end",TI=ds()?"left-start":"right-start",kI=ds()?"right-start":"left-start",CI="top",OI="bottom",LI={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},MI={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Bs extends zs{constructor(e,t){super(e,t),this._popper=null,this._parent=this._element.parentNode,this._menu=zt.next(this._element,kd)[0]||zt.prev(this._element,kd)[0]||zt.findOne(kd,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return LI}static get DefaultType(){return MI}static get NAME(){return U0}toggle(){return this._isShown()?this.hide():this.show()}show(){if(ka(this._element)||this._isShown())return;const e={relatedTarget:this._element};if(!at.trigger(this._element,cI,e).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(wI))for(const r of[].concat(...document.body.children))at.on(r,"mouseover",Gd);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(gu),this._element.classList.add(gu),at.trigger(this._element,hI,e)}}hide(){if(ka(this._element)||!this._isShown())return;const e={relatedTarget:this._element};this._completeHide(e)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(e){if(!at.trigger(this._element,lI,e).defaultPrevented){if("ontouchstart"in document.documentElement)for(const r of[].concat(...document.body.children))at.off(r,"mouseover",Gd);this._popper&&this._popper.destroy(),this._menu.classList.remove(gu),this._element.classList.remove(gu),this._element.setAttribute("aria-expanded","false"),Fo.removeDataAttribute(this._menu,"popper"),at.trigger(this._element,uI,e)}}_getConfig(e){if(e=super._getConfig(e),typeof e.reference=="object"&&!Ro(e.reference)&&typeof e.reference.getBoundingClientRect!="function")throw new TypeError(`${U0.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return e}_createPopper(){if(typeof IS>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let e=this._element;this._config.reference==="parent"?e=this._parent:Ro(this._config.reference)?e=Ta(this._config.reference):typeof this._config.reference=="object"&&(e=this._config.reference);const t=this._getPopperConfig();this._popper=Oy(e,this._menu,t)}_isShown(){return this._menu.classList.contains(gu)}_getPlacement(){const e=this._parent;if(e.classList.contains(pI))return TI;if(e.classList.contains(mI))return kI;if(e.classList.contains(gI))return CI;if(e.classList.contains(vI))return OI;const t=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return e.classList.contains(dI)?t?SI:xI:t?AI:EI}_detectNavbar(){return this._element.closest(bI)!==null}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_getPopperConfig(){const e={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(Fo.setDataAttribute(this._menu,"popper","static"),e.modifiers=[{name:"applyStyles",enabled:!1}]),{...e,...Ci(this._config.popperConfig,[void 0,e])}}_selectMenuItem({key:e,target:t}){const r=zt.find(_I,this._menu).filter(i=>Qu(i));r.length&&Ly(r,t,e===W0,!r.includes(t)).focus()}static jQueryInterface(e){return this.each(function(){const t=Bs.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}static clearMenus(e){if(e.button===aI||e.type==="keyup"&&e.key!==q0)return;const t=zt.find(yI);for(const r of t){const i=Bs.getInstance(r);if(!i||i._config.autoClose===!1)continue;const o=e.composedPath(),l=o.includes(i._menu);if(o.includes(i._element)||i._config.autoClose==="inside"&&!l||i._config.autoClose==="outside"&&l||i._menu.contains(e.target)&&(e.type==="keyup"&&e.key===q0||/input|select|option|textarea|form/i.test(e.target.tagName)))continue;const h={relatedTarget:i._element};e.type==="click"&&(h.clickEvent=e),i._completeHide(h)}}static dataApiKeydownHandler(e){const t=/input|textarea/i.test(e.target.tagName),r=e.key===sI,i=[oI,W0].includes(e.key);if(!i&&!r||t&&!r)return;e.preventDefault();const o=this.matches(cl)?this:zt.prev(this,cl)[0]||zt.next(this,cl)[0]||zt.findOne(cl,e.delegateTarget.parentNode),l=Bs.getOrCreateInstance(o);if(i){e.stopPropagation(),l.show(),l._selectMenuItem(e);return}l._isShown()&&(e.stopPropagation(),l.hide(),o.focus())}}at.on(document,JS,cl,Bs.dataApiKeydownHandler);at.on(document,JS,kd,Bs.dataApiKeydownHandler);at.on(document,XS,Bs.clearMenus);at.on(document,fI,Bs.clearMenus);at.on(document,XS,cl,function(n){n.preventDefault(),Bs.getOrCreateInstance(this).toggle()});ms(Bs);const QS="backdrop",PI="fade",V0="show",G0=`mousedown.bs.${QS}`,NI={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},II={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class eE extends $h{constructor(e){super(),this._config=this._getConfig(e),this._isAppended=!1,this._element=null}static get Default(){return NI}static get DefaultType(){return II}static get NAME(){return QS}show(e){if(!this._config.isVisible){Ci(e);return}this._append();const t=this._getElement();this._config.isAnimated&&zh(t),t.classList.add(V0),this._emulateAnimation(()=>{Ci(e)})}hide(e){if(!this._config.isVisible){Ci(e);return}this._getElement().classList.remove(V0),this._emulateAnimation(()=>{this.dispose(),Ci(e)})}dispose(){this._isAppended&&(at.off(this._element,G0),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const e=document.createElement("div");e.className=this._config.className,this._config.isAnimated&&e.classList.add(PI),this._element=e}return this._element}_configAfterMerge(e){return e.rootElement=Ta(e.rootElement),e}_append(){if(this._isAppended)return;const e=this._getElement();this._config.rootElement.append(e),at.on(e,G0,()=>{Ci(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(e){jS(e,this._getElement(),this._config.isAnimated)}}const DI="focustrap",RI="bs.focustrap",Kd=`.${RI}`,FI=`focusin${Kd}`,BI=`keydown.tab${Kd}`,jI="Tab",HI="forward",Y0="backward",zI={autofocus:!0,trapElement:null},$I={autofocus:"boolean",trapElement:"element"};class tE extends $h{constructor(e){super(),this._config=this._getConfig(e),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return zI}static get DefaultType(){return $I}static get NAME(){return DI}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),at.off(document,Kd),at.on(document,FI,e=>this._handleFocusin(e)),at.on(document,BI,e=>this._handleKeydown(e)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,at.off(document,Kd))}_handleFocusin(e){const{trapElement:t}=this._config;if(e.target===document||e.target===t||t.contains(e.target))return;const r=zt.focusableChildren(t);r.length===0?t.focus():this._lastTabNavDirection===Y0?r[r.length-1].focus():r[0].focus()}_handleKeydown(e){e.key===jI&&(this._lastTabNavDirection=e.shiftKey?Y0:HI)}}const K0=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Z0=".sticky-top",Yf="padding-right",X0="margin-right";class Pv{constructor(){this._element=document.body}getWidth(){const e=document.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}hide(){const e=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Yf,t=>t+e),this._setElementAttributes(K0,Yf,t=>t+e),this._setElementAttributes(Z0,X0,t=>t-e)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Yf),this._resetElementAttributes(K0,Yf),this._resetElementAttributes(Z0,X0)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(e,t,r){const i=this.getWidth(),o=l=>{if(l!==this._element&&window.innerWidth>l.clientWidth+i)return;this._saveInitialAttribute(l,t);const h=window.getComputedStyle(l).getPropertyValue(t);l.style.setProperty(t,`${r(Number.parseFloat(h))}px`)};this._applyManipulationCallback(e,o)}_saveInitialAttribute(e,t){const r=e.style.getPropertyValue(t);r&&Fo.setDataAttribute(e,t,r)}_resetElementAttributes(e,t){const r=i=>{const o=Fo.getDataAttribute(i,t);if(o===null){i.style.removeProperty(t);return}Fo.removeDataAttribute(i,t),i.style.setProperty(t,o)};this._applyManipulationCallback(e,r)}_applyManipulationCallback(e,t){if(Ro(e)){t(e);return}for(const r of zt.find(e,this._element))t(r)}}const UI="modal",qI="bs.modal",ps=`.${qI}`,WI=".data-api",VI="Escape",GI=`hide${ps}`,YI=`hidePrevented${ps}`,nE=`hidden${ps}`,rE=`show${ps}`,KI=`shown${ps}`,ZI=`resize${ps}`,XI=`click.dismiss${ps}`,JI=`mousedown.dismiss${ps}`,QI=`keydown.dismiss${ps}`,eD=`click${ps}${WI}`,J0="modal-open",tD="fade",Q0="show",Rm="modal-static",nD=".modal.show",rD=".modal-dialog",iD=".modal-body",sD='[data-bs-toggle="modal"]',oD={backdrop:!0,focus:!0,keyboard:!0},aD={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class pi extends zs{constructor(e,t){super(e,t),this._dialog=zt.findOne(rD,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Pv,this._addEventListeners()}static get Default(){return oD}static get DefaultType(){return aD}static get NAME(){return UI}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){this._isShown||this._isTransitioning||at.trigger(this._element,rE,{relatedTarget:e}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(J0),this._adjustDialog(),this._backdrop.show(()=>this._showElement(e)))}hide(){!this._isShown||this._isTransitioning||at.trigger(this._element,GI).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Q0),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){at.off(window,ps),at.off(this._dialog,ps),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new eE({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new tE({trapElement:this._element})}_showElement(e){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const t=zt.findOne(iD,this._dialog);t&&(t.scrollTop=0),zh(this._element),this._element.classList.add(Q0);const r=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,at.trigger(this._element,KI,{relatedTarget:e})};this._queueCallback(r,this._dialog,this._isAnimated())}_addEventListeners(){at.on(this._element,QI,e=>{if(e.key===VI){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),at.on(window,ZI,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),at.on(this._element,JI,e=>{at.one(this._element,XI,t=>{if(!(this._element!==e.target||this._element!==t.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(J0),this._resetAdjustments(),this._scrollBar.reset(),at.trigger(this._element,nE)})}_isAnimated(){return this._element.classList.contains(tD)}_triggerBackdropTransition(){if(at.trigger(this._element,YI).defaultPrevented)return;const t=this._element.scrollHeight>document.documentElement.clientHeight,r=this._element.style.overflowY;r==="hidden"||this._element.classList.contains(Rm)||(t||(this._element.style.overflowY="hidden"),this._element.classList.add(Rm),this._queueCallback(()=>{this._element.classList.remove(Rm),this._queueCallback(()=>{this._element.style.overflowY=r},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const e=this._element.scrollHeight>document.documentElement.clientHeight,t=this._scrollBar.getWidth(),r=t>0;if(r&&!e){const i=ds()?"paddingLeft":"paddingRight";this._element.style[i]=`${t}px`}if(!r&&e){const i=ds()?"paddingRight":"paddingLeft";this._element.style[i]=`${t}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(e,t){return this.each(function(){const r=pi.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof r[e]>"u")throw new TypeError(`No method named "${e}"`);r[e](t)}})}}at.on(document,eD,sD,function(n){const e=zt.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),at.one(e,rE,i=>{i.defaultPrevented||at.one(e,nE,()=>{Qu(this)&&this.focus()})});const t=zt.findOne(nD);t&&pi.getInstance(t).hide(),pi.getOrCreateInstance(e).toggle(this)});gp(pi);ms(pi);const lD="offcanvas",uD="bs.offcanvas",qo=`.${uD}`,iE=".data-api",cD=`load${qo}${iE}`,hD="Escape",ew="show",tw="showing",nw="hiding",fD="offcanvas-backdrop",sE=".offcanvas.show",dD=`show${qo}`,pD=`shown${qo}`,mD=`hide${qo}`,rw=`hidePrevented${qo}`,oE=`hidden${qo}`,gD=`resize${qo}`,vD=`click${qo}${iE}`,yD=`keydown.dismiss${qo}`,bD='[data-bs-toggle="offcanvas"]',wD={backdrop:!0,keyboard:!0,scroll:!1},_D={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Ho extends zs{constructor(e,t){super(e,t),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return wD}static get DefaultType(){return _D}static get NAME(){return lD}toggle(e){return this._isShown?this.hide():this.show(e)}show(e){if(this._isShown||at.trigger(this._element,dD,{relatedTarget:e}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new Pv().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(tw);const r=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(ew),this._element.classList.remove(tw),at.trigger(this._element,pD,{relatedTarget:e})};this._queueCallback(r,this._element,!0)}hide(){if(!this._isShown||at.trigger(this._element,mD).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(nw),this._backdrop.hide();const t=()=>{this._element.classList.remove(ew,nw),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Pv().reset(),at.trigger(this._element,oE)};this._queueCallback(t,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const e=()=>{if(this._config.backdrop==="static"){at.trigger(this._element,rw);return}this.hide()},t=!!this._config.backdrop;return new eE({className:fD,isVisible:t,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:t?e:null})}_initializeFocusTrap(){return new tE({trapElement:this._element})}_addEventListeners(){at.on(this._element,yD,e=>{if(e.key===hD){if(this._config.keyboard){this.hide();return}at.trigger(this._element,rw)}})}static jQueryInterface(e){return this.each(function(){const t=Ho.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}at.on(document,vD,bD,function(n){const e=zt.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),ka(this))return;at.one(e,oE,()=>{Qu(this)&&this.focus()});const t=zt.findOne(sE);t&&t!==e&&Ho.getInstance(t).hide(),Ho.getOrCreateInstance(e).toggle(this)});at.on(window,cD,()=>{for(const n of zt.find(sE))Ho.getOrCreateInstance(n).show()});at.on(window,gD,()=>{for(const n of zt.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&Ho.getOrCreateInstance(n).hide()});gp(Ho);ms(Ho);const xD=/^aria-[\w-]*$/i,aE={"*":["class","dir","id","lang","role",xD],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},SD=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ED=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,AD=(n,e)=>{const t=n.nodeName.toLowerCase();return e.includes(t)?SD.has(t)?!!ED.test(n.nodeValue):!0:e.filter(r=>r instanceof RegExp).some(r=>r.test(t))};function TD(n,e,t){if(!n.length)return n;if(t&&typeof t=="function")return t(n);const i=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...i.body.querySelectorAll("*"));for(const l of o){const h=l.nodeName.toLowerCase();if(!Object.keys(e).includes(h)){l.remove();continue}const u=[].concat(...l.attributes),f=[].concat(e["*"]||[],e[h]||[]);for(const d of u)AD(d,f)||l.removeAttribute(d.nodeName)}return i.body.innerHTML}const kD="TemplateFactory",CD={allowList:aE,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},OD={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},LD={entry:"(string|element|function|null)",selector:"(string|element)"};class MD extends $h{constructor(e){super(),this._config=this._getConfig(e)}static get Default(){return CD}static get DefaultType(){return OD}static get NAME(){return kD}getContent(){return Object.values(this._config.content).map(e=>this._resolvePossibleFunction(e)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(e){return this._checkContent(e),this._config.content={...this._config.content,...e},this}toHtml(){const e=document.createElement("div");e.innerHTML=this._maybeSanitize(this._config.template);for(const[i,o]of Object.entries(this._config.content))this._setContent(e,o,i);const t=e.children[0],r=this._resolvePossibleFunction(this._config.extraClass);return r&&t.classList.add(...r.split(" ")),t}_typeCheckConfig(e){super._typeCheckConfig(e),this._checkContent(e.content)}_checkContent(e){for(const[t,r]of Object.entries(e))super._typeCheckConfig({selector:t,entry:r},LD)}_setContent(e,t,r){const i=zt.findOne(r,e);if(i){if(t=this._resolvePossibleFunction(t),!t){i.remove();return}if(Ro(t)){this._putElementInTemplate(Ta(t),i);return}if(this._config.html){i.innerHTML=this._maybeSanitize(t);return}i.textContent=t}}_maybeSanitize(e){return this._config.sanitize?TD(e,this._config.allowList,this._config.sanitizeFn):e}_resolvePossibleFunction(e){return Ci(e,[void 0,this])}_putElementInTemplate(e,t){if(this._config.html){t.innerHTML="",t.append(e);return}t.textContent=e.textContent}}const PD="tooltip",ND=new Set(["sanitize","allowList","sanitizeFn"]),Fm="fade",ID="modal",Kf="show",DD=".tooltip-inner",iw=`.${ID}`,sw="hide.bs.modal",zc="hover",Bm="focus",jm="click",RD="manual",FD="hide",BD="hidden",jD="show",HD="shown",zD="inserted",$D="click",UD="focusin",qD="focusout",WD="mouseenter",VD="mouseleave",GD={AUTO:"auto",TOP:"top",RIGHT:ds()?"left":"right",BOTTOM:"bottom",LEFT:ds()?"right":"left"},YD={allowList:aE,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},KD={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};let nc=class lE extends zs{constructor(e,t){if(typeof IS>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(e,t),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return YD}static get DefaultType(){return KD}static get NAME(){return PD}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),at.off(this._element.closest(iw),sw,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const e=at.trigger(this._element,this.constructor.eventName(jD)),r=(FS(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(e.defaultPrevented||!r)return;this._disposePopper();const i=this._getTipElement();this._element.setAttribute("aria-describedby",i.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(i),at.trigger(this._element,this.constructor.eventName(zD))),this._popper=this._createPopper(i),i.classList.add(Kf),"ontouchstart"in document.documentElement)for(const h of[].concat(...document.body.children))at.on(h,"mouseover",Gd);const l=()=>{at.trigger(this._element,this.constructor.eventName(HD)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(l,this.tip,this._isAnimated())}hide(){if(!this._isShown()||at.trigger(this._element,this.constructor.eventName(FD)).defaultPrevented)return;if(this._getTipElement().classList.remove(Kf),"ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))at.off(i,"mouseover",Gd);this._activeTrigger[jm]=!1,this._activeTrigger[Bm]=!1,this._activeTrigger[zc]=!1,this._isHovered=null;const r=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),at.trigger(this._element,this.constructor.eventName(BD)))};this._queueCallback(r,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(e){const t=this._getTemplateFactory(e).toHtml();if(!t)return null;t.classList.remove(Fm,Kf),t.classList.add(`bs-${this.constructor.NAME}-auto`);const r=RP(this.constructor.NAME).toString();return t.setAttribute("id",r),this._isAnimated()&&t.classList.add(Fm),t}setContent(e){this._newContent=e,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(e){return this._templateFactory?this._templateFactory.changeContent(e):this._templateFactory=new MD({...this._config,content:e,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[DD]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(e){return this.constructor.getOrCreateInstance(e.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Fm)}_isShown(){return this.tip&&this.tip.classList.contains(Kf)}_createPopper(e){const t=Ci(this._config.placement,[this,e,this._element]),r=GD[t.toUpperCase()];return Oy(this._element,e,this._getPopperConfig(r))}_getOffset(){const{offset:e}=this._config;return typeof e=="string"?e.split(",").map(t=>Number.parseInt(t,10)):typeof e=="function"?t=>e(t,this._element):e}_resolvePossibleFunction(e){return Ci(e,[this._element,this._element])}_getPopperConfig(e){const t={placement:e,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:r=>{this._getTipElement().setAttribute("data-popper-placement",r.state.placement)}}]};return{...t,...Ci(this._config.popperConfig,[void 0,t])}}_setListeners(){const e=this._config.trigger.split(" ");for(const t of e)if(t==="click")at.on(this._element,this.constructor.eventName($D),this._config.selector,r=>{const i=this._initializeOnDelegatedTarget(r);i._activeTrigger[jm]=!(i._isShown()&&i._activeTrigger[jm]),i.toggle()});else if(t!==RD){const r=t===zc?this.constructor.eventName(WD):this.constructor.eventName(UD),i=t===zc?this.constructor.eventName(VD):this.constructor.eventName(qD);at.on(this._element,r,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusin"?Bm:zc]=!0,l._enter()}),at.on(this._element,i,this._config.selector,o=>{const l=this._initializeOnDelegatedTarget(o);l._activeTrigger[o.type==="focusout"?Bm:zc]=l._element.contains(o.relatedTarget),l._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},at.on(this._element.closest(iw),sw,this._hideModalHandler)}_fixTitle(){const e=this._element.getAttribute("title");e&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",e),this._element.setAttribute("data-bs-original-title",e),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(e,t){clearTimeout(this._timeout),this._timeout=setTimeout(e,t)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(e){const t=Fo.getDataAttributes(this._element);for(const r of Object.keys(t))ND.has(r)&&delete t[r];return e={...t,...typeof e=="object"&&e?e:{}},e=this._mergeConfigObj(e),e=this._configAfterMerge(e),this._typeCheckConfig(e),e}_configAfterMerge(e){return e.container=e.container===!1?document.body:Ta(e.container),typeof e.delay=="number"&&(e.delay={show:e.delay,hide:e.delay}),typeof e.title=="number"&&(e.title=e.title.toString()),typeof e.content=="number"&&(e.content=e.content.toString()),e}_getDelegateConfig(){const e={};for(const[t,r]of Object.entries(this._config))this.constructor.Default[t]!==r&&(e[t]=r);return e.selector=!1,e.trigger="manual",e}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(e){return this.each(function(){const t=lE.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}};ms(nc);const ZD="popover",XD=".popover-header",JD=".popover-body",QD={...nc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},eR={...nc.DefaultType,content:"(null|string|element|function)"};class Vh extends nc{static get Default(){return QD}static get DefaultType(){return eR}static get NAME(){return ZD}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[XD]:this._getTitle(),[JD]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(e){return this.each(function(){const t=Vh.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e]()}})}}ms(Vh);const tR="scrollspy",nR="bs.scrollspy",Ny=`.${nR}`,rR=".data-api",iR=`activate${Ny}`,ow=`click${Ny}`,sR=`load${Ny}${rR}`,oR="dropdown-item",au="active",aR='[data-bs-spy="scroll"]',Hm="[href]",lR=".nav, .list-group",aw=".nav-link",uR=".nav-item",cR=".list-group-item",hR=`${aw}, ${uR} > ${aw}, ${cR}`,fR=".dropdown",dR=".dropdown-toggle",pR={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},mR={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class Gh extends zs{constructor(e,t){super(e,t),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return pR}static get DefaultType(){return mR}static get NAME(){return tR}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const e of this._observableSections.values())this._observer.observe(e)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(e){return e.target=Ta(e.target)||document.body,e.rootMargin=e.offset?`${e.offset}px 0px -30%`:e.rootMargin,typeof e.threshold=="string"&&(e.threshold=e.threshold.split(",").map(t=>Number.parseFloat(t))),e}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(at.off(this._config.target,ow),at.on(this._config.target,ow,Hm,e=>{const t=this._observableSections.get(e.target.hash);if(t){e.preventDefault();const r=this._rootElement||window,i=t.offsetTop-this._element.offsetTop;if(r.scrollTo){r.scrollTo({top:i,behavior:"smooth"});return}r.scrollTop=i}}))}_getNewObserver(){const e={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(t=>this._observerCallback(t),e)}_observerCallback(e){const t=l=>this._targetLinks.get(`#${l.target.id}`),r=l=>{this._previousScrollData.visibleEntryTop=l.target.offsetTop,this._process(t(l))},i=(this._rootElement||document.documentElement).scrollTop,o=i>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=i;for(const l of e){if(!l.isIntersecting){this._activeTarget=null,this._clearActiveClass(t(l));continue}const h=l.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&h){if(r(l),!i)return;continue}!o&&!h&&r(l)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const e=zt.find(Hm,this._config.target);for(const t of e){if(!t.hash||ka(t))continue;const r=zt.findOne(decodeURI(t.hash),this._element);Qu(r)&&(this._targetLinks.set(decodeURI(t.hash),t),this._observableSections.set(t.hash,r))}}_process(e){this._activeTarget!==e&&(this._clearActiveClass(this._config.target),this._activeTarget=e,e.classList.add(au),this._activateParents(e),at.trigger(this._element,iR,{relatedTarget:e}))}_activateParents(e){if(e.classList.contains(oR)){zt.findOne(dR,e.closest(fR)).classList.add(au);return}for(const t of zt.parents(e,lR))for(const r of zt.prev(t,hR))r.classList.add(au)}_clearActiveClass(e){e.classList.remove(au);const t=zt.find(`${Hm}.${au}`,e);for(const r of t)r.classList.remove(au)}static jQueryInterface(e){return this.each(function(){const t=Gh.getOrCreateInstance(this,e);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}at.on(window,sR,()=>{for(const n of zt.find(aR))Gh.getOrCreateInstance(n)});ms(Gh);const gR="tab",vR="bs.tab",Cl=`.${vR}`,yR=`hide${Cl}`,bR=`hidden${Cl}`,wR=`show${Cl}`,_R=`shown${Cl}`,xR=`click${Cl}`,SR=`keydown${Cl}`,ER=`load${Cl}`,AR="ArrowLeft",lw="ArrowRight",TR="ArrowUp",uw="ArrowDown",zm="Home",cw="End",hl="active",hw="fade",$m="show",kR="dropdown",uE=".dropdown-toggle",CR=".dropdown-menu",Um=`:not(${uE})`,OR='.list-group, .nav, [role="tablist"]',LR=".nav-item, .list-group-item",MR=`.nav-link${Um}, .list-group-item${Um}, [role="tab"]${Um}`,cE='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',qm=`${MR}, ${cE}`,PR=`.${hl}[data-bs-toggle="tab"], .${hl}[data-bs-toggle="pill"], .${hl}[data-bs-toggle="list"]`;class lo extends zs{constructor(e){super(e),this._parent=this._element.closest(OR),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),at.on(this._element,SR,t=>this._keydown(t)))}static get NAME(){return gR}show(){const e=this._element;if(this._elemIsActive(e))return;const t=this._getActiveElem(),r=t?at.trigger(t,yR,{relatedTarget:e}):null;at.trigger(e,wR,{relatedTarget:t}).defaultPrevented||r&&r.defaultPrevented||(this._deactivate(t,e),this._activate(e,t))}_activate(e,t){if(!e)return;e.classList.add(hl),this._activate(zt.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.add($m);return}e.removeAttribute("tabindex"),e.setAttribute("aria-selected",!0),this._toggleDropDown(e,!0),at.trigger(e,_R,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(hw))}_deactivate(e,t){if(!e)return;e.classList.remove(hl),e.blur(),this._deactivate(zt.getElementFromSelector(e));const r=()=>{if(e.getAttribute("role")!=="tab"){e.classList.remove($m);return}e.setAttribute("aria-selected",!1),e.setAttribute("tabindex","-1"),this._toggleDropDown(e,!1),at.trigger(e,bR,{relatedTarget:t})};this._queueCallback(r,e,e.classList.contains(hw))}_keydown(e){if(![AR,lw,TR,uw,zm,cw].includes(e.key))return;e.stopPropagation(),e.preventDefault();const t=this._getChildren().filter(i=>!ka(i));let r;if([zm,cw].includes(e.key))r=t[e.key===zm?0:t.length-1];else{const i=[lw,uw].includes(e.key);r=Ly(t,e.target,i,!0)}r&&(r.focus({preventScroll:!0}),lo.getOrCreateInstance(r).show())}_getChildren(){return zt.find(qm,this._parent)}_getActiveElem(){return this._getChildren().find(e=>this._elemIsActive(e))||null}_setInitialAttributes(e,t){this._setAttributeIfNotExists(e,"role","tablist");for(const r of t)this._setInitialAttributesOnChild(r)}_setInitialAttributesOnChild(e){e=this._getInnerElement(e);const t=this._elemIsActive(e),r=this._getOuterElement(e);e.setAttribute("aria-selected",t),r!==e&&this._setAttributeIfNotExists(r,"role","presentation"),t||e.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(e,"role","tab"),this._setInitialAttributesOnTargetPanel(e)}_setInitialAttributesOnTargetPanel(e){const t=zt.getElementFromSelector(e);t&&(this._setAttributeIfNotExists(t,"role","tabpanel"),e.id&&this._setAttributeIfNotExists(t,"aria-labelledby",`${e.id}`))}_toggleDropDown(e,t){const r=this._getOuterElement(e);if(!r.classList.contains(kR))return;const i=(o,l)=>{const h=zt.findOne(o,r);h&&h.classList.toggle(l,t)};i(uE,hl),i(CR,$m),r.setAttribute("aria-expanded",t)}_setAttributeIfNotExists(e,t,r){e.hasAttribute(t)||e.setAttribute(t,r)}_elemIsActive(e){return e.classList.contains(hl)}_getInnerElement(e){return e.matches(qm)?e:zt.findOne(qm,e)}_getOuterElement(e){return e.closest(LR)||e}static jQueryInterface(e){return this.each(function(){const t=lo.getOrCreateInstance(this);if(typeof e=="string"){if(t[e]===void 0||e.startsWith("_")||e==="constructor")throw new TypeError(`No method named "${e}"`);t[e]()}})}}at.on(document,xR,cE,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!ka(this)&&lo.getOrCreateInstance(this).show()});at.on(window,ER,()=>{for(const n of zt.find(PR))lo.getOrCreateInstance(n)});ms(lo);const NR="toast",IR="bs.toast",Pa=`.${IR}`,DR=`mouseover${Pa}`,RR=`mouseout${Pa}`,FR=`focusin${Pa}`,BR=`focusout${Pa}`,jR=`hide${Pa}`,HR=`hidden${Pa}`,zR=`show${Pa}`,$R=`shown${Pa}`,UR="fade",fw="hide",Zf="show",Xf="showing",qR={animation:"boolean",autohide:"boolean",delay:"number"},WR={animation:!0,autohide:!0,delay:5e3};class rc extends zs{constructor(e,t){super(e,t),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return WR}static get DefaultType(){return qR}static get NAME(){return NR}show(){if(at.trigger(this._element,zR).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(UR);const t=()=>{this._element.classList.remove(Xf),at.trigger(this._element,$R),this._maybeScheduleHide()};this._element.classList.remove(fw),zh(this._element),this._element.classList.add(Zf,Xf),this._queueCallback(t,this._element,this._config.animation)}hide(){if(!this.isShown()||at.trigger(this._element,jR).defaultPrevented)return;const t=()=>{this._element.classList.add(fw),this._element.classList.remove(Xf,Zf),at.trigger(this._element,HR)};this._element.classList.add(Xf),this._queueCallback(t,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(Zf),super.dispose()}isShown(){return this._element.classList.contains(Zf)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(e,t){switch(e.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=t;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=t;break}}if(t){this._clearTimeout();return}const r=e.relatedTarget;this._element===r||this._element.contains(r)||this._maybeScheduleHide()}_setListeners(){at.on(this._element,DR,e=>this._onInteraction(e,!0)),at.on(this._element,RR,e=>this._onInteraction(e,!1)),at.on(this._element,FR,e=>this._onInteraction(e,!0)),at.on(this._element,BR,e=>this._onInteraction(e,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(e){return this.each(function(){const t=rc.getOrCreateInstance(this,e);if(typeof e=="string"){if(typeof t[e]>"u")throw new TypeError(`No method named "${e}"`);t[e](this)}})}}gp(rc);ms(rc);const VR=Object.freeze(Object.defineProperty({__proto__:null,Alert:Uh,Button:qh,Carousel:tc,Collapse:Gu,Dropdown:Bs,Modal:pi,Offcanvas:Ho,Popover:Vh,ScrollSpy:Gh,Tab:lo,Toast:rc,Tooltip:nc},Symbol.toStringTag,{value:"Module"}));class GR extends dn{static targets=["message","button"];setMessage(e){return this.messageTarget.innerHTML=e,this}setButton(e){return this.buttonTarget.innerHTML=e,this}open(e){this.setButton(e.button).setMessage(e.message),document.querySelectorAll("button[type=submit]").forEach(t=>{t.addEventListener("click",r=>{r.target.focus()})}),new pi(this.element).show()}}const YR=Object.freeze(Object.defineProperty({__proto__:null,default:GR},Symbol.toStringTag,{value:"Module"}));function dw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function hE(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?dw(Object(t),!0).forEach(function(r){JR(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):dw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KR(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function fE(n){var e=KR(n,"string");return typeof e=="symbol"?e:e+""}function Nv(n){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(n)}function ZR(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function pw(n,e){for(var t=0;t<e.length;t++){var r=e[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(n,fE(r.key),r)}}function XR(n,e,t){return e&&pw(n.prototype,e),t&&pw(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function JR(n,e,t){return e=fE(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function dE(n){return QR(n)||e2(n)||t2(n)||n2()}function QR(n){if(Array.isArray(n))return Iv(n)}function e2(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function t2(n,e){if(n){if(typeof n=="string")return Iv(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Iv(n,e)}}function Iv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function n2(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vp=typeof window<"u"&&typeof window.document<"u",po=vp?window:{},Iy=vp&&po.document.documentElement?"ontouchstart"in po.document.documentElement:!1,Dy=vp?"PointerEvent"in po:!1,Xn="cropper",Ry="all",pE="crop",mE="move",gE="zoom",nl="e",rl="w",lu="s",la="n",$c="ne",Uc="nw",qc="se",Wc="sw",Dv="".concat(Xn,"-crop"),mw="".concat(Xn,"-disabled"),Ai="".concat(Xn,"-hidden"),gw="".concat(Xn,"-hide"),r2="".concat(Xn,"-invisible"),Zd="".concat(Xn,"-modal"),Rv="".concat(Xn,"-move"),Sh="".concat(Xn,"Action"),Jf="".concat(Xn,"Preview"),Fy="crop",vE="move",yE="none",Fv="crop",Bv="cropend",jv="cropmove",Hv="cropstart",vw="dblclick",i2=Iy?"touchstart":"mousedown",s2=Iy?"touchmove":"mousemove",o2=Iy?"touchend touchcancel":"mouseup",yw=Dy?"pointerdown":i2,bw=Dy?"pointermove":s2,ww=Dy?"pointerup pointercancel":o2,_w="ready",xw="resize",Sw="wheel",zv="zoom",Ew="image/jpeg",a2=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,l2=/^data:/,u2=/^data:image\/jpeg;base64,/,c2=/^img|canvas$/i,bE=200,wE=100,Aw={viewMode:0,dragMode:Fy,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:bE,minContainerHeight:wE,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},h2='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',f2=Number.isNaN||po.isNaN;function bn(n){return typeof n=="number"&&!f2(n)}var Tw=function(e){return e>0&&e<1/0};function Wm(n){return typeof n>"u"}function wl(n){return Nv(n)==="object"&&n!==null}var d2=Object.prototype.hasOwnProperty;function Au(n){if(!wl(n))return!1;try{var e=n.constructor,t=e.prototype;return e&&t&&d2.call(t,"isPrototypeOf")}catch{return!1}}function Ei(n){return typeof n=="function"}var p2=Array.prototype.slice;function _E(n){return Array.from?Array.from(n):p2.call(n)}function Er(n,e){return n&&Ei(e)&&(Array.isArray(n)||bn(n.length)?_E(n).forEach(function(t,r){e.call(n,t,r,n)}):wl(n)&&Object.keys(n).forEach(function(t){e.call(n,n[t],t,n)})),n}var Jn=Object.assign||function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return wl(e)&&r.length>0&&r.forEach(function(o){wl(o)&&Object.keys(o).forEach(function(l){e[l]=o[l]})}),e},m2=/\.\d*(?:0|9){12}\d*$/;function Mu(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return m2.test(n)?Math.round(n*e)/e:n}var g2=/^width|height|left|top|marginLeft|marginTop$/;function ya(n,e){var t=n.style;Er(e,function(r,i){g2.test(i)&&bn(r)&&(r="".concat(r,"px")),t[i]=r})}function v2(n,e){return n.classList?n.classList.contains(e):n.className.indexOf(e)>-1}function $r(n,e){if(e){if(bn(n.length)){Er(n,function(r){$r(r,e)});return}if(n.classList){n.classList.add(e);return}var t=n.className.trim();t?t.indexOf(e)<0&&(n.className="".concat(t," ").concat(e)):n.className=e}}function uo(n,e){if(e){if(bn(n.length)){Er(n,function(t){uo(t,e)});return}if(n.classList){n.classList.remove(e);return}n.className.indexOf(e)>=0&&(n.className=n.className.replace(e,""))}}function Tu(n,e,t){if(e){if(bn(n.length)){Er(n,function(r){Tu(r,e,t)});return}t?$r(n,e):uo(n,e)}}var y2=/([a-z\d])([A-Z])/g;function By(n){return n.replace(y2,"$1-$2").toLowerCase()}function $v(n,e){return wl(n[e])?n[e]:n.dataset?n.dataset[e]:n.getAttribute("data-".concat(By(e)))}function Eh(n,e,t){wl(t)?n[e]=t:n.dataset?n.dataset[e]=t:n.setAttribute("data-".concat(By(e)),t)}function b2(n,e){if(wl(n[e]))try{delete n[e]}catch{n[e]=void 0}else if(n.dataset)try{delete n.dataset[e]}catch{n.dataset[e]=void 0}else n.removeAttribute("data-".concat(By(e)))}var xE=/\s\s*/,SE=(function(){var n=!1;if(vp){var e=!1,t=function(){},r=Object.defineProperty({},"once",{get:function(){return n=!0,e},set:function(o){e=o}});po.addEventListener("test",t,r),po.removeEventListener("test",t,r)}return n})();function Ls(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(xE).forEach(function(o){if(!SE){var l=n.listeners;l&&l[o]&&l[o][t]&&(i=l[o][t],delete l[o][t],Object.keys(l[o]).length===0&&delete l[o],Object.keys(l).length===0&&delete n.listeners)}n.removeEventListener(o,i,r)})}function is(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i=t;e.trim().split(xE).forEach(function(o){if(r.once&&!SE){var l=n.listeners,h=l===void 0?{}:l;i=function(){delete h[o][t],n.removeEventListener(o,i,r);for(var f=arguments.length,d=new Array(f),g=0;g<f;g++)d[g]=arguments[g];t.apply(n,d)},h[o]||(h[o]={}),h[o][t]&&n.removeEventListener(o,h[o][t],r),h[o][t]=i,n.listeners=h}n.addEventListener(o,i,r)})}function Pu(n,e,t){var r;return Ei(Event)&&Ei(CustomEvent)?r=new CustomEvent(e,{detail:t,bubbles:!0,cancelable:!0}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!0,!0,t)),n.dispatchEvent(r)}function EE(n){var e=n.getBoundingClientRect();return{left:e.left+(window.pageXOffset-document.documentElement.clientLeft),top:e.top+(window.pageYOffset-document.documentElement.clientTop)}}var Vm=po.location,w2=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function kw(n){var e=n.match(w2);return e!==null&&(e[1]!==Vm.protocol||e[2]!==Vm.hostname||e[3]!==Vm.port)}function Cw(n){var e="timestamp=".concat(new Date().getTime());return n+(n.indexOf("?")===-1?"?":"&")+e}function ph(n){var e=n.rotate,t=n.scaleX,r=n.scaleY,i=n.translateX,o=n.translateY,l=[];bn(i)&&i!==0&&l.push("translateX(".concat(i,"px)")),bn(o)&&o!==0&&l.push("translateY(".concat(o,"px)")),bn(e)&&e!==0&&l.push("rotate(".concat(e,"deg)")),bn(t)&&t!==1&&l.push("scaleX(".concat(t,")")),bn(r)&&r!==1&&l.push("scaleY(".concat(r,")"));var h=l.length?l.join(" "):"none";return{WebkitTransform:h,msTransform:h,transform:h}}function _2(n){var e=hE({},n),t=0;return Er(n,function(r,i){delete e[i],Er(e,function(o){var l=Math.abs(r.startX-o.startX),h=Math.abs(r.startY-o.startY),u=Math.abs(r.endX-o.endX),f=Math.abs(r.endY-o.endY),d=Math.sqrt(l*l+h*h),g=Math.sqrt(u*u+f*f),y=(g-d)/d;Math.abs(y)>Math.abs(t)&&(t=y)})}),t}function Qf(n,e){var t=n.pageX,r=n.pageY,i={endX:t,endY:r};return e?i:hE({startX:t,startY:r},i)}function x2(n){var e=0,t=0,r=0;return Er(n,function(i){var o=i.startX,l=i.startY;e+=o,t+=l,r+=1}),e/=r,t/=r,{pageX:e,pageY:t}}function ba(n){var e=n.aspectRatio,t=n.height,r=n.width,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",o=Tw(r),l=Tw(t);if(o&&l){var h=t*e;i==="contain"&&h>r||i==="cover"&&h<r?t=r/e:r=t*e}else o?t=r/e:l&&(r=t*e);return{width:r,height:t}}function S2(n){var e=n.width,t=n.height,r=n.degree;if(r=Math.abs(r)%180,r===90)return{width:t,height:e};var i=r%90*Math.PI/180,o=Math.sin(i),l=Math.cos(i),h=e*l+t*o,u=e*o+t*l;return r>90?{width:u,height:h}:{width:h,height:u}}function E2(n,e,t,r){var i=e.aspectRatio,o=e.naturalWidth,l=e.naturalHeight,h=e.rotate,u=h===void 0?0:h,f=e.scaleX,d=f===void 0?1:f,g=e.scaleY,y=g===void 0?1:g,k=t.aspectRatio,w=t.naturalWidth,_=t.naturalHeight,A=r.fillColor,N=A===void 0?"transparent":A,b=r.imageSmoothingEnabled,M=b===void 0?!0:b,E=r.imageSmoothingQuality,D=E===void 0?"low":E,T=r.maxWidth,C=T===void 0?1/0:T,R=r.maxHeight,B=R===void 0?1/0:R,I=r.minWidth,P=I===void 0?0:I,j=r.minHeight,$=j===void 0?0:j,Z=document.createElement("canvas"),se=Z.getContext("2d"),te=ba({aspectRatio:k,width:C,height:B}),X=ba({aspectRatio:k,width:P,height:$},"cover"),V=Math.min(te.width,Math.max(X.width,w)),de=Math.min(te.height,Math.max(X.height,_)),Y=ba({aspectRatio:i,width:C,height:B}),ue=ba({aspectRatio:i,width:P,height:$},"cover"),xe=Math.min(Y.width,Math.max(ue.width,o)),we=Math.min(Y.height,Math.max(ue.height,l)),Q=[-xe/2,-we/2,xe,we];return Z.width=Mu(V),Z.height=Mu(de),se.fillStyle=N,se.fillRect(0,0,V,de),se.save(),se.translate(V/2,de/2),se.rotate(u*Math.PI/180),se.scale(d,y),se.imageSmoothingEnabled=M,se.imageSmoothingQuality=D,se.drawImage.apply(se,[n].concat(dE(Q.map(function(K){return Math.floor(Mu(K))})))),se.restore(),Z}var AE=String.fromCharCode;function A2(n,e,t){var r="";t+=e;for(var i=e;i<t;i+=1)r+=AE(n.getUint8(i));return r}var T2=/^data:.*,/;function k2(n){var e=n.replace(T2,""),t=atob(e),r=new ArrayBuffer(t.length),i=new Uint8Array(r);return Er(i,function(o,l){i[l]=t.charCodeAt(l)}),r}function C2(n,e){for(var t=[],r=8192,i=new Uint8Array(n);i.length>0;)t.push(AE.apply(null,_E(i.subarray(0,r)))),i=i.subarray(r);return"data:".concat(e,";base64,").concat(btoa(t.join("")))}function O2(n){var e=new DataView(n),t;try{var r,i,o;if(e.getUint8(0)===255&&e.getUint8(1)===216)for(var l=e.byteLength,h=2;h+1<l;){if(e.getUint8(h)===255&&e.getUint8(h+1)===225){i=h;break}h+=1}if(i){var u=i+4,f=i+10;if(A2(e,u,4)==="Exif"){var d=e.getUint16(f);if(r=d===18761,(r||d===19789)&&e.getUint16(f+2,r)===42){var g=e.getUint32(f+4,r);g>=8&&(o=f+g)}}}if(o){var y=e.getUint16(o,r),k,w;for(w=0;w<y;w+=1)if(k=o+w*12+2,e.getUint16(k,r)===274){k+=8,t=e.getUint16(k,r),e.setUint16(k,1,r);break}}}catch{t=1}return t}function L2(n){var e=0,t=1,r=1;switch(n){case 2:t=-1;break;case 3:e=-180;break;case 4:r=-1;break;case 5:e=90,r=-1;break;case 6:e=90;break;case 7:e=90,t=-1;break;case 8:e=-90;break}return{rotate:e,scaleX:t,scaleY:r}}var M2={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var e=this.element,t=this.options,r=this.container,i=this.cropper,o=Number(t.minContainerWidth),l=Number(t.minContainerHeight);$r(i,Ai),uo(e,Ai);var h={width:Math.max(r.offsetWidth,o>=0?o:bE),height:Math.max(r.offsetHeight,l>=0?l:wE)};this.containerData=h,ya(i,{width:h.width,height:h.height}),$r(e,Ai),uo(i,Ai)},initCanvas:function(){var e=this.containerData,t=this.imageData,r=this.options.viewMode,i=Math.abs(t.rotate)%180===90,o=i?t.naturalHeight:t.naturalWidth,l=i?t.naturalWidth:t.naturalHeight,h=o/l,u=e.width,f=e.height;e.height*h>e.width?r===3?u=e.height*h:f=e.width/h:r===3?f=e.width/h:u=e.height*h;var d={aspectRatio:h,naturalWidth:o,naturalHeight:l,width:u,height:f};this.canvasData=d,this.limited=r===1||r===2,this.limitCanvas(!0,!0),d.width=Math.min(Math.max(d.width,d.minWidth),d.maxWidth),d.height=Math.min(Math.max(d.height,d.minHeight),d.maxHeight),d.left=(e.width-d.width)/2,d.top=(e.height-d.height)/2,d.oldLeft=d.left,d.oldTop=d.top,this.initialCanvasData=Jn({},d)},limitCanvas:function(e,t){var r=this.options,i=this.containerData,o=this.canvasData,l=this.cropBoxData,h=r.viewMode,u=o.aspectRatio,f=this.cropped&&l;if(e){var d=Number(r.minCanvasWidth)||0,g=Number(r.minCanvasHeight)||0;h>1?(d=Math.max(d,i.width),g=Math.max(g,i.height),h===3&&(g*u>d?d=g*u:g=d/u)):h>0&&(d?d=Math.max(d,f?l.width:0):g?g=Math.max(g,f?l.height:0):f&&(d=l.width,g=l.height,g*u>d?d=g*u:g=d/u));var y=ba({aspectRatio:u,width:d,height:g});d=y.width,g=y.height,o.minWidth=d,o.minHeight=g,o.maxWidth=1/0,o.maxHeight=1/0}if(t)if(h>(f?0:1)){var k=i.width-o.width,w=i.height-o.height;o.minLeft=Math.min(0,k),o.minTop=Math.min(0,w),o.maxLeft=Math.max(0,k),o.maxTop=Math.max(0,w),f&&this.limited&&(o.minLeft=Math.min(l.left,l.left+(l.width-o.width)),o.minTop=Math.min(l.top,l.top+(l.height-o.height)),o.maxLeft=l.left,o.maxTop=l.top,h===2&&(o.width>=i.width&&(o.minLeft=Math.min(0,k),o.maxLeft=Math.max(0,k)),o.height>=i.height&&(o.minTop=Math.min(0,w),o.maxTop=Math.max(0,w))))}else o.minLeft=-o.width,o.minTop=-o.height,o.maxLeft=i.width,o.maxTop=i.height},renderCanvas:function(e,t){var r=this.canvasData,i=this.imageData;if(t){var o=S2({width:i.naturalWidth*Math.abs(i.scaleX||1),height:i.naturalHeight*Math.abs(i.scaleY||1),degree:i.rotate||0}),l=o.width,h=o.height,u=r.width*(l/r.naturalWidth),f=r.height*(h/r.naturalHeight);r.left-=(u-r.width)/2,r.top-=(f-r.height)/2,r.width=u,r.height=f,r.aspectRatio=l/h,r.naturalWidth=l,r.naturalHeight=h,this.limitCanvas(!0,!1)}(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCanvas(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,ya(this.canvas,Jn({width:r.width,height:r.height},ph({translateX:r.left,translateY:r.top}))),this.renderImage(e),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(e){var t=this.canvasData,r=this.imageData,i=r.naturalWidth*(t.width/t.naturalWidth),o=r.naturalHeight*(t.height/t.naturalHeight);Jn(r,{width:i,height:o,left:(t.width-i)/2,top:(t.height-o)/2}),ya(this.image,Jn({width:r.width,height:r.height},ph(Jn({translateX:r.left,translateY:r.top},r)))),e&&this.output()},initCropBox:function(){var e=this.options,t=this.canvasData,r=e.aspectRatio||e.initialAspectRatio,i=Number(e.autoCropArea)||.8,o={width:t.width,height:t.height};r&&(t.height*r>t.width?o.height=o.width/r:o.width=o.height*r),this.cropBoxData=o,this.limitCropBox(!0,!0),o.width=Math.min(Math.max(o.width,o.minWidth),o.maxWidth),o.height=Math.min(Math.max(o.height,o.minHeight),o.maxHeight),o.width=Math.max(o.minWidth,o.width*i),o.height=Math.max(o.minHeight,o.height*i),o.left=t.left+(t.width-o.width)/2,o.top=t.top+(t.height-o.height)/2,o.oldLeft=o.left,o.oldTop=o.top,this.initialCropBoxData=Jn({},o)},limitCropBox:function(e,t){var r=this.options,i=this.containerData,o=this.canvasData,l=this.cropBoxData,h=this.limited,u=r.aspectRatio;if(e){var f=Number(r.minCropBoxWidth)||0,d=Number(r.minCropBoxHeight)||0,g=h?Math.min(i.width,o.width,o.width+o.left,i.width-o.left):i.width,y=h?Math.min(i.height,o.height,o.height+o.top,i.height-o.top):i.height;f=Math.min(f,i.width),d=Math.min(d,i.height),u&&(f&&d?d*u>f?d=f/u:f=d*u:f?d=f/u:d&&(f=d*u),y*u>g?y=g/u:g=y*u),l.minWidth=Math.min(f,g),l.minHeight=Math.min(d,y),l.maxWidth=g,l.maxHeight=y}t&&(h?(l.minLeft=Math.max(0,o.left),l.minTop=Math.max(0,o.top),l.maxLeft=Math.min(i.width,o.left+o.width)-l.width,l.maxTop=Math.min(i.height,o.top+o.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=i.width-l.width,l.maxTop=i.height-l.height))},renderCropBox:function(){var e=this.options,t=this.containerData,r=this.cropBoxData;(r.width>r.maxWidth||r.width<r.minWidth)&&(r.left=r.oldLeft),(r.height>r.maxHeight||r.height<r.minHeight)&&(r.top=r.oldTop),r.width=Math.min(Math.max(r.width,r.minWidth),r.maxWidth),r.height=Math.min(Math.max(r.height,r.minHeight),r.maxHeight),this.limitCropBox(!1,!0),r.left=Math.min(Math.max(r.left,r.minLeft),r.maxLeft),r.top=Math.min(Math.max(r.top,r.minTop),r.maxTop),r.oldLeft=r.left,r.oldTop=r.top,e.movable&&e.cropBoxMovable&&Eh(this.face,Sh,r.width>=t.width&&r.height>=t.height?mE:Ry),ya(this.cropBox,Jn({width:r.width,height:r.height},ph({translateX:r.left,translateY:r.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Pu(this.element,Fv,this.getData())}},P2={initPreview:function(){var e=this.element,t=this.crossOrigin,r=this.options.preview,i=t?this.crossOriginUrl:this.url,o=e.alt||"The image to preview",l=document.createElement("img");if(t&&(l.crossOrigin=t),l.src=i,l.alt=o,this.viewBox.appendChild(l),this.viewBoxImage=l,!!r){var h=r;typeof r=="string"?h=e.ownerDocument.querySelectorAll(r):r.querySelector&&(h=[r]),this.previews=h,Er(h,function(u){var f=document.createElement("img");Eh(u,Jf,{width:u.offsetWidth,height:u.offsetHeight,html:u.innerHTML}),t&&(f.crossOrigin=t),f.src=i,f.alt=o,f.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',u.innerHTML="",u.appendChild(f)})}},resetPreview:function(){Er(this.previews,function(e){var t=$v(e,Jf);ya(e,{width:t.width,height:t.height}),e.innerHTML=t.html,b2(e,Jf)})},preview:function(){var e=this.imageData,t=this.canvasData,r=this.cropBoxData,i=r.width,o=r.height,l=e.width,h=e.height,u=r.left-t.left-e.left,f=r.top-t.top-e.top;!this.cropped||this.disabled||(ya(this.viewBoxImage,Jn({width:l,height:h},ph(Jn({translateX:-u,translateY:-f},e)))),Er(this.previews,function(d){var g=$v(d,Jf),y=g.width,k=g.height,w=y,_=k,A=1;i&&(A=y/i,_=o*A),o&&_>k&&(A=k/o,w=i*A,_=k),ya(d,{width:w,height:_}),ya(d.getElementsByTagName("img")[0],Jn({width:l*A,height:h*A},ph(Jn({translateX:-u*A,translateY:-f*A},e))))}))}},N2={bind:function(){var e=this.element,t=this.options,r=this.cropper;Ei(t.cropstart)&&is(e,Hv,t.cropstart),Ei(t.cropmove)&&is(e,jv,t.cropmove),Ei(t.cropend)&&is(e,Bv,t.cropend),Ei(t.crop)&&is(e,Fv,t.crop),Ei(t.zoom)&&is(e,zv,t.zoom),is(r,yw,this.onCropStart=this.cropStart.bind(this)),t.zoomable&&t.zoomOnWheel&&is(r,Sw,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&is(r,vw,this.onDblclick=this.dblclick.bind(this)),is(e.ownerDocument,bw,this.onCropMove=this.cropMove.bind(this)),is(e.ownerDocument,ww,this.onCropEnd=this.cropEnd.bind(this)),t.responsive&&is(window,xw,this.onResize=this.resize.bind(this))},unbind:function(){var e=this.element,t=this.options,r=this.cropper;Ei(t.cropstart)&&Ls(e,Hv,t.cropstart),Ei(t.cropmove)&&Ls(e,jv,t.cropmove),Ei(t.cropend)&&Ls(e,Bv,t.cropend),Ei(t.crop)&&Ls(e,Fv,t.crop),Ei(t.zoom)&&Ls(e,zv,t.zoom),Ls(r,yw,this.onCropStart),t.zoomable&&t.zoomOnWheel&&Ls(r,Sw,this.onWheel,{passive:!1,capture:!0}),t.toggleDragModeOnDblclick&&Ls(r,vw,this.onDblclick),Ls(e.ownerDocument,bw,this.onCropMove),Ls(e.ownerDocument,ww,this.onCropEnd),t.responsive&&Ls(window,xw,this.onResize)}},I2={resize:function(){if(!this.disabled){var e=this.options,t=this.container,r=this.containerData,i=t.offsetWidth/r.width,o=t.offsetHeight/r.height,l=Math.abs(i-1)>Math.abs(o-1)?i:o;if(l!==1){var h,u;e.restore&&(h=this.getCanvasData(),u=this.getCropBoxData()),this.render(),e.restore&&(this.setCanvasData(Er(h,function(f,d){h[d]=f*l})),this.setCropBoxData(Er(u,function(f,d){u[d]=f*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===yE||this.setDragMode(v2(this.dragBox,Dv)?vE:Fy)},wheel:function(e){var t=this,r=Number(this.options.wheelZoomRatio)||.1,i=1;this.disabled||(e.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){t.wheeling=!1},50),e.deltaY?i=e.deltaY>0?1:-1:e.wheelDelta?i=-e.wheelDelta/120:e.detail&&(i=e.detail>0?1:-1),this.zoom(-i*r,e)))},cropStart:function(e){var t=e.buttons,r=e.button;if(!(this.disabled||(e.type==="mousedown"||e.type==="pointerdown"&&e.pointerType==="mouse")&&(bn(t)&&t!==1||bn(r)&&r!==0||e.ctrlKey))){var i=this.options,o=this.pointers,l;e.changedTouches?Er(e.changedTouches,function(h){o[h.identifier]=Qf(h)}):o[e.pointerId||0]=Qf(e),Object.keys(o).length>1&&i.zoomable&&i.zoomOnTouch?l=gE:l=$v(e.target,Sh),a2.test(l)&&Pu(this.element,Hv,{originalEvent:e,action:l})!==!1&&(e.preventDefault(),this.action=l,this.cropping=!1,l===pE&&(this.cropping=!0,$r(this.dragBox,Zd)))}},cropMove:function(e){var t=this.action;if(!(this.disabled||!t)){var r=this.pointers;e.preventDefault(),Pu(this.element,jv,{originalEvent:e,action:t})!==!1&&(e.changedTouches?Er(e.changedTouches,function(i){Jn(r[i.identifier]||{},Qf(i,!0))}):Jn(r[e.pointerId||0]||{},Qf(e,!0)),this.change(e))}},cropEnd:function(e){if(!this.disabled){var t=this.action,r=this.pointers;e.changedTouches?Er(e.changedTouches,function(i){delete r[i.identifier]}):delete r[e.pointerId||0],t&&(e.preventDefault(),Object.keys(r).length||(this.action=""),this.cropping&&(this.cropping=!1,Tu(this.dragBox,Zd,this.cropped&&this.options.modal)),Pu(this.element,Bv,{originalEvent:e,action:t}))}}},D2={change:function(e){var t=this.options,r=this.canvasData,i=this.containerData,o=this.cropBoxData,l=this.pointers,h=this.action,u=t.aspectRatio,f=o.left,d=o.top,g=o.width,y=o.height,k=f+g,w=d+y,_=0,A=0,N=i.width,b=i.height,M=!0,E;!u&&e.shiftKey&&(u=g&&y?g/y:1),this.limited&&(_=o.minLeft,A=o.minTop,N=_+Math.min(i.width,r.width,r.left+r.width),b=A+Math.min(i.height,r.height,r.top+r.height));var D=l[Object.keys(l)[0]],T={x:D.endX-D.startX,y:D.endY-D.startY},C=function(B){switch(B){case nl:k+T.x>N&&(T.x=N-k);break;case rl:f+T.x<_&&(T.x=_-f);break;case la:d+T.y<A&&(T.y=A-d);break;case lu:w+T.y>b&&(T.y=b-w);break}};switch(h){case Ry:f+=T.x,d+=T.y;break;case nl:if(T.x>=0&&(k>=N||u&&(d<=A||w>=b))){M=!1;break}C(nl),g+=T.x,g<0&&(h=rl,g=-g,f-=g),u&&(y=g/u,d+=(o.height-y)/2);break;case la:if(T.y<=0&&(d<=A||u&&(f<=_||k>=N))){M=!1;break}C(la),y-=T.y,d+=T.y,y<0&&(h=lu,y=-y,d-=y),u&&(g=y*u,f+=(o.width-g)/2);break;case rl:if(T.x<=0&&(f<=_||u&&(d<=A||w>=b))){M=!1;break}C(rl),g-=T.x,f+=T.x,g<0&&(h=nl,g=-g,f-=g),u&&(y=g/u,d+=(o.height-y)/2);break;case lu:if(T.y>=0&&(w>=b||u&&(f<=_||k>=N))){M=!1;break}C(lu),y+=T.y,y<0&&(h=la,y=-y,d-=y),u&&(g=y*u,f+=(o.width-g)/2);break;case $c:if(u){if(T.y<=0&&(d<=A||k>=N)){M=!1;break}C(la),y-=T.y,d+=T.y,g=y*u}else C(la),C(nl),T.x>=0?k<N?g+=T.x:T.y<=0&&d<=A&&(M=!1):g+=T.x,T.y<=0?d>A&&(y-=T.y,d+=T.y):(y-=T.y,d+=T.y);g<0&&y<0?(h=Wc,y=-y,g=-g,d-=y,f-=g):g<0?(h=Uc,g=-g,f-=g):y<0&&(h=qc,y=-y,d-=y);break;case Uc:if(u){if(T.y<=0&&(d<=A||f<=_)){M=!1;break}C(la),y-=T.y,d+=T.y,g=y*u,f+=o.width-g}else C(la),C(rl),T.x<=0?f>_?(g-=T.x,f+=T.x):T.y<=0&&d<=A&&(M=!1):(g-=T.x,f+=T.x),T.y<=0?d>A&&(y-=T.y,d+=T.y):(y-=T.y,d+=T.y);g<0&&y<0?(h=qc,y=-y,g=-g,d-=y,f-=g):g<0?(h=$c,g=-g,f-=g):y<0&&(h=Wc,y=-y,d-=y);break;case Wc:if(u){if(T.x<=0&&(f<=_||w>=b)){M=!1;break}C(rl),g-=T.x,f+=T.x,y=g/u}else C(lu),C(rl),T.x<=0?f>_?(g-=T.x,f+=T.x):T.y>=0&&w>=b&&(M=!1):(g-=T.x,f+=T.x),T.y>=0?w<b&&(y+=T.y):y+=T.y;g<0&&y<0?(h=$c,y=-y,g=-g,d-=y,f-=g):g<0?(h=qc,g=-g,f-=g):y<0&&(h=Uc,y=-y,d-=y);break;case qc:if(u){if(T.x>=0&&(k>=N||w>=b)){M=!1;break}C(nl),g+=T.x,y=g/u}else C(lu),C(nl),T.x>=0?k<N?g+=T.x:T.y>=0&&w>=b&&(M=!1):g+=T.x,T.y>=0?w<b&&(y+=T.y):y+=T.y;g<0&&y<0?(h=Uc,y=-y,g=-g,d-=y,f-=g):g<0?(h=Wc,g=-g,f-=g):y<0&&(h=$c,y=-y,d-=y);break;case mE:this.move(T.x,T.y),M=!1;break;case gE:this.zoom(_2(l),e),M=!1;break;case pE:if(!T.x||!T.y){M=!1;break}E=EE(this.cropper),f=D.startX-E.left,d=D.startY-E.top,g=o.minWidth,y=o.minHeight,T.x>0?h=T.y>0?qc:$c:T.x<0&&(f-=g,h=T.y>0?Wc:Uc),T.y<0&&(d-=y),this.cropped||(uo(this.cropBox,Ai),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}M&&(o.width=g,o.height=y,o.left=f,o.top=d,this.action=h,this.renderCropBox()),Er(l,function(R){R.startX=R.endX,R.startY=R.endY})}},R2={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&$r(this.dragBox,Zd),uo(this.cropBox,Ai),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Jn({},this.initialImageData),this.canvasData=Jn({},this.initialCanvasData),this.cropBoxData=Jn({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Jn(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),uo(this.dragBox,Zd),$r(this.cropBox,Ai)),this},replace:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&e&&(this.isImg&&(this.element.src=e),t?(this.url=e,this.image.src=e,this.ready&&(this.viewBoxImage.src=e,Er(this.previews,function(r){r.getElementsByTagName("img")[0].src=e}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(e))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,uo(this.cropper,mw)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,$r(this.cropper,mw)),this},destroy:function(){var e=this.element;return e[Xn]?(e[Xn]=void 0,this.isImg&&this.replaced&&(e.src=this.originalUrl),this.uncreate(),this):this},move:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=r.left,o=r.top;return this.moveTo(Wm(e)?e:i+Number(e),Wm(t)?t:o+Number(t))},moveTo:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.canvasData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.movable&&(bn(e)&&(r.left=e,i=!0),bn(t)&&(r.top=t,i=!0),i&&this.renderCanvas(!0)),this},zoom:function(e,t){var r=this.canvasData;return e=Number(e),e<0?e=1/(1-e):e=1+e,this.zoomTo(r.width*e/r.naturalWidth,null,t)},zoomTo:function(e,t,r){var i=this.options,o=this.canvasData,l=o.width,h=o.height,u=o.naturalWidth,f=o.naturalHeight;if(e=Number(e),e>=0&&this.ready&&!this.disabled&&i.zoomable){var d=u*e,g=f*e;if(Pu(this.element,zv,{ratio:e,oldRatio:l/u,originalEvent:r})===!1)return this;if(r){var y=this.pointers,k=EE(this.cropper),w=y&&Object.keys(y).length?x2(y):{pageX:r.pageX,pageY:r.pageY};o.left-=(d-l)*((w.pageX-k.left-o.left)/l),o.top-=(g-h)*((w.pageY-k.top-o.top)/h)}else Au(t)&&bn(t.x)&&bn(t.y)?(o.left-=(d-l)*((t.x-o.left)/l),o.top-=(g-h)*((t.y-o.top)/h)):(o.left-=(d-l)/2,o.top-=(g-h)/2);o.width=d,o.height=g,this.renderCanvas(!0)}return this},rotate:function(e){return this.rotateTo((this.imageData.rotate||0)+Number(e))},rotateTo:function(e){return e=Number(e),bn(e)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=e%360,this.renderCanvas(!0,!0)),this},scaleX:function(e){var t=this.imageData.scaleY;return this.scale(e,bn(t)?t:1)},scaleY:function(e){var t=this.imageData.scaleX;return this.scale(bn(t)?t:1,e)},scale:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e,r=this.imageData,i=!1;return e=Number(e),t=Number(t),this.ready&&!this.disabled&&this.options.scalable&&(bn(e)&&(r.scaleX=e,i=!0),bn(t)&&(r.scaleY=t,i=!0),i&&this.renderCanvas(!0,!0)),this},getData:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.options,r=this.imageData,i=this.canvasData,o=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:o.left-i.left,y:o.top-i.top,width:o.width,height:o.height};var h=r.width/r.naturalWidth;if(Er(l,function(d,g){l[g]=d/h}),e){var u=Math.round(l.y+l.height),f=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=f-l.x,l.height=u-l.y}}else l={x:0,y:0,width:0,height:0};return t.rotatable&&(l.rotate=r.rotate||0),t.scalable&&(l.scaleX=r.scaleX||1,l.scaleY=r.scaleY||1),l},setData:function(e){var t=this.options,r=this.imageData,i=this.canvasData,o={};if(this.ready&&!this.disabled&&Au(e)){var l=!1;t.rotatable&&bn(e.rotate)&&e.rotate!==r.rotate&&(r.rotate=e.rotate,l=!0),t.scalable&&(bn(e.scaleX)&&e.scaleX!==r.scaleX&&(r.scaleX=e.scaleX,l=!0),bn(e.scaleY)&&e.scaleY!==r.scaleY&&(r.scaleY=e.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var h=r.width/r.naturalWidth;bn(e.x)&&(o.left=e.x*h+i.left),bn(e.y)&&(o.top=e.y*h+i.top),bn(e.width)&&(o.width=e.width*h),bn(e.height)&&(o.height=e.height*h),this.setCropBoxData(o)}return this},getContainerData:function(){return this.ready?Jn({},this.containerData):{}},getImageData:function(){return this.sized?Jn({},this.imageData):{}},getCanvasData:function(){var e=this.canvasData,t={};return this.ready&&Er(["left","top","width","height","naturalWidth","naturalHeight"],function(r){t[r]=e[r]}),t},setCanvasData:function(e){var t=this.canvasData,r=t.aspectRatio;return this.ready&&!this.disabled&&Au(e)&&(bn(e.left)&&(t.left=e.left),bn(e.top)&&(t.top=e.top),bn(e.width)?(t.width=e.width,t.height=e.width/r):bn(e.height)&&(t.height=e.height,t.width=e.height*r),this.renderCanvas(!0)),this},getCropBoxData:function(){var e=this.cropBoxData,t;return this.ready&&this.cropped&&(t={left:e.left,top:e.top,width:e.width,height:e.height}),t||{}},setCropBoxData:function(e){var t=this.cropBoxData,r=this.options.aspectRatio,i,o;return this.ready&&this.cropped&&!this.disabled&&Au(e)&&(bn(e.left)&&(t.left=e.left),bn(e.top)&&(t.top=e.top),bn(e.width)&&e.width!==t.width&&(i=!0,t.width=e.width),bn(e.height)&&e.height!==t.height&&(o=!0,t.height=e.height),r&&(i?t.height=t.width/r:o&&(t.width=t.height*r)),this.renderCropBox()),this},getCroppedCanvas:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var t=this.canvasData,r=E2(this.image,this.imageData,t,e);if(!this.cropped)return r;var i=this.getData(e.rounded),o=i.x,l=i.y,h=i.width,u=i.height,f=r.width/Math.floor(t.naturalWidth);f!==1&&(o*=f,l*=f,h*=f,u*=f);var d=h/u,g=ba({aspectRatio:d,width:e.maxWidth||1/0,height:e.maxHeight||1/0}),y=ba({aspectRatio:d,width:e.minWidth||0,height:e.minHeight||0},"cover"),k=ba({aspectRatio:d,width:e.width||(f!==1?r.width:h),height:e.height||(f!==1?r.height:u)}),w=k.width,_=k.height;w=Math.min(g.width,Math.max(y.width,w)),_=Math.min(g.height,Math.max(y.height,_));var A=document.createElement("canvas"),N=A.getContext("2d");A.width=Mu(w),A.height=Mu(_),N.fillStyle=e.fillColor||"transparent",N.fillRect(0,0,w,_);var b=e.imageSmoothingEnabled,M=b===void 0?!0:b,E=e.imageSmoothingQuality;N.imageSmoothingEnabled=M,E&&(N.imageSmoothingQuality=E);var D=r.width,T=r.height,C=o,R=l,B,I,P,j,$,Z;C<=-h||C>D?(C=0,B=0,P=0,$=0):C<=0?(P=-C,C=0,B=Math.min(D,h+C),$=B):C<=D&&(P=0,B=Math.min(h,D-C),$=B),B<=0||R<=-u||R>T?(R=0,I=0,j=0,Z=0):R<=0?(j=-R,R=0,I=Math.min(T,u+R),Z=I):R<=T&&(j=0,I=Math.min(u,T-R),Z=I);var se=[C,R,B,I];if($>0&&Z>0){var te=w/h;se.push(P*te,j*te,$*te,Z*te)}return N.drawImage.apply(N,[r].concat(dE(se.map(function(X){return Math.floor(Mu(X))})))),A},setAspectRatio:function(e){var t=this.options;return!this.disabled&&!Wm(e)&&(t.aspectRatio=Math.max(0,e)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(e){var t=this.options,r=this.dragBox,i=this.face;if(this.ready&&!this.disabled){var o=e===Fy,l=t.movable&&e===vE;e=o||l?e:yE,t.dragMode=e,Eh(r,Sh,e),Tu(r,Dv,o),Tu(r,Rv,l),t.cropBoxMovable||(Eh(i,Sh,e),Tu(i,Dv,o),Tu(i,Rv,l))}return this}},F2=po.Cropper,TE=(function(){function n(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(ZR(this,n),!e||!c2.test(e.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=e,this.options=Jn({},Aw,Au(t)&&t),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return XR(n,[{key:"init",value:function(){var t=this.element,r=t.tagName.toLowerCase(),i;if(!t[Xn]){if(t[Xn]=this,r==="img"){if(this.isImg=!0,i=t.getAttribute("src")||"",this.originalUrl=i,!i)return;i=t.src}else r==="canvas"&&window.HTMLCanvasElement&&(i=t.toDataURL());this.load(i)}}},{key:"load",value:function(t){var r=this;if(t){this.url=t,this.imageData={};var i=this.element,o=this.options;if(!o.rotatable&&!o.scalable&&(o.checkOrientation=!1),!o.checkOrientation||!window.ArrayBuffer){this.clone();return}if(l2.test(t)){u2.test(t)?this.read(k2(t)):this.clone();return}var l=new XMLHttpRequest,h=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=h,l.onerror=h,l.ontimeout=h,l.onprogress=function(){l.getResponseHeader("content-type")!==Ew&&l.abort()},l.onload=function(){r.read(l.response)},l.onloadend=function(){r.reloading=!1,r.xhr=null},o.checkCrossOrigin&&kw(t)&&i.crossOrigin&&(t=Cw(t)),l.open("GET",t,!0),l.responseType="arraybuffer",l.withCredentials=i.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(t){var r=this.options,i=this.imageData,o=O2(t),l=0,h=1,u=1;if(o>1){this.url=C2(t,Ew);var f=L2(o);l=f.rotate,h=f.scaleX,u=f.scaleY}r.rotatable&&(i.rotate=l),r.scalable&&(i.scaleX=h,i.scaleY=u),this.clone()}},{key:"clone",value:function(){var t=this.element,r=this.url,i=t.crossOrigin,o=r;this.options.checkCrossOrigin&&kw(r)&&(i||(i="anonymous"),o=Cw(r)),this.crossOrigin=i,this.crossOriginUrl=o;var l=document.createElement("img");i&&(l.crossOrigin=i),l.src=o||r,l.alt=t.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),$r(l,gw),t.parentNode.insertBefore(l,t.nextSibling)}},{key:"start",value:function(){var t=this,r=this.image;r.onload=null,r.onerror=null,this.sizing=!0;var i=po.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(po.navigator.userAgent),o=function(f,d){Jn(t.imageData,{naturalWidth:f,naturalHeight:d,aspectRatio:f/d}),t.initialImageData=Jn({},t.imageData),t.sizing=!1,t.sized=!0,t.build()};if(r.naturalWidth&&!i){o(r.naturalWidth,r.naturalHeight);return}var l=document.createElement("img"),h=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){o(l.width,l.height),i||h.removeChild(l)},l.src=r.src,i||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",h.appendChild(l))}},{key:"stop",value:function(){var t=this.image;t.onload=null,t.onerror=null,t.parentNode.removeChild(t),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var t=this.element,r=this.options,i=this.image,o=t.parentNode,l=document.createElement("div");l.innerHTML=h2;var h=l.querySelector(".".concat(Xn,"-container")),u=h.querySelector(".".concat(Xn,"-canvas")),f=h.querySelector(".".concat(Xn,"-drag-box")),d=h.querySelector(".".concat(Xn,"-crop-box")),g=d.querySelector(".".concat(Xn,"-face"));this.container=o,this.cropper=h,this.canvas=u,this.dragBox=f,this.cropBox=d,this.viewBox=h.querySelector(".".concat(Xn,"-view-box")),this.face=g,u.appendChild(i),$r(t,Ai),o.insertBefore(h,t.nextSibling),uo(i,gw),this.initPreview(),this.bind(),r.initialAspectRatio=Math.max(0,r.initialAspectRatio)||NaN,r.aspectRatio=Math.max(0,r.aspectRatio)||NaN,r.viewMode=Math.max(0,Math.min(3,Math.round(r.viewMode)))||0,$r(d,Ai),r.guides||$r(d.getElementsByClassName("".concat(Xn,"-dashed")),Ai),r.center||$r(d.getElementsByClassName("".concat(Xn,"-center")),Ai),r.background&&$r(h,"".concat(Xn,"-bg")),r.highlight||$r(g,r2),r.cropBoxMovable&&($r(g,Rv),Eh(g,Sh,Ry)),r.cropBoxResizable||($r(d.getElementsByClassName("".concat(Xn,"-line")),Ai),$r(d.getElementsByClassName("".concat(Xn,"-point")),Ai)),this.render(),this.ready=!0,this.setDragMode(r.dragMode),r.autoCrop&&this.crop(),this.setData(r.data),Ei(r.ready)&&is(t,_w,r.ready,{once:!0}),Pu(t,_w)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var t=this.cropper.parentNode;t&&t.removeChild(this.cropper),uo(this.element,Ai)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=F2,n}},{key:"setDefaults",value:function(t){Jn(Aw,Au(t)&&t)}}])})();Jn(TE.prototype,M2,P2,N2,I2,D2,R2);class B2 extends dn{static values={maxSizeMessage:{type:String,default:"The download file is too large. Max size: {value} MB"},type:{type:String,default:"image/png"},keepOriginalType:{type:Boolean,default:!1}};static targets=["source","upload"];connect(){let e=this.data.get("url")?this.data.get("url"):this.data.get("value");e?this.element.querySelector(".cropper-preview").src=e:(this.element.querySelector(".cropper-preview").classList.add("none"),this.element.querySelector(".cropper-remove").classList.add("none"));let t=this.element.querySelector(".upload-panel");t.width=this.data.get("width"),t.height=this.data.get("height"),this.cropper=new TE(t,{viewMode:2,aspectRatio:this.data.get("width")/this.data.get("height"),minContainerHeight:500})}getModal(){return this.modal||(this.modal=new pi(this.element.querySelector(".modal"))),this.modal}upload(e){let t=this.data.get("max-file-size");if(this.keepOriginalTypeValue&&(this.typeValue=e.target.files[0].type),e.target.files[0].size/1024/1024>t){this.toast(this.maxSizeMessageValue.replace(/{value}/,t)),e.target.value=null;return}if(!e.target.files[0]){this.getModal().show();return}let r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onloadend=()=>{this.cropper.replace(r.result)},this.getModal().show()}openModal(e){e.target.files[0]&&this.getModal().show()}crop(){this.cropper.getCroppedCanvas({width:this.data.get("width"),height:this.data.get("height"),minWidth:this.data.get("min-width"),minHeight:this.data.get("min-height"),maxWidth:this.data.get("max-width"),maxHeight:this.data.get("max-height"),imageSmoothingEnabled:this.data.get("image-smoothing-enabled"),imageSmoothingQuality:this.data.get("image-smoothing-quality"),fillColor:this.data.get("fill-color")}).toBlob(e=>{const t=new FormData;t.append("file",e),t.append("storage",this.data.get("storage")),t.append("group",this.data.get("groups")),t.append("path",this.data.get("path")),t.append("acceptedFiles",this.data.get("accepted-files"));let r=this.element;window.axios.post(this.prefix("/systems/files"),t).then(i=>{let o=i.data.url,l=this.data.get("target");r.querySelector(".cropper-preview").src=o,r.querySelector(".cropper-preview").classList.remove("none"),r.querySelector(".cropper-remove").classList.remove("none"),r.querySelector(".cropper-path").value=i.data[l],r.querySelector(".cropper-path").dispatchEvent(new Event("change")),console.log(this.getModal(),this.getModal().hide()),this.getModal().hide()}).catch(i=>{this.alert("Validation error","File upload error"),console.warn(i)})},this.typeValue)}clear(){this.element.querySelector(".cropper-path").value="",this.element.querySelector(".cropper-preview").src="",this.element.querySelector(".cropper-preview").classList.add("none"),this.element.querySelector(".cropper-remove").classList.add("none")}moveleft(){this.cropper.move(-10,0)}moveright(){this.cropper.move(10,0)}moveup(){this.cropper.move(0,-10)}movedown(){this.cropper.move(0,10)}zoomin(){this.cropper.zoom(.1)}zoomout(){this.cropper.zoom(-.1)}rotateleft(){this.cropper.rotate(-5)}rotateright(){this.cropper.rotate(5)}scalex(){const e=this.element.querySelector(".cropper-dataScaleX");this.cropper.scaleX(-e.value)}scaley(){const e=this.element.querySelector(".cropper-dataScaleY");this.cropper.scaleY(-e.value)}aspectratiowh(){this.cropper.setAspectRatio(this.data.get("width")/this.data.get("height"))}aspectratiofree(){this.cropper.setAspectRatio(NaN)}}const j2=Object.freeze(Object.defineProperty({__proto__:null,default:B2},Symbol.toStringTag,{value:"Module"}));var Gm=["onChange","onClose","onDayCreate","onDestroy","onKeyDown","onMonthChange","onOpen","onParseConfig","onReady","onValueUpdate","onYearChange","onPreCalendarPosition"],Nu={_disable:[],allowInput:!1,allowInvalidPreload:!1,altFormat:"F j, Y",altInput:!1,altInputClass:"form-control input",animate:typeof window=="object"&&window.navigator.userAgent.indexOf("MSIE")===-1,ariaDateFormat:"F j, Y",autoFillDefaultTime:!0,clickOpens:!0,closeOnSelect:!0,conjunction:", ",dateFormat:"Y-m-d",defaultHour:12,defaultMinute:0,defaultSeconds:0,disable:[],disableMobile:!1,enableSeconds:!1,enableTime:!1,errorHandler:function(n){return typeof console<"u"&&console.warn(n)},getWeek:function(n){var e=new Date(n.getTime());e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);var t=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-t.getTime())/864e5-3+(t.getDay()+6)%7)/7)},hourIncrement:1,ignoredFocusElements:[],inline:!1,locale:"default",minuteIncrement:5,mode:"single",monthSelectorType:"dropdown",nextArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M13.207 8.472l-7.854 7.854-0.707-0.707 7.146-7.146-7.146-7.148 0.707-0.707 7.854 7.854z' /></svg>",noCalendar:!1,now:new Date,onChange:[],onClose:[],onDayCreate:[],onDestroy:[],onKeyDown:[],onMonthChange:[],onOpen:[],onParseConfig:[],onReady:[],onValueUpdate:[],onYearChange:[],onPreCalendarPosition:[],plugins:[],position:"auto",positionElement:void 0,prevArrow:"<svg version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' viewBox='0 0 17 17'><g></g><path d='M5.207 8.471l7.146 7.147-0.707 0.707-7.853-7.854 7.854-7.853 0.707 0.707-7.147 7.146z' /></svg>",shorthandCurrentMonth:!1,showMonths:1,static:!1,time_24hr:!1,weekNumbers:!1,wrap:!1},Ah={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(n){var e=n%100;if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},Ti=function(n,e){return e===void 0&&(e=2),("000"+n).slice(e*-1)},ss=function(n){return n===!0?1:0};function Ow(n,e){var t;return function(){var r=this,i=arguments;clearTimeout(t),t=setTimeout(function(){return n.apply(r,i)},e)}}var Ym=function(n){return n instanceof Array?n:[n]};function ui(n,e,t){if(t===!0)return n.classList.add(e);n.classList.remove(e)}function On(n,e,t){var r=window.document.createElement(n);return e=e||"",t=t||"",r.className=e,t!==void 0&&(r.textContent=t),r}function ed(n){for(;n.firstChild;)n.removeChild(n.firstChild)}function kE(n,e){if(e(n))return n;if(n.parentNode)return kE(n.parentNode,e)}function td(n,e){var t=On("div","numInputWrapper"),r=On("input","numInput "+n),i=On("span","arrowUp"),o=On("span","arrowDown");if(navigator.userAgent.indexOf("MSIE 9.0")===-1?r.type="number":(r.type="text",r.pattern="\\d*"),e!==void 0)for(var l in e)r.setAttribute(l,e[l]);return t.appendChild(r),t.appendChild(i),t.appendChild(o),t}function Ui(n){try{if(typeof n.composedPath=="function"){var e=n.composedPath();return e[0]}return n.target}catch{return n.target}}var Km=function(){},Xd=function(n,e,t){return t.months[e?"shorthand":"longhand"][n]},H2={D:Km,F:function(n,e,t){n.setMonth(t.months.longhand.indexOf(e))},G:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},H:function(n,e){n.setHours(parseFloat(e))},J:function(n,e){n.setDate(parseFloat(e))},K:function(n,e,t){n.setHours(n.getHours()%12+12*ss(new RegExp(t.amPM[1],"i").test(e)))},M:function(n,e,t){n.setMonth(t.months.shorthand.indexOf(e))},S:function(n,e){n.setSeconds(parseFloat(e))},U:function(n,e){return new Date(parseFloat(e)*1e3)},W:function(n,e,t){var r=parseInt(e),i=new Date(n.getFullYear(),0,2+(r-1)*7,0,0,0,0);return i.setDate(i.getDate()-i.getDay()+t.firstDayOfWeek),i},Y:function(n,e){n.setFullYear(parseFloat(e))},Z:function(n,e){return new Date(e)},d:function(n,e){n.setDate(parseFloat(e))},h:function(n,e){n.setHours((n.getHours()>=12?12:0)+parseFloat(e))},i:function(n,e){n.setMinutes(parseFloat(e))},j:function(n,e){n.setDate(parseFloat(e))},l:Km,m:function(n,e){n.setMonth(parseFloat(e)-1)},n:function(n,e){n.setMonth(parseFloat(e)-1)},s:function(n,e){n.setSeconds(parseFloat(e))},u:function(n,e){return new Date(parseFloat(e))},w:Km,y:function(n,e){n.setFullYear(2e3+parseFloat(e))}},ul={D:"",F:"",G:"(\\d\\d|\\d)",H:"(\\d\\d|\\d)",J:"(\\d\\d|\\d)\\w+",K:"",M:"",S:"(\\d\\d|\\d)",U:"(.+)",W:"(\\d\\d|\\d)",Y:"(\\d{4})",Z:"(.+)",d:"(\\d\\d|\\d)",h:"(\\d\\d|\\d)",i:"(\\d\\d|\\d)",j:"(\\d\\d|\\d)",l:"",m:"(\\d\\d|\\d)",n:"(\\d\\d|\\d)",s:"(\\d\\d|\\d)",u:"(.+)",w:"(\\d\\d|\\d)",y:"(\\d{2})"},mh={Z:function(n){return n.toISOString()},D:function(n,e,t){return e.weekdays.shorthand[mh.w(n,e,t)]},F:function(n,e,t){return Xd(mh.n(n,e,t)-1,!1,e)},G:function(n,e,t){return Ti(mh.h(n,e,t))},H:function(n){return Ti(n.getHours())},J:function(n,e){return e.ordinal!==void 0?n.getDate()+e.ordinal(n.getDate()):n.getDate()},K:function(n,e){return e.amPM[ss(n.getHours()>11)]},M:function(n,e){return Xd(n.getMonth(),!0,e)},S:function(n){return Ti(n.getSeconds())},U:function(n){return n.getTime()/1e3},W:function(n,e,t){return t.getWeek(n)},Y:function(n){return Ti(n.getFullYear(),4)},d:function(n){return Ti(n.getDate())},h:function(n){return n.getHours()%12?n.getHours()%12:12},i:function(n){return Ti(n.getMinutes())},j:function(n){return n.getDate()},l:function(n,e){return e.weekdays.longhand[n.getDay()]},m:function(n){return Ti(n.getMonth()+1)},n:function(n){return n.getMonth()+1},s:function(n){return n.getSeconds()},u:function(n){return n.getTime()},w:function(n){return n.getDay()},y:function(n){return String(n.getFullYear()).substring(2)}},CE=function(n){var e=n.config,t=e===void 0?Nu:e,r=n.l10n,i=r===void 0?Ah:r,o=n.isMobile,l=o===void 0?!1:o;return function(h,u,f){var d=f||i;return t.formatDate!==void 0&&!l?t.formatDate(h,u,d):u.split("").map(function(g,y,k){return mh[g]&&k[y-1]!=="\\"?mh[g](h,d,t):g!=="\\"?g:""}).join("")}},Uv=function(n){var e=n.config,t=e===void 0?Nu:e,r=n.l10n,i=r===void 0?Ah:r;return function(o,l,h,u){if(!(o!==0&&!o)){var f=u||i,d,g=o;if(o instanceof Date)d=new Date(o.getTime());else if(typeof o!="string"&&o.toFixed!==void 0)d=new Date(o);else if(typeof o=="string"){var y=l||(t||Nu).dateFormat,k=String(o).trim();if(k==="today")d=new Date,h=!0;else if(t&&t.parseDate)d=t.parseDate(o,y);else if(/Z$/.test(k)||/GMT$/.test(k))d=new Date(o);else{for(var w=void 0,_=[],A=0,N=0,b="";A<y.length;A++){var M=y[A],E=M==="\\",D=y[A-1]==="\\"||E;if(ul[M]&&!D){b+=ul[M];var T=new RegExp(b).exec(o);T&&(w=!0)&&_[M!=="Y"?"push":"unshift"]({fn:H2[M],val:T[++N]})}else E||(b+=".")}d=!t||!t.noCalendar?new Date(new Date().getFullYear(),0,1,0,0,0,0):new Date(new Date().setHours(0,0,0,0)),_.forEach(function(C){var R=C.fn,B=C.val;return d=R(d,B,f)||d}),d=w?d:void 0}}if(!(d instanceof Date&&!isNaN(d.getTime()))){t.errorHandler(new Error("Invalid date provided: "+g));return}return h===!0&&d.setHours(0,0,0,0),d}}};function Vi(n,e,t){return t===void 0&&(t=!0),t!==!1?new Date(n.getTime()).setHours(0,0,0,0)-new Date(e.getTime()).setHours(0,0,0,0):n.getTime()-e.getTime()}var z2=function(n,e,t){return n>Math.min(e,t)&&n<Math.max(e,t)},Zm=function(n,e,t){return n*3600+e*60+t},$2=function(n){var e=Math.floor(n/3600),t=(n-e*3600)/60;return[e,t,n-e*3600-t*60]},U2={DAY:864e5};function Xm(n){var e=n.defaultHour,t=n.defaultMinute,r=n.defaultSeconds;if(n.minDate!==void 0){var i=n.minDate.getHours(),o=n.minDate.getMinutes(),l=n.minDate.getSeconds();e<i&&(e=i),e===i&&t<o&&(t=o),e===i&&t===o&&r<l&&(r=n.minDate.getSeconds())}if(n.maxDate!==void 0){var h=n.maxDate.getHours(),u=n.maxDate.getMinutes();e=Math.min(e,h),e===h&&(t=Math.min(u,t)),e===h&&t===u&&(r=n.maxDate.getSeconds())}return{hours:e,minutes:t,seconds:r}}typeof Object.assign!="function"&&(Object.assign=function(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];if(!n)throw TypeError("Cannot convert undefined or null to object");for(var r=function(h){h&&Object.keys(h).forEach(function(u){return n[u]=h[u]})},i=0,o=e;i<o.length;i++){var l=o[i];r(l)}return n});var ri=function(){return ri=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},ri.apply(this,arguments)},Lw=function(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var o=arguments[e],l=0,h=o.length;l<h;l++,i++)r[i]=o[l];return r},q2=300;function W2(n,e){var t={config:ri(ri({},Nu),Sr.defaultConfig),l10n:Ah};t.parseDate=Uv({config:t.config,l10n:t.l10n}),t._handlers=[],t.pluginElements=[],t.loadedPlugins=[],t._bind=_,t._setHoursFromDate=y,t._positionCalendar=ae,t.changeMonth=ue,t.changeYear=Me,t.clear=xe,t.close=we,t.onMouseOver=W,t._createElement=On,t.createDay=T,t.destroy=Q,t.isEnabled=ne,t.jumpToDate=b,t.updateValue=yt,t.open=pe,t.redraw=O,t.set=Se,t.setDate=Pe,t.toggle=Ot;function r(){t.utils={getDaysInMonth:function(ye,Ee){return ye===void 0&&(ye=t.currentMonth),Ee===void 0&&(Ee=t.currentYear),ye===1&&(Ee%4===0&&Ee%100!==0||Ee%400===0)?29:t.l10n.daysInMonth[ye]}}}function i(){t.element=t.input=n,t.isOpen=!1,Ae(),Fe(),pt(),Ze(),r(),t.isMobile||D(),N(),(t.selectedDates.length||t.config.noCalendar)&&(t.config.enableTime&&y(t.config.noCalendar?t.latestSelectedDateObj:void 0),yt(!1)),h();var ye=/^((?!chrome|android).)*safari/i.test(navigator.userAgent);!t.isMobile&&ye&&ae(),mt("onReady")}function o(){var ye;return((ye=t.calendarContainer)===null||ye===void 0?void 0:ye.getRootNode()).activeElement||document.activeElement}function l(ye){return ye.bind(t)}function h(){var ye=t.config;ye.weekNumbers===!1&&ye.showMonths===1||ye.noCalendar!==!0&&window.requestAnimationFrame(function(){if(t.calendarContainer!==void 0&&(t.calendarContainer.style.visibility="hidden",t.calendarContainer.style.display="block"),t.daysContainer!==void 0){var Ee=(t.days.offsetWidth+1)*ye.showMonths;t.daysContainer.style.width=Ee+"px",t.calendarContainer.style.width=Ee+(t.weekWrapper!==void 0?t.weekWrapper.offsetWidth:0)+"px",t.calendarContainer.style.removeProperty("visibility"),t.calendarContainer.style.removeProperty("display")}})}function u(ye){if(t.selectedDates.length===0){var Ee=t.config.minDate===void 0||Vi(new Date,t.config.minDate)>=0?new Date:new Date(t.config.minDate.getTime()),Be=Xm(t.config);Ee.setHours(Be.hours,Be.minutes,Be.seconds,Ee.getMilliseconds()),t.selectedDates=[Ee],t.latestSelectedDateObj=Ee}ye!==void 0&&ye.type!=="blur"&&qt(ye);var Ue=t._input.value;g(),yt(),t._input.value!==Ue&&t._debouncedChange()}function f(ye,Ee){return ye%12+12*ss(Ee===t.l10n.amPM[1])}function d(ye){switch(ye%24){case 0:case 12:return 12;default:return ye%12}}function g(){if(!(t.hourElement===void 0||t.minuteElement===void 0)){var ye=(parseInt(t.hourElement.value.slice(-2),10)||0)%24,Ee=(parseInt(t.minuteElement.value,10)||0)%60,Be=t.secondElement!==void 0?(parseInt(t.secondElement.value,10)||0)%60:0;t.amPM!==void 0&&(ye=f(ye,t.amPM.textContent));var Ue=t.config.minTime!==void 0||t.config.minDate&&t.minDateHasTime&&t.latestSelectedDateObj&&Vi(t.latestSelectedDateObj,t.config.minDate,!0)===0,et=t.config.maxTime!==void 0||t.config.maxDate&&t.maxDateHasTime&&t.latestSelectedDateObj&&Vi(t.latestSelectedDateObj,t.config.maxDate,!0)===0;if(t.config.maxTime!==void 0&&t.config.minTime!==void 0&&t.config.minTime>t.config.maxTime){var Je=Zm(t.config.minTime.getHours(),t.config.minTime.getMinutes(),t.config.minTime.getSeconds()),bt=Zm(t.config.maxTime.getHours(),t.config.maxTime.getMinutes(),t.config.maxTime.getSeconds()),lt=Zm(ye,Ee,Be);if(lt>bt&&lt<Je){var xt=$2(Je);ye=xt[0],Ee=xt[1],Be=xt[2]}}else{if(et){var ft=t.config.maxTime!==void 0?t.config.maxTime:t.config.maxDate;ye=Math.min(ye,ft.getHours()),ye===ft.getHours()&&(Ee=Math.min(Ee,ft.getMinutes())),Ee===ft.getMinutes()&&(Be=Math.min(Be,ft.getSeconds()))}if(Ue){var dt=t.config.minTime!==void 0?t.config.minTime:t.config.minDate;ye=Math.max(ye,dt.getHours()),ye===dt.getHours()&&Ee<dt.getMinutes()&&(Ee=dt.getMinutes()),Ee===dt.getMinutes()&&(Be=Math.max(Be,dt.getSeconds()))}}k(ye,Ee,Be)}}function y(ye){var Ee=ye||t.latestSelectedDateObj;Ee&&Ee instanceof Date&&k(Ee.getHours(),Ee.getMinutes(),Ee.getSeconds())}function k(ye,Ee,Be){t.latestSelectedDateObj!==void 0&&t.latestSelectedDateObj.setHours(ye%24,Ee,Be||0,0),!(!t.hourElement||!t.minuteElement||t.isMobile)&&(t.hourElement.value=Ti(t.config.time_24hr?ye:(12+ye)%12+12*ss(ye%12===0)),t.minuteElement.value=Ti(Ee),t.amPM!==void 0&&(t.amPM.textContent=t.l10n.amPM[ss(ye>=12)]),t.secondElement!==void 0&&(t.secondElement.value=Ti(Be)))}function w(ye){var Ee=Ui(ye),Be=parseInt(Ee.value)+(ye.delta||0);(Be/1e3>1||ye.key==="Enter"&&!/[^\d]/.test(Be.toString()))&&Me(Be)}function _(ye,Ee,Be,Ue){if(Ee instanceof Array)return Ee.forEach(function(et){return _(ye,et,Be,Ue)});if(ye instanceof Array)return ye.forEach(function(et){return _(et,Ee,Be,Ue)});ye.addEventListener(Ee,Be,Ue),t._handlers.push({remove:function(){return ye.removeEventListener(Ee,Be,Ue)}})}function A(){mt("onChange")}function N(){if(t.config.wrap&&["open","close","toggle","clear"].forEach(function(Be){Array.prototype.forEach.call(t.element.querySelectorAll("[data-"+Be+"]"),function(Ue){return _(Ue,"click",t[Be])})}),t.isMobile){$t();return}var ye=Ow(ee,50);if(t._debouncedChange=Ow(A,q2),t.daysContainer&&!/iPhone|iPad|iPod/i.test(navigator.userAgent)&&_(t.daysContainer,"mouseover",function(Be){t.config.mode==="range"&&W(Ui(Be))}),_(t._input,"keydown",ce),t.calendarContainer!==void 0&&_(t.calendarContainer,"keydown",ce),!t.config.inline&&!t.config.static&&_(window,"resize",ye),window.ontouchstart!==void 0?_(window.document,"touchstart",Ce):_(window.document,"mousedown",Ce),_(window.document,"focus",Ce,{capture:!0}),t.config.clickOpens===!0&&(_(t._input,"focus",t.open),_(t._input,"click",t.open)),t.daysContainer!==void 0&&(_(t.monthNav,"click",Ut),_(t.monthNav,["keyup","increment"],w),_(t.daysContainer,"click",U)),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0){var Ee=function(Be){return Ui(Be).select()};_(t.timeContainer,["increment"],u),_(t.timeContainer,"blur",u,{capture:!0}),_(t.timeContainer,"click",M),_([t.hourElement,t.minuteElement],["focus","click"],Ee),t.secondElement!==void 0&&_(t.secondElement,"focus",function(){return t.secondElement&&t.secondElement.select()}),t.amPM!==void 0&&_(t.amPM,"click",function(Be){u(Be)})}t.config.allowInput&&_(t._input,"blur",oe)}function b(ye,Ee){var Be=ye!==void 0?t.parseDate(ye):t.latestSelectedDateObj||(t.config.minDate&&t.config.minDate>t.now?t.config.minDate:t.config.maxDate&&t.config.maxDate<t.now?t.config.maxDate:t.now),Ue=t.currentYear,et=t.currentMonth;try{Be!==void 0&&(t.currentYear=Be.getFullYear(),t.currentMonth=Be.getMonth())}catch(Je){Je.message="Invalid date supplied: "+Be,t.config.errorHandler(Je)}Ee&&t.currentYear!==Ue&&(mt("onYearChange"),$()),Ee&&(t.currentYear!==Ue||t.currentMonth!==et)&&mt("onMonthChange"),t.redraw()}function M(ye){var Ee=Ui(ye);~Ee.className.indexOf("arrow")&&E(ye,Ee.classList.contains("arrowUp")?1:-1)}function E(ye,Ee,Be){var Ue=ye&&Ui(ye),et=Be||Ue&&Ue.parentNode&&Ue.parentNode.firstChild,Je=De("increment");Je.delta=Ee,et&&et.dispatchEvent(Je)}function D(){var ye=window.document.createDocumentFragment();if(t.calendarContainer=On("div","flatpickr-calendar"),t.calendarContainer.tabIndex=-1,!t.config.noCalendar){if(ye.appendChild(te()),t.innerContainer=On("div","flatpickr-innerContainer"),t.config.weekNumbers){var Ee=Y(),Be=Ee.weekWrapper,Ue=Ee.weekNumbers;t.innerContainer.appendChild(Be),t.weekNumbers=Ue,t.weekWrapper=Be}t.rContainer=On("div","flatpickr-rContainer"),t.rContainer.appendChild(V()),t.daysContainer||(t.daysContainer=On("div","flatpickr-days"),t.daysContainer.tabIndex=-1),j(),t.rContainer.appendChild(t.daysContainer),t.innerContainer.appendChild(t.rContainer),ye.appendChild(t.innerContainer)}t.config.enableTime&&ye.appendChild(X()),ui(t.calendarContainer,"rangeMode",t.config.mode==="range"),ui(t.calendarContainer,"animate",t.config.animate===!0),ui(t.calendarContainer,"multiMonth",t.config.showMonths>1),t.calendarContainer.appendChild(ye);var et=t.config.appendTo!==void 0&&t.config.appendTo.nodeType!==void 0;if((t.config.inline||t.config.static)&&(t.calendarContainer.classList.add(t.config.inline?"inline":"static"),t.config.inline&&(!et&&t.element.parentNode?t.element.parentNode.insertBefore(t.calendarContainer,t._input.nextSibling):t.config.appendTo!==void 0&&t.config.appendTo.appendChild(t.calendarContainer)),t.config.static)){var Je=On("div","flatpickr-wrapper");t.element.parentNode&&t.element.parentNode.insertBefore(Je,t.element),Je.appendChild(t.element),t.altInput&&Je.appendChild(t.altInput),Je.appendChild(t.calendarContainer)}!t.config.static&&!t.config.inline&&(t.config.appendTo!==void 0?t.config.appendTo:window.document.body).appendChild(t.calendarContainer)}function T(ye,Ee,Be,Ue){var et=ne(Ee,!0),Je=On("span",ye,Ee.getDate().toString());return Je.dateObj=Ee,Je.$i=Ue,Je.setAttribute("aria-label",t.formatDate(Ee,t.config.ariaDateFormat)),ye.indexOf("hidden")===-1&&Vi(Ee,t.now)===0&&(t.todayDateElem=Je,Je.classList.add("today"),Je.setAttribute("aria-current","date")),et?(Je.tabIndex=-1,ze(Ee)&&(Je.classList.add("selected"),t.selectedDateElem=Je,t.config.mode==="range"&&(ui(Je,"startRange",t.selectedDates[0]&&Vi(Ee,t.selectedDates[0],!0)===0),ui(Je,"endRange",t.selectedDates[1]&&Vi(Ee,t.selectedDates[1],!0)===0),ye==="nextMonthDay"&&Je.classList.add("inRange")))):Je.classList.add("flatpickr-disabled"),t.config.mode==="range"&&Qe(Ee)&&!ze(Ee)&&Je.classList.add("inRange"),t.weekNumbers&&t.config.showMonths===1&&ye!=="prevMonthDay"&&Ue%7===6&&t.weekNumbers.insertAdjacentHTML("beforeend","<span class='flatpickr-day'>"+t.config.getWeek(Ee)+"</span>"),mt("onDayCreate",Je),Je}function C(ye){ye.focus(),t.config.mode==="range"&&W(ye)}function R(ye){for(var Ee=ye>0?0:t.config.showMonths-1,Be=ye>0?t.config.showMonths:-1,Ue=Ee;Ue!=Be;Ue+=ye)for(var et=t.daysContainer.children[Ue],Je=ye>0?0:et.children.length-1,bt=ye>0?et.children.length:-1,lt=Je;lt!=bt;lt+=ye){var xt=et.children[lt];if(xt.className.indexOf("hidden")===-1&&ne(xt.dateObj))return xt}}function B(ye,Ee){for(var Be=ye.className.indexOf("Month")===-1?ye.dateObj.getMonth():t.currentMonth,Ue=Ee>0?t.config.showMonths:-1,et=Ee>0?1:-1,Je=Be-t.currentMonth;Je!=Ue;Je+=et)for(var bt=t.daysContainer.children[Je],lt=Be-t.currentMonth===Je?ye.$i+Ee:Ee<0?bt.children.length-1:0,xt=bt.children.length,ft=lt;ft>=0&&ft<xt&&ft!=(Ee>0?xt:-1);ft+=et){var dt=bt.children[ft];if(dt.className.indexOf("hidden")===-1&&ne(dt.dateObj)&&Math.abs(ye.$i-ft)>=Math.abs(Ee))return C(dt)}t.changeMonth(et),I(R(et),0)}function I(ye,Ee){var Be=o(),Ue=ie(Be||document.body),et=ye!==void 0?ye:Ue?Be:t.selectedDateElem!==void 0&&ie(t.selectedDateElem)?t.selectedDateElem:t.todayDateElem!==void 0&&ie(t.todayDateElem)?t.todayDateElem:R(Ee>0?1:-1);et===void 0?t._input.focus():Ue?B(et,Ee):C(et)}function P(ye,Ee){for(var Be=(new Date(ye,Ee,1).getDay()-t.l10n.firstDayOfWeek+7)%7,Ue=t.utils.getDaysInMonth((Ee-1+12)%12,ye),et=t.utils.getDaysInMonth(Ee,ye),Je=window.document.createDocumentFragment(),bt=t.config.showMonths>1,lt=bt?"prevMonthDay hidden":"prevMonthDay",xt=bt?"nextMonthDay hidden":"nextMonthDay",ft=Ue+1-Be,dt=0;ft<=Ue;ft++,dt++)Je.appendChild(T("flatpickr-day "+lt,new Date(ye,Ee-1,ft),ft,dt));for(ft=1;ft<=et;ft++,dt++)Je.appendChild(T("flatpickr-day",new Date(ye,Ee,ft),ft,dt));for(var it=et+1;it<=42-Be&&(t.config.showMonths===1||dt%7!==0);it++,dt++)Je.appendChild(T("flatpickr-day "+xt,new Date(ye,Ee+1,it%et),it,dt));var nn=On("div","dayContainer");return nn.appendChild(Je),nn}function j(){if(t.daysContainer!==void 0){ed(t.daysContainer),t.weekNumbers&&ed(t.weekNumbers);for(var ye=document.createDocumentFragment(),Ee=0;Ee<t.config.showMonths;Ee++){var Be=new Date(t.currentYear,t.currentMonth,1);Be.setMonth(t.currentMonth+Ee),ye.appendChild(P(Be.getFullYear(),Be.getMonth()))}t.daysContainer.appendChild(ye),t.days=t.daysContainer.firstChild,t.config.mode==="range"&&t.selectedDates.length===1&&W()}}function $(){if(!(t.config.showMonths>1||t.config.monthSelectorType!=="dropdown")){var ye=function(Ue){return t.config.minDate!==void 0&&t.currentYear===t.config.minDate.getFullYear()&&Ue<t.config.minDate.getMonth()?!1:!(t.config.maxDate!==void 0&&t.currentYear===t.config.maxDate.getFullYear()&&Ue>t.config.maxDate.getMonth())};t.monthsDropdownContainer.tabIndex=-1,t.monthsDropdownContainer.innerHTML="";for(var Ee=0;Ee<12;Ee++)if(ye(Ee)){var Be=On("option","flatpickr-monthDropdown-month");Be.value=new Date(t.currentYear,Ee).getMonth().toString(),Be.textContent=Xd(Ee,t.config.shorthandCurrentMonth,t.l10n),Be.tabIndex=-1,t.currentMonth===Ee&&(Be.selected=!0),t.monthsDropdownContainer.appendChild(Be)}}}function Z(){var ye=On("div","flatpickr-month"),Ee=window.document.createDocumentFragment(),Be;t.config.showMonths>1||t.config.monthSelectorType==="static"?Be=On("span","cur-month"):(t.monthsDropdownContainer=On("select","flatpickr-monthDropdown-months"),t.monthsDropdownContainer.setAttribute("aria-label",t.l10n.monthAriaLabel),_(t.monthsDropdownContainer,"change",function(bt){var lt=Ui(bt),xt=parseInt(lt.value,10);t.changeMonth(xt-t.currentMonth),mt("onMonthChange")}),$(),Be=t.monthsDropdownContainer);var Ue=td("cur-year",{tabindex:"-1"}),et=Ue.getElementsByTagName("input")[0];et.setAttribute("aria-label",t.l10n.yearAriaLabel),t.config.minDate&&et.setAttribute("min",t.config.minDate.getFullYear().toString()),t.config.maxDate&&(et.setAttribute("max",t.config.maxDate.getFullYear().toString()),et.disabled=!!t.config.minDate&&t.config.minDate.getFullYear()===t.config.maxDate.getFullYear());var Je=On("div","flatpickr-current-month");return Je.appendChild(Be),Je.appendChild(Ue),Ee.appendChild(Je),ye.appendChild(Ee),{container:ye,yearElement:et,monthElement:Be}}function se(){ed(t.monthNav),t.monthNav.appendChild(t.prevMonthNav),t.config.showMonths&&(t.yearElements=[],t.monthElements=[]);for(var ye=t.config.showMonths;ye--;){var Ee=Z();t.yearElements.push(Ee.yearElement),t.monthElements.push(Ee.monthElement),t.monthNav.appendChild(Ee.container)}t.monthNav.appendChild(t.nextMonthNav)}function te(){return t.monthNav=On("div","flatpickr-months"),t.yearElements=[],t.monthElements=[],t.prevMonthNav=On("span","flatpickr-prev-month"),t.prevMonthNav.innerHTML=t.config.prevArrow,t.nextMonthNav=On("span","flatpickr-next-month"),t.nextMonthNav.innerHTML=t.config.nextArrow,se(),Object.defineProperty(t,"_hidePrevMonthArrow",{get:function(){return t.__hidePrevMonthArrow},set:function(ye){t.__hidePrevMonthArrow!==ye&&(ui(t.prevMonthNav,"flatpickr-disabled",ye),t.__hidePrevMonthArrow=ye)}}),Object.defineProperty(t,"_hideNextMonthArrow",{get:function(){return t.__hideNextMonthArrow},set:function(ye){t.__hideNextMonthArrow!==ye&&(ui(t.nextMonthNav,"flatpickr-disabled",ye),t.__hideNextMonthArrow=ye)}}),t.currentYearElement=t.yearElements[0],Et(),t.monthNav}function X(){t.calendarContainer.classList.add("hasTime"),t.config.noCalendar&&t.calendarContainer.classList.add("noCalendar");var ye=Xm(t.config);t.timeContainer=On("div","flatpickr-time"),t.timeContainer.tabIndex=-1;var Ee=On("span","flatpickr-time-separator",":"),Be=td("flatpickr-hour",{"aria-label":t.l10n.hourAriaLabel});t.hourElement=Be.getElementsByTagName("input")[0];var Ue=td("flatpickr-minute",{"aria-label":t.l10n.minuteAriaLabel});if(t.minuteElement=Ue.getElementsByTagName("input")[0],t.hourElement.tabIndex=t.minuteElement.tabIndex=-1,t.hourElement.value=Ti(t.latestSelectedDateObj?t.latestSelectedDateObj.getHours():t.config.time_24hr?ye.hours:d(ye.hours)),t.minuteElement.value=Ti(t.latestSelectedDateObj?t.latestSelectedDateObj.getMinutes():ye.minutes),t.hourElement.setAttribute("step",t.config.hourIncrement.toString()),t.minuteElement.setAttribute("step",t.config.minuteIncrement.toString()),t.hourElement.setAttribute("min",t.config.time_24hr?"0":"1"),t.hourElement.setAttribute("max",t.config.time_24hr?"23":"12"),t.hourElement.setAttribute("maxlength","2"),t.minuteElement.setAttribute("min","0"),t.minuteElement.setAttribute("max","59"),t.minuteElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(Be),t.timeContainer.appendChild(Ee),t.timeContainer.appendChild(Ue),t.config.time_24hr&&t.timeContainer.classList.add("time24hr"),t.config.enableSeconds){t.timeContainer.classList.add("hasSeconds");var et=td("flatpickr-second");t.secondElement=et.getElementsByTagName("input")[0],t.secondElement.value=Ti(t.latestSelectedDateObj?t.latestSelectedDateObj.getSeconds():ye.seconds),t.secondElement.setAttribute("step",t.minuteElement.getAttribute("step")),t.secondElement.setAttribute("min","0"),t.secondElement.setAttribute("max","59"),t.secondElement.setAttribute("maxlength","2"),t.timeContainer.appendChild(On("span","flatpickr-time-separator",":")),t.timeContainer.appendChild(et)}return t.config.time_24hr||(t.amPM=On("span","flatpickr-am-pm",t.l10n.amPM[ss((t.latestSelectedDateObj?t.hourElement.value:t.config.defaultHour)>11)]),t.amPM.title=t.l10n.toggleTitle,t.amPM.tabIndex=-1,t.timeContainer.appendChild(t.amPM)),t.timeContainer}function V(){t.weekdayContainer?ed(t.weekdayContainer):t.weekdayContainer=On("div","flatpickr-weekdays");for(var ye=t.config.showMonths;ye--;){var Ee=On("div","flatpickr-weekdaycontainer");t.weekdayContainer.appendChild(Ee)}return de(),t.weekdayContainer}function de(){if(t.weekdayContainer){var ye=t.l10n.firstDayOfWeek,Ee=Lw(t.l10n.weekdays.shorthand);ye>0&&ye<Ee.length&&(Ee=Lw(Ee.splice(ye,Ee.length),Ee.splice(0,ye)));for(var Be=t.config.showMonths;Be--;)t.weekdayContainer.children[Be].innerHTML=`
      <span class='flatpickr-weekday'>
        `+Ee.join("</span><span class='flatpickr-weekday'>")+`
      </span>
      `}}function Y(){t.calendarContainer.classList.add("hasWeeks");var ye=On("div","flatpickr-weekwrapper");ye.appendChild(On("span","flatpickr-weekday",t.l10n.weekAbbreviation));var Ee=On("div","flatpickr-weeks");return ye.appendChild(Ee),{weekWrapper:ye,weekNumbers:Ee}}function ue(ye,Ee){Ee===void 0&&(Ee=!0);var Be=Ee?ye:ye-t.currentMonth;Be<0&&t._hidePrevMonthArrow===!0||Be>0&&t._hideNextMonthArrow===!0||(t.currentMonth+=Be,(t.currentMonth<0||t.currentMonth>11)&&(t.currentYear+=t.currentMonth>11?1:-1,t.currentMonth=(t.currentMonth+12)%12,mt("onYearChange"),$()),j(),mt("onMonthChange"),Et())}function xe(ye,Ee){if(ye===void 0&&(ye=!0),Ee===void 0&&(Ee=!0),t.input.value="",t.altInput!==void 0&&(t.altInput.value=""),t.mobileInput!==void 0&&(t.mobileInput.value=""),t.selectedDates=[],t.latestSelectedDateObj=void 0,Ee===!0&&(t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth()),t.config.enableTime===!0){var Be=Xm(t.config),Ue=Be.hours,et=Be.minutes,Je=Be.seconds;k(Ue,et,Je)}t.redraw(),ye&&mt("onChange")}function we(){t.isOpen=!1,t.isMobile||(t.calendarContainer!==void 0&&t.calendarContainer.classList.remove("open"),t._input!==void 0&&t._input.classList.remove("active")),mt("onClose")}function Q(){t.config!==void 0&&mt("onDestroy");for(var ye=t._handlers.length;ye--;)t._handlers[ye].remove();if(t._handlers=[],t.mobileInput)t.mobileInput.parentNode&&t.mobileInput.parentNode.removeChild(t.mobileInput),t.mobileInput=void 0;else if(t.calendarContainer&&t.calendarContainer.parentNode)if(t.config.static&&t.calendarContainer.parentNode){var Ee=t.calendarContainer.parentNode;if(Ee.lastChild&&Ee.removeChild(Ee.lastChild),Ee.parentNode){for(;Ee.firstChild;)Ee.parentNode.insertBefore(Ee.firstChild,Ee);Ee.parentNode.removeChild(Ee)}}else t.calendarContainer.parentNode.removeChild(t.calendarContainer);t.altInput&&(t.input.type="text",t.altInput.parentNode&&t.altInput.parentNode.removeChild(t.altInput),delete t.altInput),t.input&&(t.input.type=t.input._type,t.input.classList.remove("flatpickr-input"),t.input.removeAttribute("readonly")),["_showTimeInput","latestSelectedDateObj","_hideNextMonthArrow","_hidePrevMonthArrow","__hideNextMonthArrow","__hidePrevMonthArrow","isMobile","isOpen","selectedDateElem","minDateHasTime","maxDateHasTime","days","daysContainer","_input","_positionElement","innerContainer","rContainer","monthNav","todayDateElem","calendarContainer","weekdayContainer","prevMonthNav","nextMonthNav","monthsDropdownContainer","currentMonthElement","currentYearElement","navigationCurrentMonth","selectedDateElem","config"].forEach(function(Be){try{delete t[Be]}catch{}})}function K(ye){return t.calendarContainer.contains(ye)}function Ce(ye){if(t.isOpen&&!t.config.inline){var Ee=Ui(ye),Be=K(Ee),Ue=Ee===t.input||Ee===t.altInput||t.element.contains(Ee)||ye.path&&ye.path.indexOf&&(~ye.path.indexOf(t.input)||~ye.path.indexOf(t.altInput)),et=!Ue&&!Be&&!K(ye.relatedTarget),Je=!t.config.ignoredFocusElements.some(function(bt){return bt.contains(Ee)});et&&Je&&(t.config.allowInput&&t.setDate(t._input.value,!1,t.config.altInput?t.config.altFormat:t.config.dateFormat),t.timeContainer!==void 0&&t.minuteElement!==void 0&&t.hourElement!==void 0&&t.input.value!==""&&t.input.value!==void 0&&u(),t.close(),t.config&&t.config.mode==="range"&&t.selectedDates.length===1&&t.clear(!1))}}function Me(ye){if(!(!ye||t.config.minDate&&ye<t.config.minDate.getFullYear()||t.config.maxDate&&ye>t.config.maxDate.getFullYear())){var Ee=ye,Be=t.currentYear!==Ee;t.currentYear=Ee||t.currentYear,t.config.maxDate&&t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth=Math.min(t.config.maxDate.getMonth(),t.currentMonth):t.config.minDate&&t.currentYear===t.config.minDate.getFullYear()&&(t.currentMonth=Math.max(t.config.minDate.getMonth(),t.currentMonth)),Be&&(t.redraw(),mt("onYearChange"),$())}}function ne(ye,Ee){var Be;Ee===void 0&&(Ee=!0);var Ue=t.parseDate(ye,void 0,Ee);if(t.config.minDate&&Ue&&Vi(Ue,t.config.minDate,Ee!==void 0?Ee:!t.minDateHasTime)<0||t.config.maxDate&&Ue&&Vi(Ue,t.config.maxDate,Ee!==void 0?Ee:!t.maxDateHasTime)>0)return!1;if(!t.config.enable&&t.config.disable.length===0)return!0;if(Ue===void 0)return!1;for(var et=!!t.config.enable,Je=(Be=t.config.enable)!==null&&Be!==void 0?Be:t.config.disable,bt=0,lt=void 0;bt<Je.length;bt++){if(lt=Je[bt],typeof lt=="function"&&lt(Ue))return et;if(lt instanceof Date&&Ue!==void 0&&lt.getTime()===Ue.getTime())return et;if(typeof lt=="string"){var xt=t.parseDate(lt,void 0,!0);return xt&&xt.getTime()===Ue.getTime()?et:!et}else if(typeof lt=="object"&&Ue!==void 0&&lt.from&&lt.to&&Ue.getTime()>=lt.from.getTime()&&Ue.getTime()<=lt.to.getTime())return et}return!et}function ie(ye){return t.daysContainer!==void 0?ye.className.indexOf("hidden")===-1&&ye.className.indexOf("flatpickr-disabled")===-1&&t.daysContainer.contains(ye):!1}function oe(ye){var Ee=ye.target===t._input,Be=t._input.value.trimEnd()!==wt();Ee&&Be&&!(ye.relatedTarget&&K(ye.relatedTarget))&&t.setDate(t._input.value,!0,ye.target===t.altInput?t.config.altFormat:t.config.dateFormat)}function ce(ye){var Ee=Ui(ye),Be=t.config.wrap?n.contains(Ee):Ee===t._input,Ue=t.config.allowInput,et=t.isOpen&&(!Ue||!Be),Je=t.config.inline&&Be&&!Ue;if(ye.keyCode===13&&Be){if(Ue)return t.setDate(t._input.value,!0,Ee===t.altInput?t.config.altFormat:t.config.dateFormat),t.close(),Ee.blur();t.open()}else if(K(Ee)||et||Je){var bt=!!t.timeContainer&&t.timeContainer.contains(Ee);switch(ye.keyCode){case 13:bt?(ye.preventDefault(),u(),H()):U(ye);break;case 27:ye.preventDefault(),H();break;case 8:case 46:Be&&!t.config.allowInput&&(ye.preventDefault(),t.clear());break;case 37:case 39:if(!bt&&!Be){ye.preventDefault();var lt=o();if(t.daysContainer!==void 0&&(Ue===!1||lt&&ie(lt))){var xt=ye.keyCode===39?1:-1;ye.ctrlKey?(ye.stopPropagation(),ue(xt),I(R(1),0)):I(void 0,xt)}}else t.hourElement&&t.hourElement.focus();break;case 38:case 40:ye.preventDefault();var ft=ye.keyCode===40?1:-1;t.daysContainer&&Ee.$i!==void 0||Ee===t.input||Ee===t.altInput?ye.ctrlKey?(ye.stopPropagation(),Me(t.currentYear-ft),I(R(1),0)):bt||I(void 0,ft*7):Ee===t.currentYearElement?Me(t.currentYear-ft):t.config.enableTime&&(!bt&&t.hourElement&&t.hourElement.focus(),u(ye),t._debouncedChange());break;case 9:if(bt){var dt=[t.hourElement,t.minuteElement,t.secondElement,t.amPM].concat(t.pluginElements).filter(function(mn){return mn}),it=dt.indexOf(Ee);if(it!==-1){var nn=dt[it+(ye.shiftKey?-1:1)];ye.preventDefault(),(nn||t._input).focus()}}else!t.config.noCalendar&&t.daysContainer&&t.daysContainer.contains(Ee)&&ye.shiftKey&&(ye.preventDefault(),t._input.focus());break}}if(t.amPM!==void 0&&Ee===t.amPM)switch(ye.key){case t.l10n.amPM[0].charAt(0):case t.l10n.amPM[0].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[0],g(),yt();break;case t.l10n.amPM[1].charAt(0):case t.l10n.amPM[1].charAt(0).toLowerCase():t.amPM.textContent=t.l10n.amPM[1],g(),yt();break}(Be||K(Ee))&&mt("onKeyDown",ye)}function W(ye,Ee){if(Ee===void 0&&(Ee="flatpickr-day"),!(t.selectedDates.length!==1||ye&&(!ye.classList.contains(Ee)||ye.classList.contains("flatpickr-disabled")))){for(var Be=ye?ye.dateObj.getTime():t.days.firstElementChild.dateObj.getTime(),Ue=t.parseDate(t.selectedDates[0],void 0,!0).getTime(),et=Math.min(Be,t.selectedDates[0].getTime()),Je=Math.max(Be,t.selectedDates[0].getTime()),bt=!1,lt=0,xt=0,ft=et;ft<Je;ft+=U2.DAY)ne(new Date(ft),!0)||(bt=bt||ft>et&&ft<Je,ft<Ue&&(!lt||ft>lt)?lt=ft:ft>Ue&&(!xt||ft<xt)&&(xt=ft));var dt=Array.from(t.rContainer.querySelectorAll("*:nth-child(-n+"+t.config.showMonths+") > ."+Ee));dt.forEach(function(it){var nn=it.dateObj,mn=nn.getTime(),qn=lt>0&&mn<lt||xt>0&&mn>xt;if(qn){it.classList.add("notAllowed"),["inRange","startRange","endRange"].forEach(function(Dn){it.classList.remove(Dn)});return}else if(bt&&!qn)return;["startRange","inRange","endRange","notAllowed"].forEach(function(Dn){it.classList.remove(Dn)}),ye!==void 0&&(ye.classList.add(Be<=t.selectedDates[0].getTime()?"startRange":"endRange"),Ue<Be&&mn===Ue?it.classList.add("startRange"):Ue>Be&&mn===Ue&&it.classList.add("endRange"),mn>=lt&&(xt===0||mn<=xt)&&z2(mn,Ue,Be)&&it.classList.add("inRange"))})}}function ee(){t.isOpen&&!t.config.static&&!t.config.inline&&ae()}function pe(ye,Ee){if(Ee===void 0&&(Ee=t._positionElement),t.isMobile===!0){if(ye){ye.preventDefault();var Be=Ui(ye);Be&&Be.blur()}t.mobileInput!==void 0&&(t.mobileInput.focus(),t.mobileInput.click()),mt("onOpen");return}else if(t._input.disabled||t.config.inline)return;var Ue=t.isOpen;t.isOpen=!0,Ue||(t.calendarContainer.classList.add("open"),t._input.classList.add("active"),mt("onOpen"),ae(Ee)),t.config.enableTime===!0&&t.config.noCalendar===!0&&t.config.allowInput===!1&&(ye===void 0||!t.timeContainer.contains(ye.relatedTarget))&&setTimeout(function(){return t.hourElement.select()},50)}function ve(ye){return function(Ee){var Be=t.config["_"+ye+"Date"]=t.parseDate(Ee,t.config.dateFormat),Ue=t.config["_"+(ye==="min"?"max":"min")+"Date"];Be!==void 0&&(t[ye==="min"?"minDateHasTime":"maxDateHasTime"]=Be.getHours()>0||Be.getMinutes()>0||Be.getSeconds()>0),t.selectedDates&&(t.selectedDates=t.selectedDates.filter(function(et){return ne(et)}),!t.selectedDates.length&&ye==="min"&&y(Be),yt()),t.daysContainer&&(O(),Be!==void 0?t.currentYearElement[ye]=Be.getFullYear().toString():t.currentYearElement.removeAttribute(ye),t.currentYearElement.disabled=!!Ue&&Be!==void 0&&Ue.getFullYear()===Be.getFullYear())}}function Ae(){var ye=["wrap","weekNumbers","allowInput","allowInvalidPreload","clickOpens","time_24hr","enableTime","noCalendar","altInput","shorthandCurrentMonth","inline","static","enableSeconds","disableMobile"],Ee=ri(ri({},JSON.parse(JSON.stringify(n.dataset||{}))),e),Be={};t.config.parseDate=Ee.parseDate,t.config.formatDate=Ee.formatDate,Object.defineProperty(t.config,"enable",{get:function(){return t.config._enable},set:function(dt){t.config._enable=$e(dt)}}),Object.defineProperty(t.config,"disable",{get:function(){return t.config._disable},set:function(dt){t.config._disable=$e(dt)}});var Ue=Ee.mode==="time";if(!Ee.dateFormat&&(Ee.enableTime||Ue)){var et=Sr.defaultConfig.dateFormat||Nu.dateFormat;Be.dateFormat=Ee.noCalendar||Ue?"H:i"+(Ee.enableSeconds?":S":""):et+" H:i"+(Ee.enableSeconds?":S":"")}if(Ee.altInput&&(Ee.enableTime||Ue)&&!Ee.altFormat){var Je=Sr.defaultConfig.altFormat||Nu.altFormat;Be.altFormat=Ee.noCalendar||Ue?"h:i"+(Ee.enableSeconds?":S K":" K"):Je+(" h:i"+(Ee.enableSeconds?":S":"")+" K")}Object.defineProperty(t.config,"minDate",{get:function(){return t.config._minDate},set:ve("min")}),Object.defineProperty(t.config,"maxDate",{get:function(){return t.config._maxDate},set:ve("max")});var bt=function(dt){return function(it){t.config[dt==="min"?"_minTime":"_maxTime"]=t.parseDate(it,"H:i:S")}};Object.defineProperty(t.config,"minTime",{get:function(){return t.config._minTime},set:bt("min")}),Object.defineProperty(t.config,"maxTime",{get:function(){return t.config._maxTime},set:bt("max")}),Ee.mode==="time"&&(t.config.noCalendar=!0,t.config.enableTime=!0),Object.assign(t.config,Be,Ee);for(var lt=0;lt<ye.length;lt++)t.config[ye[lt]]=t.config[ye[lt]]===!0||t.config[ye[lt]]==="true";Gm.filter(function(dt){return t.config[dt]!==void 0}).forEach(function(dt){t.config[dt]=Ym(t.config[dt]||[]).map(l)}),t.isMobile=!t.config.disableMobile&&!t.config.inline&&t.config.mode==="single"&&!t.config.disable.length&&!t.config.enable&&!t.config.weekNumbers&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);for(var lt=0;lt<t.config.plugins.length;lt++){var xt=t.config.plugins[lt](t)||{};for(var ft in xt)Gm.indexOf(ft)>-1?t.config[ft]=Ym(xt[ft]).map(l).concat(t.config[ft]):typeof Ee[ft]>"u"&&(t.config[ft]=xt[ft])}Ee.altInputClass||(t.config.altInputClass=ke().className+" "+t.config.altInputClass),mt("onParseConfig")}function ke(){return t.config.wrap?n.querySelector("[data-input]"):n}function Fe(){typeof t.config.locale!="object"&&typeof Sr.l10ns[t.config.locale]>"u"&&t.config.errorHandler(new Error("flatpickr: invalid locale "+t.config.locale)),t.l10n=ri(ri({},Sr.l10ns.default),typeof t.config.locale=="object"?t.config.locale:t.config.locale!=="default"?Sr.l10ns[t.config.locale]:void 0),ul.D="("+t.l10n.weekdays.shorthand.join("|")+")",ul.l="("+t.l10n.weekdays.longhand.join("|")+")",ul.M="("+t.l10n.months.shorthand.join("|")+")",ul.F="("+t.l10n.months.longhand.join("|")+")",ul.K="("+t.l10n.amPM[0]+"|"+t.l10n.amPM[1]+"|"+t.l10n.amPM[0].toLowerCase()+"|"+t.l10n.amPM[1].toLowerCase()+")";var ye=ri(ri({},e),JSON.parse(JSON.stringify(n.dataset||{})));ye.time_24hr===void 0&&Sr.defaultConfig.time_24hr===void 0&&(t.config.time_24hr=t.l10n.time_24hr),t.formatDate=CE(t),t.parseDate=Uv({config:t.config,l10n:t.l10n})}function ae(ye){if(typeof t.config.position=="function")return void t.config.position(t,ye);if(t.calendarContainer!==void 0){mt("onPreCalendarPosition");var Ee=ye||t._positionElement,Be=Array.prototype.reduce.call(t.calendarContainer.children,(function(Cn,Te){return Cn+Te.offsetHeight}),0),Ue=t.calendarContainer.offsetWidth,et=t.config.position.split(" "),Je=et[0],bt=et.length>1?et[1]:null,lt=Ee.getBoundingClientRect(),xt=window.innerHeight-lt.bottom,ft=Je==="above"||Je!=="below"&&xt<Be&&lt.top>Be,dt=window.pageYOffset+lt.top+(ft?-Be-2:Ee.offsetHeight+2);if(ui(t.calendarContainer,"arrowTop",!ft),ui(t.calendarContainer,"arrowBottom",ft),!t.config.inline){var it=window.pageXOffset+lt.left,nn=!1,mn=!1;bt==="center"?(it-=(Ue-lt.width)/2,nn=!0):bt==="right"&&(it-=Ue-lt.width,mn=!0),ui(t.calendarContainer,"arrowLeft",!nn&&!mn),ui(t.calendarContainer,"arrowCenter",nn),ui(t.calendarContainer,"arrowRight",mn);var qn=window.document.body.offsetWidth-(window.pageXOffset+lt.right),Dn=it+Ue>window.document.body.offsetWidth,vr=qn+Ue>window.document.body.offsetWidth;if(ui(t.calendarContainer,"rightMost",Dn),!t.config.static)if(t.calendarContainer.style.top=dt+"px",!Dn)t.calendarContainer.style.left=it+"px",t.calendarContainer.style.right="auto";else if(!vr)t.calendarContainer.style.left="auto",t.calendarContainer.style.right=qn+"px";else{var Wn=fe();if(Wn===void 0)return;var fn=window.document.body.offsetWidth,Nr=Math.max(0,fn/2-Ue/2),Ar=".flatpickr-calendar.centerMost:before",Rn=".flatpickr-calendar.centerMost:after",En=Wn.cssRules.length,Tr="{left:"+lt.left+"px;right:auto;}";ui(t.calendarContainer,"rightMost",!1),ui(t.calendarContainer,"centerMost",!0),Wn.insertRule(Ar+","+Rn+Tr,En),t.calendarContainer.style.left=Nr+"px",t.calendarContainer.style.right="auto"}}}}function fe(){for(var ye=null,Ee=0;Ee<document.styleSheets.length;Ee++){var Be=document.styleSheets[Ee];if(Be.cssRules){try{Be.cssRules}catch{continue}ye=Be;break}}return ye??me()}function me(){var ye=document.createElement("style");return document.head.appendChild(ye),ye.sheet}function O(){t.config.noCalendar||t.isMobile||($(),Et(),j())}function H(){t._input.focus(),window.navigator.userAgent.indexOf("MSIE")!==-1||navigator.msMaxTouchPoints!==void 0?setTimeout(t.close,0):t.close()}function U(ye){ye.preventDefault(),ye.stopPropagation();var Ee=function(dt){return dt.classList&&dt.classList.contains("flatpickr-day")&&!dt.classList.contains("flatpickr-disabled")&&!dt.classList.contains("notAllowed")},Be=kE(Ui(ye),Ee);if(Be!==void 0){var Ue=Be,et=t.latestSelectedDateObj=new Date(Ue.dateObj.getTime()),Je=(et.getMonth()<t.currentMonth||et.getMonth()>t.currentMonth+t.config.showMonths-1)&&t.config.mode!=="range";if(t.selectedDateElem=Ue,t.config.mode==="single")t.selectedDates=[et];else if(t.config.mode==="multiple"){var bt=ze(et);bt?t.selectedDates.splice(parseInt(bt),1):t.selectedDates.push(et)}else t.config.mode==="range"&&(t.selectedDates.length===2&&t.clear(!1,!1),t.latestSelectedDateObj=et,t.selectedDates.push(et),Vi(et,t.selectedDates[0],!0)!==0&&t.selectedDates.sort(function(dt,it){return dt.getTime()-it.getTime()}));if(g(),Je){var lt=t.currentYear!==et.getFullYear();t.currentYear=et.getFullYear(),t.currentMonth=et.getMonth(),lt&&(mt("onYearChange"),$()),mt("onMonthChange")}if(Et(),j(),yt(),!Je&&t.config.mode!=="range"&&t.config.showMonths===1?C(Ue):t.selectedDateElem!==void 0&&t.hourElement===void 0&&t.selectedDateElem&&t.selectedDateElem.focus(),t.hourElement!==void 0&&t.hourElement!==void 0&&t.hourElement.focus(),t.config.closeOnSelect){var xt=t.config.mode==="single"&&!t.config.enableTime,ft=t.config.mode==="range"&&t.selectedDates.length===2&&!t.config.enableTime;(xt||ft)&&H()}A()}}var le={locale:[Fe,de],showMonths:[se,h,V],minDate:[b],maxDate:[b],positionElement:[ct],clickOpens:[function(){t.config.clickOpens===!0?(_(t._input,"focus",t.open),_(t._input,"click",t.open)):(t._input.removeEventListener("focus",t.open),t._input.removeEventListener("click",t.open))}]};function Se(ye,Ee){if(ye!==null&&typeof ye=="object"){Object.assign(t.config,ye);for(var Be in ye)le[Be]!==void 0&&le[Be].forEach(function(Ue){return Ue()})}else t.config[ye]=Ee,le[ye]!==void 0?le[ye].forEach(function(Ue){return Ue()}):Gm.indexOf(ye)>-1&&(t.config[ye]=Ym(Ee));t.redraw(),yt(!0)}function Le(ye,Ee){var Be=[];if(ye instanceof Array)Be=ye.map(function(Ue){return t.parseDate(Ue,Ee)});else if(ye instanceof Date||typeof ye=="number")Be=[t.parseDate(ye,Ee)];else if(typeof ye=="string")switch(t.config.mode){case"single":case"time":Be=[t.parseDate(ye,Ee)];break;case"multiple":Be=ye.split(t.config.conjunction).map(function(Ue){return t.parseDate(Ue,Ee)});break;case"range":Be=ye.split(t.l10n.rangeSeparator).map(function(Ue){return t.parseDate(Ue,Ee)});break}else t.config.errorHandler(new Error("Invalid date supplied: "+JSON.stringify(ye)));t.selectedDates=t.config.allowInvalidPreload?Be:Be.filter(function(Ue){return Ue instanceof Date&&ne(Ue,!1)}),t.config.mode==="range"&&t.selectedDates.sort(function(Ue,et){return Ue.getTime()-et.getTime()})}function Pe(ye,Ee,Be){if(Ee===void 0&&(Ee=!1),Be===void 0&&(Be=t.config.dateFormat),ye!==0&&!ye||ye instanceof Array&&ye.length===0)return t.clear(Ee);Le(ye,Be),t.latestSelectedDateObj=t.selectedDates[t.selectedDates.length-1],t.redraw(),b(void 0,Ee),y(),t.selectedDates.length===0&&t.clear(!1),yt(Ee),Ee&&mt("onChange")}function $e(ye){return ye.slice().map(function(Ee){return typeof Ee=="string"||typeof Ee=="number"||Ee instanceof Date?t.parseDate(Ee,void 0,!0):Ee&&typeof Ee=="object"&&Ee.from&&Ee.to?{from:t.parseDate(Ee.from,void 0),to:t.parseDate(Ee.to,void 0)}:Ee}).filter(function(Ee){return Ee})}function Ze(){t.selectedDates=[],t.now=t.parseDate(t.config.now)||new Date;var ye=t.config.defaultDate||((t.input.nodeName==="INPUT"||t.input.nodeName==="TEXTAREA")&&t.input.placeholder&&t.input.value===t.input.placeholder?null:t.input.value);ye&&Le(ye,t.config.dateFormat),t._initialDate=t.selectedDates.length>0?t.selectedDates[0]:t.config.minDate&&t.config.minDate.getTime()>t.now.getTime()?t.config.minDate:t.config.maxDate&&t.config.maxDate.getTime()<t.now.getTime()?t.config.maxDate:t.now,t.currentYear=t._initialDate.getFullYear(),t.currentMonth=t._initialDate.getMonth(),t.selectedDates.length>0&&(t.latestSelectedDateObj=t.selectedDates[0]),t.config.minTime!==void 0&&(t.config.minTime=t.parseDate(t.config.minTime,"H:i")),t.config.maxTime!==void 0&&(t.config.maxTime=t.parseDate(t.config.maxTime,"H:i")),t.minDateHasTime=!!t.config.minDate&&(t.config.minDate.getHours()>0||t.config.minDate.getMinutes()>0||t.config.minDate.getSeconds()>0),t.maxDateHasTime=!!t.config.maxDate&&(t.config.maxDate.getHours()>0||t.config.maxDate.getMinutes()>0||t.config.maxDate.getSeconds()>0)}function pt(){if(t.input=ke(),!t.input){t.config.errorHandler(new Error("Invalid input element specified"));return}t.input._type=t.input.type,t.input.type="text",t.input.classList.add("flatpickr-input"),t._input=t.input,t.config.altInput&&(t.altInput=On(t.input.nodeName,t.config.altInputClass),t._input=t.altInput,t.altInput.placeholder=t.input.placeholder,t.altInput.disabled=t.input.disabled,t.altInput.required=t.input.required,t.altInput.tabIndex=t.input.tabIndex,t.altInput.type="text",t.input.setAttribute("type","hidden"),!t.config.static&&t.input.parentNode&&t.input.parentNode.insertBefore(t.altInput,t.input.nextSibling)),t.config.allowInput||t._input.setAttribute("readonly","readonly"),ct()}function ct(){t._positionElement=t.config.positionElement||t._input}function $t(){var ye=t.config.enableTime?t.config.noCalendar?"time":"datetime-local":"date";t.mobileInput=On("input",t.input.className+" flatpickr-mobile"),t.mobileInput.tabIndex=1,t.mobileInput.type=ye,t.mobileInput.disabled=t.input.disabled,t.mobileInput.required=t.input.required,t.mobileInput.placeholder=t.input.placeholder,t.mobileFormatStr=ye==="datetime-local"?"Y-m-d\\TH:i:S":ye==="date"?"Y-m-d":"H:i:S",t.selectedDates.length>0&&(t.mobileInput.defaultValue=t.mobileInput.value=t.formatDate(t.selectedDates[0],t.mobileFormatStr)),t.config.minDate&&(t.mobileInput.min=t.formatDate(t.config.minDate,"Y-m-d")),t.config.maxDate&&(t.mobileInput.max=t.formatDate(t.config.maxDate,"Y-m-d")),t.input.getAttribute("step")&&(t.mobileInput.step=String(t.input.getAttribute("step"))),t.input.type="hidden",t.altInput!==void 0&&(t.altInput.type="hidden");try{t.input.parentNode&&t.input.parentNode.insertBefore(t.mobileInput,t.input.nextSibling)}catch{}_(t.mobileInput,"change",function(Ee){t.setDate(Ui(Ee).value,!1,t.mobileFormatStr),mt("onChange"),mt("onClose")})}function Ot(ye){if(t.isOpen===!0)return t.close();t.open(ye)}function mt(ye,Ee){if(t.config!==void 0){var Be=t.config[ye];if(Be!==void 0&&Be.length>0)for(var Ue=0;Be[Ue]&&Ue<Be.length;Ue++)Be[Ue](t.selectedDates,t.input.value,t,Ee);ye==="onChange"&&(t.input.dispatchEvent(De("change")),t.input.dispatchEvent(De("input")))}}function De(ye){var Ee=document.createEvent("Event");return Ee.initEvent(ye,!0,!0),Ee}function ze(ye){for(var Ee=0;Ee<t.selectedDates.length;Ee++){var Be=t.selectedDates[Ee];if(Be instanceof Date&&Vi(Be,ye)===0)return""+Ee}return!1}function Qe(ye){return t.config.mode!=="range"||t.selectedDates.length<2?!1:Vi(ye,t.selectedDates[0])>=0&&Vi(ye,t.selectedDates[1])<=0}function Et(){t.config.noCalendar||t.isMobile||!t.monthNav||(t.yearElements.forEach(function(ye,Ee){var Be=new Date(t.currentYear,t.currentMonth,1);Be.setMonth(t.currentMonth+Ee),t.config.showMonths>1||t.config.monthSelectorType==="static"?t.monthElements[Ee].textContent=Xd(Be.getMonth(),t.config.shorthandCurrentMonth,t.l10n)+" ":t.monthsDropdownContainer.value=Be.getMonth().toString(),ye.value=Be.getFullYear().toString()}),t._hidePrevMonthArrow=t.config.minDate!==void 0&&(t.currentYear===t.config.minDate.getFullYear()?t.currentMonth<=t.config.minDate.getMonth():t.currentYear<t.config.minDate.getFullYear()),t._hideNextMonthArrow=t.config.maxDate!==void 0&&(t.currentYear===t.config.maxDate.getFullYear()?t.currentMonth+1>t.config.maxDate.getMonth():t.currentYear>t.config.maxDate.getFullYear()))}function wt(ye){var Ee=ye||(t.config.altInput?t.config.altFormat:t.config.dateFormat);return t.selectedDates.map(function(Be){return t.formatDate(Be,Ee)}).filter(function(Be,Ue,et){return t.config.mode!=="range"||t.config.enableTime||et.indexOf(Be)===Ue}).join(t.config.mode!=="range"?t.config.conjunction:t.l10n.rangeSeparator)}function yt(ye){ye===void 0&&(ye=!0),t.mobileInput!==void 0&&t.mobileFormatStr&&(t.mobileInput.value=t.latestSelectedDateObj!==void 0?t.formatDate(t.latestSelectedDateObj,t.mobileFormatStr):""),t.input.value=wt(t.config.dateFormat),t.altInput!==void 0&&(t.altInput.value=wt(t.config.altFormat)),ye!==!1&&mt("onValueUpdate")}function Ut(ye){var Ee=Ui(ye),Be=t.prevMonthNav.contains(Ee),Ue=t.nextMonthNav.contains(Ee);Be||Ue?ue(Be?-1:1):t.yearElements.indexOf(Ee)>=0?Ee.select():Ee.classList.contains("arrowUp")?t.changeYear(t.currentYear+1):Ee.classList.contains("arrowDown")&&t.changeYear(t.currentYear-1)}function qt(ye){ye.preventDefault();var Ee=ye.type==="keydown",Be=Ui(ye),Ue=Be;t.amPM!==void 0&&Be===t.amPM&&(t.amPM.textContent=t.l10n.amPM[ss(t.amPM.textContent===t.l10n.amPM[0])]);var et=parseFloat(Ue.getAttribute("min")),Je=parseFloat(Ue.getAttribute("max")),bt=parseFloat(Ue.getAttribute("step")),lt=parseInt(Ue.value,10),xt=ye.delta||(Ee?ye.which===38?1:-1:0),ft=lt+bt*xt;if(typeof Ue.value<"u"&&Ue.value.length===2){var dt=Ue===t.hourElement,it=Ue===t.minuteElement;ft<et?(ft=Je+ft+ss(!dt)+(ss(dt)&&ss(!t.amPM)),it&&E(void 0,-1,t.hourElement)):ft>Je&&(ft=Ue===t.hourElement?ft-Je-ss(!t.amPM):et,it&&E(void 0,1,t.hourElement)),t.amPM&&dt&&(bt===1?ft+lt===23:Math.abs(ft-lt)>bt)&&(t.amPM.textContent=t.l10n.amPM[ss(t.amPM.textContent===t.l10n.amPM[0])]),Ue.value=Ti(ft)}}return i(),t}function Iu(n,e){for(var t=Array.prototype.slice.call(n).filter(function(l){return l instanceof HTMLElement}),r=[],i=0;i<t.length;i++){var o=t[i];try{if(o.getAttribute("data-fp-omit")!==null)continue;o._flatpickr!==void 0&&(o._flatpickr.destroy(),o._flatpickr=void 0),o._flatpickr=W2(o,e||{}),r.push(o._flatpickr)}catch(l){console.error(l)}}return r.length===1?r[0]:r}typeof HTMLElement<"u"&&typeof HTMLCollection<"u"&&typeof NodeList<"u"&&(HTMLCollection.prototype.flatpickr=NodeList.prototype.flatpickr=function(n){return Iu(this,n)},HTMLElement.prototype.flatpickr=function(n){return Iu([this],n)});var Sr=function(n,e){return typeof n=="string"?Iu(window.document.querySelectorAll(n),e):n instanceof Node?Iu([n],e):Iu(n,e)};Sr.defaultConfig={};Sr.l10ns={en:ri({},Ah),default:ri({},Ah)};Sr.localize=function(n){Sr.l10ns.default=ri(ri({},Sr.l10ns.default),n)};Sr.setDefaults=function(n){Sr.defaultConfig=ri(ri({},Sr.defaultConfig),n)};Sr.parseDate=Uv({});Sr.formatDate=CE({});Sr.compareDates=Vi;typeof jQuery<"u"&&typeof jQuery.fn<"u"&&(jQuery.fn.flatpickr=function(n){return Iu(this,n)});Date.prototype.fp_incr=function(n){return new Date(this.getFullYear(),this.getMonth(),this.getDate()+(typeof n=="string"?parseInt(n,10):n))};typeof window<"u"&&(window.flatpickr=Sr);var Oi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ol(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function V2(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Cd={exports:{}},G2=Cd.exports,Mw;function Y2(){return Mw||(Mw=1,(function(n,e){(function(t,r){n.exports=r()})(G2,(function(){function t(){for(var i=0,o=0,l=arguments.length;o<l;o++)i+=arguments[o].length;for(var h=Array(i),u=0,o=0;o<l;o++)for(var f=arguments[o],d=0,g=f.length;d<g;d++,u++)h[u]=f[d];return h}function r(i){return i===void 0&&(i={}),function(o){var l="",h,u,f,d=function(){if(i.input){if(h=i.input instanceof Element?i.input:window.document.querySelector(i.input),!h){o.config.errorHandler(new Error("Invalid input element specified"));return}o.config.wrap&&(h=h.querySelector("[data-input]"))}else h=o._input.cloneNode(),h.removeAttribute("id"),h._flatpickr=void 0;if(h.value){var y=o.parseDate(h.value);y&&o.selectedDates.push(y)}h.setAttribute("data-fp-omit",""),o.config.clickOpens&&(o._bind(h,["focus","click"],function(){o.selectedDates[1]&&(o.latestSelectedDateObj=o.selectedDates[1],o._setHoursFromDate(o.selectedDates[1]),o.jumpToDate(o.selectedDates[1])),u=!0,o.isOpen=!1,o.open(void 0,i.position==="left"?o._input:h)}),o._bind(o._input,["focus","click"],function(k){k.preventDefault(),o.isOpen=!1,o.open()})),o.config.allowInput&&o._bind(h,"keydown",function(k){k.key==="Enter"&&(o.setDate([o.selectedDates[0],h.value],!0,l),h.click())}),i.input||o._input.parentNode&&o._input.parentNode.insertBefore(h,o._input.nextSibling)},g={onParseConfig:function(){o.config.mode="range",l=o.config.altInput?o.config.altFormat:o.config.dateFormat},onReady:function(){d(),o.config.ignoredFocusElements.push(h),o.config.allowInput?(o._input.removeAttribute("readonly"),h.removeAttribute("readonly")):h.setAttribute("readonly","readonly"),o._bind(o._input,"focus",function(){o.latestSelectedDateObj=o.selectedDates[0],o._setHoursFromDate(o.selectedDates[0]),u=!1,o.jumpToDate(o.selectedDates[0])}),o.config.allowInput&&o._bind(o._input,"keydown",function(y){y.key==="Enter"&&o.setDate([o._input.value,o.selectedDates[1]],!0,l)}),o.setDate(o.selectedDates,!1),g.onValueUpdate(o.selectedDates),o.loadedPlugins.push("range")},onPreCalendarPosition:function(){u&&(o._positionElement=h,setTimeout(function(){o._positionElement=o._input},0))},onChange:function(){o.selectedDates.length||setTimeout(function(){o.selectedDates.length||(h.value="",f=[])},10),u&&setTimeout(function(){h.focus()},0)},onDestroy:function(){i.input||h.parentNode&&h.parentNode.removeChild(h)},onValueUpdate:function(y){var k,w,_;if(h){if(f=!f||y.length>=f.length?t(y):f,f.length>y.length){var A=y[0],N=u?[f[0],A]:[A,f[1]];N[0].getTime()>N[1].getTime()&&(u?N[0]=N[1]:N[1]=N[0]),o.setDate(N,!1),f=t(N)}k=o.selectedDates.map(function(b){return o.formatDate(b,l)}),w=k[0],o._input.value=w===void 0?"":w,_=k[1],h.value=_===void 0?"":_}}};return g}}return r}))})(Cd)),Cd.exports}var K2=Y2();const Z2=Ol(K2);var th={exports:{}},X2=th.exports,Pw;function J2(){return Pw||(Pw=1,(function(n,e){(function(t,r){r(e)})(X2,(function(t){var r=function(){return r=Object.assign||function(hn){for(var Fn,Mn=1,kr=arguments.length;Mn<kr;Mn++){Fn=arguments[Mn];for(var Vn in Fn)Object.prototype.hasOwnProperty.call(Fn,Vn)&&(hn[Vn]=Fn[Vn])}return hn},r.apply(this,arguments)},i=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},o={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["1","2","3","4","5","6","7","8","9","10","11","12"],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:6,rangeSeparator:"  ",weekAbbreviation:"Wk",scrollTitle:"  ",toggleTitle:" ",amPM:["",""],yearAriaLabel:"",monthAriaLabel:"",hourAriaLabel:"",minuteAriaLabel:"",time_24hr:!1};i.l10ns.ar=o,i.l10ns;var l=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},h={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jn","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Jnner","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum ndern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};l.l10ns.at=h,l.l10ns;var u=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},f={weekdays:{shorthand:["B.","B.e.",".a.",".","C.a.","C.","."],longhand:["Bazar","Bazar ertsi","rnb axam","rnb","Cm axam","Cm","nb"]},months:{shorthand:["Yan","Fev","Mar","Apr","May","yn","yl","Avq","Sen","Okt","Noy","Dek"],longhand:["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Artrmaq n srdrn",toggleTitle:"A / Bala",amPM:["G","GS"],time_24hr:!0};u.l10ns.az=f,u.l10ns;var d=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},g={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:".",scrollTitle:"  ",toggleTitle:"  ",amPM:["",""],yearAriaLabel:"",time_24hr:!0};d.l10ns.be=g,d.l10ns;var y=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},k={firstDayOfWeek:1,weekdays:{shorthand:["Ned","Pon","Uto","Sri","et","Pet","Sub"],longhand:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Mart","April","Maj","Juni","Juli","Avgust","Septembar","Oktobar","Novembar","Decembar"]},time_24hr:!0};y.l10ns.bs=k,y.l10ns;var w=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},_={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},time_24hr:!0,firstDayOfWeek:1};w.l10ns.bg=_,w.l10ns;var A=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},N={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]}};A.l10ns.bn=N,A.l10ns;var b=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},M={weekdays:{shorthand:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],longhand:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},months:{shorthand:["Gen","Febr","Mar","Abr","Maig","Juny","Jul","Ag","Set","Oct","Nov","Des"],longhand:["Gener","Febrer","Mar","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"]},ordinal:function(on){var hn=on%100;if(hn>3&&hn<21)return"";switch(hn%10){case 1:return"r";case 2:return"n";case 3:return"r";case 4:return"t";default:return""}},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};b.l10ns.cat=b.l10ns.ca=M,b.l10ns;var E=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},D={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:6,ordinal:function(){return""}};E.l10ns.ckb=D,E.l10ns;var T=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},C={weekdays:{shorthand:["Ne","Po","t","St","t","P","So"],longhand:["Nedle","Pondl","ter","Steda","tvrtek","Ptek","Sobota"]},months:{shorthand:["Led","n","Be","Dub","Kv","er","vc","Srp","Z","j","Lis","Pro"],longhand:["Leden","nor","Bezen","Duben","Kvten","erven","ervenec","Srpen","Z","jen","Listopad","Prosinec"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" do ",weekAbbreviation:"Td.",scrollTitle:"Rolujte pro zmnu",toggleTitle:"Pepnout dopoledne/odpoledne",amPM:["dop.","odp."],yearAriaLabel:"Rok",time_24hr:!0};T.l10ns.cs=C,T.l10ns;var R=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},B={weekdays:{shorthand:["Sul","Llun","Maw","Mer","Iau","Gwe","Sad"],longhand:["Dydd Sul","Dydd Llun","Dydd Mawrth","Dydd Mercher","Dydd Iau","Dydd Gwener","Dydd Sadwrn"]},months:{shorthand:["Ion","Chwef","Maw","Ebr","Mai","Meh","Gorff","Awst","Medi","Hyd","Tach","Rhag"],longhand:["Ionawr","Chwefror","Mawrth","Ebrill","Mai","Mehefin","Gorffennaf","Awst","Medi","Hydref","Tachwedd","Rhagfyr"]},firstDayOfWeek:1,ordinal:function(on){return on===1?"af":on===2?"ail":on===3||on===4?"ydd":on===5||on===6?"ed":on>=7&&on<=10||on==12||on==15||on==18||on==20?"fed":on==11||on==13||on==14||on==16||on==17||on==19?"eg":on>=21&&on<=39?"ain":""},time_24hr:!0};R.l10ns.cy=B,R.l10ns;var I=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},P={weekdays:{shorthand:["sn","man","tir","ons","tors","fre","lr"],longhand:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"]},months:{shorthand:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longhand:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"uge",time_24hr:!0};I.l10ns.da=P,I.l10ns;var j=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},$={weekdays:{shorthand:["So","Mo","Di","Mi","Do","Fr","Sa"],longhand:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},months:{shorthand:["Jan","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],longhand:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},firstDayOfWeek:1,weekAbbreviation:"KW",rangeSeparator:" bis ",scrollTitle:"Zum ndern scrollen",toggleTitle:"Zum Umschalten klicken",time_24hr:!0};j.l10ns.de=$,j.l10ns;var Z={weekdays:{shorthand:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],longhand:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},months:{shorthand:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],longhand:["January","February","March","April","May","June","July","August","September","October","November","December"]},daysInMonth:[31,28,31,30,31,30,31,31,30,31,30,31],firstDayOfWeek:0,ordinal:function(on){var hn=on%100;if(hn>3&&hn<21)return"th";switch(hn%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}},rangeSeparator:" to ",weekAbbreviation:"Wk",scrollTitle:"Scroll to increment",toggleTitle:"Click to toggle",amPM:["AM","PM"],yearAriaLabel:"Year",monthAriaLabel:"Month",hourAriaLabel:"Hour",minuteAriaLabel:"Minute",time_24hr:!1},se=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},te={firstDayOfWeek:1,rangeSeparator:" is ",weekAbbreviation:"Sem",scrollTitle:"Rulumu por pligrandigi la valoron",toggleTitle:"Klaku por alti",weekdays:{shorthand:["Dim","Lun","Mar","Mer","a","Ven","Sab"],longhand:["dimano","lundo","mardo","merkredo","ado","vendredo","sabato"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Ag","Sep","Okt","Nov","Dec"],longhand:["januaro","februaro","marto","aprilo","majo","junio","julio","agusto","septembro","oktobro","novembro","decembro"]},ordinal:function(){return"-a"},time_24hr:!0};se.l10ns.eo=te,se.l10ns;var X=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},V={weekdays:{shorthand:["Dom","Lun","Mar","Mi","Jue","Vie","Sb"],longhand:["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"]},months:{shorthand:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],longhand:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"]},ordinal:function(){return""},firstDayOfWeek:1,rangeSeparator:" a ",time_24hr:!0};X.l10ns.es=V,X.l10ns;var de=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Y={weekdays:{shorthand:["P","E","T","K","N","R","L"],longhand:["Phapev","Esmaspev","Teisipev","Kolmapev","Neljapev","Reede","Laupev"]},months:{shorthand:["Jaan","Veebr","Mrts","Apr","Mai","Juuni","Juuli","Aug","Sept","Okt","Nov","Dets"],longhand:["Jaanuar","Veebruar","Mrts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"]},firstDayOfWeek:1,ordinal:function(){return"."},weekAbbreviation:"Nd",rangeSeparator:" kuni ",scrollTitle:"Keri, et suurendada",toggleTitle:"Klpsa, et vahetada",time_24hr:!0};de.l10ns.et=Y,de.l10ns;var ue=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},xe={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:6,ordinal:function(){return""}};ue.l10ns.fa=xe,ue.l10ns;var we=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Q={firstDayOfWeek:1,weekdays:{shorthand:["su","ma","ti","ke","to","pe","la"],longhand:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},months:{shorthand:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu"],longhand:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu"]},ordinal:function(){return"."},time_24hr:!0};we.l10ns.fi=Q,we.l10ns;var K=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ce={weekdays:{shorthand:["Sun","Mn","Ts","Mik","Hs","Fr","Ley"],longhand:["Sunnudagur","Mnadagur","Tsdagur","Mikudagur","Hsdagur","Frggjadagur","Leygardagur"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","Aprl","Mai","Juni","Juli","August","Septembur","Oktobur","Novembur","Desembur"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"vika",scrollTitle:"Rulla fyri at broyta",toggleTitle:"Trst fyri at skifta",yearAriaLabel:"r",time_24hr:!0};K.l10ns.fo=Ce,K.l10ns;var Me=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ne={firstDayOfWeek:1,weekdays:{shorthand:["dim","lun","mar","mer","jeu","ven","sam"],longhand:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},months:{shorthand:["janv","fvr","mars","avr","mai","juin","juil","aot","sept","oct","nov","dc"],longhand:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre"]},ordinal:function(on){return on>1?"":"er"},rangeSeparator:" au ",weekAbbreviation:"Sem",scrollTitle:"Dfiler pour augmenter la valeur",toggleTitle:"Cliquer pour basculer",time_24hr:!0};Me.l10ns.fr=ne,Me.l10ns;var ie=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},oe={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},weekAbbreviation:"",rangeSeparator:"  ",scrollTitle:"  ",toggleTitle:"   ",amPM:["",""],yearAriaLabel:"",monthAriaLabel:"",hourAriaLabel:"",minuteAriaLabel:""};ie.l10ns.gr=oe,ie.l10ns;var ce=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},W={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},rangeSeparator:"  ",time_24hr:!0};ce.l10ns.he=W,ce.l10ns;var ee=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},pe={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:[" ","","","","","",""," ","","","",""]}};ee.l10ns.hi=pe,ee.l10ns;var ve=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ae={firstDayOfWeek:1,weekdays:{shorthand:["Ned","Pon","Uto","Sri","et","Pet","Sub"],longhand:["Nedjelja","Ponedjeljak","Utorak","Srijeda","etvrtak","Petak","Subota"]},months:{shorthand:["Sij","Velj","Ou","Tra","Svi","Lip","Srp","Kol","Ruj","Lis","Stu","Pro"],longhand:["Sijeanj","Veljaa","Oujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"]},time_24hr:!0};ve.l10ns.hr=Ae,ve.l10ns;var ke=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Fe={firstDayOfWeek:1,weekdays:{shorthand:["V","H","K","Sz","Cs","P","Szo"],longhand:["Vasrnap","Htf","Kedd","Szerda","Cstrtk","Pntek","Szombat"]},months:{shorthand:["Jan","Feb","Mr","pr","Mj","Jn","Jl","Aug","Szep","Okt","Nov","Dec"],longhand:["Janur","Februr","Mrcius","prilis","Mjus","Jnius","Jlius","Augusztus","Szeptember","Oktber","November","December"]},ordinal:function(){return"."},weekAbbreviation:"Ht",scrollTitle:"Grgessen",toggleTitle:"Kattintson a vltshoz",rangeSeparator:" - ",time_24hr:!0};ke.l10ns.hu=Fe,ke.l10ns;var ae=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},fe={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:"",scrollTitle:"  ",toggleTitle:"  ",amPM:["",""],yearAriaLabel:"",monthAriaLabel:"",hourAriaLabel:"",minuteAriaLabel:"",time_24hr:!0};ae.l10ns.hy=fe,ae.l10ns;var me=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},O={weekdays:{shorthand:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],longhand:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],longhand:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"]},firstDayOfWeek:1,ordinal:function(){return""},time_24hr:!0,rangeSeparator:" - "};me.l10ns.id=O,me.l10ns;var H=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},U={weekdays:{shorthand:["Sun","Mn","ri","Mi","Fim","Fs","Lau"],longhand:["Sunnudagur","Mnudagur","rijudagur","Mivikudagur","Fimmtudagur","Fstudagur","Laugardagur"]},months:{shorthand:["Jan","Feb","Mar","Apr","Ma","Jn","Jl","g","Sep","Okt","Nv","Des"],longhand:["Janar","Febrar","Mars","Aprl","Ma","Jn","Jl","gst","September","Oktber","Nvember","Desember"]},ordinal:function(){return"."},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"vika",yearAriaLabel:"r",time_24hr:!0};H.l10ns.is=U,H.l10ns;var le=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Se={weekdays:{shorthand:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],longhand:["Domenica","Luned","Marted","Mercoled","Gioved","Venerd","Sabato"]},months:{shorthand:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],longhand:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:" al ",weekAbbreviation:"Se",scrollTitle:"Scrolla per aumentare",toggleTitle:"Clicca per cambiare",time_24hr:!0};le.l10ns.it=Se,le.l10ns;var Le=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Pe={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["1","2","3","4","5","6","7","8","9","10","11","12"],longhand:["1","2","3","4","5","6","7","8","9","10","11","12"]},time_24hr:!0,rangeSeparator:"  ",monthAriaLabel:"",amPM:["",""],yearAriaLabel:"",hourAriaLabel:"",minuteAriaLabel:""};Le.l10ns.ja=Pe,Le.l10ns;var $e=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ze={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:".",scrollTitle:" ",toggleTitle:" ",amPM:["AM","PM"],yearAriaLabel:"",time_24hr:!0};$e.l10ns.ka=Ze,$e.l10ns;var pt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ct={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["1","2","3","4","5","6","7","8","9","10","11","12"],longhand:["1","2","3","4","5","6","7","8","9","10","11","12"]},ordinal:function(){return""},rangeSeparator:" ~ ",amPM:["",""]};pt.l10ns.ko=ct,pt.l10ns;var $t=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ot={weekdays:{shorthand:["","","","",".","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},ordinal:function(){return""},firstDayOfWeek:1,rangeSeparator:"  ",weekAbbreviation:"",scrollTitle:"",toggleTitle:"",yearAriaLabel:"",time_24hr:!0};$t.l10ns.km=Ot,$t.l10ns;var mt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},De={weekdays:{shorthand:["","","c","","","",""],longhand:["i","i","i","i","i","","i"]},months:{shorthand:["","","","","","","i","","","","",""],longhand:["","","","i","","","i","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:"",scrollTitle:"  ",toggleTitle:"  ",amPM:["",""],yearAriaLabel:""};mt.l10ns.kz=De,mt.l10ns;var ze=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Qe={weekdays:{shorthand:["S","Pr","A","T","K","Pn",""],longhand:["Sekmadienis","Pirmadienis","Antradienis","Treiadienis","Ketvirtadienis","Penktadienis","etadienis"]},months:{shorthand:["Sau","Vas","Kov","Bal","Geg","Bir","Lie","Rgp","Rgs","Spl","Lap","Grd"],longhand:["Sausis","Vasaris","Kovas","Balandis","Gegu","Birelis","Liepa","Rugpjutis","Rugsejis","Spalis","Lapkritis","Gruodis"]},firstDayOfWeek:1,ordinal:function(){return"-a"},rangeSeparator:" iki ",weekAbbreviation:"Sav",scrollTitle:"Keisti laik pels rateliu",toggleTitle:"Perjungti laiko format",time_24hr:!0};ze.l10ns.lt=Qe,ze.l10ns;var Et=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},wt={firstDayOfWeek:1,weekdays:{shorthand:["Sv","Pr","Ot","Tr","Ce","Pk","Se"],longhand:["Svtdiena","Pirmdiena","Otrdiena","Trediena","Ceturtdiena","Piektdiena","Sestdiena"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],longhand:["Janvris","Februris","Marts","Aprlis","Maijs","Jnijs","Jlijs","Augusts","Septembris","Oktobris","Novembris","Decembris"]},rangeSeparator:" ldz ",time_24hr:!0};Et.l10ns.lv=wt,Et.l10ns;var yt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ut={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,weekAbbreviation:".",rangeSeparator:"  ",time_24hr:!0};yt.l10ns.mk=Ut,yt.l10ns;var qt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ye={firstDayOfWeek:1,weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["1- ","2- ","3- ","4- ","5- ","6- ","7- ","8- ","9- ","10- ","11- ","12- "],longhand:[" "," "," "," "," "," "," "," "," "," "," "," "]},rangeSeparator:"- ",time_24hr:!0};qt.l10ns.mn=ye,qt.l10ns;var Ee=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Be={weekdays:{shorthand:["Aha","Isn","Sel","Rab","Kha","Jum","Sab"],longhand:["Ahad","Isnin","Selasa","Rabu","Khamis","Jumaat","Sabtu"]},months:{shorthand:["Jan","Feb","Mac","Apr","Mei","Jun","Jul","Ogo","Sep","Okt","Nov","Dis"],longhand:["Januari","Februari","Mac","April","Mei","Jun","Julai","Ogos","September","Oktober","November","Disember"]},firstDayOfWeek:1,ordinal:function(){return""}};Ee.l10ns;var Ue=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},et={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},time_24hr:!0};Ue.l10ns.my=et,Ue.l10ns;var Je=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},bt={weekdays:{shorthand:["zo","ma","di","wo","do","vr","za"],longhand:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},months:{shorthand:["jan","feb","mrt","apr","mei","jun","jul","aug","sept","okt","nov","dec"],longhand:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"]},firstDayOfWeek:1,weekAbbreviation:"wk",rangeSeparator:" t/m ",scrollTitle:"Scroll voor volgende / vorige",toggleTitle:"Klik om te wisselen",time_24hr:!0,ordinal:function(on){return on===1||on===8||on>=20?"ste":"de"}};Je.l10ns.nl=bt,Je.l10ns;var lt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},xt={weekdays:{shorthand:["S.","M.","Ty.","On.","To.","Fr.","La."],longhand:["Sndag","Mndag","Tysdag","Onsdag","Torsdag","Fredag","Laurdag"]},months:{shorthand:["Jan","Feb","Mars","Apr","Mai","Juni","Juli","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"]},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"Veke",scrollTitle:"Scroll for  endre",toggleTitle:"Klikk for  veksle",time_24hr:!0,ordinal:function(){return"."}};lt.l10ns.nn=xt,lt.l10ns;var ft=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},dt={weekdays:{shorthand:["Sn","Man","Tir","Ons","Tor","Fre","Lr"],longhand:["Sndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","Lrdag"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Des"],longhand:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"]},firstDayOfWeek:1,rangeSeparator:" til ",weekAbbreviation:"Uke",scrollTitle:"Scroll for  endre",toggleTitle:"Klikk for  veksle",time_24hr:!0,ordinal:function(){return"."}};ft.l10ns.no=dt,ft.l10ns;var it=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},nn={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},time_24hr:!0};it.l10ns.pa=nn,it.l10ns;var mn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},qn={weekdays:{shorthand:["Nd","Pn","Wt","r","Cz","Pt","So"],longhand:["Niedziela","Poniedziaek","Wtorek","roda","Czwartek","Pitek","Sobota"]},months:{shorthand:["Sty","Lut","Mar","Kwi","Maj","Cze","Lip","Sie","Wrz","Pa","Lis","Gru"],longhand:["Stycze","Luty","Marzec","Kwiecie","Maj","Czerwiec","Lipiec","Sierpie","Wrzesie","Padziernik","Listopad","Grudzie"]},rangeSeparator:" do ",weekAbbreviation:"tydz.",scrollTitle:"Przewi, aby zwikszy",toggleTitle:"Kliknij, aby przeczy",firstDayOfWeek:1,time_24hr:!0,ordinal:function(){return"."}};mn.l10ns.pl=qn,mn.l10ns;var Dn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},vr={weekdays:{shorthand:["Dom","Seg","Ter","Qua","Qui","Sex","Sb"],longhand:["Domingo","Segunda-feira","Tera-feira","Quarta-feira","Quinta-feira","Sexta-feira","Sbado"]},months:{shorthand:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"],longhand:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"]},rangeSeparator:" at ",time_24hr:!0};Dn.l10ns.pt=vr,Dn.l10ns;var Wn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},fn={weekdays:{shorthand:["Dum","Lun","Mar","Mie","Joi","Vin","Sm"],longhand:["Duminic","Luni","Mari","Miercuri","Joi","Vineri","Smbt"]},months:{shorthand:["Ian","Feb","Mar","Apr","Mai","Iun","Iul","Aug","Sep","Oct","Noi","Dec"],longhand:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"]},firstDayOfWeek:1,time_24hr:!0,ordinal:function(){return""}};Wn.l10ns.ro=fn,Wn.l10ns;var Nr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ar={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:".",scrollTitle:"  ",toggleTitle:"  ",amPM:["",""],yearAriaLabel:"",time_24hr:!0};Nr.l10ns.ru=Ar,Nr.l10ns;var Rn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},En={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},time_24hr:!0};Rn.l10ns.si=En,Rn.l10ns;var Tr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Cn={weekdays:{shorthand:["Ned","Pon","Ut","Str","tv","Pia","Sob"],longhand:["Nedea","Pondelok","Utorok","Streda","tvrtok","Piatok","Sobota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Mj","Jn","Jl","Aug","Sep","Okt","Nov","Dec"],longhand:["Janur","Februr","Marec","Aprl","Mj","Jn","Jl","August","September","Oktber","November","December"]},firstDayOfWeek:1,rangeSeparator:" do ",time_24hr:!0,ordinal:function(){return"."}};Tr.l10ns.sk=Cn,Tr.l10ns;var Te=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Ye={weekdays:{shorthand:["Ned","Pon","Tor","Sre","et","Pet","Sob"],longhand:["Nedelja","Ponedeljek","Torek","Sreda","etrtek","Petek","Sobota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"]},firstDayOfWeek:1,rangeSeparator:" do ",time_24hr:!0,ordinal:function(){return"."}};Te.l10ns.sl=Ye,Te.l10ns;var Ke=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},nt={weekdays:{shorthand:["Di","H","Ma","M","En","Pr","Sh"],longhand:["E Diel","E Hn","E Mart","E Mrkur","E Enjte","E Premte","E Shtun"]},months:{shorthand:["Jan","Shk","Mar","Pri","Maj","Qer","Kor","Gus","Sht","Tet","Nn","Dhj"],longhand:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","Nntor","Dhjetor"]},firstDayOfWeek:1,rangeSeparator:" deri ",weekAbbreviation:"Java",yearAriaLabel:"Viti",monthAriaLabel:"Muaji",hourAriaLabel:"Ora",minuteAriaLabel:"Minuta",time_24hr:!0};Ke.l10ns.sq=nt,Ke.l10ns;var ot=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},jt={weekdays:{shorthand:["Ned","Pon","Uto","Sre","et","Pet","Sub"],longhand:["Nedelja","Ponedeljak","Utorak","Sreda","etvrtak","Petak","Subota"]},months:{shorthand:["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Avg","Sep","Okt","Nov","Dec"],longhand:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"]},firstDayOfWeek:1,weekAbbreviation:"Ned.",rangeSeparator:" do ",time_24hr:!0};ot.l10ns.sr=jt,ot.l10ns;var _t=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},rn={firstDayOfWeek:1,weekAbbreviation:"v",weekdays:{shorthand:["sn","mn","tis","ons","tor","fre","lr"],longhand:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"]},months:{shorthand:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec"],longhand:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december"]},rangeSeparator:" till ",time_24hr:!0,ordinal:function(){return"."}};_t.l10ns.sv=rn,_t.l10ns;var sn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},wn={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["..","..","..","..","..","..","..","..","..","..","..",".."],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,rangeSeparator:"  ",scrollTitle:"",toggleTitle:"",time_24hr:!0,ordinal:function(){return""}};sn.l10ns.th=wn,sn.l10ns;var zn=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},rt={weekdays:{shorthand:["Paz","Pzt","Sal","ar","Per","Cum","Cmt"],longhand:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"]},months:{shorthand:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara"],longhand:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"]},firstDayOfWeek:1,ordinal:function(){return"."},rangeSeparator:" - ",weekAbbreviation:"Hf",scrollTitle:"Artrmak iin kaydrn",toggleTitle:"A/Kapa",amPM:["","S"],time_24hr:!0};zn.l10ns.tr=rt,zn.l10ns;var Mt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},cn={firstDayOfWeek:1,weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","'",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},time_24hr:!0};Mt.l10ns.uk=cn,Mt.l10ns;var Ir=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},$n={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:"",scrollTitle:"  ",toggleTitle:"  ",amPM:["AM","PM"],yearAriaLabel:"",time_24hr:!0};Ir.l10ns.uz=$n,Ir.l10ns;var lr=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},ur={weekdays:{shorthand:["Ya","Du","Se","Cho","Pa","Ju","Sha"],longhand:["Yakshanba","Dushanba","Seshanba","Chorshanba","Payshanba","Juma","Shanba"]},months:{shorthand:["Yan","Fev","Mar","Apr","May","Iyun","Iyul","Avg","Sen","Okt","Noy","Dek"],longhand:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avgust","Sentabr","Oktabr","Noyabr","Dekabr"]},firstDayOfWeek:1,ordinal:function(){return""},rangeSeparator:"  ",weekAbbreviation:"Hafta",scrollTitle:"Kattalashtirish uchun aylantiring",toggleTitle:"Otish uchun bosing",amPM:["AM","PM"],yearAriaLabel:"Yil",time_24hr:!0};lr.l10ns.uz_latn=ur,lr.l10ns;var Wt=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Tn={weekdays:{shorthand:["CN","T2","T3","T4","T5","T6","T7"],longhand:["Ch nht","Th hai","Th ba","Th t","Th nm","Th su","Th by"]},months:{shorthand:["Th1","Th2","Th3","Th4","Th5","Th6","Th7","Th8","Th9","Th10","Th11","Th12"],longhand:["Thng mt","Thng hai","Thng ba","Thng t","Thng nm","Thng su","Thng by","Thng tm","Thng chn","Thng mi","Thng mi mt","Thng mi hai"]},firstDayOfWeek:1,rangeSeparator:" n "};Wt.l10ns.vn=Tn,Wt.l10ns;var yi=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},cr={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},rangeSeparator:"  ",weekAbbreviation:"",scrollTitle:"",toggleTitle:" 12/24 "};yi.l10ns.zh=cr,yi.l10ns;var ir=typeof window<"u"&&window.flatpickr!==void 0?window.flatpickr:{l10ns:{}},Pi={weekdays:{shorthand:["","","","","","",""],longhand:["","","","","","",""]},months:{shorthand:["","","","","","","","","","","",""],longhand:["","","","","","","","","","","",""]},rangeSeparator:"  ",weekAbbreviation:"",scrollTitle:"",toggleTitle:" 12/24 "};ir.l10ns.zh_tw=Pi,ir.l10ns;var Kr={ar:o,at:h,az:f,be:g,bg:_,bn:N,bs:k,ca:M,ckb:D,cat:M,cs:C,cy:B,da:P,de:$,default:r({},Z),en:Z,eo:te,es:V,et:Y,fa:xe,fi:Q,fo:Ce,fr:ne,gr:oe,he:W,hi:pe,hr:Ae,hu:Fe,hy:fe,id:O,is:U,it:Se,ja:Pe,ka:Ze,ko:ct,km:Ot,kz:De,lt:Qe,lv:wt,mk:Ut,mn:ye,ms:Be,my:et,nl:bt,nn:xt,no:dt,pa:nn,pl:qn,pt:vr,ro:fn,ru:Ar,si:En,sk:Cn,sl:Ye,sq:nt,sr:jt,sv:rn,th:wn,tr:rt,uk:cn,vn:Tn,zh:cr,zh_tw:Pi,uz:$n,uz_latn:ur};t.default=Kr,Object.defineProperty(t,"__esModule",{value:!0})}))})(th,th.exports)),th.exports}J2();class Q2 extends dn{connect(){const e=[];this.data.get("range")&&e.push(new Z2({input:this.data.get("range")}));const t={enableTime:"enable-time",time_24hr:"time_24hr",allowInput:"allow-input",dateFormat:"date-format",noCalendar:"no-calendar",minuteIncrement:"minute-increment",hourIncrement:"hour-increment",static:"static",disableMobile:"disable-mobile",inline:"inline",position:"position",shorthandCurrentMonth:"shorthand-current-month",showMonths:"show-months",allowEmpty:"allowEmpty",placeholder:"placeholder",enable:"enable",disable:"disable",maxDate:"max-date",minDate:"min-date",mode:"mode",defaultDate:"default-date",altInput:"alt-input",altFormat:"alt-format"},r={locale:document.documentElement.lang,plugins:e,appendTo:this.element.closest(".dropdown")||void 0};Object.entries(t).forEach(([i,o])=>{if(this.data.has(i)){if(typeof this.data.get(o)!="string"){r[i]=this.data.get(o);return}try{r[i]=JSON.parse(this.data.get(o))}catch{r[i]=this.data.get(o)}}}),this.fp=Sr(this.element.querySelector("input"),r)}setValue(e){const t=JSON.parse(e.target.dataset.value);this.fp.setDate(t,!0)}clear(){this.fp.clear()}}const eF=Object.freeze(Object.defineProperty({__proto__:null,default:Q2},Symbol.toStringTag,{value:"Module"}));const fl={eager:"eager",lazy:"lazy"};class Xi extends HTMLElement{static delegateConstructor=void 0;loaded=Promise.resolve();static get observedAttributes(){return["disabled","loading","src"]}constructor(){super(),this.delegate=new Xi.delegateConstructor(this)}connectedCallback(){this.delegate.connect()}disconnectedCallback(){this.delegate.disconnect()}reload(){return this.delegate.sourceURLReloaded()}attributeChangedCallback(e){e=="loading"?this.delegate.loadingStyleChanged():e=="src"?this.delegate.sourceURLChanged():e=="disabled"&&this.delegate.disabledChanged()}get src(){return this.getAttribute("src")}set src(e){e?this.setAttribute("src",e):this.removeAttribute("src")}get refresh(){return this.getAttribute("refresh")}set refresh(e){e?this.setAttribute("refresh",e):this.removeAttribute("refresh")}get shouldReloadWithMorph(){return this.src&&this.refresh==="morph"}get loading(){return tF(this.getAttribute("loading")||"")}set loading(e){e?this.setAttribute("loading",e):this.removeAttribute("loading")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get autoscroll(){return this.hasAttribute("autoscroll")}set autoscroll(e){e?this.setAttribute("autoscroll",""):this.removeAttribute("autoscroll")}get complete(){return!this.delegate.isLoading}get isActive(){return this.ownerDocument===document&&!this.isPreview}get isPreview(){return this.ownerDocument?.documentElement?.hasAttribute("data-turbo-preview")}}function tF(n){return n.toLowerCase()==="lazy"?fl.lazy:fl.eager}const nF={enabled:!0,progressBarDelay:500,unvisitableExtensions:new Set([".7z",".aac",".apk",".avi",".bmp",".bz2",".css",".csv",".deb",".dmg",".doc",".docx",".exe",".gif",".gz",".heic",".heif",".ico",".iso",".jpeg",".jpg",".js",".json",".m4a",".mkv",".mov",".mp3",".mp4",".mpeg",".mpg",".msi",".ogg",".ogv",".pdf",".pkg",".png",".ppt",".pptx",".rar",".rtf",".svg",".tar",".tif",".tiff",".txt",".wav",".webm",".webp",".wma",".wmv",".xls",".xlsx",".xml",".zip"])};function Th(n){if(n.getAttribute("data-turbo-eval")=="false")return n;{const e=document.createElement("script"),t=IE();return t&&(e.nonce=t),e.textContent=n.textContent,e.async=!1,rF(e,n),e}}function rF(n,e){for(const{name:t,value:r}of e.attributes)n.setAttribute(t,r)}function iF(n){const e=document.createElement("template");return e.innerHTML=n,e.content}function rr(n,{target:e,cancelable:t,detail:r}={}){const i=new CustomEvent(n,{cancelable:t,bubbles:!0,composed:!0,detail:r});return e&&e.isConnected?e.dispatchEvent(i):document.documentElement.dispatchEvent(i),i}function Nw(n){n.preventDefault(),n.stopImmediatePropagation()}function gh(){return document.visibilityState==="hidden"?LE():OE()}function OE(){return new Promise(n=>requestAnimationFrame(()=>n()))}function LE(){return new Promise(n=>setTimeout(()=>n(),0))}function ME(n=""){return new DOMParser().parseFromString(n,"text/html")}function PE(n,...e){const t=sF(n,e).replace(/^\n/,"").split(`
`),r=t[0].match(/^\s+/),i=r?r[0].length:0;return t.map(o=>o.slice(i)).join(`
`)}function sF(n,e){return n.reduce((t,r,i)=>{const o=e[i]==null?"":e[i];return t+r+o},"")}function Ca(){return Array.from({length:36}).map((n,e)=>e==8||e==13||e==18||e==23?"-":e==14?"4":e==19?(Math.floor(Math.random()*4)+8).toString(16):Math.floor(Math.random()*16).toString(16)).join("")}function Jd(n,...e){for(const t of e.map(r=>r?.getAttribute(n)))if(typeof t=="string")return t;return null}function oF(n,...e){return e.some(t=>t&&t.hasAttribute(n))}function Qd(...n){for(const e of n)e.localName=="turbo-frame"&&e.setAttribute("busy",""),e.setAttribute("aria-busy","true")}function ep(...n){for(const e of n)e.localName=="turbo-frame"&&e.removeAttribute("busy"),e.removeAttribute("aria-busy")}function aF(n,e=2e3){return new Promise(t=>{const r=()=>{n.removeEventListener("error",r),n.removeEventListener("load",r),t()};n.addEventListener("load",r,{once:!0}),n.addEventListener("error",r,{once:!0}),setTimeout(t,e)})}function NE(n){switch(n){case"replace":return history.replaceState;case"advance":case"restore":return history.pushState}}function lF(n){return n=="advance"||n=="replace"||n=="restore"}function gl(...n){const e=Jd("data-turbo-action",...n);return lF(e)?e:null}function jy(n){return document.querySelector(`meta[name="${n}"]`)}function tp(n){const e=jy(n);return e&&e.content}function IE(){const n=jy("csp-nonce");if(n){const{nonce:e,content:t}=n;return e==""?t:e}}function uF(n,e){let t=jy(n);return t||(t=document.createElement("meta"),t.setAttribute("name",n),document.head.appendChild(t)),t.setAttribute("content",e),t}function Du(n,e){if(n instanceof Element)return n.closest(e)||Du(n.assignedSlot||n.getRootNode()?.host,e)}function Hy(n){return!!n&&n.closest("[inert], :disabled, [hidden], details:not([open]), dialog:not([open])")==null&&typeof n.focus=="function"}function DE(n){return Array.from(n.querySelectorAll("[autofocus]")).find(Hy)}async function cF(n,e){const t=e();n(),await OE();const r=e();return[t,r]}function RE(n){if(n==="_blank")return!1;if(n){for(const e of document.getElementsByName(n))if(e instanceof HTMLIFrameElement)return!1;return!0}else return!0}function FE(n){const e=Du(n,"a[href], a[xlink\\:href]");if(!e||e.href.startsWith("#")||e.hasAttribute("download"))return null;const t=e.getAttribute("target");return t&&t!=="_self"?null:e}function hF(n,e){let t=null;return(...r)=>{const i=()=>n.apply(this,r);clearTimeout(t),t=setTimeout(i,e)}}const fF={"aria-disabled":{beforeSubmit:n=>{n.setAttribute("aria-disabled","true"),n.addEventListener("click",Nw)},afterSubmit:n=>{n.removeAttribute("aria-disabled"),n.removeEventListener("click",Nw)}},disabled:{beforeSubmit:n=>n.disabled=!0,afterSubmit:n=>n.disabled=!1}};class dF{#e=null;constructor(e){Object.assign(this,e)}get submitter(){return this.#e}set submitter(e){this.#e=fF[e]||e}}const pF=new dF({mode:"on",submitter:"disabled"}),Mr={drive:nF,forms:pF};function Gr(n){return new URL(n.toString(),document.baseURI)}function vh(n){let e;if(n.hash)return n.hash.slice(1);if(e=n.href.match(/#(.*)$/))return e[1]}function zy(n,e){const t=e?.getAttribute("formaction")||n.getAttribute("action")||n.action;return Gr(t)}function mF(n){return(bF(n).match(/\.[^.]*$/)||[])[0]||""}function gF(n,e){const t=Iw(e.origin+e.pathname);return Iw(n.href)===t||n.href.startsWith(t)}function ma(n,e){return gF(n,e)&&!Mr.drive.unvisitableExtensions.has(mF(n))}function BE(n){return Gr(n.getAttribute("href")||"")}function vF(n){const e=vh(n);return e!=null?n.href.slice(0,-(e.length+1)):n.href}function Od(n){return vF(n)}function jE(n,e){return Gr(n).href==Gr(e).href}function yF(n){return n.pathname.split("/").slice(1)}function bF(n){return yF(n).slice(-1)[0]}function Iw(n){return n.endsWith("/")?n:n+"/"}class yp{constructor(e){this.response=e}get succeeded(){return this.response.ok}get failed(){return!this.succeeded}get clientError(){return this.statusCode>=400&&this.statusCode<=499}get serverError(){return this.statusCode>=500&&this.statusCode<=599}get redirected(){return this.response.redirected}get location(){return Gr(this.response.url)}get isHTML(){return this.contentType&&this.contentType.match(/^(?:text\/([^\s;,]+\b)?html|application\/xhtml\+xml)\b/)}get statusCode(){return this.response.status}get contentType(){return this.header("Content-Type")}get responseText(){return this.response.clone().text()}get responseHTML(){return this.isHTML?this.response.clone().text():Promise.resolve(void 0)}header(e){return this.response.headers.get(e)}}class wF extends Set{constructor(e){super(),this.maxSize=e}add(e){if(this.size>=this.maxSize){const r=this.values().next().value;this.delete(r)}super.add(e)}}const HE=new wF(20);function $y(n,e={}){const t=new Headers(e.headers||{}),r=Ca();return HE.add(r),t.append("X-Turbo-Request-Id",r),window.fetch(n,{...e,headers:t})}function bp(n){switch(n.toLowerCase()){case"get":return Yi.get;case"post":return Yi.post;case"put":return Yi.put;case"patch":return Yi.patch;case"delete":return Yi.delete}}const Yi={get:"get",post:"post",put:"put",patch:"patch",delete:"delete"};function zE(n){switch(n.toLowerCase()){case ga.multipart:return ga.multipart;case ga.plain:return ga.plain;default:return ga.urlEncoded}}const ga={urlEncoded:"application/x-www-form-urlencoded",multipart:"multipart/form-data",plain:"text/plain"};class ic{abortController=new AbortController;#e=e=>{};constructor(e,t,r,i=new URLSearchParams,o=null,l=ga.urlEncoded){const[h,u]=Dw(Gr(r),t,i,l);this.delegate=e,this.url=h,this.target=o,this.fetchOptions={credentials:"same-origin",redirect:"follow",method:t.toUpperCase(),headers:{...this.defaultHeaders},body:u,signal:this.abortSignal,referrer:this.delegate.referrer?.href},this.enctype=l}get method(){return this.fetchOptions.method}set method(e){const t=this.isSafe?this.url.searchParams:this.fetchOptions.body||new FormData,r=bp(e)||Yi.get;this.url.search="";const[i,o]=Dw(this.url,r,t,this.enctype);this.url=i,this.fetchOptions.body=o,this.fetchOptions.method=r.toUpperCase()}get headers(){return this.fetchOptions.headers}set headers(e){this.fetchOptions.headers=e}get body(){return this.isSafe?this.url.searchParams:this.fetchOptions.body}set body(e){this.fetchOptions.body=e}get location(){return this.url}get params(){return this.url.searchParams}get entries(){return this.body?Array.from(this.body.entries()):[]}cancel(){this.abortController.abort()}async perform(){const{fetchOptions:e}=this;this.delegate.prepareRequest(this);const t=await this.#t(e);try{this.delegate.requestStarted(this),t.detail.fetchRequest?this.response=t.detail.fetchRequest.response:this.response=$y(this.url.href,e);const r=await this.response;return await this.receive(r)}catch(r){if(r.name!=="AbortError")throw this.#n(r)&&this.delegate.requestErrored(this,r),r}finally{this.delegate.requestFinished(this)}}async receive(e){const t=new yp(e);return rr("turbo:before-fetch-response",{cancelable:!0,detail:{fetchResponse:t},target:this.target}).defaultPrevented?this.delegate.requestPreventedHandlingResponse(this,t):t.succeeded?this.delegate.requestSucceededWithResponse(this,t):this.delegate.requestFailedWithResponse(this,t),t}get defaultHeaders(){return{Accept:"text/html, application/xhtml+xml"}}get isSafe(){return wp(this.method)}get abortSignal(){return this.abortController.signal}acceptResponseType(e){this.headers.Accept=[e,this.headers.Accept].join(", ")}async#t(e){const t=new Promise(i=>this.#e=i),r=rr("turbo:before-fetch-request",{cancelable:!0,detail:{fetchOptions:e,url:this.url,resume:this.#e},target:this.target});return this.url=r.detail.url,r.defaultPrevented&&await t,r}#n(e){return!rr("turbo:fetch-request-error",{target:this.target,cancelable:!0,detail:{request:this,error:e}}).defaultPrevented}}function wp(n){return bp(n)==Yi.get}function Dw(n,e,t,r){const i=Array.from(t).length>0?new URLSearchParams($E(t)):n.searchParams;return wp(e)?[_F(n,i),null]:r==ga.urlEncoded?[n,i]:[n,t]}function $E(n){const e=[];for(const[t,r]of n)r instanceof File||e.push([t,r]);return e}function _F(n,e){const t=new URLSearchParams($E(e));return n.search=t.toString(),n}class xF{started=!1;constructor(e,t){this.delegate=e,this.element=t,this.intersectionObserver=new IntersectionObserver(this.intersect)}start(){this.started||(this.started=!0,this.intersectionObserver.observe(this.element))}stop(){this.started&&(this.started=!1,this.intersectionObserver.unobserve(this.element))}intersect=e=>{e.slice(-1)[0]?.isIntersecting&&this.delegate.elementAppearedInViewport(this.element)}}class sc{static contentType="text/vnd.turbo-stream.html";static wrap(e){return typeof e=="string"?new this(iF(e)):e}constructor(e){this.fragment=SF(e)}}function SF(n){for(const e of n.querySelectorAll("turbo-stream")){const t=document.importNode(e,!0);for(const r of t.templateElement.content.querySelectorAll("script"))r.replaceWith(Th(r));e.replaceWith(t)}return n}const EF=n=>n;class UE{keys=[];entries={};#e;constructor(e,t=EF){this.size=e,this.#e=t}has(e){return this.#e(e)in this.entries}get(e){if(this.has(e)){const t=this.read(e);return this.touch(e),t}}put(e,t){return this.write(e,t),this.touch(e),t}clear(){for(const e of Object.keys(this.entries))this.evict(e)}read(e){return this.entries[this.#e(e)]}write(e,t){this.entries[this.#e(e)]=t}touch(e){e=this.#e(e);const t=this.keys.indexOf(e);t>-1&&this.keys.splice(t,1),this.keys.unshift(e),this.trim()}trim(){for(const e of this.keys.splice(this.size))this.evict(e)}evict(e){delete this.entries[e]}}const AF=100;class TF extends UE{#e=null;#t={};constructor(e=1,t=AF){super(e,Od),this.prefetchDelay=t}putLater(e,t,r){this.#e=setTimeout(()=>{t.perform(),this.put(e,t,r),this.#e=null},this.prefetchDelay)}put(e,t,r=qE){super.put(e,t),this.#t[Od(e)]=new Date(new Date().getTime()+r)}clear(){super.clear(),this.#e&&clearTimeout(this.#e)}evict(e){super.evict(e),delete this.#t[e]}has(e){if(super.has(e)){const t=this.#t[Od(e)];return t&&t>Date.now()}else return!1}}const qE=10*1e3,ku=new TF,uu={initialized:"initialized",requesting:"requesting",waiting:"waiting",receiving:"receiving",stopping:"stopping",stopped:"stopped"};class _p{state=uu.initialized;static confirmMethod(e){return Promise.resolve(confirm(e))}constructor(e,t,r,i=!1){const o=PF(t,r),l=MF(LF(t,r),o),h=kF(t,r),u=NF(t,r);this.delegate=e,this.formElement=t,this.submitter=r,this.fetchRequest=new ic(this,o,l,h,t,u),this.mustRedirect=i}get method(){return this.fetchRequest.method}set method(e){this.fetchRequest.method=e}get action(){return this.fetchRequest.url.toString()}set action(e){this.fetchRequest.url=Gr(e)}get body(){return this.fetchRequest.body}get enctype(){return this.fetchRequest.enctype}get isSafe(){return this.fetchRequest.isSafe}get location(){return this.fetchRequest.url}async start(){const{initialized:e,requesting:t}=uu,r=Jd("data-turbo-confirm",this.submitter,this.formElement);if(!(typeof r=="string"&&!await(typeof Mr.forms.confirm=="function"?Mr.forms.confirm:_p.confirmMethod)(r,this.formElement,this.submitter))&&this.state==e)return this.state=t,this.fetchRequest.perform()}stop(){const{stopping:e,stopped:t}=uu;if(this.state!=e&&this.state!=t)return this.state=e,this.fetchRequest.cancel(),!0}prepareRequest(e){if(!e.isSafe){const t=CF(tp("csrf-param"))||tp("csrf-token");t&&(e.headers["X-CSRF-Token"]=t)}this.requestAcceptsTurboStreamResponse(e)&&e.acceptResponseType(sc.contentType)}requestStarted(e){this.state=uu.waiting,this.submitter&&Mr.forms.submitter.beforeSubmit(this.submitter),this.setSubmitsWith(),Qd(this.formElement),rr("turbo:submit-start",{target:this.formElement,detail:{formSubmission:this}}),this.delegate.formSubmissionStarted(this)}requestPreventedHandlingResponse(e,t){ku.clear(),this.result={success:t.succeeded,fetchResponse:t}}requestSucceededWithResponse(e,t){if(t.clientError||t.serverError){this.delegate.formSubmissionFailedWithResponse(this,t);return}if(ku.clear(),this.requestMustRedirect(e)&&OF(t)){const r=new Error("Form responses must redirect to another location");this.delegate.formSubmissionErrored(this,r)}else this.state=uu.receiving,this.result={success:!0,fetchResponse:t},this.delegate.formSubmissionSucceededWithResponse(this,t)}requestFailedWithResponse(e,t){this.result={success:!1,fetchResponse:t},this.delegate.formSubmissionFailedWithResponse(this,t)}requestErrored(e,t){this.result={success:!1,error:t},this.delegate.formSubmissionErrored(this,t)}requestFinished(e){this.state=uu.stopped,this.submitter&&Mr.forms.submitter.afterSubmit(this.submitter),this.resetSubmitterText(),ep(this.formElement),rr("turbo:submit-end",{target:this.formElement,detail:{formSubmission:this,...this.result}}),this.delegate.formSubmissionFinished(this)}setSubmitsWith(){if(!(!this.submitter||!this.submitsWith)){if(this.submitter.matches("button"))this.originalSubmitText=this.submitter.innerHTML,this.submitter.innerHTML=this.submitsWith;else if(this.submitter.matches("input")){const e=this.submitter;this.originalSubmitText=e.value,e.value=this.submitsWith}}}resetSubmitterText(){if(!(!this.submitter||!this.originalSubmitText)){if(this.submitter.matches("button"))this.submitter.innerHTML=this.originalSubmitText;else if(this.submitter.matches("input")){const e=this.submitter;e.value=this.originalSubmitText}}}requestMustRedirect(e){return!e.isSafe&&this.mustRedirect}requestAcceptsTurboStreamResponse(e){return!e.isSafe||oF("data-turbo-stream",this.submitter,this.formElement)}get submitsWith(){return this.submitter?.getAttribute("data-turbo-submits-with")}}function kF(n,e){const t=new FormData(n),r=e?.getAttribute("name"),i=e?.getAttribute("value");return r&&t.append(r,i||""),t}function CF(n){if(n!=null){const t=(document.cookie?document.cookie.split("; "):[]).find(r=>r.startsWith(n));if(t){const r=t.split("=").slice(1).join("=");return r?decodeURIComponent(r):void 0}}}function OF(n){return n.statusCode==200&&!n.redirected}function LF(n,e){const t=typeof n.action=="string"?n.action:null;return e?.hasAttribute("formaction")?e.getAttribute("formaction")||"":n.getAttribute("action")||t||""}function MF(n,e){const t=Gr(n);return wp(e)&&(t.search=""),t}function PF(n,e){const t=e?.getAttribute("formmethod")||n.getAttribute("method")||"";return bp(t.toLowerCase())||Yi.get}function NF(n,e){return zE(e?.getAttribute("formenctype")||n.enctype)}class xp{constructor(e){this.element=e}get activeElement(){return this.element.ownerDocument.activeElement}get children(){return[...this.element.children]}hasAnchor(e){return this.getElementForAnchor(e)!=null}getElementForAnchor(e){return e?this.element.querySelector(`[id='${e}'], a[name='${e}']`):null}get isConnected(){return this.element.isConnected}get firstAutofocusableElement(){return DE(this.element)}get permanentElements(){return VE(this.element)}getPermanentElementById(e){return WE(this.element,e)}getPermanentElementMapForSnapshot(e){const t={};for(const r of this.permanentElements){const{id:i}=r,o=e.getPermanentElementById(i);o&&(t[i]=[r,o])}return t}}function WE(n,e){return n.querySelector(`#${e}[data-turbo-permanent]`)}function VE(n){return n.querySelectorAll("[id][data-turbo-permanent]")}class Uy{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("submit",this.submitCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("submit",this.submitCaptured,!0),this.started=!1)}submitCaptured=()=>{this.eventTarget.removeEventListener("submit",this.submitBubbled,!1),this.eventTarget.addEventListener("submit",this.submitBubbled,!1)};submitBubbled=e=>{if(!e.defaultPrevented){const t=e.target instanceof HTMLFormElement?e.target:void 0,r=e.submitter||void 0;t&&IF(t,r)&&DF(t,r)&&this.delegate.willSubmitForm(t,r)&&(e.preventDefault(),e.stopImmediatePropagation(),this.delegate.formSubmitted(t,r))}}}function IF(n,e){return(e?.getAttribute("formmethod")||n.getAttribute("method"))!="dialog"}function DF(n,e){const t=e?.getAttribute("formtarget")||n.getAttribute("target");return RE(t)}class GE{#e=e=>{};#t=e=>{};constructor(e,t){this.delegate=e,this.element=t}scrollToAnchor(e){const t=this.snapshot.getElementForAnchor(e);t?(this.focusElement(t),this.scrollToElement(t)):this.scrollToPosition({x:0,y:0})}scrollToAnchorFromLocation(e){this.scrollToAnchor(vh(e))}scrollToElement(e){e.scrollIntoView()}focusElement(e){e instanceof HTMLElement&&(e.hasAttribute("tabindex")?e.focus():(e.setAttribute("tabindex","-1"),e.focus(),e.removeAttribute("tabindex")))}scrollToPosition({x:e,y:t}){this.scrollRoot.scrollTo(e,t)}scrollToTop(){this.scrollToPosition({x:0,y:0})}get scrollRoot(){return window}async render(e){const{isPreview:t,shouldRender:r,willRender:i,newSnapshot:o}=e,l=i;if(r)try{this.renderPromise=new Promise(d=>this.#e=d),this.renderer=e,await this.prepareToRenderSnapshot(e);const h=new Promise(d=>this.#t=d),u={resume:this.#t,render:this.renderer.renderElement,renderMethod:this.renderer.renderMethod};this.delegate.allowsImmediateRender(o,u)||await h,await this.renderSnapshot(e),this.delegate.viewRenderedSnapshot(o,t,this.renderer.renderMethod),this.delegate.preloadOnLoadLinksForView(this.element),this.finishRenderingSnapshot(e)}finally{delete this.renderer,this.#e(void 0),delete this.renderPromise}else l&&this.invalidate(e.reloadReason)}invalidate(e){this.delegate.viewInvalidated(e)}async prepareToRenderSnapshot(e){this.markAsPreview(e.isPreview),await e.prepareToRender()}markAsPreview(e){e?this.element.setAttribute("data-turbo-preview",""):this.element.removeAttribute("data-turbo-preview")}markVisitDirection(e){this.element.setAttribute("data-turbo-visit-direction",e)}unmarkVisitDirection(){this.element.removeAttribute("data-turbo-visit-direction")}async renderSnapshot(e){await e.render()}finishRenderingSnapshot(e){e.finishRendering()}}class RF extends GE{missing(){this.element.innerHTML='<strong class="turbo-frame-error">Content missing</strong>'}get snapshot(){return new xp(this.element)}}class YE{constructor(e,t){this.delegate=e,this.element=t}start(){this.element.addEventListener("click",this.clickBubbled),document.addEventListener("turbo:click",this.linkClicked),document.addEventListener("turbo:before-visit",this.willVisit)}stop(){this.element.removeEventListener("click",this.clickBubbled),document.removeEventListener("turbo:click",this.linkClicked),document.removeEventListener("turbo:before-visit",this.willVisit)}clickBubbled=e=>{this.clickEventIsSignificant(e)?this.clickEvent=e:delete this.clickEvent};linkClicked=e=>{this.clickEvent&&this.clickEventIsSignificant(e)&&this.delegate.shouldInterceptLinkClick(e.target,e.detail.url,e.detail.originalEvent)&&(this.clickEvent.preventDefault(),e.preventDefault(),this.delegate.linkClickIntercepted(e.target,e.detail.url,e.detail.originalEvent)),delete this.clickEvent};willVisit=e=>{delete this.clickEvent};clickEventIsSignificant(e){const t=e.composed?e.target?.parentElement:e.target,r=FE(t)||t;return r instanceof Element&&r.closest("turbo-frame, html")==this.element}}class KE{started=!1;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.addEventListener("click",this.clickCaptured,!0),this.started=!0)}stop(){this.started&&(this.eventTarget.removeEventListener("click",this.clickCaptured,!0),this.started=!1)}clickCaptured=()=>{this.eventTarget.removeEventListener("click",this.clickBubbled,!1),this.eventTarget.addEventListener("click",this.clickBubbled,!1)};clickBubbled=e=>{if(e instanceof MouseEvent&&this.clickEventIsSignificant(e)){const t=e.composedPath&&e.composedPath()[0]||e.target,r=FE(t);if(r&&RE(r.target)){const i=BE(r);this.delegate.willFollowLinkToLocation(r,i,e)&&(e.preventDefault(),this.delegate.followedLinkToLocation(r,i))}}};clickEventIsSignificant(e){return!(e.target&&e.target.isContentEditable||e.defaultPrevented||e.which>1||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)}}class ZE{constructor(e,t){this.delegate=e,this.linkInterceptor=new KE(this,t)}start(){this.linkInterceptor.start()}stop(){this.linkInterceptor.stop()}canPrefetchRequestToLocation(e,t){return!1}prefetchAndCacheRequestToLocation(e,t){}willFollowLinkToLocation(e,t,r){return this.delegate.willSubmitFormLinkToLocation(e,t,r)&&(e.hasAttribute("data-turbo-method")||e.hasAttribute("data-turbo-stream"))}followedLinkToLocation(e,t){const r=document.createElement("form"),i="hidden";for(const[g,y]of t.searchParams)r.append(Object.assign(document.createElement("input"),{type:i,name:g,value:y}));const o=Object.assign(t,{search:""});r.setAttribute("data-turbo","true"),r.setAttribute("action",o.href),r.setAttribute("hidden","");const l=e.getAttribute("data-turbo-method");l&&r.setAttribute("method",l);const h=e.getAttribute("data-turbo-frame");h&&r.setAttribute("data-turbo-frame",h);const u=gl(e);u&&r.setAttribute("data-turbo-action",u);const f=e.getAttribute("data-turbo-confirm");f&&r.setAttribute("data-turbo-confirm",f),e.hasAttribute("data-turbo-stream")&&r.setAttribute("data-turbo-stream",""),this.delegate.submittedFormLinkToLocation(e,t,r),document.body.appendChild(r),r.addEventListener("turbo:submit-end",()=>r.remove(),{once:!0}),requestAnimationFrame(()=>r.requestSubmit())}}class XE{static async preservingPermanentElements(e,t,r){const i=new this(e,t);i.enter(),await r(),i.leave()}constructor(e,t){this.delegate=e,this.permanentElementMap=t}enter(){for(const e in this.permanentElementMap){const[t,r]=this.permanentElementMap[e];this.delegate.enteringBardo(t,r),this.replaceNewPermanentElementWithPlaceholder(r)}}leave(){for(const e in this.permanentElementMap){const[t]=this.permanentElementMap[e];this.replaceCurrentPermanentElementWithClone(t),this.replacePlaceholderWithPermanentElement(t),this.delegate.leavingBardo(t)}}replaceNewPermanentElementWithPlaceholder(e){const t=FF(e);e.replaceWith(t)}replaceCurrentPermanentElementWithClone(e){const t=e.cloneNode(!0);e.replaceWith(t)}replacePlaceholderWithPermanentElement(e){this.getPlaceholderById(e.id)?.replaceWith(e)}getPlaceholderById(e){return this.placeholders.find(t=>t.content==e)}get placeholders(){return[...document.querySelectorAll("meta[name=turbo-permanent-placeholder][content]")]}}function FF(n){const e=document.createElement("meta");return e.setAttribute("name","turbo-permanent-placeholder"),e.setAttribute("content",n.id),e}class qy{#e=null;static renderElement(e,t){}constructor(e,t,r,i=!0){this.currentSnapshot=e,this.newSnapshot=t,this.isPreview=r,this.willRender=i,this.renderElement=this.constructor.renderElement,this.promise=new Promise((o,l)=>this.resolvingFunctions={resolve:o,reject:l})}get shouldRender(){return!0}get shouldAutofocus(){return!0}get reloadReason(){}prepareToRender(){}render(){}finishRendering(){this.resolvingFunctions&&(this.resolvingFunctions.resolve(),delete this.resolvingFunctions)}async preservingPermanentElements(e){await XE.preservingPermanentElements(this,this.permanentElementMap,e)}focusFirstAutofocusableElement(){if(this.shouldAutofocus){const e=this.connectedSnapshot.firstAutofocusableElement;e&&e.focus()}}enteringBardo(e){this.#e||e.contains(this.currentSnapshot.activeElement)&&(this.#e=this.currentSnapshot.activeElement)}leavingBardo(e){e.contains(this.#e)&&this.#e instanceof HTMLElement&&(this.#e.focus(),this.#e=null)}get connectedSnapshot(){return this.newSnapshot.isConnected?this.newSnapshot:this.currentSnapshot}get currentElement(){return this.currentSnapshot.element}get newElement(){return this.newSnapshot.element}get permanentElementMap(){return this.currentSnapshot.getPermanentElementMapForSnapshot(this.newSnapshot)}get renderMethod(){return"replace"}}class Sp extends qy{static renderElement(e,t){const r=document.createRange();r.selectNodeContents(e),r.deleteContents();const i=t,o=i.ownerDocument?.createRange();o&&(o.selectNodeContents(i),e.appendChild(o.extractContents()))}constructor(e,t,r,i,o,l=!0){super(t,r,i,o,l),this.delegate=e}get shouldRender(){return!0}async render(){await gh(),this.preservingPermanentElements(()=>{this.loadFrameElement()}),this.scrollFrameIntoView(),await gh(),this.focusFirstAutofocusableElement(),await gh(),this.activateScriptElements()}loadFrameElement(){this.delegate.willRenderFrame(this.currentElement,this.newElement),this.renderElement(this.currentElement,this.newElement)}scrollFrameIntoView(){if(this.currentElement.autoscroll||this.newElement.autoscroll){const e=this.currentElement.firstElementChild,t=BF(this.currentElement.getAttribute("data-autoscroll-block"),"end"),r=jF(this.currentElement.getAttribute("data-autoscroll-behavior"),"auto");if(e)return e.scrollIntoView({block:t,behavior:r}),!0}return!1}activateScriptElements(){for(const e of this.newScriptElements){const t=Th(e);e.replaceWith(t)}}get newScriptElements(){return this.currentElement.querySelectorAll("script")}}function BF(n,e){return n=="end"||n=="start"||n=="center"||n=="nearest"?n:e}function jF(n,e){return n=="auto"||n=="smooth"?n:e}var HF=(function(){const n=()=>{},e={morphStyle:"outerHTML",callbacks:{beforeNodeAdded:n,afterNodeAdded:n,beforeNodeMorphed:n,afterNodeMorphed:n,beforeNodeRemoved:n,afterNodeRemoved:n,beforeAttributeUpdated:n},head:{style:"merge",shouldPreserve:y=>y.getAttribute("im-preserve")==="true",shouldReAppend:y=>y.getAttribute("im-re-append")==="true",shouldRemove:n,afterHeadMorphed:n},restoreFocus:!0};function t(y,k,w={}){y=d(y);const _=g(k),A=f(y,_,w),N=i(A,()=>h(A,y,_,b=>b.morphStyle==="innerHTML"?(o(b,y,_),Array.from(y.childNodes)):r(b,y,_)));return A.pantry.remove(),N}function r(y,k,w){const _=g(k);return o(y,_,w,k,k.nextSibling),Array.from(_.childNodes)}function i(y,k){if(!y.config.restoreFocus)return k();let w=document.activeElement;if(!(w instanceof HTMLInputElement||w instanceof HTMLTextAreaElement))return k();const{id:_,selectionStart:A,selectionEnd:N}=w,b=k();return _&&_!==document.activeElement?.getAttribute("id")&&(w=y.target.querySelector(`[id="${_}"]`),w?.focus()),w&&!w.selectionEnd&&N&&w.setSelectionRange(A,N),b}const o=(function(){function y(E,D,T,C=null,R=null){D instanceof HTMLTemplateElement&&T instanceof HTMLTemplateElement&&(D=D.content,T=T.content),C||=D.firstChild;for(const B of T.childNodes){if(C&&C!=R){const P=w(E,B,C,R);if(P){P!==C&&A(E,C,P),l(P,B,E),C=P.nextSibling;continue}}if(B instanceof Element){const P=B.getAttribute("id");if(E.persistentIds.has(P)){const j=N(D,P,C,E);l(j,B,E),C=j.nextSibling;continue}}const I=k(D,B,C,E);I&&(C=I.nextSibling)}for(;C&&C!=R;){const B=C;C=C.nextSibling,_(E,B)}}function k(E,D,T,C){if(C.callbacks.beforeNodeAdded(D)===!1)return null;if(C.idMap.has(D)){const R=document.createElement(D.tagName);return E.insertBefore(R,T),l(R,D,C),C.callbacks.afterNodeAdded(R),R}else{const R=document.importNode(D,!0);return E.insertBefore(R,T),C.callbacks.afterNodeAdded(R),R}}const w=(function(){function E(C,R,B,I){let P=null,j=R.nextSibling,$=0,Z=B;for(;Z&&Z!=I;){if(T(Z,R)){if(D(C,Z,R))return Z;P===null&&(C.idMap.has(Z)||(P=Z))}if(P===null&&j&&T(Z,j)&&($++,j=j.nextSibling,$>=2&&(P=void 0)),C.activeElementAndParents.includes(Z))break;Z=Z.nextSibling}return P||null}function D(C,R,B){let I=C.idMap.get(R),P=C.idMap.get(B);if(!P||!I)return!1;for(const j of I)if(P.has(j))return!0;return!1}function T(C,R){const B=C,I=R;return B.nodeType===I.nodeType&&B.tagName===I.tagName&&(!B.getAttribute?.("id")||B.getAttribute?.("id")===I.getAttribute?.("id"))}return E})();function _(E,D){if(E.idMap.has(D))M(E.pantry,D,null);else{if(E.callbacks.beforeNodeRemoved(D)===!1)return;D.parentNode?.removeChild(D),E.callbacks.afterNodeRemoved(D)}}function A(E,D,T){let C=D;for(;C&&C!==T;){let R=C;C=C.nextSibling,_(E,R)}return C}function N(E,D,T,C){const R=C.target.getAttribute?.("id")===D&&C.target||C.target.querySelector(`[id="${D}"]`)||C.pantry.querySelector(`[id="${D}"]`);return b(R,C),M(E,R,T),R}function b(E,D){const T=E.getAttribute("id");for(;E=E.parentNode;){let C=D.idMap.get(E);C&&(C.delete(T),C.size||D.idMap.delete(E))}}function M(E,D,T){if(E.moveBefore)try{E.moveBefore(D,T)}catch{E.insertBefore(D,T)}else E.insertBefore(D,T)}return y})(),l=(function(){function y(b,M,E){return E.ignoreActive&&b===document.activeElement?null:(E.callbacks.beforeNodeMorphed(b,M)===!1||(b instanceof HTMLHeadElement&&E.head.ignore||(b instanceof HTMLHeadElement&&E.head.style!=="morph"?u(b,M,E):(k(b,M,E),N(b,E)||o(E,b,M))),E.callbacks.afterNodeMorphed(b,M)),b)}function k(b,M,E){let D=M.nodeType;if(D===1){const T=b,C=M,R=T.attributes,B=C.attributes;for(const I of B)A(I.name,T,"update",E)||T.getAttribute(I.name)!==I.value&&T.setAttribute(I.name,I.value);for(let I=R.length-1;0<=I;I--){const P=R[I];if(P&&!C.hasAttribute(P.name)){if(A(P.name,T,"remove",E))continue;T.removeAttribute(P.name)}}N(T,E)||w(T,C,E)}(D===8||D===3)&&b.nodeValue!==M.nodeValue&&(b.nodeValue=M.nodeValue)}function w(b,M,E){if(b instanceof HTMLInputElement&&M instanceof HTMLInputElement&&M.type!=="file"){let D=M.value,T=b.value;_(b,M,"checked",E),_(b,M,"disabled",E),M.hasAttribute("value")?T!==D&&(A("value",b,"update",E)||(b.setAttribute("value",D),b.value=D)):A("value",b,"remove",E)||(b.value="",b.removeAttribute("value"))}else if(b instanceof HTMLOptionElement&&M instanceof HTMLOptionElement)_(b,M,"selected",E);else if(b instanceof HTMLTextAreaElement&&M instanceof HTMLTextAreaElement){let D=M.value,T=b.value;if(A("value",b,"update",E))return;D!==T&&(b.value=D),b.firstChild&&b.firstChild.nodeValue!==D&&(b.firstChild.nodeValue=D)}}function _(b,M,E,D){const T=M[E],C=b[E];if(T!==C){const R=A(E,b,"update",D);R||(b[E]=M[E]),T?R||b.setAttribute(E,""):A(E,b,"remove",D)||b.removeAttribute(E)}}function A(b,M,E,D){return b==="value"&&D.ignoreActiveValue&&M===document.activeElement?!0:D.callbacks.beforeAttributeUpdated(b,M,E)===!1}function N(b,M){return!!M.ignoreActiveValue&&b===document.activeElement&&b!==document.body}return y})();function h(y,k,w,_){if(y.head.block){const A=k.querySelector("head"),N=w.querySelector("head");if(A&&N){const b=u(A,N,y);return Promise.all(b).then(()=>{const M=Object.assign(y,{head:{block:!1,ignore:!0}});return _(M)})}}return _(y)}function u(y,k,w){let _=[],A=[],N=[],b=[],M=new Map;for(const D of k.children)M.set(D.outerHTML,D);for(const D of y.children){let T=M.has(D.outerHTML),C=w.head.shouldReAppend(D),R=w.head.shouldPreserve(D);T||R?C?A.push(D):(M.delete(D.outerHTML),N.push(D)):w.head.style==="append"?C&&(A.push(D),b.push(D)):w.head.shouldRemove(D)!==!1&&A.push(D)}b.push(...M.values());let E=[];for(const D of b){let T=document.createRange().createContextualFragment(D.outerHTML).firstChild;if(w.callbacks.beforeNodeAdded(T)!==!1){if("href"in T&&T.href||"src"in T&&T.src){let C,R=new Promise(function(B){C=B});T.addEventListener("load",function(){C()}),E.push(R)}y.appendChild(T),w.callbacks.afterNodeAdded(T),_.push(T)}}for(const D of A)w.callbacks.beforeNodeRemoved(D)!==!1&&(y.removeChild(D),w.callbacks.afterNodeRemoved(D));return w.head.afterHeadMorphed(y,{added:_,kept:N,removed:A}),E}const f=(function(){function y(E,D,T){const{persistentIds:C,idMap:R}=b(E,D),B=k(T),I=B.morphStyle||"outerHTML";if(!["innerHTML","outerHTML"].includes(I))throw`Do not understand how to morph style ${I}`;return{target:E,newContent:D,config:B,morphStyle:I,ignoreActive:B.ignoreActive,ignoreActiveValue:B.ignoreActiveValue,restoreFocus:B.restoreFocus,idMap:R,persistentIds:C,pantry:w(),activeElementAndParents:_(E),callbacks:B.callbacks,head:B.head}}function k(E){let D=Object.assign({},e);return Object.assign(D,E),D.callbacks=Object.assign({},e.callbacks,E.callbacks),D.head=Object.assign({},e.head,E.head),D}function w(){const E=document.createElement("div");return E.hidden=!0,document.body.insertAdjacentElement("afterend",E),E}function _(E){let D=[],T=document.activeElement;if(T?.tagName!=="BODY"&&E.contains(T))for(;T&&(D.push(T),T!==E);)T=T.parentElement;return D}function A(E){let D=Array.from(E.querySelectorAll("[id]"));return E.getAttribute?.("id")&&D.push(E),D}function N(E,D,T,C){for(const R of C){const B=R.getAttribute("id");if(D.has(B)){let I=R;for(;I;){let P=E.get(I);if(P==null&&(P=new Set,E.set(I,P)),P.add(B),I===T)break;I=I.parentElement}}}}function b(E,D){const T=A(E),C=A(D),R=M(T,C);let B=new Map;N(B,R,E,T);const I=D.__idiomorphRoot||D;return N(B,R,I,C),{persistentIds:R,idMap:B}}function M(E,D){let T=new Set,C=new Map;for(const{id:B,tagName:I}of E)C.has(B)?T.add(B):C.set(B,I);let R=new Set;for(const{id:B,tagName:I}of D)R.has(B)?T.add(B):C.get(B)===I&&R.add(B);for(const B of T)R.delete(B);return R}return y})(),{normalizeElement:d,normalizeParent:g}=(function(){const y=new WeakSet;function k(N){return N instanceof Document?N.documentElement:N}function w(N){if(N==null)return document.createElement("div");if(typeof N=="string")return w(A(N));if(y.has(N))return N;if(N instanceof Node){if(N.parentNode)return new _(N);{const b=document.createElement("div");return b.append(N),b}}else{const b=document.createElement("div");for(const M of[...N])b.append(M);return b}}class _{constructor(b){this.originalNode=b,this.realParentNode=b.parentNode,this.previousSibling=b.previousSibling,this.nextSibling=b.nextSibling}get childNodes(){const b=[];let M=this.previousSibling?this.previousSibling.nextSibling:this.realParentNode.firstChild;for(;M&&M!=this.nextSibling;)b.push(M),M=M.nextSibling;return b}querySelectorAll(b){return this.childNodes.reduce((M,E)=>{if(E instanceof Element){E.matches(b)&&M.push(E);const D=E.querySelectorAll(b);for(let T=0;T<D.length;T++)M.push(D[T])}return M},[])}insertBefore(b,M){return this.realParentNode.insertBefore(b,M)}moveBefore(b,M){return this.realParentNode.moveBefore(b,M)}get __idiomorphRoot(){return this.originalNode}}function A(N){let b=new DOMParser,M=N.replace(/<svg(\s[^>]*>|>)([\s\S]*?)<\/svg>/gim,"");if(M.match(/<\/html>/)||M.match(/<\/head>/)||M.match(/<\/body>/)){let E=b.parseFromString(N,"text/html");if(M.match(/<\/html>/))return y.add(E),E;{let D=E.firstChild;return D&&y.add(D),D}}else{let D=b.parseFromString("<body><template>"+N+"</template></body>","text/html").body.querySelector("template").content;return y.add(D),D}}return{normalizeElement:k,normalizeParent:w}})();return{morph:t,defaults:e}})();function Yh(n,e,{callbacks:t,...r}={}){HF.morph(n,e,{...r,callbacks:new $F(t)})}function Ep(n,e,t={}){Yh(n,e.childNodes,{...t,morphStyle:"innerHTML"})}function JE(n,e){return n instanceof Xi&&n.shouldReloadWithMorph&&(!e||zF(n,e))&&!n.closest("[data-turbo-permanent]")}function zF(n,e){return e instanceof Element&&e.nodeName==="TURBO-FRAME"&&n.id===e.id&&(!e.getAttribute("src")||jE(n.src,e.getAttribute("src")))}function QE(n){return n.parentElement.closest("turbo-frame[src][refresh=morph]")}class $F{#e;constructor({beforeNodeMorphed:e}={}){this.#e=e||(()=>!0)}beforeNodeAdded=e=>!(e.id&&e.hasAttribute("data-turbo-permanent")&&document.getElementById(e.id));beforeNodeMorphed=(e,t)=>{if(e instanceof Element)return!e.hasAttribute("data-turbo-permanent")&&this.#e(e,t)?!rr("turbo:before-morph-element",{cancelable:!0,target:e,detail:{currentElement:e,newElement:t}}).defaultPrevented:!1};beforeAttributeUpdated=(e,t,r)=>!rr("turbo:before-morph-attribute",{cancelable:!0,target:t,detail:{attributeName:e,mutationType:r}}).defaultPrevented;beforeNodeRemoved=e=>this.beforeNodeMorphed(e);afterNodeMorphed=(e,t)=>{e instanceof Element&&rr("turbo:morph-element",{target:e,detail:{currentElement:e,newElement:t}})}}class eA extends Sp{static renderElement(e,t){rr("turbo:before-frame-morph",{target:e,detail:{currentElement:e,newElement:t}}),Ep(e,t,{callbacks:{beforeNodeMorphed:(r,i)=>JE(r,i)&&QE(r)===e?(r.reload(),!1):!0}})}async preservingPermanentElements(e){return await e()}}class da{static animationDuration=300;static get defaultCSS(){return PE`
      .turbo-progress-bar {
        position: fixed;
        display: block;
        top: 0;
        left: 0;
        height: 3px;
        background: #0076ff;
        z-index: 2147483647;
        transition:
          width ${da.animationDuration}ms ease-out,
          opacity ${da.animationDuration/2}ms ${da.animationDuration/2}ms ease-in;
        transform: translate3d(0, 0, 0);
      }
    `}hiding=!1;value=0;visible=!1;constructor(){this.stylesheetElement=this.createStylesheetElement(),this.progressElement=this.createProgressElement(),this.installStylesheetElement(),this.setValue(0)}show(){this.visible||(this.visible=!0,this.installProgressElement(),this.startTrickling())}hide(){this.visible&&!this.hiding&&(this.hiding=!0,this.fadeProgressElement(()=>{this.uninstallProgressElement(),this.stopTrickling(),this.visible=!1,this.hiding=!1}))}setValue(e){this.value=e,this.refresh()}installStylesheetElement(){document.head.insertBefore(this.stylesheetElement,document.head.firstChild)}installProgressElement(){this.progressElement.style.width="0",this.progressElement.style.opacity="1",document.documentElement.insertBefore(this.progressElement,document.body),this.refresh()}fadeProgressElement(e){this.progressElement.style.opacity="0",setTimeout(e,da.animationDuration*1.5)}uninstallProgressElement(){this.progressElement.parentNode&&document.documentElement.removeChild(this.progressElement)}startTrickling(){this.trickleInterval||(this.trickleInterval=window.setInterval(this.trickle,da.animationDuration))}stopTrickling(){window.clearInterval(this.trickleInterval),delete this.trickleInterval}trickle=()=>{this.setValue(this.value+Math.random()/100)};refresh(){requestAnimationFrame(()=>{this.progressElement.style.width=`${10+this.value*90}%`})}createStylesheetElement(){const e=document.createElement("style");e.type="text/css",e.textContent=da.defaultCSS;const t=IE();return t&&(e.nonce=t),e}createProgressElement(){const e=document.createElement("div");return e.className="turbo-progress-bar",e}}class UF extends xp{detailsByOuterHTML=this.children.filter(e=>!GF(e)).map(e=>ZF(e)).reduce((e,t)=>{const{outerHTML:r}=t,i=r in e?e[r]:{type:qF(t),tracked:WF(t),elements:[]};return{...e,[r]:{...i,elements:[...i.elements,t]}}},{});get trackedElementSignature(){return Object.keys(this.detailsByOuterHTML).filter(e=>this.detailsByOuterHTML[e].tracked).join("")}getScriptElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("script",e)}getStylesheetElementsNotInSnapshot(e){return this.getElementsMatchingTypeNotInSnapshot("stylesheet",e)}getElementsMatchingTypeNotInSnapshot(e,t){return Object.keys(this.detailsByOuterHTML).filter(r=>!(r in t.detailsByOuterHTML)).map(r=>this.detailsByOuterHTML[r]).filter(({type:r})=>r==e).map(({elements:[r]})=>r)}get provisionalElements(){return Object.keys(this.detailsByOuterHTML).reduce((e,t)=>{const{type:r,tracked:i,elements:o}=this.detailsByOuterHTML[t];return r==null&&!i?[...e,...o]:o.length>1?[...e,...o.slice(1)]:e},[])}getMetaValue(e){const t=this.findMetaElementByName(e);return t?t.getAttribute("content"):null}findMetaElementByName(e){return Object.keys(this.detailsByOuterHTML).reduce((t,r)=>{const{elements:[i]}=this.detailsByOuterHTML[r];return KF(i,e)?i:t},void 0|void 0)}}function qF(n){if(VF(n))return"script";if(YF(n))return"stylesheet"}function WF(n){return n.getAttribute("data-turbo-track")=="reload"}function VF(n){return n.localName=="script"}function GF(n){return n.localName=="noscript"}function YF(n){const e=n.localName;return e=="style"||e=="link"&&n.getAttribute("rel")=="stylesheet"}function KF(n,e){return n.localName=="meta"&&n.getAttribute("name")==e}function ZF(n){return n.hasAttribute("nonce")&&n.setAttribute("nonce",""),n}class fs extends xp{static fromHTMLString(e=""){return this.fromDocument(ME(e))}static fromElement(e){return this.fromDocument(e.ownerDocument)}static fromDocument({documentElement:e,body:t,head:r}){return new this(e,t,new UF(r))}constructor(e,t,r){super(t),this.documentElement=e,this.headSnapshot=r}clone(){const e=this.element.cloneNode(!0),t=this.element.querySelectorAll("select"),r=e.querySelectorAll("select");for(const[i,o]of t.entries()){const l=r[i];for(const h of l.selectedOptions)h.selected=!1;for(const h of o.selectedOptions)l.options[h.index].selected=!0}for(const i of e.querySelectorAll('input[type="password"]'))i.value="";for(const i of e.querySelectorAll("noscript"))i.remove();return new fs(this.documentElement,e,this.headSnapshot)}get lang(){return this.documentElement.getAttribute("lang")}get dir(){return this.documentElement.getAttribute("dir")}get headElement(){return this.headSnapshot.element}get rootLocation(){const e=this.getSetting("root")??"/";return Gr(e)}get cacheControlValue(){return this.getSetting("cache-control")}get isPreviewable(){return this.cacheControlValue!="no-preview"}get isCacheable(){return this.cacheControlValue!="no-cache"}get isVisitable(){return this.getSetting("visit-control")!="reload"}get prefersViewTransitions(){return(this.getSetting("view-transition")==="true"||this.headSnapshot.getMetaValue("view-transition")==="same-origin")&&!window.matchMedia("(prefers-reduced-motion: reduce)").matches}get refreshMethod(){return this.getSetting("refresh-method")}get refreshScroll(){return this.getSetting("refresh-scroll")}getSetting(e){return this.headSnapshot.getMetaValue(`turbo-${e}`)}}class XF{#e=!1;#t=Promise.resolve();renderChange(e,t){return e&&this.viewTransitionsAvailable&&!this.#e?(this.#e=!0,this.#t=this.#t.then(async()=>{await document.startViewTransition(t).finished})):this.#t=this.#t.then(t),this.#t}get viewTransitionsAvailable(){return document.startViewTransition}}const JF={action:"advance",historyChanged:!1,visitCachedSnapshot:()=>{},willRender:!0,updateHistory:!0,shouldCacheSnapshot:!0,acceptsStreamResponse:!1,refresh:{}},nd={visitStart:"visitStart",requestStart:"requestStart",requestEnd:"requestEnd",visitEnd:"visitEnd"},No={initialized:"initialized",started:"started",canceled:"canceled",failed:"failed",completed:"completed"},Ru={networkFailure:0,timeoutFailure:-1,contentTypeMismatch:-2},QF={advance:"forward",restore:"back",replace:"none"};class eB{identifier=Ca();timingMetrics={};followedRedirect=!1;historyChanged=!1;scrolled=!1;shouldCacheSnapshot=!0;acceptsStreamResponse=!1;snapshotCached=!1;state=No.initialized;viewTransitioner=new XF;constructor(e,t,r,i={}){this.delegate=e,this.location=t,this.restorationIdentifier=r||Ca();const{action:o,historyChanged:l,referrer:h,snapshot:u,snapshotHTML:f,response:d,visitCachedSnapshot:g,willRender:y,updateHistory:k,shouldCacheSnapshot:w,acceptsStreamResponse:_,direction:A,refresh:N}={...JF,...i};this.action=o,this.historyChanged=l,this.referrer=h,this.snapshot=u,this.snapshotHTML=f,this.response=d,this.isPageRefresh=this.view.isPageRefresh(this),this.visitCachedSnapshot=g,this.willRender=y,this.updateHistory=k,this.scrolled=!y,this.shouldCacheSnapshot=w,this.acceptsStreamResponse=_,this.direction=A||QF[o],this.refresh=N}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get history(){return this.delegate.history}get restorationData(){return this.history.getRestorationDataForIdentifier(this.restorationIdentifier)}start(){this.state==No.initialized&&(this.recordTimingMetric(nd.visitStart),this.state=No.started,this.adapter.visitStarted(this),this.delegate.visitStarted(this))}cancel(){this.state==No.started&&(this.request&&this.request.cancel(),this.cancelRender(),this.state=No.canceled)}complete(){this.state==No.started&&(this.recordTimingMetric(nd.visitEnd),this.adapter.visitCompleted(this),this.state=No.completed,this.followRedirect(),this.followedRedirect||this.delegate.visitCompleted(this))}fail(){this.state==No.started&&(this.state=No.failed,this.adapter.visitFailed(this),this.delegate.visitCompleted(this))}changeHistory(){if(!this.historyChanged&&this.updateHistory){const e=this.location.href===this.referrer?.href?"replace":this.action,t=NE(e);this.history.update(t,this.location,this.restorationIdentifier),this.historyChanged=!0}}issueRequest(){this.hasPreloadedResponse()?this.simulateRequest():this.shouldIssueRequest()&&!this.request&&(this.request=new ic(this,Yi.get,this.location),this.request.perform())}simulateRequest(){this.response&&(this.startRequest(),this.recordResponse(),this.finishRequest())}startRequest(){this.recordTimingMetric(nd.requestStart),this.adapter.visitRequestStarted(this)}recordResponse(e=this.response){if(this.response=e,e){const{statusCode:t}=e;Rw(t)?this.adapter.visitRequestCompleted(this):this.adapter.visitRequestFailedWithStatusCode(this,t)}}finishRequest(){this.recordTimingMetric(nd.requestEnd),this.adapter.visitRequestFinished(this)}loadResponse(){if(this.response){const{statusCode:e,responseHTML:t}=this.response;this.render(async()=>{if(this.shouldCacheSnapshot&&this.cacheSnapshot(),this.view.renderPromise&&await this.view.renderPromise,Rw(e)&&t!=null){const r=fs.fromHTMLString(t);await this.renderPageSnapshot(r,!1),this.adapter.visitRendered(this),this.complete()}else await this.view.renderError(fs.fromHTMLString(t),this),this.adapter.visitRendered(this),this.fail()})}}getCachedSnapshot(){const e=this.view.getCachedSnapshotForLocation(this.location)||this.getPreloadedSnapshot();if(e&&(!vh(this.location)||e.hasAnchor(vh(this.location)))&&(this.action=="restore"||e.isPreviewable))return e}getPreloadedSnapshot(){if(this.snapshotHTML)return fs.fromHTMLString(this.snapshotHTML)}hasCachedSnapshot(){return this.getCachedSnapshot()!=null}loadCachedSnapshot(){const e=this.getCachedSnapshot();if(e){const t=this.shouldIssueRequest();this.render(async()=>{this.cacheSnapshot(),this.isPageRefresh?this.adapter.visitRendered(this):(this.view.renderPromise&&await this.view.renderPromise,await this.renderPageSnapshot(e,t),this.adapter.visitRendered(this),t||this.complete())})}}followRedirect(){this.redirectedToLocation&&!this.followedRedirect&&this.response?.redirected&&(this.adapter.visitProposedToLocation(this.redirectedToLocation,{action:"replace",response:this.response,shouldCacheSnapshot:!1,willRender:!1}),this.followedRedirect=!0)}prepareRequest(e){this.acceptsStreamResponse&&e.acceptResponseType(sc.contentType)}requestStarted(){this.startRequest()}requestPreventedHandlingResponse(e,t){}async requestSucceededWithResponse(e,t){const r=await t.responseHTML,{redirected:i,statusCode:o}=t;r==null?this.recordResponse({statusCode:Ru.contentTypeMismatch,redirected:i}):(this.redirectedToLocation=t.redirected?t.location:void 0,this.recordResponse({statusCode:o,responseHTML:r,redirected:i}))}async requestFailedWithResponse(e,t){const r=await t.responseHTML,{redirected:i,statusCode:o}=t;r==null?this.recordResponse({statusCode:Ru.contentTypeMismatch,redirected:i}):this.recordResponse({statusCode:o,responseHTML:r,redirected:i})}requestErrored(e,t){this.recordResponse({statusCode:Ru.networkFailure,redirected:!1})}requestFinished(){this.finishRequest()}performScroll(){!this.scrolled&&!this.view.forceReloaded&&!this.view.shouldPreserveScrollPosition(this)&&(this.action=="restore"?this.scrollToRestoredPosition()||this.scrollToAnchor()||this.view.scrollToTop():this.scrollToAnchor()||this.view.scrollToTop(),this.scrolled=!0)}scrollToRestoredPosition(){const{scrollPosition:e}=this.restorationData;if(e)return this.view.scrollToPosition(e),!0}scrollToAnchor(){const e=vh(this.location);if(e!=null)return this.view.scrollToAnchor(e),!0}recordTimingMetric(e){this.timingMetrics[e]=new Date().getTime()}getTimingMetrics(){return{...this.timingMetrics}}hasPreloadedResponse(){return typeof this.response=="object"}shouldIssueRequest(){return this.action=="restore"?!this.hasCachedSnapshot():this.willRender}cacheSnapshot(){this.snapshotCached||(this.view.cacheSnapshot(this.snapshot).then(e=>e&&this.visitCachedSnapshot(e)),this.snapshotCached=!0)}async render(e){this.cancelRender(),await new Promise(t=>{this.frame=document.visibilityState==="hidden"?setTimeout(()=>t(),0):requestAnimationFrame(()=>t())}),await e(),delete this.frame}async renderPageSnapshot(e,t){await this.viewTransitioner.renderChange(this.view.shouldTransitionTo(e),async()=>{await this.view.renderPage(e,t,this.willRender,this),this.performScroll()})}cancelRender(){this.frame&&(cancelAnimationFrame(this.frame),delete this.frame)}}function Rw(n){return n>=200&&n<300}class tB{progressBar=new da;constructor(e){this.session=e}visitProposedToLocation(e,t){ma(e,this.navigator.rootLocation)?this.navigator.startVisit(e,t?.restorationIdentifier||Ca(),t):window.location.href=e.toString()}visitStarted(e){this.location=e.location,this.redirectedToLocation=null,e.loadCachedSnapshot(),e.issueRequest()}visitRequestStarted(e){this.progressBar.setValue(0),e.hasCachedSnapshot()||e.action!="restore"?this.showVisitProgressBarAfterDelay():this.showProgressBar()}visitRequestCompleted(e){e.loadResponse(),e.response.redirected&&(this.redirectedToLocation=e.redirectedToLocation)}visitRequestFailedWithStatusCode(e,t){switch(t){case Ru.networkFailure:case Ru.timeoutFailure:case Ru.contentTypeMismatch:return this.reload({reason:"request_failed",context:{statusCode:t}});default:return e.loadResponse()}}visitRequestFinished(e){}visitCompleted(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}pageInvalidated(e){this.reload(e)}visitFailed(e){this.progressBar.setValue(1),this.hideVisitProgressBar()}visitRendered(e){}linkPrefetchingIsEnabledForLocation(e){return!0}formSubmissionStarted(e){this.progressBar.setValue(0),this.showFormProgressBarAfterDelay()}formSubmissionFinished(e){this.progressBar.setValue(1),this.hideFormProgressBar()}showVisitProgressBarAfterDelay(){this.visitProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay)}hideVisitProgressBar(){this.progressBar.hide(),this.visitProgressBarTimeout!=null&&(window.clearTimeout(this.visitProgressBarTimeout),delete this.visitProgressBarTimeout)}showFormProgressBarAfterDelay(){this.formProgressBarTimeout==null&&(this.formProgressBarTimeout=window.setTimeout(this.showProgressBar,this.session.progressBarDelay))}hideFormProgressBar(){this.progressBar.hide(),this.formProgressBarTimeout!=null&&(window.clearTimeout(this.formProgressBarTimeout),delete this.formProgressBarTimeout)}showProgressBar=()=>{this.progressBar.show()};reload(e){rr("turbo:reload",{detail:e}),window.location.href=(this.redirectedToLocation||this.location)?.toString()||window.location.href}get navigator(){return this.session.navigator}}class nB{selector="[data-turbo-temporary]";started=!1;start(){this.started||(this.started=!0,addEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}stop(){this.started&&(this.started=!1,removeEventListener("turbo:before-cache",this.removeTemporaryElements,!1))}removeTemporaryElements=e=>{for(const t of this.temporaryElements)t.remove()};get temporaryElements(){return[...document.querySelectorAll(this.selector)]}}class rB{constructor(e,t){this.session=e,this.element=t,this.linkInterceptor=new YE(this,t),this.formSubmitObserver=new Uy(this,t)}start(){this.linkInterceptor.start(),this.formSubmitObserver.start()}stop(){this.linkInterceptor.stop(),this.formSubmitObserver.stop()}shouldInterceptLinkClick(e,t,r){return this.#t(e)}linkClickIntercepted(e,t,r){const i=this.#n(e);i&&i.delegate.linkClickIntercepted(e,t,r)}willSubmitForm(e,t){return e.closest("turbo-frame")==null&&this.#e(e,t)&&this.#t(e,t)}formSubmitted(e,t){const r=this.#n(e,t);r&&r.delegate.formSubmitted(e,t)}#e(e,t){const r=zy(e,t),i=this.element.ownerDocument.querySelector('meta[name="turbo-root"]'),o=Gr(i?.content??"/");return this.#t(e,t)&&ma(r,o)}#t(e,t){if(e instanceof HTMLFormElement?this.session.submissionIsNavigatable(e,t):this.session.elementIsNavigatable(e)){const i=this.#n(e,t);return i?i!=e.closest("turbo-frame"):!1}else return!1}#n(e,t){const r=t?.getAttribute("data-turbo-frame")||e.getAttribute("data-turbo-frame");if(r&&r!="_top"){const i=this.element.querySelector(`#${r}:not([disabled])`);if(i instanceof Xi)return i}}}let iB=class{location;restorationIdentifier=Ca();restorationData={};started=!1;currentIndex=0;constructor(e){this.delegate=e}start(){this.started||(addEventListener("popstate",this.onPopState,!1),this.currentIndex=history.state?.turbo?.restorationIndex||0,this.started=!0,this.replace(new URL(window.location.href)))}stop(){this.started&&(removeEventListener("popstate",this.onPopState,!1),this.started=!1)}push(e,t){this.update(history.pushState,e,t)}replace(e,t){this.update(history.replaceState,e,t)}update(e,t,r=Ca()){e===history.pushState&&++this.currentIndex;const i={turbo:{restorationIdentifier:r,restorationIndex:this.currentIndex}};e.call(history,i,"",t.href),this.location=t,this.restorationIdentifier=r}getRestorationDataForIdentifier(e){return this.restorationData[e]||{}}updateRestorationData(e){const{restorationIdentifier:t}=this,r=this.restorationData[t];this.restorationData[t]={...r,...e}}assumeControlOfScrollRestoration(){this.previousScrollRestoration||(this.previousScrollRestoration=history.scrollRestoration??"auto",history.scrollRestoration="manual")}relinquishControlOfScrollRestoration(){this.previousScrollRestoration&&(history.scrollRestoration=this.previousScrollRestoration,delete this.previousScrollRestoration)}onPopState=e=>{const{turbo:t}=e.state||{};if(this.location=new URL(window.location.href),t){const{restorationIdentifier:r,restorationIndex:i}=t;this.restorationIdentifier=r;const o=i>this.currentIndex?"forward":"back";this.delegate.historyPoppedToLocationWithRestorationIdentifierAndDirection(this.location,r,o),this.currentIndex=i}else this.currentIndex++,this.delegate.historyPoppedWithEmptyState(this.location)}};class sB{started=!1;#e=null;constructor(e,t){this.delegate=e,this.eventTarget=t}start(){this.started||(this.eventTarget.readyState==="loading"?this.eventTarget.addEventListener("DOMContentLoaded",this.#t,{once:!0}):this.#t())}stop(){this.started&&(this.eventTarget.removeEventListener("mouseenter",this.#n,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("mouseleave",this.#o,{capture:!0,passive:!0}),this.eventTarget.removeEventListener("turbo:before-fetch-request",this.#i,!0),this.started=!1)}#t=()=>{this.eventTarget.addEventListener("mouseenter",this.#n,{capture:!0,passive:!0}),this.eventTarget.addEventListener("mouseleave",this.#o,{capture:!0,passive:!0}),this.eventTarget.addEventListener("turbo:before-fetch-request",this.#i,!0),this.started=!0};#n=e=>{if(tp("turbo-prefetch")==="false")return;const t=e.target;if(t.matches&&t.matches("a[href]:not([target^=_]):not([download])")&&this.#l(t)){const i=t,o=BE(i);if(this.delegate.canPrefetchRequestToLocation(i,o)){this.#e=i;const l=new ic(this,Yi.get,o,new URLSearchParams,t);l.fetchOptions.priority="low",ku.putLater(o,l,this.#r)}}};#o=e=>{e.target===this.#e&&this.#a()};#a=()=>{ku.clear(),this.#e=null};#i=e=>{if(e.target.tagName!=="FORM"&&e.detail.fetchOptions.method==="GET"){const t=ku.get(e.detail.url);t&&(e.detail.fetchRequest=t),ku.clear()}};prepareRequest(e){const t=e.target;e.headers["X-Sec-Purpose"]="prefetch";const r=t.closest("turbo-frame"),i=t.getAttribute("data-turbo-frame")||r?.getAttribute("target")||r?.id;i&&i!=="_top"&&(e.headers["Turbo-Frame"]=i)}requestSucceededWithResponse(){}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}get#r(){return Number(tp("turbo-prefetch-cache-time"))||qE}#l(e){return!(!e.getAttribute("href")||oB(e)||aB(e)||lB(e)||uB(e)||hB(e))}}const oB=n=>n.origin!==document.location.origin||!["http:","https:"].includes(n.protocol)||n.hasAttribute("target"),aB=n=>n.pathname+n.search===document.location.pathname+document.location.search||n.href.startsWith("#"),lB=n=>{if(n.getAttribute("data-turbo-prefetch")==="false"||n.getAttribute("data-turbo")==="false")return!0;const e=Du(n,"[data-turbo-prefetch]");return!!(e&&e.getAttribute("data-turbo-prefetch")==="false")},uB=n=>{const e=n.getAttribute("data-turbo-method");return!!(e&&e.toLowerCase()!=="get"||cB(n)||n.hasAttribute("data-turbo-confirm")||n.hasAttribute("data-turbo-stream"))},cB=n=>n.hasAttribute("data-remote")||n.hasAttribute("data-behavior")||n.hasAttribute("data-confirm")||n.hasAttribute("data-method"),hB=n=>rr("turbo:before-prefetch",{target:n,cancelable:!0}).defaultPrevented;class fB{constructor(e){this.delegate=e}proposeVisit(e,t={}){this.delegate.allowsVisitingLocationWithAction(e,t.action)&&this.delegate.visitProposedToLocation(e,t)}startVisit(e,t,r={}){this.stop(),this.currentVisit=new eB(this,Gr(e),t,{referrer:this.location,...r}),this.currentVisit.start()}submitForm(e,t){this.stop(),this.formSubmission=new _p(this,e,t,!0),this.formSubmission.start()}stop(){this.formSubmission&&(this.formSubmission.stop(),delete this.formSubmission),this.currentVisit&&(this.currentVisit.cancel(),delete this.currentVisit)}get adapter(){return this.delegate.adapter}get view(){return this.delegate.view}get rootLocation(){return this.view.snapshot.rootLocation}get history(){return this.delegate.history}formSubmissionStarted(e){typeof this.adapter.formSubmissionStarted=="function"&&this.adapter.formSubmissionStarted(e)}async formSubmissionSucceededWithResponse(e,t){if(e==this.formSubmission){const r=await t.responseHTML;if(r){const i=e.isSafe;i||this.view.clearSnapshotCache();const{statusCode:o,redirected:l}=t,u={action:this.#e(e,t),shouldCacheSnapshot:i,response:{statusCode:o,responseHTML:r,redirected:l}};this.proposeVisit(t.location,u)}}}async formSubmissionFailedWithResponse(e,t){const r=await t.responseHTML;if(r){const i=fs.fromHTMLString(r);t.serverError?await this.view.renderError(i,this.currentVisit):await this.view.renderPage(i,!1,!0,this.currentVisit),i.refreshScroll!=="preserve"&&this.view.scrollToTop(),this.view.clearSnapshotCache()}}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished(e){typeof this.adapter.formSubmissionFinished=="function"&&this.adapter.formSubmissionFinished(e)}linkPrefetchingIsEnabledForLocation(e){return typeof this.adapter.linkPrefetchingIsEnabledForLocation=="function"?this.adapter.linkPrefetchingIsEnabledForLocation(e):!0}visitStarted(e){this.delegate.visitStarted(e)}visitCompleted(e){this.delegate.visitCompleted(e),delete this.currentVisit}locationWithActionIsSamePage(e,t){return!1}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}#e(e,t){const{submitter:r,formElement:i}=e;return gl(r,i)||this.#t(t)}#t(e){return e.redirected&&e.location.href===this.location?.href?"replace":"advance"}}const il={initial:0,loading:1,interactive:2,complete:3};class dB{stage=il.initial;started=!1;constructor(e){this.delegate=e}start(){this.started||(this.stage==il.initial&&(this.stage=il.loading),document.addEventListener("readystatechange",this.interpretReadyState,!1),addEventListener("pagehide",this.pageWillUnload,!1),this.started=!0)}stop(){this.started&&(document.removeEventListener("readystatechange",this.interpretReadyState,!1),removeEventListener("pagehide",this.pageWillUnload,!1),this.started=!1)}interpretReadyState=()=>{const{readyState:e}=this;e=="interactive"?this.pageIsInteractive():e=="complete"&&this.pageIsComplete()};pageIsInteractive(){this.stage==il.loading&&(this.stage=il.interactive,this.delegate.pageBecameInteractive())}pageIsComplete(){this.pageIsInteractive(),this.stage==il.interactive&&(this.stage=il.complete,this.delegate.pageLoaded())}pageWillUnload=()=>{this.delegate.pageWillUnload()};get readyState(){return document.readyState}}class pB{started=!1;constructor(e){this.delegate=e}start(){this.started||(addEventListener("scroll",this.onScroll,!1),this.onScroll(),this.started=!0)}stop(){this.started&&(removeEventListener("scroll",this.onScroll,!1),this.started=!1)}onScroll=()=>{this.updatePosition({x:window.pageXOffset,y:window.pageYOffset})};updatePosition(e){this.delegate.scrollPositionChanged(e)}}class mB{render({fragment:e}){XE.preservingPermanentElements(this,gB(e),()=>{vB(e,()=>{yB(()=>{document.documentElement.appendChild(e)})})})}enteringBardo(e,t){t.replaceWith(e.cloneNode(!0))}leavingBardo(){}}function gB(n){const e=VE(document.documentElement),t={};for(const r of e){const{id:i}=r;for(const o of n.querySelectorAll("turbo-stream")){const l=WE(o.templateElement.content,i);l&&(t[i]=[r,l])}}return t}async function vB(n,e){const t=`turbo-stream-autofocus-${Ca()}`,r=n.querySelectorAll("turbo-stream"),i=bB(r);let o=null;if(i&&(i.id?o=i.id:o=t,i.id=o),e(),await gh(),(document.activeElement==null||document.activeElement==document.body)&&o){const h=document.getElementById(o);Hy(h)&&h.focus(),h&&h.id==t&&h.removeAttribute("id")}}async function yB(n){const[e,t]=await cF(n,()=>document.activeElement),r=e&&e.id;if(r){const i=document.getElementById(r);Hy(i)&&i!=t&&i.focus()}}function bB(n){for(const e of n){const t=DE(e.templateElement.content);if(t)return t}return null}class wB{sources=new Set;#e=!1;constructor(e){this.delegate=e}start(){this.#e||(this.#e=!0,addEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}stop(){this.#e&&(this.#e=!1,removeEventListener("turbo:before-fetch-response",this.inspectFetchResponse,!1))}connectStreamSource(e){this.streamSourceIsConnected(e)||(this.sources.add(e),e.addEventListener("message",this.receiveMessageEvent,!1))}disconnectStreamSource(e){this.streamSourceIsConnected(e)&&(this.sources.delete(e),e.removeEventListener("message",this.receiveMessageEvent,!1))}streamSourceIsConnected(e){return this.sources.has(e)}inspectFetchResponse=e=>{const t=_B(e);t&&xB(t)&&(e.preventDefault(),this.receiveMessageResponse(t))};receiveMessageEvent=e=>{this.#e&&typeof e.data=="string"&&this.receiveMessageHTML(e.data)};async receiveMessageResponse(e){const t=await e.responseHTML;t&&this.receiveMessageHTML(t)}receiveMessageHTML(e){this.delegate.receivedMessageFromStream(sc.wrap(e))}}function _B(n){const e=n.detail?.fetchResponse;if(e instanceof yp)return e}function xB(n){return(n.contentType??"").startsWith(sc.contentType)}class SB extends qy{static renderElement(e,t){const{documentElement:r,body:i}=document;r.replaceChild(t,i)}async render(){this.replaceHeadAndBody(),this.activateScriptElements()}replaceHeadAndBody(){const{documentElement:e,head:t}=document;e.replaceChild(this.newHead,t),this.renderElement(this.currentElement,this.newElement)}activateScriptElements(){for(const e of this.scriptElements){const t=e.parentNode;if(t){const r=Th(e);t.replaceChild(r,e)}}}get newHead(){return this.newSnapshot.headSnapshot.element}get scriptElements(){return document.documentElement.querySelectorAll("script")}}class Ap extends qy{static renderElement(e,t){document.body&&t instanceof HTMLBodyElement?document.body.replaceWith(t):document.documentElement.appendChild(t)}get shouldRender(){return this.newSnapshot.isVisitable&&this.trackedElementsAreIdentical}get reloadReason(){if(!this.newSnapshot.isVisitable)return{reason:"turbo_visit_control_is_reload"};if(!this.trackedElementsAreIdentical)return{reason:"tracked_element_mismatch"}}async prepareToRender(){this.#e(),await this.mergeHead()}async render(){this.willRender&&await this.replaceBody()}finishRendering(){super.finishRendering(),this.isPreview||this.focusFirstAutofocusableElement()}get currentHeadSnapshot(){return this.currentSnapshot.headSnapshot}get newHeadSnapshot(){return this.newSnapshot.headSnapshot}get newElement(){return this.newSnapshot.element}#e(){const{documentElement:e}=this.currentSnapshot,{dir:t,lang:r}=this.newSnapshot;r?e.setAttribute("lang",r):e.removeAttribute("lang"),t?e.setAttribute("dir",t):e.removeAttribute("dir")}async mergeHead(){const e=this.mergeProvisionalElements(),t=this.copyNewHeadStylesheetElements();this.copyNewHeadScriptElements(),await e,await t,this.willRender&&this.removeUnusedDynamicStylesheetElements()}async replaceBody(){await this.preservingPermanentElements(async()=>{this.activateNewBody(),await this.assignNewBody()})}get trackedElementsAreIdentical(){return this.currentHeadSnapshot.trackedElementSignature==this.newHeadSnapshot.trackedElementSignature}async copyNewHeadStylesheetElements(){const e=[];for(const t of this.newHeadStylesheetElements)e.push(aF(t)),document.head.appendChild(t);await Promise.all(e)}copyNewHeadScriptElements(){for(const e of this.newHeadScriptElements)document.head.appendChild(Th(e))}removeUnusedDynamicStylesheetElements(){for(const e of this.unusedDynamicStylesheetElements)document.head.removeChild(e)}async mergeProvisionalElements(){const e=[...this.newHeadProvisionalElements];for(const t of this.currentHeadProvisionalElements)this.isCurrentElementInElementList(t,e)||document.head.removeChild(t);for(const t of e)document.head.appendChild(t)}isCurrentElementInElementList(e,t){for(const[r,i]of t.entries()){if(e.tagName=="TITLE"){if(i.tagName!="TITLE")continue;if(e.innerHTML==i.innerHTML)return t.splice(r,1),!0}if(i.isEqualNode(e))return t.splice(r,1),!0}return!1}removeCurrentHeadProvisionalElements(){for(const e of this.currentHeadProvisionalElements)document.head.removeChild(e)}copyNewHeadProvisionalElements(){for(const e of this.newHeadProvisionalElements)document.head.appendChild(e)}activateNewBody(){document.adoptNode(this.newElement),this.removeNoscriptElements(),this.activateNewBodyScriptElements()}removeNoscriptElements(){for(const e of this.newElement.querySelectorAll("noscript"))e.remove()}activateNewBodyScriptElements(){for(const e of this.newBodyScriptElements){const t=Th(e);e.replaceWith(t)}}async assignNewBody(){await this.renderElement(this.currentElement,this.newElement)}get unusedDynamicStylesheetElements(){return this.oldHeadStylesheetElements.filter(e=>e.getAttribute("data-turbo-track")==="dynamic")}get oldHeadStylesheetElements(){return this.currentHeadSnapshot.getStylesheetElementsNotInSnapshot(this.newHeadSnapshot)}get newHeadStylesheetElements(){return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot)}get newHeadScriptElements(){return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot)}get currentHeadProvisionalElements(){return this.currentHeadSnapshot.provisionalElements}get newHeadProvisionalElements(){return this.newHeadSnapshot.provisionalElements}get newBodyScriptElements(){return this.newElement.querySelectorAll("script")}}class tA extends Ap{static renderElement(e,t){Yh(e,t,{callbacks:{beforeNodeMorphed:(r,i)=>JE(r,i)&&!QE(r)?(r.reload(),!1):!0}}),rr("turbo:morph",{detail:{currentElement:e,newElement:t}})}async preservingPermanentElements(e){return await e()}get renderMethod(){return"morph"}get shouldAutofocus(){return!1}}class EB extends UE{constructor(e){super(e,Od)}get snapshots(){return this.entries}}class AB extends GE{snapshotCache=new EB(10);lastRenderedLocation=new URL(location.href);forceReloaded=!1;shouldTransitionTo(e){return this.snapshot.prefersViewTransitions&&e.prefersViewTransitions}renderPage(e,t=!1,r=!0,i){const l=this.isPageRefresh(i)&&(i?.refresh?.method||this.snapshot.refreshMethod)==="morph"?tA:Ap,h=new l(this.snapshot,e,t,r);return h.shouldRender?i?.changeHistory():this.forceReloaded=!0,this.render(h)}renderError(e,t){t?.changeHistory();const r=new SB(this.snapshot,e,!1);return this.render(r)}clearSnapshotCache(){this.snapshotCache.clear()}async cacheSnapshot(e=this.snapshot){if(e.isCacheable){this.delegate.viewWillCacheSnapshot();const{lastRenderedLocation:t}=this;await LE();const r=e.clone();return this.snapshotCache.put(t,r),r}}getCachedSnapshotForLocation(e){return this.snapshotCache.get(e)}isPageRefresh(e){return!e||this.lastRenderedLocation.pathname===e.location.pathname&&e.action==="replace"}shouldPreserveScrollPosition(e){return this.isPageRefresh(e)&&(e?.refresh?.scroll||this.snapshot.refreshScroll)==="preserve"}get snapshot(){return fs.fromElement(this.element)}}class TB{selector="a[data-turbo-preload]";constructor(e,t){this.delegate=e,this.snapshotCache=t}start(){document.readyState==="loading"?document.addEventListener("DOMContentLoaded",this.#e):this.preloadOnLoadLinksForView(document.body)}stop(){document.removeEventListener("DOMContentLoaded",this.#e)}preloadOnLoadLinksForView(e){for(const t of e.querySelectorAll(this.selector))this.delegate.shouldPreloadLink(t)&&this.preloadURL(t)}async preloadURL(e){const t=new URL(e.href);if(this.snapshotCache.has(t))return;await new ic(this,Yi.get,t,new URLSearchParams,e).perform()}prepareRequest(e){e.headers["X-Sec-Purpose"]="prefetch"}async requestSucceededWithResponse(e,t){try{const r=await t.responseHTML,i=fs.fromHTMLString(r);this.snapshotCache.put(e.url,i)}catch{}}requestStarted(e){}requestErrored(e){}requestFinished(e){}requestPreventedHandlingResponse(e,t){}requestFailedWithResponse(e,t){}#e=()=>{this.preloadOnLoadLinksForView(document.body)}}class kB{constructor(e){this.session=e}clear(){this.session.clearCache()}resetCacheControl(){this.#e("")}exemptPageFromCache(){this.#e("no-cache")}exemptPageFromPreview(){this.#e("no-preview")}#e(e){uF("turbo-cache-control",e)}}class CB{navigator=new fB(this);history=new iB(this);view=new AB(this,document.documentElement);adapter=new tB(this);pageObserver=new dB(this);cacheObserver=new nB;linkPrefetchObserver=new sB(this,document);linkClickObserver=new KE(this,window);formSubmitObserver=new Uy(this,document);scrollObserver=new pB(this);streamObserver=new wB(this);formLinkClickObserver=new ZE(this,document.documentElement);frameRedirector=new rB(this,document.documentElement);streamMessageRenderer=new mB;cache=new kB(this);enabled=!0;started=!1;#e=150;constructor(e){this.recentRequests=e,this.preloader=new TB(this,this.view.snapshotCache),this.debouncedRefresh=this.refresh,this.pageRefreshDebouncePeriod=this.pageRefreshDebouncePeriod}start(){this.started||(this.pageObserver.start(),this.cacheObserver.start(),this.linkPrefetchObserver.start(),this.formLinkClickObserver.start(),this.linkClickObserver.start(),this.formSubmitObserver.start(),this.scrollObserver.start(),this.streamObserver.start(),this.frameRedirector.start(),this.history.start(),this.preloader.start(),this.started=!0,this.enabled=!0)}disable(){this.enabled=!1}stop(){this.started&&(this.pageObserver.stop(),this.cacheObserver.stop(),this.linkPrefetchObserver.stop(),this.formLinkClickObserver.stop(),this.linkClickObserver.stop(),this.formSubmitObserver.stop(),this.scrollObserver.stop(),this.streamObserver.stop(),this.frameRedirector.stop(),this.history.stop(),this.preloader.stop(),this.started=!1)}registerAdapter(e){this.adapter=e}visit(e,t={}){const r=t.frame?document.getElementById(t.frame):null;if(r instanceof Xi){const i=t.action||gl(r);r.delegate.proposeVisitIfNavigatedWithAction(r,i),r.src=e.toString()}else this.navigator.proposeVisit(Gr(e),t)}refresh(e,t={}){t=typeof t=="string"?{requestId:t}:t;const{method:r,requestId:i,scroll:o}=t,l=i&&this.recentRequests.has(i),h=e===document.baseURI;!l&&!this.navigator.currentVisit&&h&&this.visit(e,{action:"replace",shouldCacheSnapshot:!1,refresh:{method:r,scroll:o}})}connectStreamSource(e){this.streamObserver.connectStreamSource(e)}disconnectStreamSource(e){this.streamObserver.disconnectStreamSource(e)}renderStreamMessage(e){this.streamMessageRenderer.render(sc.wrap(e))}clearCache(){this.view.clearSnapshotCache()}setProgressBarDelay(e){console.warn("Please replace `session.setProgressBarDelay(delay)` with `session.progressBarDelay = delay`. The function is deprecated and will be removed in a future version of Turbo.`"),this.progressBarDelay=e}set progressBarDelay(e){Mr.drive.progressBarDelay=e}get progressBarDelay(){return Mr.drive.progressBarDelay}set drive(e){Mr.drive.enabled=e}get drive(){return Mr.drive.enabled}set formMode(e){Mr.forms.mode=e}get formMode(){return Mr.forms.mode}get location(){return this.history.location}get restorationIdentifier(){return this.history.restorationIdentifier}get pageRefreshDebouncePeriod(){return this.#e}set pageRefreshDebouncePeriod(e){this.refresh=hF(this.debouncedRefresh.bind(this),e),this.#e=e}shouldPreloadLink(e){const t=e.hasAttribute("data-turbo-method"),r=e.hasAttribute("data-turbo-stream"),i=e.getAttribute("data-turbo-frame"),o=i=="_top"?null:document.getElementById(i)||Du(e,"turbo-frame:not([disabled])");if(t||r||o instanceof Xi)return!1;{const l=new URL(e.href);return this.elementIsNavigatable(e)&&ma(l,this.snapshot.rootLocation)}}historyPoppedToLocationWithRestorationIdentifierAndDirection(e,t,r){this.enabled?this.navigator.startVisit(e,t,{action:"restore",historyChanged:!0,direction:r}):this.adapter.pageInvalidated({reason:"turbo_disabled"})}historyPoppedWithEmptyState(e){this.history.replace(e),this.view.lastRenderedLocation=e,this.view.cacheSnapshot()}scrollPositionChanged(e){this.history.updateRestorationData({scrollPosition:e})}willSubmitFormLinkToLocation(e,t){return this.elementIsNavigatable(e)&&ma(t,this.snapshot.rootLocation)}submittedFormLinkToLocation(){}canPrefetchRequestToLocation(e,t){return this.elementIsNavigatable(e)&&ma(t,this.snapshot.rootLocation)&&this.navigator.linkPrefetchingIsEnabledForLocation(t)}willFollowLinkToLocation(e,t,r){return this.elementIsNavigatable(e)&&ma(t,this.snapshot.rootLocation)&&this.applicationAllowsFollowingLinkToLocation(e,t,r)}followedLinkToLocation(e,t){const r=this.getActionForLink(e),i=e.hasAttribute("data-turbo-stream");this.visit(t.href,{action:r,acceptsStreamResponse:i})}allowsVisitingLocationWithAction(e,t){return this.applicationAllowsVisitingLocation(e)}visitProposedToLocation(e,t){Fw(e),this.adapter.visitProposedToLocation(e,t)}visitStarted(e){e.acceptsStreamResponse||(Qd(document.documentElement),this.view.markVisitDirection(e.direction)),Fw(e.location),this.notifyApplicationAfterVisitingLocation(e.location,e.action)}visitCompleted(e){this.view.unmarkVisitDirection(),ep(document.documentElement),this.notifyApplicationAfterPageLoad(e.getTimingMetrics())}willSubmitForm(e,t){const r=zy(e,t);return this.submissionIsNavigatable(e,t)&&ma(Gr(r),this.snapshot.rootLocation)}formSubmitted(e,t){this.navigator.submitForm(e,t)}pageBecameInteractive(){this.view.lastRenderedLocation=this.location,this.notifyApplicationAfterPageLoad()}pageLoaded(){this.history.assumeControlOfScrollRestoration()}pageWillUnload(){this.history.relinquishControlOfScrollRestoration()}receivedMessageFromStream(e){this.renderStreamMessage(e)}viewWillCacheSnapshot(){this.notifyApplicationBeforeCachingSnapshot()}allowsImmediateRender({element:e},t){const r=this.notifyApplicationBeforeRender(e,t),{defaultPrevented:i,detail:{render:o}}=r;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!i}viewRenderedSnapshot(e,t,r){this.view.lastRenderedLocation=this.history.location,this.notifyApplicationAfterRender(r)}preloadOnLoadLinksForView(e){this.preloader.preloadOnLoadLinksForView(e)}viewInvalidated(e){this.adapter.pageInvalidated(e)}frameLoaded(e){this.notifyApplicationAfterFrameLoad(e)}frameRendered(e,t){this.notifyApplicationAfterFrameRender(e,t)}applicationAllowsFollowingLinkToLocation(e,t,r){return!this.notifyApplicationAfterClickingLinkToLocation(e,t,r).defaultPrevented}applicationAllowsVisitingLocation(e){return!this.notifyApplicationBeforeVisitingLocation(e).defaultPrevented}notifyApplicationAfterClickingLinkToLocation(e,t,r){return rr("turbo:click",{target:e,detail:{url:t.href,originalEvent:r},cancelable:!0})}notifyApplicationBeforeVisitingLocation(e){return rr("turbo:before-visit",{detail:{url:e.href},cancelable:!0})}notifyApplicationAfterVisitingLocation(e,t){return rr("turbo:visit",{detail:{url:e.href,action:t}})}notifyApplicationBeforeCachingSnapshot(){return rr("turbo:before-cache")}notifyApplicationBeforeRender(e,t){return rr("turbo:before-render",{detail:{newBody:e,...t},cancelable:!0})}notifyApplicationAfterRender(e){return rr("turbo:render",{detail:{renderMethod:e}})}notifyApplicationAfterPageLoad(e={}){return rr("turbo:load",{detail:{url:this.location.href,timing:e}})}notifyApplicationAfterFrameLoad(e){return rr("turbo:frame-load",{target:e})}notifyApplicationAfterFrameRender(e,t){return rr("turbo:frame-render",{detail:{fetchResponse:e},target:t,cancelable:!0})}submissionIsNavigatable(e,t){if(Mr.forms.mode=="off")return!1;{const r=t?this.elementIsNavigatable(t):!0;return Mr.forms.mode=="optin"?r&&e.closest('[data-turbo="true"]')!=null:r&&this.elementIsNavigatable(e)}}elementIsNavigatable(e){const t=Du(e,"[data-turbo]"),r=Du(e,"turbo-frame");return Mr.drive.enabled||r?t?t.getAttribute("data-turbo")!="false":!0:t?t.getAttribute("data-turbo")=="true":!1}getActionForLink(e){return gl(e)||"advance"}get snapshot(){return this.view.snapshot}}function Fw(n){Object.defineProperties(n,OB)}const OB={absoluteURL:{get(){return this.toString()}}},mr=new CB(HE),{cache:Wy,navigator:nA}=mr;function Vy(){mr.start()}function rA(n){mr.registerAdapter(n)}function np(n,e){mr.visit(n,e)}function Gy(n){mr.connectStreamSource(n)}function Yy(n){mr.disconnectStreamSource(n)}function iA(n){mr.renderStreamMessage(n)}function sA(n){console.warn("Please replace `Turbo.setProgressBarDelay(delay)` with `Turbo.config.drive.progressBarDelay = delay`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Mr.drive.progressBarDelay=n}function oA(n){console.warn("Please replace `Turbo.setConfirmMethod(confirmMethod)` with `Turbo.config.forms.confirm = confirmMethod`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Mr.forms.confirm=n}function aA(n){console.warn("Please replace `Turbo.setFormMode(mode)` with `Turbo.config.forms.mode = mode`. The top-level function is deprecated and will be removed in a future version of Turbo.`"),Mr.forms.mode=n}function lA(n,e){tA.renderElement(n,e)}function uA(n,e){eA.renderElement(n,e)}var LB=Object.freeze({__proto__:null,navigator:nA,session:mr,cache:Wy,PageRenderer:Ap,PageSnapshot:fs,FrameRenderer:Sp,fetch:$y,config:Mr,start:Vy,registerAdapter:rA,visit:np,connectStreamSource:Gy,disconnectStreamSource:Yy,renderStreamMessage:iA,setProgressBarDelay:sA,setConfirmMethod:oA,setFormMode:aA,morphBodyElements:lA,morphTurboFrameElements:uA,morphChildren:Ep,morphElements:Yh});class MB extends Error{}class PB{fetchResponseLoaded=e=>Promise.resolve();#e=null;#t=()=>{};#n=!1;#o=!1;#a=new Set;#i=!1;action=null;constructor(e){this.element=e,this.view=new RF(this,this.element),this.appearanceObserver=new xF(this,this.element),this.formLinkClickObserver=new ZE(this,this.element),this.linkInterceptor=new YE(this,this.element),this.restorationIdentifier=Ca(),this.formSubmitObserver=new Uy(this,this.element)}connect(){this.#n||(this.#n=!0,this.loadingStyle==fl.lazy?this.appearanceObserver.start():this.#r(),this.formLinkClickObserver.start(),this.linkInterceptor.start(),this.formSubmitObserver.start())}disconnect(){this.#n&&(this.#n=!1,this.appearanceObserver.stop(),this.formLinkClickObserver.stop(),this.linkInterceptor.stop(),this.formSubmitObserver.stop(),this.element.hasAttribute("recurse")||this.#e?.cancel())}disabledChanged(){this.disabled?this.#e?.cancel():this.loadingStyle==fl.eager&&this.#r()}sourceURLChanged(){this.#b("src")||(this.sourceURL||this.#e?.cancel(),this.element.isConnected&&(this.complete=!1),(this.loadingStyle==fl.eager||this.#o)&&this.#r())}sourceURLReloaded(){const{refresh:e,src:t}=this.element;return this.#i=t&&e==="morph",this.element.removeAttribute("complete"),this.element.src=null,this.element.src=t,this.element.loaded}loadingStyleChanged(){this.loadingStyle==fl.lazy?this.appearanceObserver.start():(this.appearanceObserver.stop(),this.#r())}async#r(){this.enabled&&this.isActive&&!this.complete&&this.sourceURL&&(this.element.loaded=this.#f(Gr(this.sourceURL)),this.appearanceObserver.stop(),await this.element.loaded,this.#o=!0)}async loadResponse(e){(e.redirected||e.succeeded&&e.isHTML)&&(this.sourceURL=e.response.url);try{const t=await e.responseHTML;if(t){const r=ME(t);fs.fromDocument(r).isVisitable?await this.#l(e,r):await this.#p(e)}}finally{this.#i=!1,this.fetchResponseLoaded=()=>Promise.resolve()}}elementAppearedInViewport(e){this.proposeVisitIfNavigatedWithAction(e,gl(e)),this.#r()}willSubmitFormLinkToLocation(e){return this.#u(e)}submittedFormLinkToLocation(e,t,r){const i=this.#s(e);i&&r.setAttribute("data-turbo-frame",i.id)}shouldInterceptLinkClick(e,t,r){return this.#u(e)}linkClickIntercepted(e,t){this.#d(e,t)}willSubmitForm(e,t){return e.closest("turbo-frame")==this.element&&this.#u(e,t)}formSubmitted(e,t){this.formSubmission&&this.formSubmission.stop(),this.formSubmission=new _p(this,e,t);const{fetchRequest:r}=this.formSubmission,i=this.#s(e,t);this.prepareRequest(r,i),this.formSubmission.start()}prepareRequest(e,t=this){e.headers["Turbo-Frame"]=t.id,this.currentNavigationElement?.hasAttribute("data-turbo-stream")&&e.acceptResponseType(sc.contentType)}requestStarted(e){Qd(this.element)}requestPreventedHandlingResponse(e,t){this.#t()}async requestSucceededWithResponse(e,t){await this.loadResponse(t),this.#t()}async requestFailedWithResponse(e,t){await this.loadResponse(t),this.#t()}requestErrored(e,t){console.error(t),this.#t()}requestFinished(e){ep(this.element)}formSubmissionStarted({formElement:e}){Qd(e,this.#s(e))}formSubmissionSucceededWithResponse(e,t){const r=this.#s(e.formElement,e.submitter);r.delegate.proposeVisitIfNavigatedWithAction(r,gl(e.submitter,e.formElement,r)),r.delegate.loadResponse(t),e.isSafe||mr.clearCache()}formSubmissionFailedWithResponse(e,t){this.element.delegate.loadResponse(t),mr.clearCache()}formSubmissionErrored(e,t){console.error(t)}formSubmissionFinished({formElement:e}){ep(e,this.#s(e))}allowsImmediateRender({element:e},t){const r=rr("turbo:before-frame-render",{target:this.element,detail:{newFrame:e,...t},cancelable:!0}),{defaultPrevented:i,detail:{render:o}}=r;return this.view.renderer&&o&&(this.view.renderer.renderElement=o),!i}viewRenderedSnapshot(e,t,r){}preloadOnLoadLinksForView(e){mr.preloadOnLoadLinksForView(e)}viewInvalidated(){}willRenderFrame(e,t){this.previousFrameElement=e.cloneNode(!0)}visitCachedSnapshot=({element:e})=>{const t=e.querySelector("#"+this.element.id);t&&this.previousFrameElement&&t.replaceChildren(...this.previousFrameElement.children),delete this.previousFrameElement};async#l(e,t){const r=await this.extractForeignFrameElement(t.body),i=this.#i?eA:Sp;if(r){const o=new xp(r),l=new i(this,this.view.snapshot,o,!1,!1);this.view.renderPromise&&await this.view.renderPromise,this.changeHistory(),await this.view.render(l),this.complete=!0,mr.frameRendered(e,this.element),mr.frameLoaded(this.element),await this.fetchResponseLoaded(e)}else this.#m(e)&&this.#g(e)}async#f(e){const t=new ic(this,Yi.get,e,new URLSearchParams,this.element);return this.#e?.cancel(),this.#e=t,new Promise(r=>{this.#t=()=>{this.#t=()=>{},this.#e=null,r()},t.perform()})}#d(e,t,r){const i=this.#s(e,r);i.delegate.proposeVisitIfNavigatedWithAction(i,gl(r,e,i)),this.#_(e,()=>{i.src=t})}proposeVisitIfNavigatedWithAction(e,t=null){if(this.action=t,this.action){const r=fs.fromElement(e).clone(),{visitCachedSnapshot:i}=e.delegate;e.delegate.fetchResponseLoaded=async o=>{if(e.src){const{statusCode:l,redirected:h}=o,u=await o.responseHTML,d={response:{statusCode:l,redirected:h,responseHTML:u},visitCachedSnapshot:i,willRender:!1,updateHistory:!1,restorationIdentifier:this.restorationIdentifier,snapshot:r};this.action&&(d.action=this.action),mr.visit(e.src,d)}}}}changeHistory(){if(this.action){const e=NE(this.action);mr.history.update(e,Gr(this.element.src||""),this.restorationIdentifier)}}async#p(e){console.warn(`The response (${e.statusCode}) from <turbo-frame id="${this.element.id}"> is performing a full page visit due to turbo-visit-control.`),await this.#c(e.response)}#m(e){this.element.setAttribute("complete","");const t=e.response,r=async(o,l)=>{o instanceof Response?this.#c(o):mr.visit(o,l)};return!rr("turbo:frame-missing",{target:this.element,detail:{response:t,visit:r},cancelable:!0}).defaultPrevented}#g(e){this.view.missing(),this.#v(e)}#v(e){const t=`The response (${e.statusCode}) did not contain the expected <turbo-frame id="${this.element.id}"> and will be ignored. To perform a full page visit instead, set turbo-visit-control to reload.`;throw new MB(t)}async#c(e){const t=new yp(e),r=await t.responseHTML,{location:i,redirected:o,statusCode:l}=t;return mr.visit(i,{response:{redirected:o,statusCode:l,responseHTML:r}})}#s(e,t){const r=Jd("data-turbo-frame",t,e)||this.element.getAttribute("target"),i=this.#h(r);return i instanceof Xi?i:this.element}async extractForeignFrameElement(e){let t;const r=CSS.escape(this.id);try{if(t=Bw(e.querySelector(`turbo-frame#${r}`),this.sourceURL),t)return t;if(t=Bw(e.querySelector(`turbo-frame[src][recurse~=${r}]`),this.sourceURL),t)return await t.loaded,await this.extractForeignFrameElement(t)}catch(i){return console.error(i),new Xi}return null}#y(e,t){const r=zy(e,t);return ma(Gr(r),this.rootLocation)}#u(e,t){const r=Jd("data-turbo-frame",t,e)||this.element.getAttribute("target");if(e instanceof HTMLFormElement&&!this.#y(e,t)||!this.enabled||r=="_top")return!1;if(r){const i=this.#h(r);if(i)return!i.disabled;if(r=="_parent")return!1}return!(!mr.elementIsNavigatable(e)||t&&!mr.elementIsNavigatable(t))}get id(){return this.element.id}get disabled(){return this.element.disabled}get enabled(){return!this.disabled}get sourceURL(){if(this.element.src)return this.element.src}set sourceURL(e){this.#w("src",()=>{this.element.src=e??null})}get loadingStyle(){return this.element.loading}get isLoading(){return this.formSubmission!==void 0||this.#t()!==void 0}get complete(){return this.element.hasAttribute("complete")}set complete(e){e?this.element.setAttribute("complete",""):this.element.removeAttribute("complete")}get isActive(){return this.element.isActive&&this.#n}get rootLocation(){const t=this.element.ownerDocument.querySelector('meta[name="turbo-root"]')?.content??"/";return Gr(t)}#b(e){return this.#a.has(e)}#w(e,t){this.#a.add(e),t(),this.#a.delete(e)}#_(e,t){this.currentNavigationElement=e,t(),delete this.currentNavigationElement}#h(e){if(e!=null){const t=e==="_parent"?this.element.parentElement.closest("turbo-frame"):document.getElementById(e);if(t instanceof Xi)return t}}}function Bw(n,e){if(n){const t=n.getAttribute("src");if(t!=null&&e!=null&&jE(t,e))throw new Error(`Matching <turbo-frame id="${n.id}"> element has a source URL which references itself`);if(n.ownerDocument!==document&&(n=document.importNode(n,!0)),n instanceof Xi)return n.connectedCallback(),n.disconnectedCallback(),n}}const Ky={after(){this.removeDuplicateTargetSiblings(),this.targetElements.forEach(n=>n.parentElement?.insertBefore(this.templateContent,n.nextSibling))},append(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.append(this.templateContent))},before(){this.removeDuplicateTargetSiblings(),this.targetElements.forEach(n=>n.parentElement?.insertBefore(this.templateContent,n))},prepend(){this.removeDuplicateTargetChildren(),this.targetElements.forEach(n=>n.prepend(this.templateContent))},remove(){this.targetElements.forEach(n=>n.remove())},replace(){const n=this.getAttribute("method");this.targetElements.forEach(e=>{n==="morph"?Yh(e,this.templateContent):e.replaceWith(this.templateContent)})},update(){const n=this.getAttribute("method");this.targetElements.forEach(e=>{n==="morph"?Ep(e,this.templateContent):(e.innerHTML="",e.append(this.templateContent))})},refresh(){const n=this.getAttribute("method"),e=this.requestId,t=this.getAttribute("scroll");mr.refresh(this.baseURI,{method:n,requestId:e,scroll:t})}};class Tp extends HTMLElement{static async renderElement(e){await e.performAction()}async connectedCallback(){try{await this.render()}catch(e){console.error(e)}finally{this.disconnect()}}async render(){return this.renderPromise??=(async()=>{const e=this.beforeRenderEvent;this.dispatchEvent(e)&&(await gh(),await e.detail.render(this))})()}disconnect(){try{this.remove()}catch{}}removeDuplicateTargetChildren(){this.duplicateChildren.forEach(e=>e.remove())}get duplicateChildren(){const e=this.targetElements.flatMap(r=>[...r.children]).filter(r=>!!r.getAttribute("id")),t=[...this.templateContent?.children||[]].filter(r=>!!r.getAttribute("id")).map(r=>r.getAttribute("id"));return e.filter(r=>t.includes(r.getAttribute("id")))}removeDuplicateTargetSiblings(){this.duplicateSiblings.forEach(e=>e.remove())}get duplicateSiblings(){const e=this.targetElements.flatMap(r=>[...r.parentElement.children]).filter(r=>!!r.id),t=[...this.templateContent?.children||[]].filter(r=>!!r.id).map(r=>r.id);return e.filter(r=>t.includes(r.id))}get performAction(){if(this.action){const e=Ky[this.action];if(e)return e;this.#e("unknown action")}this.#e("action attribute is missing")}get targetElements(){if(this.target)return this.targetElementsById;if(this.targets)return this.targetElementsByQuery;this.#e("target or targets attribute is missing")}get templateContent(){return this.templateElement.content.cloneNode(!0)}get templateElement(){if(this.firstElementChild===null){const e=this.ownerDocument.createElement("template");return this.appendChild(e),e}else if(this.firstElementChild instanceof HTMLTemplateElement)return this.firstElementChild;this.#e("first child element must be a <template> element")}get action(){return this.getAttribute("action")}get target(){return this.getAttribute("target")}get targets(){return this.getAttribute("targets")}get requestId(){return this.getAttribute("request-id")}#e(e){throw new Error(`${this.description}: ${e}`)}get description(){return(this.outerHTML.match(/<[^>]+>/)??[])[0]??"<turbo-stream>"}get beforeRenderEvent(){return new CustomEvent("turbo:before-stream-render",{bubbles:!0,cancelable:!0,detail:{newStream:this,render:Tp.renderElement}})}get targetElementsById(){const e=this.ownerDocument?.getElementById(this.target);return e!==null?[e]:[]}get targetElementsByQuery(){const e=this.ownerDocument?.querySelectorAll(this.targets);return e.length!==0?Array.prototype.slice.call(e):[]}}class cA extends HTMLElement{streamSource=null;connectedCallback(){this.streamSource=this.src.match(/^ws{1,2}:/)?new WebSocket(this.src):new EventSource(this.src),Gy(this.streamSource)}disconnectedCallback(){this.streamSource&&(this.streamSource.close(),Yy(this.streamSource))}get src(){return this.getAttribute("src")||""}}Xi.delegateConstructor=PB;customElements.get("turbo-frame")===void 0&&customElements.define("turbo-frame",Xi);customElements.get("turbo-stream")===void 0&&customElements.define("turbo-stream",Tp);customElements.get("turbo-stream-source")===void 0&&customElements.define("turbo-stream-source",cA);(()=>{const n=document.currentScript;if(!n||n.hasAttribute("data-turbo-suppress-warning"))return;let e=n.parentElement;for(;e;){if(e==document.body)return console.warn(PE`
        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!

        Load your applications JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.

        For more information, see: https://turbo.hotwired.dev/handbook/building#working-with-script-elements

        
        Suppress this warning by adding a "data-turbo-suppress-warning" attribute to: %s
      `,n.outerHTML);e=e.parentElement}})();window.Turbo={...LB,StreamActions:Ky};Vy();const NB=Object.freeze(Object.defineProperty({__proto__:null,FetchEnctype:ga,FetchMethod:Yi,FetchRequest:ic,FetchResponse:yp,FrameElement:Xi,FrameLoadingStyle:fl,FrameRenderer:Sp,PageRenderer:Ap,PageSnapshot:fs,StreamActions:Ky,StreamElement:Tp,StreamSourceElement:cA,cache:Wy,config:Mr,connectStreamSource:Gy,disconnectStreamSource:Yy,fetch:$y,fetchEnctypeFromString:zE,fetchMethodFromString:bp,isSafe:wp,morphBodyElements:lA,morphChildren:Ep,morphElements:Yh,morphTurboFrameElements:uA,navigator:nA,registerAdapter:rA,renderStreamMessage:iA,session:mr,setConfirmMethod:oA,setFormMode:aA,setProgressBarDelay:sA,start:Vy,visit:np},Symbol.toStringTag,{value:"Module"}));var Jm,jw;function oc(){return jw||(jw=1,Jm=TypeError),Jm}const IB={},DB=Object.freeze(Object.defineProperty({__proto__:null,default:IB},Symbol.toStringTag,{value:"Module"})),RB=V2(DB);var Qm,Hw;function kp(){if(Hw)return Qm;Hw=1;var n=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=n&&e&&typeof e.get=="function"?e.get:null,r=n&&Map.prototype.forEach,i=typeof Set=="function"&&Set.prototype,o=Object.getOwnPropertyDescriptor&&i?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,l=i&&o&&typeof o.get=="function"?o.get:null,h=i&&Set.prototype.forEach,u=typeof WeakMap=="function"&&WeakMap.prototype,f=u?WeakMap.prototype.has:null,d=typeof WeakSet=="function"&&WeakSet.prototype,g=d?WeakSet.prototype.has:null,y=typeof WeakRef=="function"&&WeakRef.prototype,k=y?WeakRef.prototype.deref:null,w=Boolean.prototype.valueOf,_=Object.prototype.toString,A=Function.prototype.toString,N=String.prototype.match,b=String.prototype.slice,M=String.prototype.replace,E=String.prototype.toUpperCase,D=String.prototype.toLowerCase,T=RegExp.prototype.test,C=Array.prototype.concat,R=Array.prototype.join,B=Array.prototype.slice,I=Math.floor,P=typeof BigInt=="function"?BigInt.prototype.valueOf:null,j=Object.getOwnPropertySymbols,$=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Z=typeof Symbol=="function"&&typeof Symbol.iterator=="object",se=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Z||!0)?Symbol.toStringTag:null,te=Object.prototype.propertyIsEnumerable,X=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(De){return De.__proto__}:null);function V(De,ze){if(De===1/0||De===-1/0||De!==De||De&&De>-1e3&&De<1e3||T.call(/e/,ze))return ze;var Qe=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof De=="number"){var Et=De<0?-I(-De):I(De);if(Et!==De){var wt=String(Et),yt=b.call(ze,wt.length+1);return M.call(wt,Qe,"$&_")+"."+M.call(M.call(yt,/([0-9]{3})/g,"$&_"),/_$/,"")}}return M.call(ze,Qe,"$&_")}var de=RB,Y=de.custom,ue=pe(Y)?Y:null,xe={__proto__:null,double:'"',single:"'"},we={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};Qm=function De(ze,Qe,Et,wt){var yt=Qe||{};if(ke(yt,"quoteStyle")&&!ke(xe,yt.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ke(yt,"maxStringLength")&&(typeof yt.maxStringLength=="number"?yt.maxStringLength<0&&yt.maxStringLength!==1/0:yt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Ut=ke(yt,"customInspect")?yt.customInspect:!0;if(typeof Ut!="boolean"&&Ut!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ke(yt,"indent")&&yt.indent!==null&&yt.indent!=="	"&&!(parseInt(yt.indent,10)===yt.indent&&yt.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ke(yt,"numericSeparator")&&typeof yt.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var qt=yt.numericSeparator;if(typeof ze>"u")return"undefined";if(ze===null)return"null";if(typeof ze=="boolean")return ze?"true":"false";if(typeof ze=="string")return Le(ze,yt);if(typeof ze=="number"){if(ze===0)return 1/0/ze>0?"0":"-0";var ye=String(ze);return qt?V(ze,ye):ye}if(typeof ze=="bigint"){var Ee=String(ze)+"n";return qt?V(ze,Ee):Ee}var Be=typeof yt.depth>"u"?5:yt.depth;if(typeof Et>"u"&&(Et=0),Et>=Be&&Be>0&&typeof ze=="object")return Me(ze)?"[Array]":"[Object]";var Ue=$t(yt,Et);if(typeof wt>"u")wt=[];else if(fe(wt,ze)>=0)return"[Circular]";function et(Rn,En,Tr){if(En&&(wt=B.call(wt),wt.push(En)),Tr){var Cn={depth:yt.depth};return ke(yt,"quoteStyle")&&(Cn.quoteStyle=yt.quoteStyle),De(Rn,Cn,Et+1,wt)}return De(Rn,yt,Et+1,wt)}if(typeof ze=="function"&&!ie(ze)){var Je=ae(ze),bt=mt(ze,et);return"[Function"+(Je?": "+Je:" (anonymous)")+"]"+(bt.length>0?" { "+R.call(bt,", ")+" }":"")}if(pe(ze)){var lt=Z?M.call(String(ze),/^(Symbol\(.*\))_[^)]*$/,"$1"):$.call(ze);return typeof ze=="object"&&!Z?$e(lt):lt}if(Se(ze)){for(var xt="<"+D.call(String(ze.nodeName)),ft=ze.attributes||[],dt=0;dt<ft.length;dt++)xt+=" "+ft[dt].name+"="+Q(K(ft[dt].value),"double",yt);return xt+=">",ze.childNodes&&ze.childNodes.length&&(xt+="..."),xt+="</"+D.call(String(ze.nodeName))+">",xt}if(Me(ze)){if(ze.length===0)return"[]";var it=mt(ze,et);return Ue&&!ct(it)?"["+Ot(it,Ue)+"]":"[ "+R.call(it,", ")+" ]"}if(oe(ze)){var nn=mt(ze,et);return!("cause"in Error.prototype)&&"cause"in ze&&!te.call(ze,"cause")?"{ ["+String(ze)+"] "+R.call(C.call("[cause]: "+et(ze.cause),nn),", ")+" }":nn.length===0?"["+String(ze)+"]":"{ ["+String(ze)+"] "+R.call(nn,", ")+" }"}if(typeof ze=="object"&&Ut){if(ue&&typeof ze[ue]=="function"&&de)return de(ze,{depth:Be-Et});if(Ut!=="symbol"&&typeof ze.inspect=="function")return ze.inspect()}if(me(ze)){var mn=[];return r&&r.call(ze,function(Rn,En){mn.push(et(En,ze,!0)+" => "+et(Rn,ze))}),pt("Map",t.call(ze),mn,Ue)}if(U(ze)){var qn=[];return h&&h.call(ze,function(Rn){qn.push(et(Rn,ze))}),pt("Set",l.call(ze),qn,Ue)}if(O(ze))return Ze("WeakMap");if(le(ze))return Ze("WeakSet");if(H(ze))return Ze("WeakRef");if(W(ze))return $e(et(Number(ze)));if(ve(ze))return $e(et(P.call(ze)));if(ee(ze))return $e(w.call(ze));if(ce(ze))return $e(et(String(ze)));if(typeof window<"u"&&ze===window)return"{ [object Window] }";if(typeof globalThis<"u"&&ze===globalThis||typeof Oi<"u"&&ze===Oi)return"{ [object globalThis] }";if(!ne(ze)&&!ie(ze)){var Dn=mt(ze,et),vr=X?X(ze)===Object.prototype:ze instanceof Object||ze.constructor===Object,Wn=ze instanceof Object?"":"null prototype",fn=!vr&&se&&Object(ze)===ze&&se in ze?b.call(Fe(ze),8,-1):Wn?"Object":"",Nr=vr||typeof ze.constructor!="function"?"":ze.constructor.name?ze.constructor.name+" ":"",Ar=Nr+(fn||Wn?"["+R.call(C.call([],fn||[],Wn||[]),": ")+"] ":"");return Dn.length===0?Ar+"{}":Ue?Ar+"{"+Ot(Dn,Ue)+"}":Ar+"{ "+R.call(Dn,", ")+" }"}return String(ze)};function Q(De,ze,Qe){var Et=Qe.quoteStyle||ze,wt=xe[Et];return wt+De+wt}function K(De){return M.call(String(De),/"/g,"&quot;")}function Ce(De){return!se||!(typeof De=="object"&&(se in De||typeof De[se]<"u"))}function Me(De){return Fe(De)==="[object Array]"&&Ce(De)}function ne(De){return Fe(De)==="[object Date]"&&Ce(De)}function ie(De){return Fe(De)==="[object RegExp]"&&Ce(De)}function oe(De){return Fe(De)==="[object Error]"&&Ce(De)}function ce(De){return Fe(De)==="[object String]"&&Ce(De)}function W(De){return Fe(De)==="[object Number]"&&Ce(De)}function ee(De){return Fe(De)==="[object Boolean]"&&Ce(De)}function pe(De){if(Z)return De&&typeof De=="object"&&De instanceof Symbol;if(typeof De=="symbol")return!0;if(!De||typeof De!="object"||!$)return!1;try{return $.call(De),!0}catch{}return!1}function ve(De){if(!De||typeof De!="object"||!P)return!1;try{return P.call(De),!0}catch{}return!1}var Ae=Object.prototype.hasOwnProperty||function(De){return De in this};function ke(De,ze){return Ae.call(De,ze)}function Fe(De){return _.call(De)}function ae(De){if(De.name)return De.name;var ze=N.call(A.call(De),/^function\s*([\w$]+)/);return ze?ze[1]:null}function fe(De,ze){if(De.indexOf)return De.indexOf(ze);for(var Qe=0,Et=De.length;Qe<Et;Qe++)if(De[Qe]===ze)return Qe;return-1}function me(De){if(!t||!De||typeof De!="object")return!1;try{t.call(De);try{l.call(De)}catch{return!0}return De instanceof Map}catch{}return!1}function O(De){if(!f||!De||typeof De!="object")return!1;try{f.call(De,f);try{g.call(De,g)}catch{return!0}return De instanceof WeakMap}catch{}return!1}function H(De){if(!k||!De||typeof De!="object")return!1;try{return k.call(De),!0}catch{}return!1}function U(De){if(!l||!De||typeof De!="object")return!1;try{l.call(De);try{t.call(De)}catch{return!0}return De instanceof Set}catch{}return!1}function le(De){if(!g||!De||typeof De!="object")return!1;try{g.call(De,g);try{f.call(De,f)}catch{return!0}return De instanceof WeakSet}catch{}return!1}function Se(De){return!De||typeof De!="object"?!1:typeof HTMLElement<"u"&&De instanceof HTMLElement?!0:typeof De.nodeName=="string"&&typeof De.getAttribute=="function"}function Le(De,ze){if(De.length>ze.maxStringLength){var Qe=De.length-ze.maxStringLength,Et="... "+Qe+" more character"+(Qe>1?"s":"");return Le(b.call(De,0,ze.maxStringLength),ze)+Et}var wt=we[ze.quoteStyle||"single"];wt.lastIndex=0;var yt=M.call(M.call(De,wt,"\\$1"),/[\x00-\x1f]/g,Pe);return Q(yt,"single",ze)}function Pe(De){var ze=De.charCodeAt(0),Qe={8:"b",9:"t",10:"n",12:"f",13:"r"}[ze];return Qe?"\\"+Qe:"\\x"+(ze<16?"0":"")+E.call(ze.toString(16))}function $e(De){return"Object("+De+")"}function Ze(De){return De+" { ? }"}function pt(De,ze,Qe,Et){var wt=Et?Ot(Qe,Et):R.call(Qe,", ");return De+" ("+ze+") {"+wt+"}"}function ct(De){for(var ze=0;ze<De.length;ze++)if(fe(De[ze],`
`)>=0)return!1;return!0}function $t(De,ze){var Qe;if(De.indent==="	")Qe="	";else if(typeof De.indent=="number"&&De.indent>0)Qe=R.call(Array(De.indent+1)," ");else return null;return{base:Qe,prev:R.call(Array(ze+1),Qe)}}function Ot(De,ze){if(De.length===0)return"";var Qe=`
`+ze.prev+ze.base;return Qe+R.call(De,","+Qe)+`
`+ze.prev}function mt(De,ze){var Qe=Me(De),Et=[];if(Qe){Et.length=De.length;for(var wt=0;wt<De.length;wt++)Et[wt]=ke(De,wt)?ze(De[wt],De):""}var yt=typeof j=="function"?j(De):[],Ut;if(Z){Ut={};for(var qt=0;qt<yt.length;qt++)Ut["$"+yt[qt]]=yt[qt]}for(var ye in De)ke(De,ye)&&(Qe&&String(Number(ye))===ye&&ye<De.length||Z&&Ut["$"+ye]instanceof Symbol||(T.call(/[^\w$]/,ye)?Et.push(ze(ye,De)+": "+ze(De[ye],De)):Et.push(ye+": "+ze(De[ye],De))));if(typeof j=="function")for(var Ee=0;Ee<yt.length;Ee++)te.call(De,yt[Ee])&&Et.push("["+ze(yt[Ee])+"]: "+ze(De[yt[Ee]],De));return Et}return Qm}var eg,zw;function FB(){if(zw)return eg;zw=1;var n=kp(),e=oc(),t=function(h,u,f){for(var d=h,g;(g=d.next)!=null;d=g)if(g.key===u)return d.next=g.next,f||(g.next=h.next,h.next=g),g},r=function(h,u){if(h){var f=t(h,u);return f&&f.value}},i=function(h,u,f){var d=t(h,u);d?d.value=f:h.next={key:u,next:h.next,value:f}},o=function(h,u){return h?!!t(h,u):!1},l=function(h,u){if(h)return t(h,u,!0)};return eg=function(){var u,f={assert:function(d){if(!f.has(d))throw new e("Side channel does not contain "+n(d))},delete:function(d){var g=u&&u.next,y=l(u,d);return y&&g&&g===y&&(u=void 0),!!y},get:function(d){return r(u,d)},has:function(d){return o(u,d)},set:function(d,g){u||(u={next:void 0}),i(u,d,g)}};return f},eg}var tg,$w;function hA(){return $w||($w=1,tg=Object),tg}var ng,Uw;function BB(){return Uw||(Uw=1,ng=Error),ng}var rg,qw;function jB(){return qw||(qw=1,rg=EvalError),rg}var ig,Ww;function HB(){return Ww||(Ww=1,ig=RangeError),ig}var sg,Vw;function zB(){return Vw||(Vw=1,sg=ReferenceError),sg}var og,Gw;function $B(){return Gw||(Gw=1,og=SyntaxError),og}var ag,Yw;function UB(){return Yw||(Yw=1,ag=URIError),ag}var lg,Kw;function qB(){return Kw||(Kw=1,lg=Math.abs),lg}var ug,Zw;function WB(){return Zw||(Zw=1,ug=Math.floor),ug}var cg,Xw;function VB(){return Xw||(Xw=1,cg=Math.max),cg}var hg,Jw;function GB(){return Jw||(Jw=1,hg=Math.min),hg}var fg,Qw;function YB(){return Qw||(Qw=1,fg=Math.pow),fg}var dg,e1;function KB(){return e1||(e1=1,dg=Math.round),dg}var pg,t1;function ZB(){return t1||(t1=1,pg=Number.isNaN||function(e){return e!==e}),pg}var mg,n1;function XB(){if(n1)return mg;n1=1;var n=ZB();return mg=function(t){return n(t)||t===0?t:t<0?-1:1},mg}var gg,r1;function JB(){return r1||(r1=1,gg=Object.getOwnPropertyDescriptor),gg}var vg,i1;function fA(){if(i1)return vg;i1=1;var n=JB();if(n)try{n([],"length")}catch{n=null}return vg=n,vg}var yg,s1;function QB(){if(s1)return yg;s1=1;var n=Object.defineProperty||!1;if(n)try{n({},"a",{value:1})}catch{n=!1}return yg=n,yg}var bg,o1;function e3(){return o1||(o1=1,bg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(var o in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var l=Object.getOwnPropertySymbols(e);if(l.length!==1||l[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var h=Object.getOwnPropertyDescriptor(e,t);if(h.value!==i||h.enumerable!==!0)return!1}return!0}),bg}var wg,a1;function t3(){if(a1)return wg;a1=1;var n=typeof Symbol<"u"&&Symbol,e=e3();return wg=function(){return typeof n!="function"||typeof Symbol!="function"||typeof n("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},wg}var _g,l1;function dA(){return l1||(l1=1,_g=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),_g}var xg,u1;function pA(){if(u1)return xg;u1=1;var n=hA();return xg=n.getPrototypeOf||null,xg}var Sg,c1;function n3(){if(c1)return Sg;c1=1;var n="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",i=function(u,f){for(var d=[],g=0;g<u.length;g+=1)d[g]=u[g];for(var y=0;y<f.length;y+=1)d[y+u.length]=f[y];return d},o=function(u,f){for(var d=[],g=f,y=0;g<u.length;g+=1,y+=1)d[y]=u[g];return d},l=function(h,u){for(var f="",d=0;d<h.length;d+=1)f+=h[d],d+1<h.length&&(f+=u);return f};return Sg=function(u){var f=this;if(typeof f!="function"||e.apply(f)!==r)throw new TypeError(n+f);for(var d=o(arguments,1),g,y=function(){if(this instanceof g){var N=f.apply(this,i(d,arguments));return Object(N)===N?N:this}return f.apply(u,i(d,arguments))},k=t(0,f.length-d.length),w=[],_=0;_<k;_++)w[_]="$"+_;if(g=Function("binder","return function ("+l(w,",")+"){ return binder.apply(this,arguments); }")(y),f.prototype){var A=function(){};A.prototype=f.prototype,g.prototype=new A,A.prototype=null}return g},Sg}var Eg,h1;function Cp(){if(h1)return Eg;h1=1;var n=n3();return Eg=Function.prototype.bind||n,Eg}var Ag,f1;function Zy(){return f1||(f1=1,Ag=Function.prototype.call),Ag}var Tg,d1;function mA(){return d1||(d1=1,Tg=Function.prototype.apply),Tg}var kg,p1;function r3(){return p1||(p1=1,kg=typeof Reflect<"u"&&Reflect&&Reflect.apply),kg}var Cg,m1;function i3(){if(m1)return Cg;m1=1;var n=Cp(),e=mA(),t=Zy(),r=r3();return Cg=r||n.call(t,e),Cg}var Og,g1;function gA(){if(g1)return Og;g1=1;var n=Cp(),e=oc(),t=Zy(),r=i3();return Og=function(o){if(o.length<1||typeof o[0]!="function")throw new e("a function is required");return r(n,t,o)},Og}var Lg,v1;function s3(){if(v1)return Lg;v1=1;var n=gA(),e=fA(),t;try{t=[].__proto__===Array.prototype}catch(l){if(!l||typeof l!="object"||!("code"in l)||l.code!=="ERR_PROTO_ACCESS")throw l}var r=!!t&&e&&e(Object.prototype,"__proto__"),i=Object,o=i.getPrototypeOf;return Lg=r&&typeof r.get=="function"?n([r.get]):typeof o=="function"?function(h){return o(h==null?h:i(h))}:!1,Lg}var Mg,y1;function o3(){if(y1)return Mg;y1=1;var n=dA(),e=pA(),t=s3();return Mg=n?function(i){return n(i)}:e?function(i){if(!i||typeof i!="object"&&typeof i!="function")throw new TypeError("getProto: not an object");return e(i)}:t?function(i){return t(i)}:null,Mg}var Pg,b1;function a3(){if(b1)return Pg;b1=1;var n=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=Cp();return Pg=t.call(n,e),Pg}var Ng,w1;function Xy(){if(w1)return Ng;w1=1;var n,e=hA(),t=BB(),r=jB(),i=HB(),o=zB(),l=$B(),h=oc(),u=UB(),f=qB(),d=WB(),g=VB(),y=GB(),k=YB(),w=KB(),_=XB(),A=Function,N=function(ie){try{return A('"use strict"; return ('+ie+").constructor;")()}catch{}},b=fA(),M=QB(),E=function(){throw new h},D=b?(function(){try{return arguments.callee,E}catch{try{return b(arguments,"callee").get}catch{return E}}})():E,T=t3()(),C=o3(),R=pA(),B=dA(),I=mA(),P=Zy(),j={},$=typeof Uint8Array>"u"||!C?n:C(Uint8Array),Z={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?n:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?n:ArrayBuffer,"%ArrayIteratorPrototype%":T&&C?C([][Symbol.iterator]()):n,"%AsyncFromSyncIteratorPrototype%":n,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?n:Atomics,"%BigInt%":typeof BigInt>"u"?n:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?n:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?n:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?n:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?n:Float16Array,"%Float32Array%":typeof Float32Array>"u"?n:Float32Array,"%Float64Array%":typeof Float64Array>"u"?n:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?n:FinalizationRegistry,"%Function%":A,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?n:Int8Array,"%Int16Array%":typeof Int16Array>"u"?n:Int16Array,"%Int32Array%":typeof Int32Array>"u"?n:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&C?C(C([][Symbol.iterator]())):n,"%JSON%":typeof JSON=="object"?JSON:n,"%Map%":typeof Map>"u"?n:Map,"%MapIteratorPrototype%":typeof Map>"u"||!T||!C?n:C(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":b,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?n:Promise,"%Proxy%":typeof Proxy>"u"?n:Proxy,"%RangeError%":i,"%ReferenceError%":o,"%Reflect%":typeof Reflect>"u"?n:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?n:Set,"%SetIteratorPrototype%":typeof Set>"u"||!T||!C?n:C(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?n:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&C?C(""[Symbol.iterator]()):n,"%Symbol%":T?Symbol:n,"%SyntaxError%":l,"%ThrowTypeError%":D,"%TypedArray%":$,"%TypeError%":h,"%Uint8Array%":typeof Uint8Array>"u"?n:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?n:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?n:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?n:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?n:WeakMap,"%WeakRef%":typeof WeakRef>"u"?n:WeakRef,"%WeakSet%":typeof WeakSet>"u"?n:WeakSet,"%Function.prototype.call%":P,"%Function.prototype.apply%":I,"%Object.defineProperty%":M,"%Object.getPrototypeOf%":R,"%Math.abs%":f,"%Math.floor%":d,"%Math.max%":g,"%Math.min%":y,"%Math.pow%":k,"%Math.round%":w,"%Math.sign%":_,"%Reflect.getPrototypeOf%":B};if(C)try{null.error}catch(ie){var se=C(C(ie));Z["%Error.prototype%"]=se}var te=function ie(oe){var ce;if(oe==="%AsyncFunction%")ce=N("async function () {}");else if(oe==="%GeneratorFunction%")ce=N("function* () {}");else if(oe==="%AsyncGeneratorFunction%")ce=N("async function* () {}");else if(oe==="%AsyncGenerator%"){var W=ie("%AsyncGeneratorFunction%");W&&(ce=W.prototype)}else if(oe==="%AsyncIteratorPrototype%"){var ee=ie("%AsyncGenerator%");ee&&C&&(ce=C(ee.prototype))}return Z[oe]=ce,ce},X={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},V=Cp(),de=a3(),Y=V.call(P,Array.prototype.concat),ue=V.call(I,Array.prototype.splice),xe=V.call(P,String.prototype.replace),we=V.call(P,String.prototype.slice),Q=V.call(P,RegExp.prototype.exec),K=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ce=/\\(\\)?/g,Me=function(oe){var ce=we(oe,0,1),W=we(oe,-1);if(ce==="%"&&W!=="%")throw new l("invalid intrinsic syntax, expected closing `%`");if(W==="%"&&ce!=="%")throw new l("invalid intrinsic syntax, expected opening `%`");var ee=[];return xe(oe,K,function(pe,ve,Ae,ke){ee[ee.length]=Ae?xe(ke,Ce,"$1"):ve||pe}),ee},ne=function(oe,ce){var W=oe,ee;if(de(X,W)&&(ee=X[W],W="%"+ee[0]+"%"),de(Z,W)){var pe=Z[W];if(pe===j&&(pe=te(W)),typeof pe>"u"&&!ce)throw new h("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:ee,name:W,value:pe}}throw new l("intrinsic "+oe+" does not exist!")};return Ng=function(oe,ce){if(typeof oe!="string"||oe.length===0)throw new h("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ce!="boolean")throw new h('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,oe)===null)throw new l("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var W=Me(oe),ee=W.length>0?W[0]:"",pe=ne("%"+ee+"%",ce),ve=pe.name,Ae=pe.value,ke=!1,Fe=pe.alias;Fe&&(ee=Fe[0],ue(W,Y([0,1],Fe)));for(var ae=1,fe=!0;ae<W.length;ae+=1){var me=W[ae],O=we(me,0,1),H=we(me,-1);if((O==='"'||O==="'"||O==="`"||H==='"'||H==="'"||H==="`")&&O!==H)throw new l("property names with quotes must have matching quotes");if((me==="constructor"||!fe)&&(ke=!0),ee+="."+me,ve="%"+ee+"%",de(Z,ve))Ae=Z[ve];else if(Ae!=null){if(!(me in Ae)){if(!ce)throw new h("base intrinsic for "+oe+" exists, but the property is not available.");return}if(b&&ae+1>=W.length){var U=b(Ae,me);fe=!!U,fe&&"get"in U&&!("originalValue"in U.get)?Ae=U.get:Ae=Ae[me]}else fe=de(Ae,me),Ae=Ae[me];fe&&!ke&&(Z[ve]=Ae)}}return Ae},Ng}var Ig,_1;function vA(){if(_1)return Ig;_1=1;var n=Xy(),e=gA(),t=e([n("%String.prototype.indexOf%")]);return Ig=function(i,o){var l=n(i,!!o);return typeof l=="function"&&t(i,".prototype.")>-1?e([l]):l},Ig}var Dg,x1;function yA(){if(x1)return Dg;x1=1;var n=Xy(),e=vA(),t=kp(),r=oc(),i=n("%Map%",!0),o=e("Map.prototype.get",!0),l=e("Map.prototype.set",!0),h=e("Map.prototype.has",!0),u=e("Map.prototype.delete",!0),f=e("Map.prototype.size",!0);return Dg=!!i&&function(){var g,y={assert:function(k){if(!y.has(k))throw new r("Side channel does not contain "+t(k))},delete:function(k){if(g){var w=u(g,k);return f(g)===0&&(g=void 0),w}return!1},get:function(k){if(g)return o(g,k)},has:function(k){return g?h(g,k):!1},set:function(k,w){g||(g=new i),l(g,k,w)}};return y},Dg}var Rg,S1;function l3(){if(S1)return Rg;S1=1;var n=Xy(),e=vA(),t=kp(),r=yA(),i=oc(),o=n("%WeakMap%",!0),l=e("WeakMap.prototype.get",!0),h=e("WeakMap.prototype.set",!0),u=e("WeakMap.prototype.has",!0),f=e("WeakMap.prototype.delete",!0);return Rg=o?function(){var g,y,k={assert:function(w){if(!k.has(w))throw new i("Side channel does not contain "+t(w))},delete:function(w){if(o&&w&&(typeof w=="object"||typeof w=="function")){if(g)return f(g,w)}else if(r&&y)return y.delete(w);return!1},get:function(w){return o&&w&&(typeof w=="object"||typeof w=="function")&&g?l(g,w):y&&y.get(w)},has:function(w){return o&&w&&(typeof w=="object"||typeof w=="function")&&g?u(g,w):!!y&&y.has(w)},set:function(w,_){o&&w&&(typeof w=="object"||typeof w=="function")?(g||(g=new o),h(g,w,_)):r&&(y||(y=r()),y.set(w,_))}};return k}:r,Rg}var Fg,E1;function bA(){if(E1)return Fg;E1=1;var n=oc(),e=kp(),t=FB(),r=yA(),i=l3(),o=i||r||t;return Fg=function(){var h,u={assert:function(f){if(!u.has(f))throw new n("Side channel does not contain "+e(f))},delete:function(f){return!!h&&h.delete(f)},get:function(f){return h&&h.get(f)},has:function(f){return!!h&&h.has(f)},set:function(f,d){h||(h=o()),h.set(f,d)}};return u},Fg}var Bg,A1;function Jy(){if(A1)return Bg;A1=1;var n=String.prototype.replace,e=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Bg={default:t.RFC3986,formatters:{RFC1738:function(r){return n.call(r,e,"+")},RFC3986:function(r){return String(r)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},Bg}var jg,T1;function wA(){if(T1)return jg;T1=1;var n=Jy(),e=bA(),t=Object.prototype.hasOwnProperty,r=Array.isArray,i=e(),o=function(C,R){return i.set(C,R),C},l=function(C){return i.has(C)},h=function(C){return i.get(C)},u=function(C,R){i.set(C,R)},f=(function(){for(var T=[],C=0;C<256;++C)T.push("%"+((C<16?"0":"")+C.toString(16)).toUpperCase());return T})(),d=function(C){for(;C.length>1;){var R=C.pop(),B=R.obj[R.prop];if(r(B)){for(var I=[],P=0;P<B.length;++P)typeof B[P]<"u"&&I.push(B[P]);R.obj[R.prop]=I}}},g=function(C,R){for(var B=R&&R.plainObjects?{__proto__:null}:{},I=0;I<C.length;++I)typeof C[I]<"u"&&(B[I]=C[I]);return B},y=function T(C,R,B){if(!R)return C;if(typeof R!="object"&&typeof R!="function"){if(r(C))C.push(R);else if(C&&typeof C=="object")if(l(C)){var I=h(C)+1;C[I]=R,u(C,I)}else(B&&(B.plainObjects||B.allowPrototypes)||!t.call(Object.prototype,R))&&(C[R]=!0);else return[C,R];return C}if(!C||typeof C!="object"){if(l(R)){for(var P=Object.keys(R),j=B&&B.plainObjects?{__proto__:null,0:C}:{0:C},$=0;$<P.length;$++){var Z=parseInt(P[$],10);j[Z+1]=R[P[$]]}return o(j,h(R)+1)}return[C].concat(R)}var se=C;return r(C)&&!r(R)&&(se=g(C,B)),r(C)&&r(R)?(R.forEach(function(te,X){if(t.call(C,X)){var V=C[X];V&&typeof V=="object"&&te&&typeof te=="object"?C[X]=T(V,te,B):C.push(te)}else C[X]=te}),C):Object.keys(R).reduce(function(te,X){var V=R[X];return t.call(te,X)?te[X]=T(te[X],V,B):te[X]=V,te},se)},k=function(C,R){return Object.keys(R).reduce(function(B,I){return B[I]=R[I],B},C)},w=function(T,C,R){var B=T.replace(/\+/g," ");if(R==="iso-8859-1")return B.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(B)}catch{return B}},_=1024,A=function(C,R,B,I,P){if(C.length===0)return C;var j=C;if(typeof C=="symbol"?j=Symbol.prototype.toString.call(C):typeof C!="string"&&(j=String(C)),B==="iso-8859-1")return escape(j).replace(/%u[0-9a-f]{4}/gi,function(de){return"%26%23"+parseInt(de.slice(2),16)+"%3B"});for(var $="",Z=0;Z<j.length;Z+=_){for(var se=j.length>=_?j.slice(Z,Z+_):j,te=[],X=0;X<se.length;++X){var V=se.charCodeAt(X);if(V===45||V===46||V===95||V===126||V>=48&&V<=57||V>=65&&V<=90||V>=97&&V<=122||P===n.RFC1738&&(V===40||V===41)){te[te.length]=se.charAt(X);continue}if(V<128){te[te.length]=f[V];continue}if(V<2048){te[te.length]=f[192|V>>6]+f[128|V&63];continue}if(V<55296||V>=57344){te[te.length]=f[224|V>>12]+f[128|V>>6&63]+f[128|V&63];continue}X+=1,V=65536+((V&1023)<<10|se.charCodeAt(X)&1023),te[te.length]=f[240|V>>18]+f[128|V>>12&63]+f[128|V>>6&63]+f[128|V&63]}$+=te.join("")}return $},N=function(C){for(var R=[{obj:{o:C},prop:"o"}],B=[],I=0;I<R.length;++I)for(var P=R[I],j=P.obj[P.prop],$=Object.keys(j),Z=0;Z<$.length;++Z){var se=$[Z],te=j[se];typeof te=="object"&&te!==null&&B.indexOf(te)===-1&&(R.push({obj:j,prop:se}),B.push(te))}return d(R),C},b=function(C){return Object.prototype.toString.call(C)==="[object RegExp]"},M=function(C){return!C||typeof C!="object"?!1:!!(C.constructor&&C.constructor.isBuffer&&C.constructor.isBuffer(C))},E=function(C,R,B,I){if(l(C)){var P=h(C)+1;return C[P]=R,u(C,P),C}var j=[].concat(C,R);return j.length>B?o(g(j,{plainObjects:I}),j.length-1):j},D=function(C,R){if(r(C)){for(var B=[],I=0;I<C.length;I+=1)B.push(R(C[I]));return B}return R(C)};return jg={arrayToObject:g,assign:k,combine:E,compact:N,decode:w,encode:A,isBuffer:M,isOverflow:l,isRegExp:b,maybeMap:D,merge:y},jg}var Hg,k1;function u3(){if(k1)return Hg;k1=1;var n=bA(),e=wA(),t=Jy(),r=Object.prototype.hasOwnProperty,i={brackets:function(A){return A+"[]"},comma:"comma",indices:function(A,N){return A+"["+N+"]"},repeat:function(A){return A}},o=Array.isArray,l=Array.prototype.push,h=function(_,A){l.apply(_,o(A)?A:[A])},u=Date.prototype.toISOString,f=t.default,d={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:f,formatter:t.formatters[f],indices:!1,serializeDate:function(A){return u.call(A)},skipNulls:!1,strictNullHandling:!1},g=function(A){return typeof A=="string"||typeof A=="number"||typeof A=="boolean"||typeof A=="symbol"||typeof A=="bigint"},y={},k=function _(A,N,b,M,E,D,T,C,R,B,I,P,j,$,Z,se,te,X){for(var V=A,de=X,Y=0,ue=!1;(de=de.get(y))!==void 0&&!ue;){var xe=de.get(A);if(Y+=1,typeof xe<"u"){if(xe===Y)throw new RangeError("Cyclic object value");ue=!0}typeof de.get(y)>"u"&&(Y=0)}if(typeof B=="function"?V=B(N,V):V instanceof Date?V=j(V):b==="comma"&&o(V)&&(V=e.maybeMap(V,function(ve){return ve instanceof Date?j(ve):ve})),V===null){if(D)return R&&!se?R(N,d.encoder,te,"key",$):N;V=""}if(g(V)||e.isBuffer(V)){if(R){var we=se?N:R(N,d.encoder,te,"key",$);return[Z(we)+"="+Z(R(V,d.encoder,te,"value",$))]}return[Z(N)+"="+Z(String(V))]}var Q=[];if(typeof V>"u")return Q;var K;if(b==="comma"&&o(V))se&&R&&(V=e.maybeMap(V,R)),K=[{value:V.length>0?V.join(",")||null:void 0}];else if(o(B))K=B;else{var Ce=Object.keys(V);K=I?Ce.sort(I):Ce}var Me=C?String(N).replace(/\./g,"%2E"):String(N),ne=M&&o(V)&&V.length===1?Me+"[]":Me;if(E&&o(V)&&V.length===0)return ne+"[]";for(var ie=0;ie<K.length;++ie){var oe=K[ie],ce=typeof oe=="object"&&oe&&typeof oe.value<"u"?oe.value:V[oe];if(!(T&&ce===null)){var W=P&&C?String(oe).replace(/\./g,"%2E"):String(oe),ee=o(V)?typeof b=="function"?b(ne,W):ne:ne+(P?"."+W:"["+W+"]");X.set(A,Y);var pe=n();pe.set(y,X),h(Q,_(ce,ee,b,M,E,D,T,C,b==="comma"&&se&&o(V)?null:R,B,I,P,j,$,Z,se,te,pe))}}return Q},w=function(A){if(!A)return d;if(typeof A.allowEmptyArrays<"u"&&typeof A.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof A.encodeDotInKeys<"u"&&typeof A.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(A.encoder!==null&&typeof A.encoder<"u"&&typeof A.encoder!="function")throw new TypeError("Encoder has to be a function.");var N=A.charset||d.charset;if(typeof A.charset<"u"&&A.charset!=="utf-8"&&A.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var b=t.default;if(typeof A.format<"u"){if(!r.call(t.formatters,A.format))throw new TypeError("Unknown format option provided.");b=A.format}var M=t.formatters[b],E=d.filter;(typeof A.filter=="function"||o(A.filter))&&(E=A.filter);var D;if(A.arrayFormat in i?D=A.arrayFormat:"indices"in A?D=A.indices?"indices":"repeat":D=d.arrayFormat,"commaRoundTrip"in A&&typeof A.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof A.allowDots>"u"?A.encodeDotInKeys===!0?!0:d.allowDots:!!A.allowDots;return{addQueryPrefix:typeof A.addQueryPrefix=="boolean"?A.addQueryPrefix:d.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof A.allowEmptyArrays=="boolean"?!!A.allowEmptyArrays:d.allowEmptyArrays,arrayFormat:D,charset:N,charsetSentinel:typeof A.charsetSentinel=="boolean"?A.charsetSentinel:d.charsetSentinel,commaRoundTrip:!!A.commaRoundTrip,delimiter:typeof A.delimiter>"u"?d.delimiter:A.delimiter,encode:typeof A.encode=="boolean"?A.encode:d.encode,encodeDotInKeys:typeof A.encodeDotInKeys=="boolean"?A.encodeDotInKeys:d.encodeDotInKeys,encoder:typeof A.encoder=="function"?A.encoder:d.encoder,encodeValuesOnly:typeof A.encodeValuesOnly=="boolean"?A.encodeValuesOnly:d.encodeValuesOnly,filter:E,format:b,formatter:M,serializeDate:typeof A.serializeDate=="function"?A.serializeDate:d.serializeDate,skipNulls:typeof A.skipNulls=="boolean"?A.skipNulls:d.skipNulls,sort:typeof A.sort=="function"?A.sort:null,strictNullHandling:typeof A.strictNullHandling=="boolean"?A.strictNullHandling:d.strictNullHandling}};return Hg=function(_,A){var N=_,b=w(A),M,E;typeof b.filter=="function"?(E=b.filter,N=E("",N)):o(b.filter)&&(E=b.filter,M=E);var D=[];if(typeof N!="object"||N===null)return"";var T=i[b.arrayFormat],C=T==="comma"&&b.commaRoundTrip;M||(M=Object.keys(N)),b.sort&&M.sort(b.sort);for(var R=n(),B=0;B<M.length;++B){var I=M[B],P=N[I];b.skipNulls&&P===null||h(D,k(P,I,T,C,b.allowEmptyArrays,b.strictNullHandling,b.skipNulls,b.encodeDotInKeys,b.encode?b.encoder:null,b.filter,b.sort,b.allowDots,b.serializeDate,b.format,b.formatter,b.encodeValuesOnly,b.charset,R))}var j=D.join(b.delimiter),$=b.addQueryPrefix===!0?"?":"";return b.charsetSentinel&&(b.charset==="iso-8859-1"?$+="utf8=%26%2310003%3B&":$+="utf8=%E2%9C%93&"),j.length>0?$+j:""},Hg}var zg,C1;function c3(){if(C1)return zg;C1=1;var n=wA(),e=Object.prototype.hasOwnProperty,t=Array.isArray,r={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:n.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},i=function(k){return k.replace(/&#(\d+);/g,function(w,_){return String.fromCharCode(parseInt(_,10))})},o=function(k,w,_){if(k&&typeof k=="string"&&w.comma&&k.indexOf(",")>-1)return k.split(",");if(w.throwOnLimitExceeded&&_>=w.arrayLimit)throw new RangeError("Array limit exceeded. Only "+w.arrayLimit+" element"+(w.arrayLimit===1?"":"s")+" allowed in an array.");return k},l="utf8=%26%2310003%3B",h="utf8=%E2%9C%93",u=function(w,_){var A={__proto__:null},N=_.ignoreQueryPrefix?w.replace(/^\?/,""):w;N=N.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var b=_.parameterLimit===1/0?void 0:_.parameterLimit,M=N.split(_.delimiter,_.throwOnLimitExceeded?b+1:b);if(_.throwOnLimitExceeded&&M.length>b)throw new RangeError("Parameter limit exceeded. Only "+b+" parameter"+(b===1?"":"s")+" allowed.");var E=-1,D,T=_.charset;if(_.charsetSentinel)for(D=0;D<M.length;++D)M[D].indexOf("utf8=")===0&&(M[D]===h?T="utf-8":M[D]===l&&(T="iso-8859-1"),E=D,D=M.length);for(D=0;D<M.length;++D)if(D!==E){var C=M[D],R=C.indexOf("]="),B=R===-1?C.indexOf("="):R+1,I,P;if(B===-1?(I=_.decoder(C,r.decoder,T,"key"),P=_.strictNullHandling?null:""):(I=_.decoder(C.slice(0,B),r.decoder,T,"key"),I!==null&&(P=n.maybeMap(o(C.slice(B+1),_,t(A[I])?A[I].length:0),function($){return _.decoder($,r.decoder,T,"value")}))),P&&_.interpretNumericEntities&&T==="iso-8859-1"&&(P=i(String(P))),C.indexOf("[]=")>-1&&(P=t(P)?[P]:P),I!==null){var j=e.call(A,I);j&&_.duplicates==="combine"?A[I]=n.combine(A[I],P,_.arrayLimit,_.plainObjects):(!j||_.duplicates==="last")&&(A[I]=P)}}return A},f=function(k,w,_,A){var N=0;if(k.length>0&&k[k.length-1]==="[]"){var b=k.slice(0,-1).join("");N=Array.isArray(w)&&w[b]?w[b].length:0}for(var M=A?w:o(w,_,N),E=k.length-1;E>=0;--E){var D,T=k[E];if(T==="[]"&&_.parseArrays)n.isOverflow(M)?D=M:D=_.allowEmptyArrays&&(M===""||_.strictNullHandling&&M===null)?[]:n.combine([],M,_.arrayLimit,_.plainObjects);else{D=_.plainObjects?{__proto__:null}:{};var C=T.charAt(0)==="["&&T.charAt(T.length-1)==="]"?T.slice(1,-1):T,R=_.decodeDotInKeys?C.replace(/%2E/g,"."):C,B=parseInt(R,10);!_.parseArrays&&R===""?D={0:M}:!isNaN(B)&&T!==R&&String(B)===R&&B>=0&&_.parseArrays&&B<=_.arrayLimit?(D=[],D[B]=M):R!=="__proto__"&&(D[R]=M)}M=D}return M},d=function(w,_){var A=_.allowDots?w.replace(/\.([^.[]+)/g,"[$1]"):w;if(_.depth<=0)return!_.plainObjects&&e.call(Object.prototype,A)&&!_.allowPrototypes?void 0:[A];var N=/(\[[^[\]]*])/,b=/(\[[^[\]]*])/g,M=N.exec(A),E=M?A.slice(0,M.index):A,D=[];if(E){if(!_.plainObjects&&e.call(Object.prototype,E)&&!_.allowPrototypes)return;D.push(E)}for(var T=0;(M=b.exec(A))!==null&&T<_.depth;){T+=1;var C=M[1].slice(1,-1);if(!_.plainObjects&&e.call(Object.prototype,C)&&!_.allowPrototypes)return;D.push(M[1])}if(M){if(_.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+_.depth+" and strictDepth is true");D.push("["+A.slice(M.index)+"]")}return D},g=function(w,_,A,N){if(w){var b=d(w,A);if(b)return f(b,_,A,N)}},y=function(w){if(!w)return r;if(typeof w.allowEmptyArrays<"u"&&typeof w.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof w.decodeDotInKeys<"u"&&typeof w.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(w.decoder!==null&&typeof w.decoder<"u"&&typeof w.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof w.charset<"u"&&w.charset!=="utf-8"&&w.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof w.throwOnLimitExceeded<"u"&&typeof w.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var _=typeof w.charset>"u"?r.charset:w.charset,A=typeof w.duplicates>"u"?r.duplicates:w.duplicates;if(A!=="combine"&&A!=="first"&&A!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var N=typeof w.allowDots>"u"?w.decodeDotInKeys===!0?!0:r.allowDots:!!w.allowDots;return{allowDots:N,allowEmptyArrays:typeof w.allowEmptyArrays=="boolean"?!!w.allowEmptyArrays:r.allowEmptyArrays,allowPrototypes:typeof w.allowPrototypes=="boolean"?w.allowPrototypes:r.allowPrototypes,allowSparse:typeof w.allowSparse=="boolean"?w.allowSparse:r.allowSparse,arrayLimit:typeof w.arrayLimit=="number"?w.arrayLimit:r.arrayLimit,charset:_,charsetSentinel:typeof w.charsetSentinel=="boolean"?w.charsetSentinel:r.charsetSentinel,comma:typeof w.comma=="boolean"?w.comma:r.comma,decodeDotInKeys:typeof w.decodeDotInKeys=="boolean"?w.decodeDotInKeys:r.decodeDotInKeys,decoder:typeof w.decoder=="function"?w.decoder:r.decoder,delimiter:typeof w.delimiter=="string"||n.isRegExp(w.delimiter)?w.delimiter:r.delimiter,depth:typeof w.depth=="number"||w.depth===!1?+w.depth:r.depth,duplicates:A,ignoreQueryPrefix:w.ignoreQueryPrefix===!0,interpretNumericEntities:typeof w.interpretNumericEntities=="boolean"?w.interpretNumericEntities:r.interpretNumericEntities,parameterLimit:typeof w.parameterLimit=="number"?w.parameterLimit:r.parameterLimit,parseArrays:w.parseArrays!==!1,plainObjects:typeof w.plainObjects=="boolean"?w.plainObjects:r.plainObjects,strictDepth:typeof w.strictDepth=="boolean"?!!w.strictDepth:r.strictDepth,strictNullHandling:typeof w.strictNullHandling=="boolean"?w.strictNullHandling:r.strictNullHandling,throwOnLimitExceeded:typeof w.throwOnLimitExceeded=="boolean"?w.throwOnLimitExceeded:!1}};return zg=function(k,w){var _=y(w);if(k===""||k===null||typeof k>"u")return _.plainObjects?{__proto__:null}:{};for(var A=typeof k=="string"?u(k,_):k,N=_.plainObjects?{__proto__:null}:{},b=Object.keys(A),M=0;M<b.length;++M){var E=b[M],D=g(E,A[E],_,typeof k=="string");N=n.merge(N,D,_)}return _.allowSparse===!0?N:n.compact(N)},zg}var $g,O1;function h3(){if(O1)return $g;O1=1;var n=u3(),e=c3(),t=Jy();return $g={formats:t,parse:e,stringify:n},$g}var f3=h3();const L1=Ol(f3);class d3 extends dn{static get targets(){return["filterItem"]}connect(){this.element.addEventListener("show.bs.dropdown",()=>{setTimeout(()=>{this.element.querySelector("input,textarea,select")?.focus()})}),this.element.querySelectorAll("input,textarea,select").forEach(e=>{e.addEventListener("keydown",t=>{t.keyCode===13&&this.element.querySelector("button[type='submit']").click()})})}submit(e){const t=new Event("orchid:screen-submit");e.target.dispatchEvent(t),this.setAllFilter(),e.preventDefault()}onFilterClick(e){const t=this.filterItemTargets.findIndex(l=>l.classList.contains("show")),r=e.currentTarget,i=parseInt(r.dataset.filterIndex),o=this.filterItemTargets[i];return t!==-1&&(this.filterItemTargets[t].classList.remove("show"),t===i)||(o.classList.add("show"),o.style.top=`${r.offsetTop}px`,o.style.left=`${r.offsetParent.offsetWidth-4}px`),!1}onMenuClick(e){e.stopPropagation()}setAllFilter(){const e=document.getElementById("filters"),t=this.formToObject(e);t.sort=this.getUrlParameter("sort");const r=L1.stringify(this.removeEmpty(t),{encodeValuesOnly:!0,arrayFormat:"repeat"});np(this.getUrl(r),{action:"replace"})}removeEmpty(e){return Object.keys(e).forEach(t=>{let r=e[t];(r==null||r==="")&&delete e[t]}),e}clear(e){const t={sort:this.getUrlParameter("sort")},r=L1.stringify(this.removeEmpty(t),{encodeValuesOnly:!0,arrayFormat:"repeat"});np(this.getUrl(r),{action:"replace"}),e.preventDefault()}clearFilter(e){const{filter:t}=e.currentTarget.dataset;document.querySelectorAll(`input[name^='filter[${t}]']`).forEach(function(r){r.value=""}),document.querySelectorAll(`select[name^='filter[${t}]']`).forEach(function(r){r.selectedIndex=-1}),this.element.remove(),this.setAllFilter(),e.preventDefault()}getUrlParameter(e){const t=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),i=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(window.location.search);return i===null?"":decodeURIComponent(i[1].replace(/\+/g," "))}getUrl(e){return`${window.location.origin+window.location.pathname}?${e}`}}const p3=Object.freeze(Object.defineProperty({__proto__:null,default:d3},Symbol.toStringTag,{value:"Module"}));class m3 extends dn{static values={needPreventsFormAbandonment:{type:Boolean,default:!0},hasBeenChanged:{type:Boolean,default:!1},failedValidationMessage:{type:String,default:"Something went wrong."},submitLoadingMessage:{type:String,default:"Loading..."},confirmCancelMessage:{type:String,default:"Do you really want to leave? You have unsaved changes."}};connect(){document.querySelectorAll("button[type=submit]").forEach(e=>{e.addEventListener("click",t=>{t.target.focus()})})}submitByForm(e){const t=this.data.get("id");return document.getElementById(t).submit(),e.preventDefault(),!1}submit(e){if(this.getActiveElementAttr("data-turbo")==="false")return this.addReserveState(e.target),!0;if(!this.validateForm(e)||this.isSubmit||this.loadFormAction(e)===null)return e.preventDefault(),!1;this.isSubmit=!0,this.animateButton(e),this.needPreventsFormAbandonmentValue=!1;const r=new Event("orchid:screen-submit");return e.target.dispatchEvent(r),!0}animateButton(e){const t=e.submitter;t.tagName==="BUTTON"&&(t.disabled=!0,t.classList.add("cursor-wait"),t.classList.add("btn-loading"),t.innerHTML+='<span class="spinner-loading position-absolute top-50 start-50 translate-middle"><span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span></span>')}validateForm(e){return this.getActiveElementAttr("data-novalidate")==="true"||this.getActiveElementAttr("formnovalidate")==="true"||this.getActiveElementAttr("formnovalidate")==="formnovalidate"?!0:e.target.reportValidity()?(e.target.classList.remove("was-validated"),!0):(this.toast(this.failedValidationMessageValue),e.target.classList.add("was-validated"),!1)}get isSubmit(){return this.data.get("submit")==="true"}getActiveElementAttr(e){return document.activeElement.getAttribute(e)}set isSubmit(e){this.data.set("submit",e)}loadFormAction(e){const t=this.element.getAttribute("action"),r=this.getActiveElementAttr("formaction"),i=e.submitter.formAction;return r||t||i}disableKey(e){return/textarea/i.test(e.target.tagName)||e.target.isContentEditable||(e.keyCode||e.which||e.charCode)!==13?!0:(e.preventDefault(),!1)}changed(e){this.element===e.target.form&&(this.hasBeenChangedValue=!0)}async confirmCancel(e){if(e.type!=="turbo:before-fetch-request"&&e.target?.activeElement?.type!=="submit"&&this.needPreventsFormAbandonmentValue===!0&&this.hasBeenChangedValue===!0){if(e.preventDefault(),e.type==="beforeunload")return e.returnValue=this.confirmCancelMessageValue,this.confirmCancelMessageValue;window.confirm(this.confirmCancelMessageValue)&&e.detail.resume()}}addReserveState(e){const t=this.getState(),r=e.querySelector("#reserve_state");if(r){r.value=t;return}const i=document.createElement("input");i.type="hidden",i.id="reserve_state",i.name="_state",i.value=t,e.appendChild(i)}getState(){return document.getElementById("screen-state")?.value||""}}const g3=Object.freeze(Object.defineProperty({__proto__:null,default:m3},Symbol.toStringTag,{value:"Module"}));function _A(n,e){return function(){return n.apply(e,arguments)}}const{toString:v3}=Object.prototype,{getPrototypeOf:Qy}=Object,{iterator:Op,toStringTag:xA}=Symbol,Lp=(n=>e=>{const t=v3.call(e);return n[t]||(n[t]=t.slice(8,-1).toLowerCase())})(Object.create(null)),$s=n=>(n=n.toLowerCase(),e=>Lp(e)===n),Mp=n=>e=>typeof e===n,{isArray:ac}=Array,Yu=Mp("undefined");function Kh(n){return n!==null&&!Yu(n)&&n.constructor!==null&&!Yu(n.constructor)&&Li(n.constructor.isBuffer)&&n.constructor.isBuffer(n)}const SA=$s("ArrayBuffer");function y3(n){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(n):e=n&&n.buffer&&SA(n.buffer),e}const b3=Mp("string"),Li=Mp("function"),EA=Mp("number"),Zh=n=>n!==null&&typeof n=="object",w3=n=>n===!0||n===!1,Ld=n=>{if(Lp(n)!=="object")return!1;const e=Qy(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(xA in n)&&!(Op in n)},_3=n=>{if(!Zh(n)||Kh(n))return!1;try{return Object.keys(n).length===0&&Object.getPrototypeOf(n)===Object.prototype}catch{return!1}},x3=$s("Date"),S3=$s("File"),E3=$s("Blob"),A3=$s("FileList"),T3=n=>Zh(n)&&Li(n.pipe),k3=n=>{let e;return n&&(typeof FormData=="function"&&n instanceof FormData||Li(n.append)&&((e=Lp(n))==="formdata"||e==="object"&&Li(n.toString)&&n.toString()==="[object FormData]"))},C3=$s("URLSearchParams"),[O3,L3,M3,P3]=["ReadableStream","Request","Response","Headers"].map($s),N3=n=>n.trim?n.trim():n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Xh(n,e,{allOwnKeys:t=!1}={}){if(n===null||typeof n>"u")return;let r,i;if(typeof n!="object"&&(n=[n]),ac(n))for(r=0,i=n.length;r<i;r++)e.call(null,n[r],r,n);else{if(Kh(n))return;const o=t?Object.getOwnPropertyNames(n):Object.keys(n),l=o.length;let h;for(r=0;r<l;r++)h=o[r],e.call(null,n[h],h,n)}}function AA(n,e){if(Kh(n))return null;e=e.toLowerCase();const t=Object.keys(n);let r=t.length,i;for(;r-- >0;)if(i=t[r],e===i.toLowerCase())return i;return null}const dl=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,TA=n=>!Yu(n)&&n!==dl;function qv(){const{caseless:n,skipUndefined:e}=TA(this)&&this||{},t={},r=(i,o)=>{const l=n&&AA(t,o)||o;Ld(t[l])&&Ld(i)?t[l]=qv(t[l],i):Ld(i)?t[l]=qv({},i):ac(i)?t[l]=i.slice():(!e||!Yu(i))&&(t[l]=i)};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Xh(arguments[i],r);return t}const I3=(n,e,t,{allOwnKeys:r}={})=>(Xh(e,(i,o)=>{t&&Li(i)?Object.defineProperty(n,o,{value:_A(i,t),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(n,o,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:r}),n),D3=n=>(n.charCodeAt(0)===65279&&(n=n.slice(1)),n),R3=(n,e,t,r)=>{n.prototype=Object.create(e.prototype,r),Object.defineProperty(n.prototype,"constructor",{value:n,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(n,"super",{value:e.prototype}),t&&Object.assign(n.prototype,t)},F3=(n,e,t,r)=>{let i,o,l;const h={};if(e=e||{},n==null)return e;do{for(i=Object.getOwnPropertyNames(n),o=i.length;o-- >0;)l=i[o],(!r||r(l,n,e))&&!h[l]&&(e[l]=n[l],h[l]=!0);n=t!==!1&&Qy(n)}while(n&&(!t||t(n,e))&&n!==Object.prototype);return e},B3=(n,e,t)=>{n=String(n),(t===void 0||t>n.length)&&(t=n.length),t-=e.length;const r=n.indexOf(e,t);return r!==-1&&r===t},j3=n=>{if(!n)return null;if(ac(n))return n;let e=n.length;if(!EA(e))return null;const t=new Array(e);for(;e-- >0;)t[e]=n[e];return t},H3=(n=>e=>n&&e instanceof n)(typeof Uint8Array<"u"&&Qy(Uint8Array)),z3=(n,e)=>{const r=(n&&n[Op]).call(n);let i;for(;(i=r.next())&&!i.done;){const o=i.value;e.call(n,o[0],o[1])}},$3=(n,e)=>{let t;const r=[];for(;(t=n.exec(e))!==null;)r.push(t);return r},U3=$s("HTMLFormElement"),q3=n=>n.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(t,r,i){return r.toUpperCase()+i}),M1=(({hasOwnProperty:n})=>(e,t)=>n.call(e,t))(Object.prototype),W3=$s("RegExp"),kA=(n,e)=>{const t=Object.getOwnPropertyDescriptors(n),r={};Xh(t,(i,o)=>{let l;(l=e(i,o,n))!==!1&&(r[o]=l||i)}),Object.defineProperties(n,r)},V3=n=>{kA(n,(e,t)=>{if(Li(n)&&["arguments","caller","callee"].indexOf(t)!==-1)return!1;const r=n[t];if(Li(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+t+"'")})}})},G3=(n,e)=>{const t={},r=i=>{i.forEach(o=>{t[o]=!0})};return ac(n)?r(n):r(String(n).split(e)),t},Y3=()=>{},K3=(n,e)=>n!=null&&Number.isFinite(n=+n)?n:e;function Z3(n){return!!(n&&Li(n.append)&&n[xA]==="FormData"&&n[Op])}const X3=n=>{const e=new Array(10),t=(r,i)=>{if(Zh(r)){if(e.indexOf(r)>=0)return;if(Kh(r))return r;if(!("toJSON"in r)){e[i]=r;const o=ac(r)?[]:{};return Xh(r,(l,h)=>{const u=t(l,i+1);!Yu(u)&&(o[h]=u)}),e[i]=void 0,o}}return r};return t(n,0)},J3=$s("AsyncFunction"),Q3=n=>n&&(Zh(n)||Li(n))&&Li(n.then)&&Li(n.catch),CA=((n,e)=>n?setImmediate:e?((t,r)=>(dl.addEventListener("message",({source:i,data:o})=>{i===dl&&o===t&&r.length&&r.shift()()},!1),i=>{r.push(i),dl.postMessage(t,"*")}))(`axios@${Math.random()}`,[]):t=>setTimeout(t))(typeof setImmediate=="function",Li(dl.postMessage)),e4=typeof queueMicrotask<"u"?queueMicrotask.bind(dl):typeof process<"u"&&process.nextTick||CA,t4=n=>n!=null&&Li(n[Op]),Ge={isArray:ac,isArrayBuffer:SA,isBuffer:Kh,isFormData:k3,isArrayBufferView:y3,isString:b3,isNumber:EA,isBoolean:w3,isObject:Zh,isPlainObject:Ld,isEmptyObject:_3,isReadableStream:O3,isRequest:L3,isResponse:M3,isHeaders:P3,isUndefined:Yu,isDate:x3,isFile:S3,isBlob:E3,isRegExp:W3,isFunction:Li,isStream:T3,isURLSearchParams:C3,isTypedArray:H3,isFileList:A3,forEach:Xh,merge:qv,extend:I3,trim:N3,stripBOM:D3,inherits:R3,toFlatObject:F3,kindOf:Lp,kindOfTest:$s,endsWith:B3,toArray:j3,forEachEntry:z3,matchAll:$3,isHTMLForm:U3,hasOwnProperty:M1,hasOwnProp:M1,reduceDescriptors:kA,freezeMethods:V3,toObjectSet:G3,toCamelCase:q3,noop:Y3,toFiniteNumber:K3,findKey:AA,global:dl,isContextDefined:TA,isSpecCompliantForm:Z3,toJSONObject:X3,isAsyncFn:J3,isThenable:Q3,setImmediate:CA,asap:e4,isIterable:t4};let tn=class OA extends Error{static from(e,t,r,i,o,l){const h=new OA(e.message,t||e.code,r,i,o);return h.cause=e,h.name=e.name,l&&Object.assign(h,l),h}constructor(e,t,r,i,o){super(e),this.name="AxiosError",this.isAxiosError=!0,t&&(this.code=t),r&&(this.config=r),i&&(this.request=i),o&&(this.response=o,this.status=o.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ge.toJSONObject(this.config),code:this.code,status:this.status}}};tn.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";tn.ERR_BAD_OPTION="ERR_BAD_OPTION";tn.ECONNABORTED="ECONNABORTED";tn.ETIMEDOUT="ETIMEDOUT";tn.ERR_NETWORK="ERR_NETWORK";tn.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";tn.ERR_DEPRECATED="ERR_DEPRECATED";tn.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";tn.ERR_BAD_REQUEST="ERR_BAD_REQUEST";tn.ERR_CANCELED="ERR_CANCELED";tn.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";tn.ERR_INVALID_URL="ERR_INVALID_URL";const n4=null;function Wv(n){return Ge.isPlainObject(n)||Ge.isArray(n)}function LA(n){return Ge.endsWith(n,"[]")?n.slice(0,-2):n}function P1(n,e,t){return n?n.concat(e).map(function(i,o){return i=LA(i),!t&&o?"["+i+"]":i}).join(t?".":""):e}function r4(n){return Ge.isArray(n)&&!n.some(Wv)}const i4=Ge.toFlatObject(Ge,{},null,function(e){return/^is[A-Z]/.test(e)});function Pp(n,e,t){if(!Ge.isObject(n))throw new TypeError("target must be an object");e=e||new FormData,t=Ge.toFlatObject(t,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,A){return!Ge.isUndefined(A[_])});const r=t.metaTokens,i=t.visitor||d,o=t.dots,l=t.indexes,u=(t.Blob||typeof Blob<"u"&&Blob)&&Ge.isSpecCompliantForm(e);if(!Ge.isFunction(i))throw new TypeError("visitor must be a function");function f(w){if(w===null)return"";if(Ge.isDate(w))return w.toISOString();if(Ge.isBoolean(w))return w.toString();if(!u&&Ge.isBlob(w))throw new tn("Blob is not supported. Use a Buffer instead.");return Ge.isArrayBuffer(w)||Ge.isTypedArray(w)?u&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function d(w,_,A){let N=w;if(w&&!A&&typeof w=="object"){if(Ge.endsWith(_,"{}"))_=r?_:_.slice(0,-2),w=JSON.stringify(w);else if(Ge.isArray(w)&&r4(w)||(Ge.isFileList(w)||Ge.endsWith(_,"[]"))&&(N=Ge.toArray(w)))return _=LA(_),N.forEach(function(M,E){!(Ge.isUndefined(M)||M===null)&&e.append(l===!0?P1([_],E,o):l===null?_:_+"[]",f(M))}),!1}return Wv(w)?!0:(e.append(P1(A,_,o),f(w)),!1)}const g=[],y=Object.assign(i4,{defaultVisitor:d,convertValue:f,isVisitable:Wv});function k(w,_){if(!Ge.isUndefined(w)){if(g.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));g.push(w),Ge.forEach(w,function(N,b){(!(Ge.isUndefined(N)||N===null)&&i.call(e,N,Ge.isString(b)?b.trim():b,_,y))===!0&&k(N,_?_.concat(b):[b])}),g.pop()}}if(!Ge.isObject(n))throw new TypeError("data must be an object");return k(n),e}function N1(n){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(n).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function eb(n,e){this._pairs=[],n&&Pp(n,this,e)}const MA=eb.prototype;MA.append=function(e,t){this._pairs.push([e,t])};MA.toString=function(e){const t=e?function(r){return e.call(this,r,N1)}:N1;return this._pairs.map(function(i){return t(i[0])+"="+t(i[1])},"").join("&")};function s4(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function PA(n,e,t){if(!e)return n;const r=t&&t.encode||s4,i=Ge.isFunction(t)?{serialize:t}:t,o=i&&i.serialize;let l;if(o?l=o(e,i):l=Ge.isURLSearchParams(e)?e.toString():new eb(e,i).toString(r),l){const h=n.indexOf("#");h!==-1&&(n=n.slice(0,h)),n+=(n.indexOf("?")===-1?"?":"&")+l}return n}class I1{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ge.forEach(this.handlers,function(r){r!==null&&e(r)})}}const NA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},o4=typeof URLSearchParams<"u"?URLSearchParams:eb,a4=typeof FormData<"u"?FormData:null,l4=typeof Blob<"u"?Blob:null,u4={isBrowser:!0,classes:{URLSearchParams:o4,FormData:a4,Blob:l4},protocols:["http","https","file","blob","url","data"]},tb=typeof window<"u"&&typeof document<"u",Vv=typeof navigator=="object"&&navigator||void 0,c4=tb&&(!Vv||["ReactNative","NativeScript","NS"].indexOf(Vv.product)<0),h4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",f4=tb&&window.location.href||"http://localhost",d4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:tb,hasStandardBrowserEnv:c4,hasStandardBrowserWebWorkerEnv:h4,navigator:Vv,origin:f4},Symbol.toStringTag,{value:"Module"})),ii={...d4,...u4};function p4(n,e){return Pp(n,new ii.classes.URLSearchParams,{visitor:function(t,r,i,o){return ii.isNode&&Ge.isBuffer(t)?(this.append(r,t.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)},...e})}function m4(n){return Ge.matchAll(/\w+|\[(\w*)]/g,n).map(e=>e[0]==="[]"?"":e[1]||e[0])}function g4(n){const e={},t=Object.keys(n);let r;const i=t.length;let o;for(r=0;r<i;r++)o=t[r],e[o]=n[o];return e}function IA(n){function e(t,r,i,o){let l=t[o++];if(l==="__proto__")return!0;const h=Number.isFinite(+l),u=o>=t.length;return l=!l&&Ge.isArray(i)?i.length:l,u?(Ge.hasOwnProp(i,l)?i[l]=[i[l],r]:i[l]=r,!h):((!i[l]||!Ge.isObject(i[l]))&&(i[l]=[]),e(t,r,i[l],o)&&Ge.isArray(i[l])&&(i[l]=g4(i[l])),!h)}if(Ge.isFormData(n)&&Ge.isFunction(n.entries)){const t={};return Ge.forEachEntry(n,(r,i)=>{e(m4(r),i,t,0)}),t}return null}function v4(n,e,t){if(Ge.isString(n))try{return(e||JSON.parse)(n),Ge.trim(n)}catch(r){if(r.name!=="SyntaxError")throw r}return(t||JSON.stringify)(n)}const Jh={transitional:NA,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",i=r.indexOf("application/json")>-1,o=Ge.isObject(e);if(o&&Ge.isHTMLForm(e)&&(e=new FormData(e)),Ge.isFormData(e))return i?JSON.stringify(IA(e)):e;if(Ge.isArrayBuffer(e)||Ge.isBuffer(e)||Ge.isStream(e)||Ge.isFile(e)||Ge.isBlob(e)||Ge.isReadableStream(e))return e;if(Ge.isArrayBufferView(e))return e.buffer;if(Ge.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let h;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return p4(e,this.formSerializer).toString();if((h=Ge.isFileList(e))||r.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Pp(h?{"files[]":e}:e,u&&new u,this.formSerializer)}}return o||i?(t.setContentType("application/json",!1),v4(e)):e}],transformResponse:[function(e){const t=this.transitional||Jh.transitional,r=t&&t.forcedJSONParsing,i=this.responseType==="json";if(Ge.isResponse(e)||Ge.isReadableStream(e))return e;if(e&&Ge.isString(e)&&(r&&!this.responseType||i)){const l=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(h){if(l)throw h.name==="SyntaxError"?tn.from(h,tn.ERR_BAD_RESPONSE,this,null,this.response):h}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ii.classes.FormData,Blob:ii.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ge.forEach(["delete","get","head","post","put","patch"],n=>{Jh.headers[n]={}});const y4=Ge.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),b4=n=>{const e={};let t,r,i;return n&&n.split(`
`).forEach(function(l){i=l.indexOf(":"),t=l.substring(0,i).trim().toLowerCase(),r=l.substring(i+1).trim(),!(!t||e[t]&&y4[t])&&(t==="set-cookie"?e[t]?e[t].push(r):e[t]=[r]:e[t]=e[t]?e[t]+", "+r:r)}),e},D1=Symbol("internals");function Vc(n){return n&&String(n).trim().toLowerCase()}function Md(n){return n===!1||n==null?n:Ge.isArray(n)?n.map(Md):String(n)}function w4(n){const e=Object.create(null),t=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=t.exec(n);)e[r[1]]=r[2];return e}const _4=n=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(n.trim());function Ug(n,e,t,r,i){if(Ge.isFunction(r))return r.call(this,e,t);if(i&&(e=t),!!Ge.isString(e)){if(Ge.isString(r))return e.indexOf(r)!==-1;if(Ge.isRegExp(r))return r.test(e)}}function x4(n){return n.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,r)=>t.toUpperCase()+r)}function S4(n,e){const t=Ge.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(n,r+t,{value:function(i,o,l){return this[r].call(this,e,i,o,l)},configurable:!0})})}let Mi=class{constructor(e){e&&this.set(e)}set(e,t,r){const i=this;function o(h,u,f){const d=Vc(u);if(!d)throw new Error("header name must be a non-empty string");const g=Ge.findKey(i,d);(!g||i[g]===void 0||f===!0||f===void 0&&i[g]!==!1)&&(i[g||u]=Md(h))}const l=(h,u)=>Ge.forEach(h,(f,d)=>o(f,d,u));if(Ge.isPlainObject(e)||e instanceof this.constructor)l(e,t);else if(Ge.isString(e)&&(e=e.trim())&&!_4(e))l(b4(e),t);else if(Ge.isObject(e)&&Ge.isIterable(e)){let h={},u,f;for(const d of e){if(!Ge.isArray(d))throw TypeError("Object iterator must return a key-value pair");h[f=d[0]]=(u=h[f])?Ge.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}l(h,t)}else e!=null&&o(t,e,r);return this}get(e,t){if(e=Vc(e),e){const r=Ge.findKey(this,e);if(r){const i=this[r];if(!t)return i;if(t===!0)return w4(i);if(Ge.isFunction(t))return t.call(this,i,r);if(Ge.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Vc(e),e){const r=Ge.findKey(this,e);return!!(r&&this[r]!==void 0&&(!t||Ug(this,this[r],r,t)))}return!1}delete(e,t){const r=this;let i=!1;function o(l){if(l=Vc(l),l){const h=Ge.findKey(r,l);h&&(!t||Ug(r,r[h],h,t))&&(delete r[h],i=!0)}}return Ge.isArray(e)?e.forEach(o):o(e),i}clear(e){const t=Object.keys(this);let r=t.length,i=!1;for(;r--;){const o=t[r];(!e||Ug(this,this[o],o,e,!0))&&(delete this[o],i=!0)}return i}normalize(e){const t=this,r={};return Ge.forEach(this,(i,o)=>{const l=Ge.findKey(r,o);if(l){t[l]=Md(i),delete t[o];return}const h=e?x4(o):String(o).trim();h!==o&&delete t[o],t[h]=Md(i),r[h]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const t=Object.create(null);return Ge.forEach(this,(r,i)=>{r!=null&&r!==!1&&(t[i]=e&&Ge.isArray(r)?r.join(", "):r)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,t])=>e+": "+t).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...t){const r=new this(e);return t.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[D1]=this[D1]={accessors:{}}).accessors,i=this.prototype;function o(l){const h=Vc(l);r[h]||(S4(i,l),r[h]=!0)}return Ge.isArray(e)?e.forEach(o):o(e),this}};Mi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ge.reduceDescriptors(Mi.prototype,({value:n},e)=>{let t=e[0].toUpperCase()+e.slice(1);return{get:()=>n,set(r){this[t]=r}}});Ge.freezeMethods(Mi);function qg(n,e){const t=this||Jh,r=e||t,i=Mi.from(r.headers);let o=r.data;return Ge.forEach(n,function(h){o=h.call(t,o,i.normalize(),e?e.status:void 0)}),i.normalize(),o}function DA(n){return!!(n&&n.__CANCEL__)}let Qh=class extends tn{constructor(e,t,r){super(e??"canceled",tn.ERR_CANCELED,t,r),this.name="CanceledError",this.__CANCEL__=!0}};function RA(n,e,t){const r=t.config.validateStatus;!t.status||!r||r(t.status)?n(t):e(new tn("Request failed with status code "+t.status,[tn.ERR_BAD_REQUEST,tn.ERR_BAD_RESPONSE][Math.floor(t.status/100)-4],t.config,t.request,t))}function E4(n){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(n);return e&&e[1]||""}function A4(n,e){n=n||10;const t=new Array(n),r=new Array(n);let i=0,o=0,l;return e=e!==void 0?e:1e3,function(u){const f=Date.now(),d=r[o];l||(l=f),t[i]=u,r[i]=f;let g=o,y=0;for(;g!==i;)y+=t[g++],g=g%n;if(i=(i+1)%n,i===o&&(o=(o+1)%n),f-l<e)return;const k=d&&f-d;return k?Math.round(y*1e3/k):void 0}}function T4(n,e){let t=0,r=1e3/e,i,o;const l=(f,d=Date.now())=>{t=d,i=null,o&&(clearTimeout(o),o=null),n(...f)};return[(...f)=>{const d=Date.now(),g=d-t;g>=r?l(f,d):(i=f,o||(o=setTimeout(()=>{o=null,l(i)},r-g)))},()=>i&&l(i)]}const rp=(n,e,t=3)=>{let r=0;const i=A4(50,250);return T4(o=>{const l=o.loaded,h=o.lengthComputable?o.total:void 0,u=l-r,f=i(u),d=l<=h;r=l;const g={loaded:l,total:h,progress:h?l/h:void 0,bytes:u,rate:f||void 0,estimated:f&&h&&d?(h-l)/f:void 0,event:o,lengthComputable:h!=null,[e?"download":"upload"]:!0};n(g)},t)},R1=(n,e)=>{const t=n!=null;return[r=>e[0]({lengthComputable:t,total:n,loaded:r}),e[1]]},F1=n=>(...e)=>Ge.asap(()=>n(...e)),k4=ii.hasStandardBrowserEnv?((n,e)=>t=>(t=new URL(t,ii.origin),n.protocol===t.protocol&&n.host===t.host&&(e||n.port===t.port)))(new URL(ii.origin),ii.navigator&&/(msie|trident)/i.test(ii.navigator.userAgent)):()=>!0,C4=ii.hasStandardBrowserEnv?{write(n,e,t,r,i,o,l){if(typeof document>"u")return;const h=[`${n}=${encodeURIComponent(e)}`];Ge.isNumber(t)&&h.push(`expires=${new Date(t).toUTCString()}`),Ge.isString(r)&&h.push(`path=${r}`),Ge.isString(i)&&h.push(`domain=${i}`),o===!0&&h.push("secure"),Ge.isString(l)&&h.push(`SameSite=${l}`),document.cookie=h.join("; ")},read(n){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+n+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(n){this.write(n,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function O4(n){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(n)}function L4(n,e){return e?n.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):n}function FA(n,e,t){let r=!O4(e);return n&&(r||t==!1)?L4(n,e):e}const B1=n=>n instanceof Mi?{...n}:n;function _l(n,e){e=e||{};const t={};function r(f,d,g,y){return Ge.isPlainObject(f)&&Ge.isPlainObject(d)?Ge.merge.call({caseless:y},f,d):Ge.isPlainObject(d)?Ge.merge({},d):Ge.isArray(d)?d.slice():d}function i(f,d,g,y){if(Ge.isUndefined(d)){if(!Ge.isUndefined(f))return r(void 0,f,g,y)}else return r(f,d,g,y)}function o(f,d){if(!Ge.isUndefined(d))return r(void 0,d)}function l(f,d){if(Ge.isUndefined(d)){if(!Ge.isUndefined(f))return r(void 0,f)}else return r(void 0,d)}function h(f,d,g){if(g in e)return r(f,d);if(g in n)return r(void 0,f)}const u={url:o,method:o,data:o,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:h,headers:(f,d,g)=>i(B1(f),B1(d),g,!0)};return Ge.forEach(Object.keys({...n,...e}),function(d){const g=u[d]||i,y=g(n[d],e[d],d);Ge.isUndefined(y)&&g!==h||(t[d]=y)}),t}const BA=n=>{const e=_l({},n);let{data:t,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:l,auth:h}=e;if(e.headers=l=Mi.from(l),e.url=PA(FA(e.baseURL,e.url,e.allowAbsoluteUrls),n.params,n.paramsSerializer),h&&l.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),Ge.isFormData(t)){if(ii.hasStandardBrowserEnv||ii.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Ge.isFunction(t.getHeaders)){const u=t.getHeaders(),f=["content-type","content-length"];Object.entries(u).forEach(([d,g])=>{f.includes(d.toLowerCase())&&l.set(d,g)})}}if(ii.hasStandardBrowserEnv&&(r&&Ge.isFunction(r)&&(r=r(e)),r||r!==!1&&k4(e.url))){const u=i&&o&&C4.read(o);u&&l.set(i,u)}return e},M4=typeof XMLHttpRequest<"u",P4=M4&&function(n){return new Promise(function(t,r){const i=BA(n);let o=i.data;const l=Mi.from(i.headers).normalize();let{responseType:h,onUploadProgress:u,onDownloadProgress:f}=i,d,g,y,k,w;function _(){k&&k(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let A=new XMLHttpRequest;A.open(i.method.toUpperCase(),i.url,!0),A.timeout=i.timeout;function N(){if(!A)return;const M=Mi.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),D={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:M,config:n,request:A};RA(function(C){t(C),_()},function(C){r(C),_()},D),A=null}"onloadend"in A?A.onloadend=N:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(N)},A.onabort=function(){A&&(r(new tn("Request aborted",tn.ECONNABORTED,n,A)),A=null)},A.onerror=function(E){const D=E&&E.message?E.message:"Network Error",T=new tn(D,tn.ERR_NETWORK,n,A);T.event=E||null,r(T),A=null},A.ontimeout=function(){let E=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||NA;i.timeoutErrorMessage&&(E=i.timeoutErrorMessage),r(new tn(E,D.clarifyTimeoutError?tn.ETIMEDOUT:tn.ECONNABORTED,n,A)),A=null},o===void 0&&l.setContentType(null),"setRequestHeader"in A&&Ge.forEach(l.toJSON(),function(E,D){A.setRequestHeader(D,E)}),Ge.isUndefined(i.withCredentials)||(A.withCredentials=!!i.withCredentials),h&&h!=="json"&&(A.responseType=i.responseType),f&&([y,w]=rp(f,!0),A.addEventListener("progress",y)),u&&A.upload&&([g,k]=rp(u),A.upload.addEventListener("progress",g),A.upload.addEventListener("loadend",k)),(i.cancelToken||i.signal)&&(d=M=>{A&&(r(!M||M.type?new Qh(null,n,A):M),A.abort(),A=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const b=E4(i.url);if(b&&ii.protocols.indexOf(b)===-1){r(new tn("Unsupported protocol "+b+":",tn.ERR_BAD_REQUEST,n));return}A.send(o||null)})},N4=(n,e)=>{const{length:t}=n=n?n.filter(Boolean):[];if(e||t){let r=new AbortController,i;const o=function(f){if(!i){i=!0,h();const d=f instanceof Error?f:this.reason;r.abort(d instanceof tn?d:new Qh(d instanceof Error?d.message:d))}};let l=e&&setTimeout(()=>{l=null,o(new tn(`timeout of ${e}ms exceeded`,tn.ETIMEDOUT))},e);const h=()=>{n&&(l&&clearTimeout(l),l=null,n.forEach(f=>{f.unsubscribe?f.unsubscribe(o):f.removeEventListener("abort",o)}),n=null)};n.forEach(f=>f.addEventListener("abort",o));const{signal:u}=r;return u.unsubscribe=()=>Ge.asap(h),u}},I4=function*(n,e){let t=n.byteLength;if(t<e){yield n;return}let r=0,i;for(;r<t;)i=r+e,yield n.slice(r,i),r=i},D4=async function*(n,e){for await(const t of R4(n))yield*I4(t,e)},R4=async function*(n){if(n[Symbol.asyncIterator]){yield*n;return}const e=n.getReader();try{for(;;){const{done:t,value:r}=await e.read();if(t)break;yield r}}finally{await e.cancel()}},j1=(n,e,t,r)=>{const i=D4(n,e);let o=0,l,h=u=>{l||(l=!0,r&&r(u))};return new ReadableStream({async pull(u){try{const{done:f,value:d}=await i.next();if(f){h(),u.close();return}let g=d.byteLength;if(t){let y=o+=g;t(y)}u.enqueue(new Uint8Array(d))}catch(f){throw h(f),f}},cancel(u){return h(u),i.return()}},{highWaterMark:2})},H1=64*1024,{isFunction:rd}=Ge,F4=(({Request:n,Response:e})=>({Request:n,Response:e}))(Ge.global),{ReadableStream:z1,TextEncoder:$1}=Ge.global,U1=(n,...e)=>{try{return!!n(...e)}catch{return!1}},B4=n=>{n=Ge.merge.call({skipUndefined:!0},F4,n);const{fetch:e,Request:t,Response:r}=n,i=e?rd(e):typeof fetch=="function",o=rd(t),l=rd(r);if(!i)return!1;const h=i&&rd(z1),u=i&&(typeof $1=="function"?(w=>_=>w.encode(_))(new $1):async w=>new Uint8Array(await new t(w).arrayBuffer())),f=o&&h&&U1(()=>{let w=!1;const _=new t(ii.origin,{body:new z1,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),d=l&&h&&U1(()=>Ge.isReadableStream(new r("").body)),g={stream:d&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!g[w]&&(g[w]=(_,A)=>{let N=_&&_[w];if(N)return N.call(_);throw new tn(`Response type '${w}' is not supported`,tn.ERR_NOT_SUPPORT,A)})});const y=async w=>{if(w==null)return 0;if(Ge.isBlob(w))return w.size;if(Ge.isSpecCompliantForm(w))return(await new t(ii.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(Ge.isArrayBufferView(w)||Ge.isArrayBuffer(w))return w.byteLength;if(Ge.isURLSearchParams(w)&&(w=w+""),Ge.isString(w))return(await u(w)).byteLength},k=async(w,_)=>{const A=Ge.toFiniteNumber(w.getContentLength());return A??y(_)};return async w=>{let{url:_,method:A,data:N,signal:b,cancelToken:M,timeout:E,onDownloadProgress:D,onUploadProgress:T,responseType:C,headers:R,withCredentials:B="same-origin",fetchOptions:I}=BA(w),P=e||fetch;C=C?(C+"").toLowerCase():"text";let j=N4([b,M&&M.toAbortSignal()],E),$=null;const Z=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let se;try{if(T&&f&&A!=="get"&&A!=="head"&&(se=await k(R,N))!==0){let ue=new t(_,{method:"POST",body:N,duplex:"half"}),xe;if(Ge.isFormData(N)&&(xe=ue.headers.get("content-type"))&&R.setContentType(xe),ue.body){const[we,Q]=R1(se,rp(F1(T)));N=j1(ue.body,H1,we,Q)}}Ge.isString(B)||(B=B?"include":"omit");const te=o&&"credentials"in t.prototype,X={...I,signal:j,method:A.toUpperCase(),headers:R.normalize().toJSON(),body:N,duplex:"half",credentials:te?B:void 0};$=o&&new t(_,X);let V=await(o?P($,I):P(_,X));const de=d&&(C==="stream"||C==="response");if(d&&(D||de&&Z)){const ue={};["status","statusText","headers"].forEach(K=>{ue[K]=V[K]});const xe=Ge.toFiniteNumber(V.headers.get("content-length")),[we,Q]=D&&R1(xe,rp(F1(D),!0))||[];V=new r(j1(V.body,H1,we,()=>{Q&&Q(),Z&&Z()}),ue)}C=C||"text";let Y=await g[Ge.findKey(g,C)||"text"](V,w);return!de&&Z&&Z(),await new Promise((ue,xe)=>{RA(ue,xe,{data:Y,headers:Mi.from(V.headers),status:V.status,statusText:V.statusText,config:w,request:$})})}catch(te){throw Z&&Z(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new tn("Network Error",tn.ERR_NETWORK,w,$),{cause:te.cause||te}):tn.from(te,te&&te.code,w,$)}}},j4=new Map,jA=n=>{let e=n&&n.env||{};const{fetch:t,Request:r,Response:i}=e,o=[r,i,t];let l=o.length,h=l,u,f,d=j4;for(;h--;)u=o[h],f=d.get(u),f===void 0&&d.set(u,f=h?new Map:B4(e)),d=f;return f};jA();const nb={http:n4,xhr:P4,fetch:{get:jA}};Ge.forEach(nb,(n,e)=>{if(n){try{Object.defineProperty(n,"name",{value:e})}catch{}Object.defineProperty(n,"adapterName",{value:e})}});const q1=n=>`- ${n}`,H4=n=>Ge.isFunction(n)||n===null||n===!1;function z4(n,e){n=Ge.isArray(n)?n:[n];const{length:t}=n;let r,i;const o={};for(let l=0;l<t;l++){r=n[l];let h;if(i=r,!H4(r)&&(i=nb[(h=String(r)).toLowerCase()],i===void 0))throw new tn(`Unknown adapter '${h}'`);if(i&&(Ge.isFunction(i)||(i=i.get(e))))break;o[h||"#"+l]=i}if(!i){const l=Object.entries(o).map(([u,f])=>`adapter ${u} `+(f===!1?"is not supported by the environment":"is not available in the build"));let h=t?l.length>1?`since :
`+l.map(q1).join(`
`):" "+q1(l[0]):"as no adapter specified";throw new tn("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return i}const HA={getAdapter:z4,adapters:nb};function Wg(n){if(n.cancelToken&&n.cancelToken.throwIfRequested(),n.signal&&n.signal.aborted)throw new Qh(null,n)}function W1(n){return Wg(n),n.headers=Mi.from(n.headers),n.data=qg.call(n,n.transformRequest),["post","put","patch"].indexOf(n.method)!==-1&&n.headers.setContentType("application/x-www-form-urlencoded",!1),HA.getAdapter(n.adapter||Jh.adapter,n)(n).then(function(r){return Wg(n),r.data=qg.call(n,n.transformResponse,r),r.headers=Mi.from(r.headers),r},function(r){return DA(r)||(Wg(n),r&&r.response&&(r.response.data=qg.call(n,n.transformResponse,r.response),r.response.headers=Mi.from(r.response.headers))),Promise.reject(r)})}const zA="1.13.4",Np={};["object","boolean","number","function","string","symbol"].forEach((n,e)=>{Np[n]=function(r){return typeof r===n||"a"+(e<1?"n ":" ")+n}});const V1={};Np.transitional=function(e,t,r){function i(o,l){return"[Axios v"+zA+"] Transitional option '"+o+"'"+l+(r?". "+r:"")}return(o,l,h)=>{if(e===!1)throw new tn(i(l," has been removed"+(t?" in "+t:"")),tn.ERR_DEPRECATED);return t&&!V1[l]&&(V1[l]=!0,console.warn(i(l," has been deprecated since v"+t+" and will be removed in the near future"))),e?e(o,l,h):!0}};Np.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function $4(n,e,t){if(typeof n!="object")throw new tn("options must be an object",tn.ERR_BAD_OPTION_VALUE);const r=Object.keys(n);let i=r.length;for(;i-- >0;){const o=r[i],l=e[o];if(l){const h=n[o],u=h===void 0||l(h,o,n);if(u!==!0)throw new tn("option "+o+" must be "+u,tn.ERR_BAD_OPTION_VALUE);continue}if(t!==!0)throw new tn("Unknown option "+o,tn.ERR_BAD_OPTION)}}const Pd={assertOptions:$4,validators:Np},io=Pd.validators;let vl=class{constructor(e){this.defaults=e||{},this.interceptors={request:new I1,response:new I1}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+o):r.stack=o}catch{}}throw r}}_request(e,t){typeof e=="string"?(t=t||{},t.url=e):t=e||{},t=_l(this.defaults,t);const{transitional:r,paramsSerializer:i,headers:o}=t;r!==void 0&&Pd.assertOptions(r,{silentJSONParsing:io.transitional(io.boolean),forcedJSONParsing:io.transitional(io.boolean),clarifyTimeoutError:io.transitional(io.boolean)},!1),i!=null&&(Ge.isFunction(i)?t.paramsSerializer={serialize:i}:Pd.assertOptions(i,{encode:io.function,serialize:io.function},!0)),t.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Pd.assertOptions(t,{baseUrl:io.spelling("baseURL"),withXsrfToken:io.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let l=o&&Ge.merge(o.common,o[t.method]);o&&Ge.forEach(["delete","get","head","post","put","patch","common"],w=>{delete o[w]}),t.headers=Mi.concat(l,o);const h=[];let u=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(t)===!1||(u=u&&_.synchronous,h.unshift(_.fulfilled,_.rejected))});const f=[];this.interceptors.response.forEach(function(_){f.push(_.fulfilled,_.rejected)});let d,g=0,y;if(!u){const w=[W1.bind(this),void 0];for(w.unshift(...h),w.push(...f),y=w.length,d=Promise.resolve(t);g<y;)d=d.then(w[g++],w[g++]);return d}y=h.length;let k=t;for(;g<y;){const w=h[g++],_=h[g++];try{k=w(k)}catch(A){_.call(this,A);break}}try{d=W1.call(this,k)}catch(w){return Promise.reject(w)}for(g=0,y=f.length;g<y;)d=d.then(f[g++],f[g++]);return d}getUri(e){e=_l(this.defaults,e);const t=FA(e.baseURL,e.url,e.allowAbsoluteUrls);return PA(t,e.params,e.paramsSerializer)}};Ge.forEach(["delete","get","head","options"],function(e){vl.prototype[e]=function(t,r){return this.request(_l(r||{},{method:e,url:t,data:(r||{}).data}))}});Ge.forEach(["post","put","patch"],function(e){function t(r){return function(o,l,h){return this.request(_l(h||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:l}))}}vl.prototype[e]=t(),vl.prototype[e+"Form"]=t(!0)});let U4=class $A{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(o){t=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const l=new Promise(h=>{r.subscribe(h),o=h}).then(i);return l.cancel=function(){r.unsubscribe(o)},l},e(function(o,l,h){r.reason||(r.reason=new Qh(o,l,h),t(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);t!==-1&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=r=>{e.abort(r)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new $A(function(i){e=i}),cancel:e}}};function q4(n){return function(t){return n.apply(null,t)}}function W4(n){return Ge.isObject(n)&&n.isAxiosError===!0}const Gv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Gv).forEach(([n,e])=>{Gv[e]=n});function UA(n){const e=new vl(n),t=_A(vl.prototype.request,e);return Ge.extend(t,vl.prototype,e,{allOwnKeys:!0}),Ge.extend(t,e,null,{allOwnKeys:!0}),t.create=function(i){return UA(_l(n,i))},t}const gr=UA(Jh);gr.Axios=vl;gr.CanceledError=Qh;gr.CancelToken=U4;gr.isCancel=DA;gr.VERSION=zA;gr.toFormData=Pp;gr.AxiosError=tn;gr.Cancel=gr.CanceledError;gr.all=function(e){return Promise.all(e)};gr.spread=q4;gr.isAxiosError=W4;gr.mergeConfig=_l;gr.AxiosHeaders=Mi;gr.formToJSON=n=>IA(Ge.isHTMLForm(n)?new FormData(n):n);gr.getAdapter=HA.getAdapter;gr.HttpStatusCode=Gv;gr.default=gr;const{Axios:lq,AxiosError:uq,CanceledError:cq,isCancel:hq,CancelToken:fq,VERSION:dq,all:pq,Cancel:mq,isAxiosError:gq,spread:vq,toFormData:yq,AxiosHeaders:bq,HttpStatusCode:wq,formToJSON:_q,getAdapter:xq,mergeConfig:Sq}=gr;class V4 extends dn{initialize(){this.axios(),this.csrf(),window.addEventListener("turbo:load",()=>this.csrf())}axios(){window.axios=gr}csrf(){const e=document.head.querySelector('meta[name="csrf_token"]');e&&(window.axios.defaults.headers.common["X-CSRF-TOKEN"]=e.content,window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest")}goToTop(){window.scrollTo({top:0,behavior:"smooth"})}}const G4=Object.freeze(Object.defineProperty({__proto__:null,default:V4},Symbol.toStringTag,{value:"Module"}));var Nd={exports:{}};var Y4=Nd.exports,G1;function K4(){return G1||(G1=1,(function(n,e){(function(t,r){n.exports=r()})(typeof self<"u"?self:Y4,(function(){return(function(){var t={3976:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default={_maxTestPos:500,placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:function(){},onincomplete:function(){},oncleared:function(){},repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,insertModeVisual:!0,clearIncomplete:!1,alias:null,onKeyDown:function(){},onBeforeMask:null,onBeforePaste:function(u,f){return typeof f.onBeforeMask=="function"?f.onBeforeMask.call(this,u,f):u},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:function(){},skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:void 0,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"text",importDataAttributes:!0,shiftPositions:!0,usePrototypeDefinitions:!0,validationEventTimeOut:3e3,substitutes:{}}},7392:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0,h.default={9:{validator:"[0-9-]",definitionSymbol:"*"},a:{validator:"[A-Za-z--]",definitionSymbol:"*"},"*":{validator:"[0-9-A-Za-z--]"}}},253:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(u,f,d){if(d===void 0)return u.__data?u.__data[f]:null;u.__data=u.__data||{},u.__data[f]=d}},3776:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.Event=void 0,h.off=function(b,M){var E,D;return A(this[0])&&b&&(E=this[0].eventRegistry,D=this[0],b.split(" ").forEach((function(T){var C=y(T.split("."),2);(function(R,B){var I,P,j=[];if(R.length>0)if(M===void 0)for(I=0,P=E[R][B].length;I<P;I++)j.push({ev:R,namespace:B&&B.length>0?B:"global",handler:E[R][B][I]});else j.push({ev:R,namespace:B&&B.length>0?B:"global",handler:M});else if(B.length>0){for(var $ in E)for(var Z in E[$])if(Z===B)if(M===void 0)for(I=0,P=E[$][Z].length;I<P;I++)j.push({ev:$,namespace:Z,handler:E[$][Z][I]});else j.push({ev:$,namespace:Z,handler:M})}return j})(C[0],C[1]).forEach((function(R){var B=R.ev,I=R.handler;(function(P,j,$){if(P in E==1)if(D.removeEventListener?D.removeEventListener(P,$,!1):D.detachEvent&&D.detachEvent("on".concat(P),$),j==="global")for(var Z in E[P])E[P][Z].splice(E[P][Z].indexOf($),1);else E[P][j].splice(E[P][j].indexOf($),1)})(B,R.namespace,I)}))}))),this},h.on=function(b,M){if(A(this[0])){var E=this[0].eventRegistry,D=this[0];b.split(" ").forEach((function(T){var C=y(T.split("."),2),R=C[0],B=C[1];(function(I,P){D.addEventListener?D.addEventListener(I,M,!1):D.attachEvent&&D.attachEvent("on".concat(I),M),E[I]=E[I]||{},E[I][P]=E[I][P]||[],E[I][P].push(M)})(R,B===void 0?"global":B)}))}return this},h.trigger=function(b){var M=arguments;if(A(this[0]))for(var E=this[0].eventRegistry,D=this[0],T=typeof b=="string"?b.split(" "):[b.type],C=0;C<T.length;C++){var R=T[C].split("."),B=R[0],I=R[1]||"global";if(_!==void 0&&I==="global"){var P,j={bubbles:!0,cancelable:!0,composed:!0,detail:arguments[1]};if(_.createEvent){try{B==="input"?(j.inputType="insertText",P=new InputEvent(B,j)):P=new CustomEvent(B,j)}catch{(P=_.createEvent("CustomEvent")).initCustomEvent(B,j.bubbles,j.cancelable,j.detail)}b.type&&(0,d.default)(P,b),D.dispatchEvent(P)}else(P=_.createEventObject()).eventType=B,P.detail=arguments[1],b.type&&(0,d.default)(P,b),D.fireEvent("on"+P.eventType,P)}else if(E[B]!==void 0){arguments[0]=arguments[0].type?arguments[0]:g.default.Event(arguments[0]),arguments[0].detail=arguments.slice(1);var $=E[B];(I==="global"?Object.values($).flat():$[I]).forEach((function(Z){return Z.apply(D,M)}))}}return this};var f=w(u(9380)),d=w(u(600)),g=w(u(4963));function y(b,M){return(function(E){if(Array.isArray(E))return E})(b)||(function(E,D){var T=E==null?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(T!=null){var C,R,B,I,P=[],j=!0,$=!1;try{if(B=(T=T.call(E)).next,D!==0)for(;!(j=(C=B.call(T)).done)&&(P.push(C.value),P.length!==D);j=!0);}catch(Z){$=!0,R=Z}finally{try{if(!j&&T.return!=null&&(I=T.return(),Object(I)!==I))return}finally{if($)throw R}}return P}})(b,M)||(function(E,D){if(E){if(typeof E=="string")return k(E,D);var T=Object.prototype.toString.call(E).slice(8,-1);if(T==="Object"&&E.constructor&&(T=E.constructor.name),T==="Map"||T==="Set")return Array.from(E);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return k(E,D)}})(b,M)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function k(b,M){(M==null||M>b.length)&&(M=b.length);for(var E=0,D=new Array(M);E<M;E++)D[E]=b[E];return D}function w(b){return b&&b.__esModule?b:{default:b}}var _=f.default.document;function A(b){return b instanceof Element}var N=h.Event=void 0;typeof f.default.CustomEvent=="function"?h.Event=N=f.default.CustomEvent:f.default.Event&&_&&_.createEvent?(h.Event=N=function(b,M){M=M||{bubbles:!1,cancelable:!1,composed:!0,detail:void 0};var E=_.createEvent("CustomEvent");return E.initCustomEvent(b,M.bubbles,M.cancelable,M.detail),E},N.prototype=f.default.Event.prototype):typeof Event<"u"&&(h.Event=N=Event)},600:function(l,h){function u(f){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},u(f)}Object.defineProperty(h,"__esModule",{value:!0}),h.default=function f(){var d,g,y,k,w,_,A=arguments[0]||{},N=1,b=arguments.length,M=!1;for(typeof A=="boolean"&&(M=A,A=arguments[N]||{},N++),u(A)!=="object"&&typeof A!="function"&&(A={});N<b;N++)if((d=arguments[N])!=null)for(g in d)y=A[g],A!==(k=d[g])&&(M&&k&&(Object.prototype.toString.call(k)==="[object Object]"||(w=Array.isArray(k)))?(w?(w=!1,_=y&&Array.isArray(y)?y:[]):_=y&&Object.prototype.toString.call(y)==="[object Object]"?y:{},A[g]=f(M,_,k)):k!==void 0&&(A[g]=k));return A}},4963:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var f=k(u(9380)),d=k(u(253)),g=u(3776),y=k(u(600));function k(A){return A&&A.__esModule?A:{default:A}}var w=f.default.document;function _(A){return A instanceof _?A:this instanceof _?void(A!=null&&A!==f.default&&(this[0]=A.nodeName?A:A[0]!==void 0&&A[0].nodeName?A[0]:w.querySelector(A),this[0]!==void 0&&this[0]!==null&&(this[0].eventRegistry=this[0].eventRegistry||{}))):new _(A)}_.prototype={on:g.on,off:g.off,trigger:g.trigger},_.extend=y.default,_.data=d.default,_.Event=g.Event,h.default=_},9845:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.mobile=h.iphone=h.ie=void 0;var f,d=(f=u(9380))&&f.__esModule?f:{default:f},g=d.default.navigator&&d.default.navigator.userAgent||"";h.ie=g.indexOf("MSIE ")>0||g.indexOf("Trident/")>0,h.mobile=d.default.navigator&&d.default.navigator.userAgentData&&d.default.navigator.userAgentData.mobile||d.default.navigator&&d.default.navigator.maxTouchPoints||"ontouchstart"in d.default,h.iphone=/iphone/i.test(g)},7184:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(f){return f.replace(u,"\\$1")};var u=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim")},6030:function(l,h,u){function f(B){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},f(B)}Object.defineProperty(h,"__esModule",{value:!0}),h.EventHandlers=void 0;var d,g=u(9845),y=(d=u(9380))&&d.__esModule?d:{default:d},k=u(7760),w=u(2839),_=u(8711),A=u(7215),N=u(4713);function b(){b=function(){return I};var B,I={},P=Object.prototype,j=P.hasOwnProperty,$=Object.defineProperty||function(me,O,H){me[O]=H.value},Z=typeof Symbol=="function"?Symbol:{},se=Z.iterator||"@@iterator",te=Z.asyncIterator||"@@asyncIterator",X=Z.toStringTag||"@@toStringTag";function V(me,O,H){return Object.defineProperty(me,O,{value:H,enumerable:!0,configurable:!0,writable:!0}),me[O]}try{V({},"")}catch{V=function(O,H,U){return O[H]=U}}function de(me,O,H,U){var le=O&&O.prototype instanceof Ce?O:Ce,Se=Object.create(le.prototype),Le=new ae(U||[]);return $(Se,"_invoke",{value:ve(me,H,Le)}),Se}function Y(me,O,H){try{return{type:"normal",arg:me.call(O,H)}}catch(U){return{type:"throw",arg:U}}}I.wrap=de;var ue="suspendedStart",xe="suspendedYield",we="executing",Q="completed",K={};function Ce(){}function Me(){}function ne(){}var ie={};V(ie,se,(function(){return this}));var oe=Object.getPrototypeOf,ce=oe&&oe(oe(fe([])));ce&&ce!==P&&j.call(ce,se)&&(ie=ce);var W=ne.prototype=Ce.prototype=Object.create(ie);function ee(me){["next","throw","return"].forEach((function(O){V(me,O,(function(H){return this._invoke(O,H)}))}))}function pe(me,O){function H(le,Se,Le,Pe){var $e=Y(me[le],me,Se);if($e.type!=="throw"){var Ze=$e.arg,pt=Ze.value;return pt&&f(pt)=="object"&&j.call(pt,"__await")?O.resolve(pt.__await).then((function(ct){H("next",ct,Le,Pe)}),(function(ct){H("throw",ct,Le,Pe)})):O.resolve(pt).then((function(ct){Ze.value=ct,Le(Ze)}),(function(ct){return H("throw",ct,Le,Pe)}))}Pe($e.arg)}var U;$(this,"_invoke",{value:function(le,Se){function Le(){return new O((function(Pe,$e){H(le,Se,Pe,$e)}))}return U=U?U.then(Le,Le):Le()}})}function ve(me,O,H){var U=ue;return function(le,Se){if(U===we)throw new Error("Generator is already running");if(U===Q){if(le==="throw")throw Se;return{value:B,done:!0}}for(H.method=le,H.arg=Se;;){var Le=H.delegate;if(Le){var Pe=Ae(Le,H);if(Pe){if(Pe===K)continue;return Pe}}if(H.method==="next")H.sent=H._sent=H.arg;else if(H.method==="throw"){if(U===ue)throw U=Q,H.arg;H.dispatchException(H.arg)}else H.method==="return"&&H.abrupt("return",H.arg);U=we;var $e=Y(me,O,H);if($e.type==="normal"){if(U=H.done?Q:xe,$e.arg===K)continue;return{value:$e.arg,done:H.done}}$e.type==="throw"&&(U=Q,H.method="throw",H.arg=$e.arg)}}}function Ae(me,O){var H=O.method,U=me.iterator[H];if(U===B)return O.delegate=null,H==="throw"&&me.iterator.return&&(O.method="return",O.arg=B,Ae(me,O),O.method==="throw")||H!=="return"&&(O.method="throw",O.arg=new TypeError("The iterator does not provide a '"+H+"' method")),K;var le=Y(U,me.iterator,O.arg);if(le.type==="throw")return O.method="throw",O.arg=le.arg,O.delegate=null,K;var Se=le.arg;return Se?Se.done?(O[me.resultName]=Se.value,O.next=me.nextLoc,O.method!=="return"&&(O.method="next",O.arg=B),O.delegate=null,K):Se:(O.method="throw",O.arg=new TypeError("iterator result is not an object"),O.delegate=null,K)}function ke(me){var O={tryLoc:me[0]};1 in me&&(O.catchLoc=me[1]),2 in me&&(O.finallyLoc=me[2],O.afterLoc=me[3]),this.tryEntries.push(O)}function Fe(me){var O=me.completion||{};O.type="normal",delete O.arg,me.completion=O}function ae(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(ke,this),this.reset(!0)}function fe(me){if(me||me===""){var O=me[se];if(O)return O.call(me);if(typeof me.next=="function")return me;if(!isNaN(me.length)){var H=-1,U=function le(){for(;++H<me.length;)if(j.call(me,H))return le.value=me[H],le.done=!1,le;return le.value=B,le.done=!0,le};return U.next=U}}throw new TypeError(f(me)+" is not iterable")}return Me.prototype=ne,$(W,"constructor",{value:ne,configurable:!0}),$(ne,"constructor",{value:Me,configurable:!0}),Me.displayName=V(ne,X,"GeneratorFunction"),I.isGeneratorFunction=function(me){var O=typeof me=="function"&&me.constructor;return!!O&&(O===Me||(O.displayName||O.name)==="GeneratorFunction")},I.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,ne):(me.__proto__=ne,V(me,X,"GeneratorFunction")),me.prototype=Object.create(W),me},I.awrap=function(me){return{__await:me}},ee(pe.prototype),V(pe.prototype,te,(function(){return this})),I.AsyncIterator=pe,I.async=function(me,O,H,U,le){le===void 0&&(le=Promise);var Se=new pe(de(me,O,H,U),le);return I.isGeneratorFunction(O)?Se:Se.next().then((function(Le){return Le.done?Le.value:Se.next()}))},ee(W),V(W,X,"Generator"),V(W,se,(function(){return this})),V(W,"toString",(function(){return"[object Generator]"})),I.keys=function(me){var O=Object(me),H=[];for(var U in O)H.push(U);return H.reverse(),function le(){for(;H.length;){var Se=H.pop();if(Se in O)return le.value=Se,le.done=!1,le}return le.done=!0,le}},I.values=fe,ae.prototype={constructor:ae,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=B,this.done=!1,this.delegate=null,this.method="next",this.arg=B,this.tryEntries.forEach(Fe),!me)for(var O in this)O.charAt(0)==="t"&&j.call(this,O)&&!isNaN(+O.slice(1))&&(this[O]=B)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if(me.type==="throw")throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var O=this;function H($e,Ze){return Se.type="throw",Se.arg=me,O.next=$e,Ze&&(O.method="next",O.arg=B),!!Ze}for(var U=this.tryEntries.length-1;U>=0;--U){var le=this.tryEntries[U],Se=le.completion;if(le.tryLoc==="root")return H("end");if(le.tryLoc<=this.prev){var Le=j.call(le,"catchLoc"),Pe=j.call(le,"finallyLoc");if(Le&&Pe){if(this.prev<le.catchLoc)return H(le.catchLoc,!0);if(this.prev<le.finallyLoc)return H(le.finallyLoc)}else if(Le){if(this.prev<le.catchLoc)return H(le.catchLoc,!0)}else{if(!Pe)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return H(le.finallyLoc)}}}},abrupt:function(me,O){for(var H=this.tryEntries.length-1;H>=0;--H){var U=this.tryEntries[H];if(U.tryLoc<=this.prev&&j.call(U,"finallyLoc")&&this.prev<U.finallyLoc){var le=U;break}}le&&(me==="break"||me==="continue")&&le.tryLoc<=O&&O<=le.finallyLoc&&(le=null);var Se=le?le.completion:{};return Se.type=me,Se.arg=O,le?(this.method="next",this.next=le.finallyLoc,K):this.complete(Se)},complete:function(me,O){if(me.type==="throw")throw me.arg;return me.type==="break"||me.type==="continue"?this.next=me.arg:me.type==="return"?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):me.type==="normal"&&O&&(this.next=O),K},finish:function(me){for(var O=this.tryEntries.length-1;O>=0;--O){var H=this.tryEntries[O];if(H.finallyLoc===me)return this.complete(H.completion,H.afterLoc),Fe(H),K}},catch:function(me){for(var O=this.tryEntries.length-1;O>=0;--O){var H=this.tryEntries[O];if(H.tryLoc===me){var U=H.completion;if(U.type==="throw"){var le=U.arg;Fe(H)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(me,O,H){return this.delegate={iterator:fe(me),resultName:O,nextLoc:H},this.method==="next"&&(this.arg=B),K}},I}function M(B,I){var P=typeof Symbol<"u"&&B[Symbol.iterator]||B["@@iterator"];if(!P){if(Array.isArray(B)||(P=(function(X,V){if(X){if(typeof X=="string")return E(X,V);var de=Object.prototype.toString.call(X).slice(8,-1);if(de==="Object"&&X.constructor&&(de=X.constructor.name),de==="Map"||de==="Set")return Array.from(X);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return E(X,V)}})(B))||I){P&&(B=P);var j=0,$=function(){};return{s:$,n:function(){return j>=B.length?{done:!0}:{done:!1,value:B[j++]}},e:function(X){throw X},f:$}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Z,se=!0,te=!1;return{s:function(){P=P.call(B)},n:function(){var X=P.next();return se=X.done,X},e:function(X){te=!0,Z=X},f:function(){try{se||P.return==null||P.return()}finally{if(te)throw Z}}}}function E(B,I){(I==null||I>B.length)&&(I=B.length);for(var P=0,j=new Array(I);P<I;P++)j[P]=B[P];return j}function D(B,I,P,j,$,Z,se){try{var te=B[Z](se),X=te.value}catch(V){return void P(V)}te.done?I(X):Promise.resolve(X).then(j,$)}var T,C,R=h.EventHandlers={keyEvent:function(B,I,P,j,$){var Z=this.inputmask,se=Z.opts,te=Z.dependencyLib,X=Z.maskset,V=this,de=te(V),Y=B.key,ue=_.caret.call(Z,V),xe=se.onKeyDown.call(this,B,_.getBuffer.call(Z),ue,se);if(xe!==void 0)return xe;if(Y===w.keys.Backspace||Y===w.keys.Delete||g.iphone&&Y===w.keys.BACKSPACE_SAFARI||B.ctrlKey&&Y===w.keys.x&&!("oncut"in V))B.preventDefault(),A.handleRemove.call(Z,V,Y,ue),(0,k.writeBuffer)(V,_.getBuffer.call(Z,!0),X.p,B,V.inputmask._valueGet()!==_.getBuffer.call(Z).join(""));else if(Y===w.keys.End||Y===w.keys.PageDown){B.preventDefault();var we=_.seekNext.call(Z,_.getLastValidPosition.call(Z));_.caret.call(Z,V,B.shiftKey?ue.begin:we,we,!0)}else Y===w.keys.Home&&!B.shiftKey||Y===w.keys.PageUp?(B.preventDefault(),_.caret.call(Z,V,0,B.shiftKey?ue.begin:0,!0)):se.undoOnEscape&&Y===w.keys.Escape&&B.altKey!==!0?((0,k.checkVal)(V,!0,!1,Z.undoValue.split("")),de.trigger("click")):Y!==w.keys.Insert||B.shiftKey||B.ctrlKey||Z.userOptions.insertMode!==void 0?se.tabThrough===!0&&Y===w.keys.Tab?B.shiftKey===!0?(ue.end=_.seekPrevious.call(Z,ue.end,!0),N.getTest.call(Z,ue.end-1).match.static===!0&&ue.end--,ue.begin=_.seekPrevious.call(Z,ue.end,!0),ue.begin>=0&&ue.end>0&&(B.preventDefault(),_.caret.call(Z,V,ue.begin,ue.end))):(ue.begin=_.seekNext.call(Z,ue.begin,!0),ue.end=_.seekNext.call(Z,ue.begin,!0),ue.end<X.maskLength&&ue.end--,ue.begin<=X.maskLength&&(B.preventDefault(),_.caret.call(Z,V,ue.begin,ue.end))):B.shiftKey||(se.insertModeVisual&&se.insertMode===!1?Y===w.keys.ArrowRight?setTimeout((function(){var Q=_.caret.call(Z,V);_.caret.call(Z,V,Q.begin)}),0):Y===w.keys.ArrowLeft&&setTimeout((function(){var Q=_.translatePosition.call(Z,V.inputmask.caretPos.begin);_.translatePosition.call(Z,V.inputmask.caretPos.end),Z.isRTL?_.caret.call(Z,V,Q+(Q===X.maskLength?0:1)):_.caret.call(Z,V,Q-(Q===0?0:1))}),0):Z.keyEventHook===void 0||Z.keyEventHook(B)):A.isSelection.call(Z,ue)?se.insertMode=!se.insertMode:(se.insertMode=!se.insertMode,_.caret.call(Z,V,ue.begin,ue.begin));return Z.isComposing=Y==w.keys.Process||Y==w.keys.Unidentified,Z.ignorable=Y.length>1&&!(V.tagName.toLowerCase()==="textarea"&&Y==w.keys.Enter),R.keypressEvent.call(this,B,I,P,j,$)},keypressEvent:function(B,I,P,j,$){var Z=this.inputmask||this,se=Z.opts,te=Z.dependencyLib,X=Z.maskset,V=Z.el,de=te(V),Y=B.key;if(I===!0||B.ctrlKey&&B.altKey&&!Z.ignorable||!(B.ctrlKey||B.metaKey||Z.ignorable)){if(Y){var ue,xe=I?{begin:$,end:$}:_.caret.call(Z,V);I||(Y=se.substitutes[Y]||Y),X.writeOutBuffer=!0;var we=A.isValid.call(Z,xe,Y,j,void 0,void 0,void 0,I);if(we!==!1&&(_.resetMaskSet.call(Z,!0),ue=we.caret!==void 0?we.caret:_.seekNext.call(Z,we.pos.begin?we.pos.begin:we.pos),X.p=ue),ue=se.numericInput&&we.caret===void 0?_.seekPrevious.call(Z,ue):ue,P!==!1&&(setTimeout((function(){se.onKeyValidation.call(V,Y,we)}),0),X.writeOutBuffer&&we!==!1)){var Q=_.getBuffer.call(Z);(0,k.writeBuffer)(V,Q,ue,B,I!==!0)}if(B.preventDefault(),I)return we!==!1&&(we.forwardPosition=ue),we}}else Y===w.keys.Enter&&Z.undoValue!==Z._valueGet(!0)&&(Z.undoValue=Z._valueGet(!0),setTimeout((function(){de.trigger("change")}),0))},pasteEvent:(T=b().mark((function B(I){var P,j,$,Z,se,te;return b().wrap((function(X){for(;;)switch(X.prev=X.next){case 0:P=function(V,de,Y,ue,xe){var we=_.caret.call(V,de,void 0,void 0,!0),Q=Y.substr(0,we.begin),K=Y.substr(we.end,Y.length);if(Q==(V.isRTL?_.getBufferTemplate.call(V).slice().reverse():_.getBufferTemplate.call(V)).slice(0,we.begin).join("")&&(Q=""),K==(V.isRTL?_.getBufferTemplate.call(V).slice().reverse():_.getBufferTemplate.call(V)).slice(we.end).join("")&&(K=""),ue=Q+ue+K,V.isRTL&&Z.numericInput!==!0){ue=ue.split("");var Ce,Me=M(_.getBufferTemplate.call(V));try{for(Me.s();!(Ce=Me.n()).done;){var ne=Ce.value;ue[0]===ne&&ue.shift()}}catch(oe){Me.e(oe)}finally{Me.f()}ue=ue.reverse().join("")}var ie=ue;if(typeof xe=="function"){if((ie=xe.call(V,ie,Z))===!1)return!1;ie||(ie=Y)}(0,k.checkVal)(de,!0,!1,ie.toString().split(""),I)},j=this,$=this.inputmask,Z=$.opts,se=$._valueGet(!0),$.skipInputEvent=!0,I.clipboardData&&I.clipboardData.getData?te=I.clipboardData.getData("text/plain"):y.default.clipboardData&&y.default.clipboardData.getData&&(te=y.default.clipboardData.getData("Text")),P($,j,se,te,Z.onBeforePaste),I.preventDefault();case 7:case"end":return X.stop()}}),B,this)})),C=function(){var B=this,I=arguments;return new Promise((function(P,j){var $=T.apply(B,I);function Z(te){D($,P,j,Z,se,"next",te)}function se(te){D($,P,j,Z,se,"throw",te)}Z(void 0)}))},function(B){return C.apply(this,arguments)}),inputFallBackEvent:function(B){var I=this.inputmask,P=I.opts,j=I.dependencyLib,$,Z=this,se=Z.inputmask._valueGet(!0),te=(I.isRTL?_.getBuffer.call(I).slice().reverse():_.getBuffer.call(I)).join(""),X=_.caret.call(I,Z,void 0,void 0,!0);if(te!==se){if($=(function(de,Y,ue){for(var xe,we,Q,K=de.substr(0,ue.begin).split(""),Ce=de.substr(ue.begin).split(""),Me=Y.substr(0,ue.begin).split(""),ne=Y.substr(ue.begin).split(""),ie=K.length>=Me.length?K.length:Me.length,oe=Ce.length>=ne.length?Ce.length:ne.length,ce="",W=[],ee="~";K.length<ie;)K.push(ee);for(;Me.length<ie;)Me.push(ee);for(;Ce.length<oe;)Ce.unshift(ee);for(;ne.length<oe;)ne.unshift(ee);var pe=K.concat(Ce),ve=Me.concat(ne);for(we=0,xe=pe.length;we<xe;we++)switch(Q=N.getPlaceholder.call(I,_.translatePosition.call(I,we)),ce){case"insertText":ve[we-1]===pe[we]&&ue.begin==pe.length-1&&W.push(pe[we]),we=xe;break;case"insertReplacementText":case"deleteContentBackward":pe[we]===ee?ue.end++:we=xe;break;default:pe[we]!==ve[we]&&(pe[we+1]!==ee&&pe[we+1]!==Q&&pe[we+1]!==void 0||(ve[we]!==Q||ve[we+1]!==ee)&&ve[we]!==ee?ve[we+1]===ee&&ve[we]===pe[we+1]?(ce="insertText",W.push(pe[we]),ue.begin--,ue.end--):pe[we]!==Q&&pe[we]!==ee&&(pe[we+1]===ee||ve[we]!==pe[we]&&ve[we+1]===pe[we+1])?(ce="insertReplacementText",W.push(pe[we]),ue.begin--):pe[we]===ee?(ce="deleteContentBackward",(_.isMask.call(I,_.translatePosition.call(I,we),!0)||ve[we]===P.radixPoint)&&ue.end++):we=xe:(ce="insertText",W.push(pe[we]),ue.begin--,ue.end--))}return{action:ce,data:W,caret:ue}})(se,te,X),(Z.inputmask.shadowRoot||Z.ownerDocument).activeElement!==Z&&Z.focus(),(0,k.writeBuffer)(Z,_.getBuffer.call(I)),_.caret.call(I,Z,X.begin,X.end,!0),!g.mobile&&I.skipNextInsert&&B.inputType==="insertText"&&$.action==="insertText"&&I.isComposing)return!1;switch(B.inputType==="insertCompositionText"&&$.action==="insertText"&&I.isComposing?I.skipNextInsert=!0:I.skipNextInsert=!1,$.action){case"insertText":case"insertReplacementText":$.data.forEach((function(de,Y){var ue=new j.Event("keypress");ue.key=de,I.ignorable=!1,R.keypressEvent.call(Z,ue)})),setTimeout((function(){I.$el.trigger("keyup")}),0);break;case"deleteContentBackward":var V=new j.Event("keydown");V.key=w.keys.Backspace,R.keyEvent.call(Z,V);break;default:(0,k.applyInputValue)(Z,se),_.caret.call(I,Z,X.begin,X.end,!0)}B.preventDefault()}},setValueEvent:function(B){var I=this.inputmask,P=I.dependencyLib,j=this,$=B&&B.detail?B.detail[0]:arguments[1];$===void 0&&($=j.inputmask._valueGet(!0)),(0,k.applyInputValue)(j,$,new P.Event("input")),(B.detail&&B.detail[1]!==void 0||arguments[2]!==void 0)&&_.caret.call(I,j,B.detail?B.detail[1]:arguments[2])},focusEvent:function(B){var I=this.inputmask,P=I.opts,j=I&&I._valueGet();P.showMaskOnFocus&&j!==_.getBuffer.call(I).join("")&&(0,k.writeBuffer)(this,_.getBuffer.call(I),_.seekNext.call(I,_.getLastValidPosition.call(I))),P.positionCaretOnTab!==!0||I.mouseEnter!==!1||A.isComplete.call(I,_.getBuffer.call(I))&&_.getLastValidPosition.call(I)!==-1||R.clickEvent.apply(this,[B,!0]),I.undoValue=I&&I._valueGet(!0)},invalidEvent:function(B){this.inputmask.validationEvent=!0},mouseleaveEvent:function(){var B=this.inputmask,I=B.opts,P=this;B.mouseEnter=!1,I.clearMaskOnLostFocus&&(P.inputmask.shadowRoot||P.ownerDocument).activeElement!==P&&(0,k.HandleNativePlaceholder)(P,B.originalPlaceholder)},clickEvent:function(B,I){var P=this.inputmask;P.clicked++;var j=this;if((j.inputmask.shadowRoot||j.ownerDocument).activeElement===j){var $=_.determineNewCaretPosition.call(P,_.caret.call(P,j),I);$!==void 0&&_.caret.call(P,j,$)}},cutEvent:function(B){var I=this.inputmask,P=I.maskset,j=this,$=_.caret.call(I,j),Z=I.isRTL?_.getBuffer.call(I).slice($.end,$.begin):_.getBuffer.call(I).slice($.begin,$.end),se=I.isRTL?Z.reverse().join(""):Z.join("");y.default.navigator&&y.default.navigator.clipboard?y.default.navigator.clipboard.writeText(se):y.default.clipboardData&&y.default.clipboardData.getData&&y.default.clipboardData.setData("Text",se),A.handleRemove.call(I,j,w.keys.Delete,$),(0,k.writeBuffer)(j,_.getBuffer.call(I),P.p,B,I.undoValue!==I._valueGet(!0))},blurEvent:function(B){var I=this.inputmask,P=I.opts,j=I.dependencyLib;I.clicked=0;var $=j(this),Z=this;if(Z.inputmask){(0,k.HandleNativePlaceholder)(Z,I.originalPlaceholder);var se=Z.inputmask._valueGet(),te=_.getBuffer.call(I).slice();se!==""&&(P.clearMaskOnLostFocus&&(_.getLastValidPosition.call(I)===-1&&se===_.getBufferTemplate.call(I).join("")?te=[]:k.clearOptionalTail.call(I,te)),A.isComplete.call(I,te)===!1&&(setTimeout((function(){$.trigger("incomplete")}),0),P.clearIncomplete&&(_.resetMaskSet.call(I,!1),te=P.clearMaskOnLostFocus?[]:_.getBufferTemplate.call(I).slice())),(0,k.writeBuffer)(Z,te,void 0,B)),se=I._valueGet(!0),I.undoValue!==se&&(se!=""||I.undoValue!=_.getBufferTemplate.call(I).join("")||I.undoValue==_.getBufferTemplate.call(I).join("")&&I.maskset.validPositions.length>0)&&(I.undoValue=se,$.trigger("change"))}},mouseenterEvent:function(){var B=this.inputmask,I=B.opts.showMaskOnHover,P=this;if(B.mouseEnter=!0,(P.inputmask.shadowRoot||P.ownerDocument).activeElement!==P){var j=(B.isRTL?_.getBufferTemplate.call(B).slice().reverse():_.getBufferTemplate.call(B)).join("");I&&(0,k.HandleNativePlaceholder)(P,j)}},submitEvent:function(){var B=this.inputmask,I=B.opts;B.undoValue!==B._valueGet(!0)&&B.$el.trigger("change"),_.getLastValidPosition.call(B)===-1&&B._valueGet&&B._valueGet()===_.getBufferTemplate.call(B).join("")&&B._valueSet(""),I.clearIncomplete&&A.isComplete.call(B,_.getBuffer.call(B))===!1&&B._valueSet(""),I.removeMaskOnSubmit&&(B._valueSet(B.unmaskedvalue(),!0),setTimeout((function(){(0,k.writeBuffer)(B.el,_.getBuffer.call(B))}),0))},resetEvent:function(){var B=this.inputmask;B.refreshValue=!0,setTimeout((function(){(0,k.applyInputValue)(B.el,B._valueGet(!0))}),0)}}},9716:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.EventRuler=void 0;var f,d=u(7760),g=(f=u(2394))&&f.__esModule?f:{default:f},y=u(2839),k=u(8711);h.EventRuler={on:function(w,_,A){var N=w.inputmask.dependencyLib,b=function(M){M.originalEvent&&(M=M.originalEvent||M,arguments[0]=M);var E,D=this,T=D.inputmask,C=T?T.opts:void 0;if(T===void 0&&this.nodeName!=="FORM"){var R=N.data(D,"_inputmask_opts");N(D).off(),R&&new g.default(R).mask(D)}else{if(["submit","reset","setvalue"].includes(M.type)||this.nodeName==="FORM"||!(D.disabled||D.readOnly&&!(M.type==="keydown"&&M.ctrlKey&&M.key===y.keys.c||C.tabThrough===!1&&M.key===y.keys.Tab))){switch(M.type){case"input":if(T.skipInputEvent===!0)return T.skipInputEvent=!1,M.preventDefault();break;case"click":case"focus":return T.validationEvent?(T.validationEvent=!1,w.blur(),(0,d.HandleNativePlaceholder)(w,(T.isRTL?k.getBufferTemplate.call(T).slice().reverse():k.getBufferTemplate.call(T)).join("")),setTimeout((function(){w.focus()}),C.validationEventTimeOut),!1):(E=arguments,void setTimeout((function(){w.inputmask&&A.apply(D,E)}),0))}var B=A.apply(D,arguments);return B===!1&&(M.preventDefault(),M.stopPropagation()),B}M.preventDefault()}};["submit","reset"].includes(_)?(b=b.bind(w),w.form!==null&&N(w.form).on(_,b)):N(w).on(_,b),w.inputmask.events[_]=w.inputmask.events[_]||[],w.inputmask.events[_].push(b)},off:function(w,_){if(w.inputmask&&w.inputmask.events){var A=w.inputmask.dependencyLib,N=w.inputmask.events;for(var b in _&&((N=[])[_]=w.inputmask.events[_]),N){for(var M=N[b];M.length>0;){var E=M.pop();["submit","reset"].includes(b)?w.form!==null&&A(w.form).off(b,E):A(w).off(b,E)}delete w.inputmask.events[b]}}}}},219:function(l,h,u){var f=b(u(7184)),d=b(u(2394)),g=u(2839),y=u(8711),k=u(4713);function w(Y,ue){return(function(xe){if(Array.isArray(xe))return xe})(Y)||(function(xe,we){var Q=xe==null?null:typeof Symbol<"u"&&xe[Symbol.iterator]||xe["@@iterator"];if(Q!=null){var K,Ce,Me,ne,ie=[],oe=!0,ce=!1;try{if(Me=(Q=Q.call(xe)).next,we!==0)for(;!(oe=(K=Me.call(Q)).done)&&(ie.push(K.value),ie.length!==we);oe=!0);}catch(W){ce=!0,Ce=W}finally{try{if(!oe&&Q.return!=null&&(ne=Q.return(),Object(ne)!==ne))return}finally{if(ce)throw Ce}}return ie}})(Y,ue)||(function(xe,we){if(xe){if(typeof xe=="string")return _(xe,we);var Q=Object.prototype.toString.call(xe).slice(8,-1);if(Q==="Object"&&xe.constructor&&(Q=xe.constructor.name),Q==="Map"||Q==="Set")return Array.from(xe);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return _(xe,we)}})(Y,ue)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function _(Y,ue){(ue==null||ue>Y.length)&&(ue=Y.length);for(var xe=0,we=new Array(ue);xe<ue;xe++)we[xe]=Y[xe];return we}function A(Y){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ue){return typeof ue}:function(ue){return ue&&typeof Symbol=="function"&&ue.constructor===Symbol&&ue!==Symbol.prototype?"symbol":typeof ue},A(Y)}function N(Y,ue){for(var xe=0;xe<ue.length;xe++){var we=ue[xe];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty(Y,(Q=we.key,K=void 0,K=(function(Ce,Me){if(A(Ce)!=="object"||Ce===null)return Ce;var ne=Ce[Symbol.toPrimitive];if(ne!==void 0){var ie=ne.call(Ce,Me);if(A(ie)!=="object")return ie;throw new TypeError("@@toPrimitive must return a primitive value.")}return(Me==="string"?String:Number)(Ce)})(Q,"string"),A(K)==="symbol"?K:String(K)),we)}var Q,K}function b(Y){return Y&&Y.__esModule?Y:{default:Y}}u(1313);var M=d.default.dependencyLib,E=(function(){function Y(we,Q,K,Ce){(function(Me,ne){if(!(Me instanceof ne))throw new TypeError("Cannot call a class as a function")})(this,Y),this.mask=we,this.format=Q,this.opts=K,this.inputmask=Ce,this._date=new Date(1,0,1),this.initDateObject(we,this.opts,this.inputmask)}var ue,xe;return ue=Y,(xe=[{key:"date",get:function(){return this._date===void 0&&(this._date=new Date(1,0,1),this.initDateObject(void 0,this.opts,this.inputmask)),this._date}},{key:"initDateObject",value:function(we,Q,K){var Ce;for($(Q).lastIndex=0;Ce=$(Q).exec(this.format);){var Me=/\d+$/.exec(Ce[0]),ne=Me?Ce[0][0]+"x":Ce[0],ie=void 0;if(we!==void 0){if(Me){var oe=$(Q).lastIndex,ce=de.call(K,Ce.index,Q,K&&K.maskset);$(Q).lastIndex=oe,ie=we.slice(0,we.indexOf(ce.nextMatch[0]))}else{for(var W=Ce[0][0],ee=Ce.index;K&&(Q.placeholder[k.getTest.call(K,ee).match.placeholder]||k.getTest.call(K,ee).match.placeholder)===W;)ee++;var pe=ee-Ce.index;ie=we.slice(0,pe||R[ne]&&R[ne][4]||ne.length)}we=we.slice(ie.length)}Object.prototype.hasOwnProperty.call(R,ne)&&this.setValue(this,ie,ne,R[ne][2],R[ne][1])}}},{key:"setValue",value:function(we,Q,K,Ce,Me){if(Q!==void 0)switch(Ce){case"ampm":we[Ce]=Q,we["raw"+Ce]=Q.replace(/\s/g,"_");break;case"month":if(K==="mmm"||K==="mmmm"){we[Ce]=te(K==="mmm"?T.monthNames.slice(0,12).findIndex((function(ie){return Q.toLowerCase()===ie.toLowerCase()}))+1:T.monthNames.slice(12,24).findIndex((function(ie){return Q.toLowerCase()===ie.toLowerCase()}))+1,2),we[Ce]=we[Ce]==="00"?"":we[Ce].toString(),we["raw"+Ce]=we[Ce];break}default:we[Ce]=Q.replace(/[^0-9]/g,"0"),we["raw"+Ce]=Q.replace(/\s/g,"_")}if(Me!==void 0){var ne=we[Ce];(Ce==="day"&&parseInt(ne)===29||Ce==="month"&&parseInt(ne)===2)&&(parseInt(we.day)!==29||parseInt(we.month)!==2||we.year!==""&&we.year!==void 0||we._date.setFullYear(2012,1,29)),Ce==="day"&&(C=!0,parseInt(ne)===0&&(ne=1)),Ce==="month"&&(C=!0),Ce==="year"&&(C=!0,ne.length<R[K][4]&&(ne=te(ne,R[K][4],!0))),(ne!==""&&!isNaN(ne)||Ce==="ampm")&&Me.call(we._date,ne)}}},{key:"reset",value:function(){this._date=new Date(1,0,1)}},{key:"reInit",value:function(){this._date=void 0,this.date}}])&&N(ue.prototype,xe),Object.defineProperty(ue,"prototype",{writable:!1}),Y})(),D=new Date().getFullYear(),T=d.default.prototype.i18n,C=!1,R={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return te(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",function(Y){var ue=Y?parseInt(Y):0;return ue>0&&ue--,Date.prototype.setMonth.call(this,ue)},"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",function(Y){var ue=Y?parseInt(Y):0;return ue>0&&ue--,Date.prototype.setMonth.call(this,ue)},"month",function(){return te(Date.prototype.getMonth.call(this)+1,2)}],mmm:[T.monthNames.slice(0,12).join("|"),function(Y){var ue=T.monthNames.slice(0,12).findIndex((function(xe){return Y.toLowerCase()===xe.toLowerCase()}));return ue!==-1&&Date.prototype.setMonth.call(this,ue)},"month",function(){return T.monthNames.slice(0,12)[Date.prototype.getMonth.call(this)]}],mmmm:[T.monthNames.slice(12,24).join("|"),function(Y){var ue=T.monthNames.slice(12,24).findIndex((function(xe){return Y.toLowerCase()===xe.toLowerCase()}));return ue!==-1&&Date.prototype.setMonth.call(this,ue)},"month",function(){return T.monthNames.slice(12,24)[Date.prototype.getMonth.call(this)]}],yy:["[0-9]{2}",function(Y){var ue=new Date().getFullYear().toString().slice(0,2);Date.prototype.setFullYear.call(this,"".concat(ue).concat(Y))},"year",function(){return te(Date.prototype.getFullYear.call(this),2)},2],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return te(Date.prototype.getFullYear.call(this),4)},4],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return te(Date.prototype.getHours.call(this),2)}],hx:[function(Y){return"[0-9]{".concat(Y,"}")},Date.prototype.setHours,"hours",function(Y){return Date.prototype.getHours}],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return te(Date.prototype.getHours.call(this),2)}],Hx:[function(Y){return"[0-9]{".concat(Y,"}")},Date.prototype.setHours,"hours",function(Y){return function(){return te(Date.prototype.getHours.call(this),Y)}}],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return te(Date.prototype.getMinutes.call(this),2)}],s:["[1-5]?[0-9]",Date.prototype.setSeconds,"seconds",Date.prototype.getSeconds],ss:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setSeconds,"seconds",function(){return te(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return te(Date.prototype.getMilliseconds.call(this),3)},3],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return te(Date.prototype.getMilliseconds.call(this),2)},2],t:["[ap]",I,"ampm",P,1],tt:["[ap]m",I,"ampm",P,2],T:["[AP]",I,"ampm",P,1],TT:["[AP]M",I,"ampm",P,2],Z:[".*",void 0,"Z",function(){var Y=this.toString().match(/\((.+)\)/)[1];return Y.includes(" ")&&(Y=(Y=Y.replace("-"," ").toUpperCase()).split(" ").map((function(ue){return w(ue,1)[0]})).join("")),Y}],o:[""],S:[""]},B={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function I(Y){var ue=this.getHours();Y.toLowerCase().includes("p")?this.setHours(ue+12):Y.toLowerCase().includes("a")&&ue>=12&&this.setHours(ue-12)}function P(){var Y=this.getHours();return(Y=Y||12)>=12?"PM":"AM"}function j(Y){var ue=/\d+$/.exec(Y[0]);if(ue&&ue[0]!==void 0){var xe=R[Y[0][0]+"x"].slice("");return xe[0]=xe[0](ue[0]),xe[3]=xe[3](ue[0]),xe}if(R[Y[0]])return R[Y[0]]}function $(Y){if(!Y.tokenizer){var ue=[],xe=[];for(var we in R)if(/\.*x$/.test(we)){var Q=we[0]+"\\d+";xe.indexOf(Q)===-1&&xe.push(Q)}else ue.indexOf(we[0])===-1&&ue.push(we[0]);Y.tokenizer="("+(xe.length>0?xe.join("|")+"|":"")+ue.join("+|")+")+?|.",Y.tokenizer=new RegExp(Y.tokenizer,"g")}return Y.tokenizer}function Z(Y,ue,xe){if(!C)return!0;if(Y.rawday===void 0||!isFinite(Y.rawday)&&new Date(Y.date.getFullYear(),isFinite(Y.rawmonth)?Y.month:Y.date.getMonth()+1,0).getDate()>=Y.day||Y.day=="29"&&(!isFinite(Y.rawyear)||Y.rawyear===void 0||Y.rawyear==="")||new Date(Y.date.getFullYear(),isFinite(Y.rawmonth)?Y.month:Y.date.getMonth()+1,0).getDate()>=Y.day)return ue;if(Y.day=="29"){var we=de.call(this,ue.pos,xe,this.maskset);if(we.targetMatch&&we.targetMatch[0]==="yyyy"&&ue.pos-we.targetMatchIndex==2)return ue.remove=ue.pos+1,ue}else if(Y.date.getMonth()==2&&Y.day=="30"&&ue.c!==void 0)return Y.day="03",Y.date.setDate(3),Y.date.setMonth(1),ue.insert=[{pos:ue.pos,c:"0"},{pos:ue.pos+1,c:ue.c}],ue.caret=y.seekNext.call(this,ue.pos+1),ue;return!1}function se(Y,ue,xe,we){var Q,K,Ce="",Me=0,ne={};for($(xe).lastIndex=0;Q=$(xe).exec(Y);){if(ue===void 0)if(K=j(Q))Ce+="("+K[0]+")",xe.placeholder&&xe.placeholder!==""?(ne[Me]=xe.placeholder[Q.index%xe.placeholder.length],ne[xe.placeholder[Q.index%xe.placeholder.length]]=Q[0].charAt(0)):ne[Me]=Q[0].charAt(0);else switch(Q[0]){case"[":Ce+="(";break;case"]":Ce+=")?";break;default:Ce+=(0,f.default)(Q[0]),ne[Me]=Q[0].charAt(0)}else(K=j(Q))?we!==!0&&K[3]?Ce+=K[3].call(ue.date):K[2]?Ce+=ue["raw"+K[2]]:Ce+=Q[0]:Ce+=Q[0];Me++}return ue===void 0&&(xe.placeholder=ne),Ce}function te(Y,ue,xe){for(Y=String(Y),ue=ue||2;Y.length<ue;)Y=xe?Y+"0":"0"+Y;return Y}function X(Y,ue,xe){return typeof Y=="string"?new E(Y,ue,xe,this):Y&&A(Y)==="object"&&Object.prototype.hasOwnProperty.call(Y,"date")?Y:void 0}function V(Y,ue){return se(ue.inputFormat,{date:Y},ue)}function de(Y,ue,xe){var we,Q,K=this,Ce=xe&&xe.tests[Y]?ue.placeholder[xe.tests[Y][0].match.placeholder]||xe.tests[Y][0].match.placeholder:"",Me=0,ne=0;for($(ue).lastIndex=0;Q=$(ue).exec(ue.inputFormat);){var ie=/\d+$/.exec(Q[0]);if(ie)ne=parseInt(ie[0]);else{for(var oe=Q[0][0],ce=Me;K&&(ue.placeholder[k.getTest.call(K,ce).match.placeholder]||k.getTest.call(K,ce).match.placeholder)===oe;)ce++;(ne=ce-Me)===0&&(ne=Q[0].length)}if(Me+=ne,Q[0].indexOf(Ce)!=-1||Me>=Y+1){we=Q,Q=$(ue).exec(ue.inputFormat);break}}return{targetMatchIndex:Me-ne,nextMatch:Q,targetMatch:we}}d.default.extendAliases({datetime:{mask:function(Y){return Y.numericInput=!1,R.S=T.ordinalSuffix.join("|"),Y.inputFormat=B[Y.inputFormat]||Y.inputFormat,Y.displayFormat=B[Y.displayFormat]||Y.displayFormat||Y.inputFormat,Y.outputFormat=B[Y.outputFormat]||Y.outputFormat||Y.inputFormat,Y.regex=se(Y.inputFormat,void 0,Y),Y.min=X(Y.min,Y.inputFormat,Y),Y.max=X(Y.max,Y.inputFormat,Y),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:null,outputFormat:null,min:null,max:null,skipOptionalPartCharacter:"",preValidation:function(Y,ue,xe,we,Q,K,Ce,Me){if(Me)return!0;if(isNaN(xe)&&Y[ue]!==xe){var ne=de.call(this,ue,Q,K);if(ne.nextMatch&&ne.nextMatch[0]===xe&&ne.targetMatch[0].length>1){var ie=j(ne.targetMatch)[0];if(new RegExp(ie).test("0"+Y[ue-1]))return Y[ue]=Y[ue-1],Y[ue-1]="0",{fuzzy:!0,buffer:Y,refreshFromBuffer:{start:ue-1,end:ue+1},pos:ue+1}}}return!0},postValidation:function(Y,ue,xe,we,Q,K,Ce,Me){var ne,ie,oe=this;if(Ce)return!0;if(we===!1&&(((ne=de.call(oe,ue+1,Q,K)).targetMatch&&ne.targetMatchIndex===ue&&ne.targetMatch[0].length>1&&R[ne.targetMatch[0]]!==void 0||(ne=de.call(oe,ue+2,Q,K)).targetMatch&&ne.targetMatchIndex===ue+1&&ne.targetMatch[0].length>1&&R[ne.targetMatch[0]]!==void 0)&&(ie=j(ne.targetMatch)[0]),ie!==void 0&&(K.validPositions[ue+1]!==void 0&&new RegExp(ie).test(xe+"0")?(Y[ue]=xe,Y[ue+1]="0",we={pos:ue+2,caret:ue}):new RegExp(ie).test("0"+xe)&&(Y[ue]="0",Y[ue+1]=xe,we={pos:ue+2})),we===!1))return we;if(we.fuzzy&&(Y=we.buffer,ue=we.pos),(ne=de.call(oe,ue,Q,K)).targetMatch&&ne.targetMatch[0]&&R[ne.targetMatch[0]]!==void 0){var ce=j(ne.targetMatch);ie=ce[0];var W=Y.slice(ne.targetMatchIndex,ne.targetMatchIndex+ne.targetMatch[0].length);if(new RegExp(ie).test(W.join(""))===!1&&ne.targetMatch[0].length===2&&K.validPositions[ne.targetMatchIndex]&&K.validPositions[ne.targetMatchIndex+1]&&(K.validPositions[ne.targetMatchIndex+1].input="0"),ce[2]=="year")for(var ee=k.getMaskTemplate.call(oe,!1,1,void 0,!0),pe=ue+1;pe<Y.length;pe++)Y[pe]=ee[pe],K.validPositions.splice(ue+1,1)}var ve=we,Ae=X.call(oe,Y.join(""),Q.inputFormat,Q);return ve&&!isNaN(Ae.date.getTime())&&(Q.prefillYear&&(ve=(function(ke,Fe,ae){if(ke.year!==ke.rawyear){var fe=D.toString(),me=ke.rawyear.replace(/[^0-9]/g,""),O=fe.slice(0,me.length),H=fe.slice(me.length);if(me.length===2&&me===O){var U=new Date(D,ke.month-1,ke.day);ke.day==U.getDate()&&(!ae.max||ae.max.date.getTime()>=U.getTime())&&(ke.date.setFullYear(D),ke.year=fe,Fe.insert=[{pos:Fe.pos+1,c:H[0]},{pos:Fe.pos+2,c:H[1]}])}}return Fe})(Ae,ve,Q)),ve=(function(ke,Fe,ae,fe,me){if(!Fe)return Fe;if(Fe&&ae.min&&!isNaN(ae.min.date.getTime())){var O;for(ke.reset(),$(ae).lastIndex=0;O=$(ae).exec(ae.inputFormat);){var H;if((H=j(O))&&H[3]){for(var U=H[1],le=ke[H[2]],Se=ae.min[H[2]],Le=ae.max?ae.max[H[2]]:Se+1,Pe=[],$e=!1,Ze=0;Ze<Se.length;Ze++)fe.validPositions[Ze+O.index]!==void 0||$e?(Pe[Ze]=le[Ze],$e=$e||le[Ze]>Se[Ze]):(Ze+O.index==0&&le[Ze]<Se[Ze]?(Pe[Ze]=le[Ze],$e=!0):Pe[Ze]=Se[Ze],H[2]==="year"&&le.length-1==Ze&&Se!=Le&&(Pe=(parseInt(Pe.join(""))+1).toString().split("")),H[2]==="ampm"&&Se!=Le&&ae.min.date.getTime()>ke.date.getTime()&&(Pe[Ze]=Le[Ze]));U.call(ke._date,Pe.join(""))}}Fe=ae.min.date.getTime()<=ke.date.getTime(),ke.reInit()}return Fe&&ae.max&&(isNaN(ae.max.date.getTime())||(Fe=ae.max.date.getTime()>=ke.date.getTime())),Fe})(Ae,ve=Z.call(oe,Ae,ve,Q),Q,K)),ue!==void 0&&ve&&we.pos!==ue?{buffer:se(Q.inputFormat,Ae,Q).split(""),refreshFromBuffer:{start:ue,end:we.pos},pos:we.caret||we.pos}:ve},onKeyDown:function(Y,ue,xe,we){Y.ctrlKey&&Y.key===g.keys.ArrowRight&&(this.inputmask._valueSet(V(new Date,we)),M(this).trigger("setvalue"))},onUnMask:function(Y,ue,xe){return ue&&se(xe.outputFormat,X.call(this,Y,xe.inputFormat,xe),xe,!0)},casing:function(Y,ue,xe,we){if(ue.nativeDef.indexOf("[ap]")==0)return Y.toLowerCase();if(ue.nativeDef.indexOf("[AP]")==0)return Y.toUpperCase();var Q=k.getTest.call(this,[xe-1]);return Q.match.def.indexOf("[AP]")==0||xe===0||Q&&Q.input===String.fromCharCode(g.keyCode.Space)||Q&&Q.match.def===String.fromCharCode(g.keyCode.Space)?Y.toUpperCase():Y.toLowerCase()},onBeforeMask:function(Y,ue){return Object.prototype.toString.call(Y)==="[object Date]"&&(Y=V(Y,ue)),Y},insertMode:!1,insertModeVisual:!1,shiftPositions:!1,keepStatic:!1,inputmode:"numeric",prefillYear:!0}})},1313:function(l,h,u){var f,d=(f=u(2394))&&f.__esModule?f:{default:f};d.default.dependencyLib.extend(!0,d.default.prototype.i18n,{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]})},3851:function(l,h,u){var f,d=(f=u(2394))&&f.__esModule?f:{default:f},g=u(8711),y=u(4713);function k(N){return(function(b){if(Array.isArray(b))return w(b)})(N)||(function(b){if(typeof Symbol<"u"&&b[Symbol.iterator]!=null||b["@@iterator"]!=null)return Array.from(b)})(N)||(function(b,M){if(b){if(typeof b=="string")return w(b,M);var E=Object.prototype.toString.call(b).slice(8,-1);if(E==="Object"&&b.constructor&&(E=b.constructor.name),E==="Map"||E==="Set")return Array.from(b);if(E==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(E))return w(b,M)}})(N)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function w(N,b){(b==null||b>N.length)&&(b=N.length);for(var M=0,E=new Array(b);M<b;M++)E[M]=N[M];return E}d.default.extendDefinitions({A:{validator:"[A-Za-z--]",casing:"upper"},"&":{validator:"[0-9A-Za-z--]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}});var _=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;function A(N,b,M,E,D){if(M-1>-1&&b.buffer[M-1]!=="."?(N=b.buffer[M-1]+N,N=M-2>-1&&b.buffer[M-2]!=="."?b.buffer[M-2]+N:"0"+N):N="00"+N,D.greedy&&parseInt(N)>255&&_.test("00"+N.charAt(2))){var T=[].concat(k(b.buffer.slice(0,M)),[".",N.charAt(2)]);if(T.join("").match(/\./g).length<4)return{refreshFromBuffer:!0,buffer:T,caret:M+2}}return _.test(N)}d.default.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)://.*",autoUnmask:!1,keepStatic:!1,tabThrough:!0},ip:{mask:"i{1,3}.j{1,3}.k{1,3}.l{1,3}",definitions:{i:{validator:A},j:{validator:A},k:{validator:A},l:{validator:A}},onUnMask:function(N,b,M){return N},inputmode:"decimal",substitutes:{",":"."}},email:{mask:function(N){var b=N.separator,M=N.quantifier,E="*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",D=E;if(b)for(var T=0;T<M;T++)D+="[".concat(b).concat(E,"]");return D},greedy:!1,casing:"lower",separator:null,quantifier:5,skipOptionalPartCharacter:"",onBeforePaste:function(N,b){return(N=N.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9-A-Za-z--!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(N,b,M){return N},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0},ssn:{mask:"999-99-9999",postValidation:function(N,b,M,E,D,T,C){var R=y.getMaskTemplate.call(this,!0,g.getLastValidPosition.call(this),!0,!0);return/^(?!219-09-9999|078-05-1120)(?!666|000|9.{2}).{3}-(?!00).{2}-(?!0{4}).{4}$/.test(R.join(""))}}})},207:function(l,h,u){var f=k(u(7184)),d=k(u(2394)),g=u(2839),y=u(8711);function k(E){return E&&E.__esModule?E:{default:E}}var w=d.default.dependencyLib;function _(E,D){for(var T="",C=0;C<E.length;C++)d.default.prototype.definitions[E.charAt(C)]||D.definitions[E.charAt(C)]||D.optionalmarker[0]===E.charAt(C)||D.optionalmarker[1]===E.charAt(C)||D.quantifiermarker[0]===E.charAt(C)||D.quantifiermarker[1]===E.charAt(C)||D.groupmarker[0]===E.charAt(C)||D.groupmarker[1]===E.charAt(C)||D.alternatormarker===E.charAt(C)?T+="\\"+E.charAt(C):T+=E.charAt(C);return T}function A(E,D,T,C){if(E.length>0&&D>0&&(!T.digitsOptional||C)){var R=E.indexOf(T.radixPoint),B=!1;T.negationSymbol.back===E[E.length-1]&&(B=!0,E.length--),R===-1&&(E.push(T.radixPoint),R=E.length-1);for(var I=1;I<=D;I++)isFinite(E[R+I])||(E[R+I]="0")}return B&&E.push(T.negationSymbol.back),E}function N(E,D){var T=0;for(var C in E==="+"&&(T=y.seekNext.call(this,D.validPositions.length-1)),D.tests)if((C=parseInt(C))>=T){for(var R=0,B=D.tests[C].length;R<B;R++)if((D.validPositions[C]===void 0||E==="-")&&D.tests[C][R].match.def===E)return C+(D.validPositions[C]!==void 0&&E!=="-"?1:0)}return T}function b(E,D){for(var T=-1,C=0,R=D.validPositions.length;C<R;C++){var B=D.validPositions[C];if(B&&B.match.def===E){T=C;break}}return T}function M(E,D,T,C,R){var B=D.buffer?D.buffer.indexOf(R.radixPoint):-1,I=(B!==-1||C&&R.jitMasking)&&new RegExp(R.definitions[9].validator).test(E);return!C&&R._radixDance&&B!==-1&&I&&D.validPositions[B]==null?{insert:{pos:B===T?B+1:B,c:R.radixPoint},pos:T}:I}d.default.extendAliases({numeric:{mask:function(E){E.repeat=0,E.groupSeparator===E.radixPoint&&E.digits&&E.digits!=="0"&&(E.radixPoint==="."?E.groupSeparator=",":E.radixPoint===","?E.groupSeparator=".":E.groupSeparator=""),E.groupSeparator===" "&&(E.skipOptionalPartCharacter=void 0),E.placeholder.length>1&&(E.placeholder=E.placeholder.charAt(0)),E.positionCaretOnClick==="radixFocus"&&E.placeholder===""&&(E.positionCaretOnClick="lvp");var D="0",T=E.radixPoint;E.numericInput===!0&&E.__financeInput===void 0?(D="1",E.positionCaretOnClick=E.positionCaretOnClick==="radixFocus"?"lvp":E.positionCaretOnClick,E.digitsOptional=!1,isNaN(E.digits)&&(E.digits=2),E._radixDance=!1,T=E.radixPoint===","?"?":"!",E.radixPoint!==""&&E.definitions[T]===void 0&&(E.definitions[T]={},E.definitions[T].validator="["+E.radixPoint+"]",E.definitions[T].placeholder=E.radixPoint,E.definitions[T].static=!0,E.definitions[T].generated=!0)):(E.__financeInput=!1,E.numericInput=!0);var C,R="[+]";if(R+=_(E.prefix,E),E.groupSeparator!==""?(E.definitions[E.groupSeparator]===void 0&&(E.definitions[E.groupSeparator]={},E.definitions[E.groupSeparator].validator="["+E.groupSeparator+"]",E.definitions[E.groupSeparator].placeholder=E.groupSeparator,E.definitions[E.groupSeparator].static=!0,E.definitions[E.groupSeparator].generated=!0),R+=E._mask(E)):R+="9{+}",E.digits!==void 0&&E.digits!==0){var B=E.digits.toString().split(",");isFinite(B[0])&&B[1]&&isFinite(B[1])?R+=T+D+"{"+E.digits+"}":(isNaN(E.digits)||parseInt(E.digits)>0)&&(E.digitsOptional||E.jitMasking?(C=R+T+D+"{0,"+E.digits+"}",E.keepStatic=!0):R+=T+D+"{"+E.digits+"}")}else E.inputmode="numeric";return R+=_(E.suffix,E),R+="[-]",C&&(R=[C+_(E.suffix,E)+"[-]",R]),E.greedy=!1,(function(I){I.parseMinMaxOptions===void 0&&(I.min!==null&&(I.min=I.min.toString().replace(new RegExp((0,f.default)(I.groupSeparator),"g"),""),I.radixPoint===","&&(I.min=I.min.replace(I.radixPoint,".")),I.min=isFinite(I.min)?parseFloat(I.min):NaN,isNaN(I.min)&&(I.min=Number.MIN_VALUE)),I.max!==null&&(I.max=I.max.toString().replace(new RegExp((0,f.default)(I.groupSeparator),"g"),""),I.radixPoint===","&&(I.max=I.max.replace(I.radixPoint,".")),I.max=isFinite(I.max)?parseFloat(I.max):NaN,isNaN(I.max)&&(I.max=Number.MAX_VALUE)),I.parseMinMaxOptions="done")})(E),E.radixPoint!==""&&E.substituteRadixPoint&&(E.substitutes[E.radixPoint=="."?",":"."]=E.radixPoint),R},_mask:function(E){return"("+E.groupSeparator+"999){+|1}"},digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",_radixDance:!0,groupSeparator:"",allowMinus:!0,negationSymbol:{front:"-",back:""},prefix:"",suffix:"",min:null,max:null,SetMaxOnOverflow:!1,step:1,inputType:"text",unmaskAsNumber:!1,roundingFN:Math.round,inputmode:"decimal",shortcuts:{k:"1000",m:"1000000"},placeholder:"0",greedy:!1,rightAlign:!0,insertMode:!0,autoUnmask:!1,skipOptionalPartCharacter:"",usePrototypeDefinitions:!1,stripLeadingZeroes:!0,substituteRadixPoint:!0,definitions:{0:{validator:M},1:{validator:M,definitionSymbol:"9"},9:{validator:"[0-9---]",definitionSymbol:"*"},"+":{validator:function(E,D,T,C,R){return R.allowMinus&&(E==="-"||E===R.negationSymbol.front)}},"-":{validator:function(E,D,T,C,R){return R.allowMinus&&E===R.negationSymbol.back}}},preValidation:function(E,D,T,C,R,B,I,P){var j=this;if(R.__financeInput!==!1&&T===R.radixPoint)return!1;var $=E.indexOf(R.radixPoint),Z=D;if(D=(function(de,Y,ue,xe,we){return we._radixDance&&we.numericInput&&Y!==we.negationSymbol.back&&de<=ue&&(ue>0||Y==we.radixPoint)&&(xe.validPositions[de-1]===void 0||xe.validPositions[de-1].input!==we.negationSymbol.back)&&(de-=1),de})(D,T,$,B,R),T==="-"||T===R.negationSymbol.front){if(R.allowMinus!==!0)return!1;var se=!1,te=b("+",B),X=b("-",B);return te!==-1&&(se=[te],X!==-1&&se.push(X)),se!==!1?{remove:se,caret:Z-R.negationSymbol.back.length}:{insert:[{pos:N.call(j,"+",B),c:R.negationSymbol.front,fromIsValid:!0},{pos:N.call(j,"-",B),c:R.negationSymbol.back,fromIsValid:void 0}],caret:Z+R.negationSymbol.back.length}}if(T===R.groupSeparator)return{caret:Z};if(P)return!0;if($!==-1&&R._radixDance===!0&&C===!1&&T===R.radixPoint&&R.digits!==void 0&&(isNaN(R.digits)||parseInt(R.digits)>0)&&$!==D){var V=N.call(j,R.radixPoint,B);return B.validPositions[V]&&(B.validPositions[V].generatedInput=B.validPositions[V].generated||!1),{caret:R._radixDance&&D===$-1?$+1:$}}if(R.__financeInput===!1){if(C){if(R.digitsOptional)return{rewritePosition:I.end};if(!R.digitsOptional){if(I.begin>$&&I.end<=$)return T===R.radixPoint?{insert:{pos:$+1,c:"0",fromIsValid:!0},rewritePosition:$}:{rewritePosition:$+1};if(I.begin<$)return{rewritePosition:I.begin-1}}}else if(!R.showMaskOnHover&&!R.showMaskOnFocus&&!R.digitsOptional&&R.digits>0&&this.__valueGet.call(this.el)==="")return{rewritePosition:$}}return{rewritePosition:D}},postValidation:function(E,D,T,C,R,B,I){if(C===!1)return C;if(I)return!0;if(R.min!==null||R.max!==null){var P=R.onUnMask(E.slice().reverse().join(""),void 0,w.extend({},R,{unmaskAsNumber:!0}));if(R.min!==null&&P<R.min&&(P.toString().length>R.min.toString().length||P<0))return!1;if(R.max!==null&&P>R.max)return!!R.SetMaxOnOverflow&&{refreshFromBuffer:!0,buffer:A(R.max.toString().replace(".",R.radixPoint).split(""),R.digits,R).reverse()}}return C},onUnMask:function(E,D,T){if(D===""&&T.nullable===!0)return D;var C=E.replace(T.prefix,"");return C=(C=C.replace(T.suffix,"")).replace(new RegExp((0,f.default)(T.groupSeparator),"g"),""),T.placeholder.charAt(0)!==""&&(C=C.replace(new RegExp(T.placeholder.charAt(0),"g"),"0")),T.unmaskAsNumber?(T.radixPoint!==""&&C.indexOf(T.radixPoint)!==-1&&(C=C.replace(f.default.call(this,T.radixPoint),".")),C=(C=C.replace(new RegExp("^"+(0,f.default)(T.negationSymbol.front)),"-")).replace(new RegExp((0,f.default)(T.negationSymbol.back)+"$"),""),Number(C)):C},isComplete:function(E,D){var T=(D.numericInput?E.slice().reverse():E).join("");return T=(T=(T=(T=(T=T.replace(new RegExp("^"+(0,f.default)(D.negationSymbol.front)),"-")).replace(new RegExp((0,f.default)(D.negationSymbol.back)+"$"),"")).replace(D.prefix,"")).replace(D.suffix,"")).replace(new RegExp((0,f.default)(D.groupSeparator)+"([0-9]{3})","g"),"$1"),D.radixPoint===","&&(T=T.replace((0,f.default)(D.radixPoint),".")),isFinite(T)},onBeforeMask:function(E,D){var T;E=(T=E)!==null&&T!==void 0?T:"";var C=D.radixPoint||",";isFinite(D.digits)&&(D.digits=parseInt(D.digits)),typeof E!="number"&&D.inputType!=="number"||C===""||(E=E.toString().replace(".",C));var R=E.charAt(0)==="-"||E.charAt(0)===D.negationSymbol.front,B=E.split(C),I=B[0].replace(/[^\-0-9]/g,""),P=B.length>1?B[1].replace(/[^0-9]/g,""):"",j=B.length>1;E=I+(P!==""?C+P:P);var $=0;if(C!==""&&($=D.digitsOptional?D.digits<P.length?D.digits:P.length:D.digits,P!==""||!D.digitsOptional)){var Z=Math.pow(10,$||1);E=E.replace((0,f.default)(C),"."),isNaN(parseFloat(E))||(E=(D.roundingFN(parseFloat(E)*Z)/Z).toFixed($)),E=E.toString().replace(".",C)}if(D.digits===0&&E.indexOf(C)!==-1&&(E=E.substring(0,E.indexOf(C))),D.min!==null||D.max!==null){var se=E.toString().replace(C,".");D.min!==null&&se<D.min?E=D.min.toString().replace(".",C):D.max!==null&&se>D.max&&(E=D.max.toString().replace(".",C))}return R&&E.charAt(0)!=="-"&&(E="-"+E),A(E.toString().split(""),$,D,j).join("")},onBeforeWrite:function(E,D,T,C){function R(X,V){if(C.__financeInput!==!1||V){var de=X.indexOf(C.radixPoint);de!==-1&&X.splice(de,1)}if(C.groupSeparator!=="")for(;(de=X.indexOf(C.groupSeparator))!==-1;)X.splice(de,1);return X}var B,I;if(C.stripLeadingZeroes&&(I=(function(X,V){var de=new RegExp("(^"+(V.negationSymbol.front!==""?(0,f.default)(V.negationSymbol.front)+"?":"")+(0,f.default)(V.prefix)+")(.*)("+(0,f.default)(V.suffix)+(V.negationSymbol.back!=""?(0,f.default)(V.negationSymbol.back)+"?":"")+"$)").exec(X.slice().reverse().join("")),Y=de?de[2]:"",ue=!1;return Y&&(Y=Y.split(V.radixPoint.charAt(0))[0],ue=new RegExp("^[0"+V.groupSeparator+"]*").exec(Y)),!(!ue||!(ue[0].length>1||ue[0].length>0&&ue[0].length<Y.length))&&ue})(D,C)))for(var P=D.join("").lastIndexOf(I[0].split("").reverse().join(""))-(I[0]==I.input?0:1),j=I[0]==I.input?1:0,$=I[0].length-j;$>0;$--)this.maskset.validPositions.splice(P+$,1),delete D[P+$];if(E)switch(E.type){case"blur":case"checkval":if(C.min!==null){var Z=C.onUnMask(D.slice().reverse().join(""),void 0,w.extend({},C,{unmaskAsNumber:!0}));if(C.min!==null&&Z<C.min)return{refreshFromBuffer:!0,buffer:A(C.min.toString().replace(".",C.radixPoint).split(""),C.digits,C).reverse()}}if(D[D.length-1]===C.negationSymbol.front){var se=new RegExp("(^"+(C.negationSymbol.front!=""?(0,f.default)(C.negationSymbol.front)+"?":"")+(0,f.default)(C.prefix)+")(.*)("+(0,f.default)(C.suffix)+(C.negationSymbol.back!=""?(0,f.default)(C.negationSymbol.back)+"?":"")+"$)").exec(R(D.slice(),!0).reverse().join(""));(se?se[2]:"")==0&&(B={refreshFromBuffer:!0,buffer:[0]})}else C.radixPoint!==""&&D.indexOf(C.radixPoint)===C.suffix.length&&(B&&B.buffer?B.buffer.splice(0,1+C.suffix.length):(D.splice(0,1+C.suffix.length),B={refreshFromBuffer:!0,buffer:R(D)}));if(C.enforceDigitsOnBlur){var te=(B=B||{})&&B.buffer||D.slice().reverse();B.refreshFromBuffer=!0,B.buffer=A(te,C.digits,C,!0).reverse()}}return B},onKeyDown:function(E,D,T,C){var R,B=w(this);if(E.location!=3){var I,P=E.key;if((I=C.shortcuts&&C.shortcuts[P])&&I.length>1)return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())*parseInt(I)),B.trigger("setvalue"),!1}if(E.ctrlKey)switch(E.key){case g.keys.ArrowUp:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())+parseInt(C.step)),B.trigger("setvalue"),!1;case g.keys.ArrowDown:return this.inputmask.__valueSet.call(this,parseFloat(this.inputmask.unmaskedvalue())-parseInt(C.step)),B.trigger("setvalue"),!1}if(!E.shiftKey&&(E.key===g.keys.Delete||E.key===g.keys.Backspace||E.key===g.keys.BACKSPACE_SAFARI)&&T.begin!==D.length){if(D[E.key===g.keys.Delete?T.begin-1:T.end]===C.negationSymbol.front)return R=D.slice().reverse(),C.negationSymbol.front!==""&&R.shift(),C.negationSymbol.back!==""&&R.pop(),B.trigger("setvalue",[R.join(""),T.begin]),!1;if(C._radixDance===!0){var j,$=D.indexOf(C.radixPoint);if(C.digitsOptional){if($===0)return(R=D.slice().reverse()).pop(),B.trigger("setvalue",[R.join(""),T.begin>=R.length?R.length:T.begin]),!1}else if($!==-1&&(T.begin<$||T.end<$||E.key===g.keys.Delete&&(T.begin===$||T.begin-1===$)))return T.begin===T.end&&(E.key===g.keys.Backspace||E.key===g.keys.BACKSPACE_SAFARI?T.begin++:E.key===g.keys.Delete&&T.begin-1===$&&(j=w.extend({},T),T.begin--,T.end--)),(R=D.slice().reverse()).splice(R.length-T.begin,T.begin-T.end+1),R=A(R,C.digits,C).join(""),j&&(T=j),B.trigger("setvalue",[R,T.begin>=R.length?$+1:T.begin]),!1}}}},currency:{prefix:"",groupSeparator:",",alias:"numeric",digits:2,digitsOptional:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",inputmode:"numeric",digits:0},percentage:{alias:"numeric",min:0,max:100,suffix:" %",digits:0,allowMinus:!1},indianns:{alias:"numeric",_mask:function(E){return"("+E.groupSeparator+"99){*|1}("+E.groupSeparator+"999){1|1}"},groupSeparator:",",radixPoint:".",placeholder:"0",digits:2,digitsOptional:!1}})},9380:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var u=!(typeof window>"u"||!window.document||!window.document.createElement);h.default=u?window:{}},7760:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.HandleNativePlaceholder=function(M,E){var D=M?M.inputmask:this;if(f.ie){if(M.inputmask._valueGet()!==E&&(M.placeholder!==E||M.placeholder==="")){var T=y.getBuffer.call(D).slice(),C=M.inputmask._valueGet();if(C!==E){var R=y.getLastValidPosition.call(D);R===-1&&C===y.getBufferTemplate.call(D).join("")?T=[]:R!==-1&&A.call(D,T),b(M,T)}}}else M.placeholder!==E&&(M.placeholder=E,M.placeholder===""&&M.removeAttribute("placeholder"))},h.applyInputValue=_,h.checkVal=N,h.clearOptionalTail=A,h.unmaskedvalue=function(M){var E=M?M.inputmask:this,D=E.opts,T=E.maskset;if(M){if(M.inputmask===void 0)return M.value;M.inputmask&&M.inputmask.refreshValue&&_(M,M.inputmask._valueGet(!0))}for(var C=[],R=T.validPositions,B=0,I=R.length;B<I;B++)R[B]&&R[B].match&&(R[B].match.static!=1||Array.isArray(T.metadata)&&R[B].generatedInput!==!0)&&C.push(R[B].input);var P=C.length===0?"":(E.isRTL?C.reverse():C).join("");if(typeof D.onUnMask=="function"){var j=(E.isRTL?y.getBuffer.call(E).slice().reverse():y.getBuffer.call(E)).join("");P=D.onUnMask.call(E,j,P,D)}return P},h.writeBuffer=b;var f=u(9845),d=u(6030),g=u(2839),y=u(8711),k=u(7215),w=u(4713);function _(M,E,D){var T=M?M.inputmask:this,C=T.opts;M.inputmask.refreshValue=!1,typeof C.onBeforeMask=="function"&&(E=C.onBeforeMask.call(T,E,C)||E),N(M,!0,!1,E=(E||"").toString().split(""),D),T.undoValue=T._valueGet(!0),(C.clearMaskOnLostFocus||C.clearIncomplete)&&M.inputmask._valueGet()===y.getBufferTemplate.call(T).join("")&&y.getLastValidPosition.call(T)===-1&&M.inputmask._valueSet("")}function A(M){M.length=0;for(var E,D=w.getMaskTemplate.call(this,!0,0,!0,void 0,!0);(E=D.shift())!==void 0;)M.push(E);return M}function N(M,E,D,T,C){var R,B=M?M.inputmask:this,I=B.maskset,P=B.opts,j=B.dependencyLib,$=T.slice(),Z="",se=-1,te=P.skipOptionalPartCharacter;P.skipOptionalPartCharacter="",y.resetMaskSet.call(B,!1),B.clicked=0,se=P.radixPoint?y.determineNewCaretPosition.call(B,{begin:0,end:0},!1,P.__financeInput===!1?"radixFocus":void 0).begin:0,I.p=se,B.caretPos={begin:se};var X=[],V=B.caretPos;if($.forEach((function(Q,K){if(Q!==void 0){var Ce=new j.Event("_checkval");Ce.key=Q,Z+=Q;var Me=y.getLastValidPosition.call(B,void 0,!0);(function(ne,ie){for(var oe=w.getMaskTemplate.call(B,!0,0).slice(ne,y.seekNext.call(B,ne,!1,!1)).join("").replace(/'/g,""),ce=oe.indexOf(ie);ce>0&&oe[ce-1]===" ";)ce--;var W=ce===0&&!y.isMask.call(B,ne)&&(w.getTest.call(B,ne).match.nativeDef===ie.charAt(0)||w.getTest.call(B,ne).match.static===!0&&w.getTest.call(B,ne).match.nativeDef==="'"+ie.charAt(0)||w.getTest.call(B,ne).match.nativeDef===" "&&(w.getTest.call(B,ne+1).match.nativeDef===ie.charAt(0)||w.getTest.call(B,ne+1).match.static===!0&&w.getTest.call(B,ne+1).match.nativeDef==="'"+ie.charAt(0)));if(!W&&ce>0&&!y.isMask.call(B,ne,!1,!0)){var ee=y.seekNext.call(B,ne);B.caretPos.begin<ee&&(B.caretPos={begin:ee})}return W})(se,Z)?R=d.EventHandlers.keypressEvent.call(B,Ce,!0,!1,D,Me+1):(R=d.EventHandlers.keypressEvent.call(B,Ce,!0,!1,D,B.caretPos.begin))&&(se=B.caretPos.begin+1,Z=""),R?(R.pos!==void 0&&I.validPositions[R.pos]&&I.validPositions[R.pos].match.static===!0&&I.validPositions[R.pos].alternation===void 0&&(X.push(R.pos),B.isRTL||(R.forwardPosition=R.pos+1)),b.call(B,void 0,y.getBuffer.call(B),R.forwardPosition,Ce,!1),B.caretPos={begin:R.forwardPosition,end:R.forwardPosition},V=B.caretPos):I.validPositions[K]===void 0&&$[K]===w.getPlaceholder.call(B,K)&&y.isMask.call(B,K,!0)?B.caretPos.begin++:B.caretPos=V}})),X.length>0){var de,Y,ue=y.seekNext.call(B,-1,void 0,!1);if(!k.isComplete.call(B,y.getBuffer.call(B))&&X.length<=ue||k.isComplete.call(B,y.getBuffer.call(B))&&X.length>0&&X.length!==ue&&X[0]===0){for(var xe=ue;(de=X.shift())!==void 0;)if(de<xe){var we=new j.Event("_checkval");if((Y=I.validPositions[de]).generatedInput=!0,we.key=Y.input,(R=d.EventHandlers.keypressEvent.call(B,we,!0,!1,D,xe))&&R.pos!==void 0&&R.pos!==de&&I.validPositions[R.pos]&&I.validPositions[R.pos].match.static===!0)X.push(R.pos);else if(!R)break;xe++}}}E&&b.call(B,M,y.getBuffer.call(B),R?R.forwardPosition:B.caretPos.begin,C||new j.Event("checkval"),C&&(C.type==="input"&&B.undoValue!==y.getBuffer.call(B).join("")||C.type==="paste")),P.skipOptionalPartCharacter=te}function b(M,E,D,T,C){var R=M?M.inputmask:this,B=R.opts,I=R.dependencyLib;if(T&&typeof B.onBeforeWrite=="function"){var P=B.onBeforeWrite.call(R,T,E,D,B);if(P){if(P.refreshFromBuffer){var j=P.refreshFromBuffer;k.refreshFromBuffer.call(R,j===!0?j:j.start,j.end,P.buffer||E),E=y.getBuffer.call(R,!0)}D!==void 0&&(D=P.caret!==void 0?P.caret:D)}}if(M!==void 0&&(M.inputmask._valueSet(E.join("")),D===void 0||T!==void 0&&T.type==="blur"||y.caret.call(R,M,D,void 0,void 0,T!==void 0&&T.type==="keydown"&&(T.key===g.keys.Delete||T.key===g.keys.Backspace)),M.inputmask.writeBufferHook===void 0||M.inputmask.writeBufferHook(D),C===!0)){var $=I(M),Z=M.inputmask._valueGet();M.inputmask.skipInputEvent=!0,$.trigger("input"),setTimeout((function(){Z===y.getBufferTemplate.call(R).join("")?$.trigger("cleared"):k.isComplete.call(R,E)===!0&&$.trigger("complete")}),0)}}},2394:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.default=void 0;var f=D(u(3976)),d=D(u(7392)),g=D(u(4963)),y=u(9716),k=D(u(9380)),w=u(7760),_=u(157),A=u(2391),N=u(8711),b=u(7215),M=u(4713);function E(I){return E=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},E(I)}function D(I){return I&&I.__esModule?I:{default:I}}var T=k.default.document,C="_inputmask_opts";function R(I,P,j){if(!(this instanceof R))return new R(I,P,j);this.dependencyLib=g.default,this.el=void 0,this.events={},this.maskset=void 0,j!==!0&&(Object.prototype.toString.call(I)==="[object Object]"?P=I:(P=P||{},I&&(P.alias=I)),this.opts=g.default.extend(!0,{},this.defaults,P),this.noMasksCache=P&&P.definitions!==void 0,this.userOptions=P||{},B(this.opts.alias,P,this.opts)),this.refreshValue=!1,this.undoValue=void 0,this.$el=void 0,this.skipInputEvent=!1,this.validationEvent=!1,this.ignorable=!1,this.maxLength,this.mouseEnter=!1,this.clicked=0,this.originalPlaceholder=void 0,this.isComposing=!1,this.hasAlternator=!1}function B(I,P,j){var $=R.prototype.aliases[I];return $?($.alias&&B($.alias,void 0,j),g.default.extend(!0,j,$),g.default.extend(!0,j,P),!0):(j.mask===null&&(j.mask=I),!1)}R.prototype={dataAttribute:"data-inputmask",defaults:f.default,definitions:d.default,aliases:{},masksCache:{},i18n:{},get isRTL(){return this.opts.isRTL||this.opts.numericInput},mask:function(I){var P=this;return typeof I=="string"&&(I=T.getElementById(I)||T.querySelectorAll(I)),(I=I.nodeName?[I]:Array.isArray(I)?I:[].slice.call(I)).forEach((function(j,$){var Z=g.default.extend(!0,{},P.opts);if((function(te,X,V,de){function Y(Ce,Me){var ne=de===""?Ce:de+"-"+Ce;(Me=Me!==void 0?Me:te.getAttribute(ne))!==null&&(typeof Me=="string"&&(Ce.indexOf("on")===0?Me=k.default[Me]:Me==="false"?Me=!1:Me==="true"&&(Me=!0)),V[Ce]=Me)}if(X.importDataAttributes===!0){var ue,xe,we,Q,K=te.getAttribute(de);if(K&&K!==""&&(K=K.replace(/'/g,'"'),xe=JSON.parse("{"+K+"}")),xe){for(Q in we=void 0,xe)if(Q.toLowerCase()==="alias"){we=xe[Q];break}}for(ue in Y("alias",we),V.alias&&B(V.alias,V,X),X){if(xe){for(Q in we=void 0,xe)if(Q.toLowerCase()===ue.toLowerCase()){we=xe[Q];break}}Y(ue,we)}}return g.default.extend(!0,X,V),(te.dir==="rtl"||X.rightAlign)&&(te.style.textAlign="right"),(te.dir==="rtl"||X.numericInput)&&(te.dir="ltr",te.removeAttribute("dir"),X.isRTL=!0),Object.keys(V).length})(j,Z,g.default.extend(!0,{},P.userOptions),P.dataAttribute)){var se=(0,A.generateMaskSet)(Z,P.noMasksCache);se!==void 0&&(j.inputmask!==void 0&&(j.inputmask.opts.autoUnmask=!0,j.inputmask.remove()),j.inputmask=new R(void 0,void 0,!0),j.inputmask.opts=Z,j.inputmask.noMasksCache=P.noMasksCache,j.inputmask.userOptions=g.default.extend(!0,{},P.userOptions),j.inputmask.el=j,j.inputmask.$el=(0,g.default)(j),j.inputmask.maskset=se,g.default.data(j,C,P.userOptions),_.mask.call(j.inputmask))}})),I&&I[0]&&I[0].inputmask||this},option:function(I,P){return typeof I=="string"?this.opts[I]:E(I)==="object"?(g.default.extend(this.userOptions,I),this.el&&P!==!0&&this.mask(this.el),this):void 0},unmaskedvalue:function(I){if(this.maskset=this.maskset||(0,A.generateMaskSet)(this.opts,this.noMasksCache),this.el===void 0||I!==void 0){var P=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,I,this.opts)||I).split("");w.checkVal.call(this,void 0,!1,!1,P),typeof this.opts.onBeforeWrite=="function"&&this.opts.onBeforeWrite.call(this,void 0,N.getBuffer.call(this),0,this.opts)}return w.unmaskedvalue.call(this,this.el)},remove:function(){if(this.el){g.default.data(this.el,C,null);var I=this.opts.autoUnmask?(0,w.unmaskedvalue)(this.el):this._valueGet(this.opts.autoUnmask);I!==N.getBufferTemplate.call(this).join("")?this._valueSet(I,this.opts.autoUnmask):this._valueSet(""),y.EventRuler.off(this.el),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(this.el),"value")&&this.__valueGet&&Object.defineProperty(this.el,"value",{get:this.__valueGet,set:this.__valueSet,configurable:!0}):T.__lookupGetter__&&this.el.__lookupGetter__("value")&&this.__valueGet&&(this.el.__defineGetter__("value",this.__valueGet),this.el.__defineSetter__("value",this.__valueSet)),this.el.inputmask=void 0}return this.el},getemptymask:function(){return this.maskset=this.maskset||(0,A.generateMaskSet)(this.opts,this.noMasksCache),(this.isRTL?N.getBufferTemplate.call(this).reverse():N.getBufferTemplate.call(this)).join("")},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||(0,A.generateMaskSet)(this.opts,this.noMasksCache),b.isComplete.call(this,N.getBuffer.call(this))},getmetadata:function(){if(this.maskset=this.maskset||(0,A.generateMaskSet)(this.opts,this.noMasksCache),Array.isArray(this.maskset.metadata)){var I=M.getMaskTemplate.call(this,!0,0,!1).join("");return this.maskset.metadata.forEach((function(P){return P.mask!==I||(I=P,!1)})),I}return this.maskset.metadata},isValid:function(I){if(this.maskset=this.maskset||(0,A.generateMaskSet)(this.opts,this.noMasksCache),I){var P=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,I,this.opts)||I).split("");w.checkVal.call(this,void 0,!0,!1,P)}else I=this.isRTL?N.getBuffer.call(this).slice().reverse().join(""):N.getBuffer.call(this).join("");for(var j=N.getBuffer.call(this),$=N.determineLastRequiredPosition.call(this),Z=j.length-1;Z>$&&!N.isMask.call(this,Z);Z--);return j.splice($,Z+1-$),b.isComplete.call(this,j)&&I===(this.isRTL?N.getBuffer.call(this).slice().reverse().join(""):N.getBuffer.call(this).join(""))},format:function(I,P){this.maskset=this.maskset||(0,A.generateMaskSet)(this.opts,this.noMasksCache);var j=(typeof this.opts.onBeforeMask=="function"&&this.opts.onBeforeMask.call(this,I,this.opts)||I).split("");w.checkVal.call(this,void 0,!0,!1,j);var $=this.isRTL?N.getBuffer.call(this).slice().reverse().join(""):N.getBuffer.call(this).join("");return P?{value:$,metadata:this.getmetadata()}:$},setValue:function(I){this.el&&(0,g.default)(this.el).trigger("setvalue",[I])},analyseMask:A.analyseMask},R.extendDefaults=function(I){g.default.extend(!0,R.prototype.defaults,I)},R.extendDefinitions=function(I){g.default.extend(!0,R.prototype.definitions,I)},R.extendAliases=function(I){g.default.extend(!0,R.prototype.aliases,I)},R.format=function(I,P,j){return R(P).format(I,j)},R.unmask=function(I,P){return R(P).unmaskedvalue(I)},R.isValid=function(I,P){return R(P).isValid(I)},R.remove=function(I){typeof I=="string"&&(I=T.getElementById(I)||T.querySelectorAll(I)),(I=I.nodeName?[I]:I).forEach((function(P){P.inputmask&&P.inputmask.remove()}))},R.setValue=function(I,P){typeof I=="string"&&(I=T.getElementById(I)||T.querySelectorAll(I)),(I=I.nodeName?[I]:I).forEach((function(j){j.inputmask?j.inputmask.setValue(P):(0,g.default)(j).trigger("setvalue",[P])}))},R.dependencyLib=g.default,k.default.Inputmask=R,h.default=R},5296:function(l,h,u){function f(T){return f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},f(T)}var d=M(u(9380)),g=M(u(2394));function y(T,C){for(var R=0;R<C.length;R++){var B=C[R];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(T,(I=B.key,P=void 0,P=(function(j,$){if(f(j)!=="object"||j===null)return j;var Z=j[Symbol.toPrimitive];if(Z!==void 0){var se=Z.call(j,$);if(f(se)!=="object")return se;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(j)})(I,"string"),f(P)==="symbol"?P:String(P)),B)}var I,P}function k(T){var C=A();return function(){var R,B=b(T);if(C){var I=b(this).constructor;R=Reflect.construct(B,arguments,I)}else R=B.apply(this,arguments);return(function(P,j){if(j&&(f(j)==="object"||typeof j=="function"))return j;if(j!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $})(P)})(this,R)}}function w(T){var C=typeof Map=="function"?new Map:void 0;return w=function(R){if(R===null||!(function(I){try{return Function.toString.call(I).indexOf("[native code]")!==-1}catch{return typeof I=="function"}})(R))return R;if(typeof R!="function")throw new TypeError("Super expression must either be null or a function");if(C!==void 0){if(C.has(R))return C.get(R);C.set(R,B)}function B(){return _(R,arguments,b(this).constructor)}return B.prototype=Object.create(R.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),N(B,R)},w(T)}function _(T,C,R){return _=A()?Reflect.construct.bind():function(B,I,P){var j=[null];j.push.apply(j,I);var $=new(Function.bind.apply(B,j));return P&&N($,P.prototype),$},_.apply(null,arguments)}function A(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch{return!1}}function N(T,C){return N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(R,B){return R.__proto__=B,R},N(T,C)}function b(T){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(C){return C.__proto__||Object.getPrototypeOf(C)},b(T)}function M(T){return T&&T.__esModule?T:{default:T}}var E=d.default.document;if(E&&E.head&&E.head.attachShadow&&d.default.customElements&&d.default.customElements.get("input-mask")===void 0){var D=(function(T){(function(P,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(j&&j.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),Object.defineProperty(P,"prototype",{writable:!1}),j&&N(P,j)})(I,T);var C,R,B=k(I);function I(){var P;(function(te,X){if(!(te instanceof X))throw new TypeError("Cannot call a class as a function")})(this,I);var j=(P=B.call(this)).getAttributeNames(),$=P.attachShadow({mode:"closed"});for(var Z in P.input=E.createElement("input"),P.input.type="text",$.appendChild(P.input),j)Object.prototype.hasOwnProperty.call(j,Z)&&P.input.setAttribute(j[Z],P.getAttribute(j[Z]));var se=new g.default;return se.dataAttribute="",se.mask(P.input),P.input.inputmask.shadowRoot=$,P}return C=I,(R=[{key:"attributeChangedCallback",value:function(P,j,$){this.input.setAttribute(P,$)}},{key:"value",get:function(){return this.input.value},set:function(P){this.input.value=P}}])&&y(C.prototype,R),Object.defineProperty(C,"prototype",{writable:!1}),I})(w(HTMLElement));d.default.customElements.define("input-mask",D)}},2839:function(l,h){function u(_){return u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A},u(_)}function f(_,A){return(function(N){if(Array.isArray(N))return N})(_)||(function(N,b){var M=N==null?null:typeof Symbol<"u"&&N[Symbol.iterator]||N["@@iterator"];if(M!=null){var E,D,T,C,R=[],B=!0,I=!1;try{if(T=(M=M.call(N)).next,b!==0)for(;!(B=(E=T.call(M)).done)&&(R.push(E.value),R.length!==b);B=!0);}catch(P){I=!0,D=P}finally{try{if(!B&&M.return!=null&&(C=M.return(),Object(C)!==C))return}finally{if(I)throw D}}return R}})(_,A)||(function(N,b){if(N){if(typeof N=="string")return d(N,b);var M=Object.prototype.toString.call(N).slice(8,-1);if(M==="Object"&&N.constructor&&(M=N.constructor.name),M==="Map"||M==="Set")return Array.from(N);if(M==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M))return d(N,b)}})(_,A)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function d(_,A){(A==null||A>_.length)&&(A=_.length);for(var N=0,b=new Array(A);N<A;N++)b[N]=_[N];return b}function g(_,A){var N=Object.keys(_);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(_);A&&(b=b.filter((function(M){return Object.getOwnPropertyDescriptor(_,M).enumerable}))),N.push.apply(N,b)}return N}function y(_,A,N){return(A=(function(b){var M=(function(E,D){if(u(E)!=="object"||E===null)return E;var T=E[Symbol.toPrimitive];if(T!==void 0){var C=T.call(E,D);if(u(C)!=="object")return C;throw new TypeError("@@toPrimitive must return a primitive value.")}return(D==="string"?String:Number)(E)})(b,"string");return u(M)==="symbol"?M:String(M)})(A))in _?Object.defineProperty(_,A,{value:N,enumerable:!0,configurable:!0,writable:!0}):_[A]=N,_}Object.defineProperty(h,"__esModule",{value:!0}),h.keys=h.keyCode=void 0,h.toKey=function(_,A){return w[_]||(A?String.fromCharCode(_):String.fromCharCode(_).toLowerCase())},h.toKeyCode=function(_){return k[_]};var k=h.keyCode=(function(_){for(var A=1;A<arguments.length;A++){var N=arguments[A]!=null?arguments[A]:{};A%2?g(Object(N),!0).forEach((function(b){y(_,b,N[b])})):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(N)):g(Object(N)).forEach((function(b){Object.defineProperty(_,b,Object.getOwnPropertyDescriptor(N,b))}))}return _})({c:67,x:88,z:90,BACKSPACE_SAFARI:127,Enter:13,Meta_LEFT:91,Meta_RIGHT:92,Space:32},{Alt:18,AltGraph:18,ArrowDown:40,ArrowLeft:37,ArrowRight:39,ArrowUp:38,Backspace:8,CapsLock:20,Control:17,ContextMenu:93,Dead:221,Delete:46,End:35,Escape:27,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,Home:36,Insert:45,NumLock:144,PageDown:34,PageUp:33,Pause:19,PrintScreen:44,Process:229,Shift:16,ScrollLock:145,Tab:9,Unidentified:229}),w=Object.entries(k).reduce((function(_,A){var N=f(A,2),b=N[0],M=N[1];return _[M]=_[M]===void 0?b:_[M],_}),{});h.keys=Object.entries(k).reduce((function(_,A){var N=f(A,2),b=N[0];return N[1],_[b]=b==="Space"?" ":b,_}),{})},2391:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.analyseMask=function(A,N,b){var M,E,D,T,C,R,B=/(?:[?*+]|\{[0-9+*]+(?:,[0-9+*]*)?(?:\|[0-9+*]*)?\})|[^.?*+^${[]()|\\]+|./g,I=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,P=!1,j=new y.default,$=[],Z=[],se=!1;function te(ce,W,ee){ee=ee!==void 0?ee:ce.matches.length;var pe=ce.matches[ee-1];if(N){if(W.indexOf("[")===0||P&&/\\d|\\s|\\w|\\p/i.test(W)||W==="."){var ve=b.casing?"i":"";/\\p\{.*}/i.test(W)&&(ve+="u"),ce.matches.splice(ee++,0,{fn:new RegExp(W,ve),static:!1,optionality:!1,newBlockMarker:pe===void 0?"master":pe.def!==W,casing:null,def:W,placeholder:k(b.placeholder)==="object"?b.placeholder[j.matches.length]:void 0,nativeDef:W})}else P&&(W=W[W.length-1]),W.split("").forEach((function(ke,Fe){pe=ce.matches[ee-1],ce.matches.splice(ee++,0,{fn:/[a-z]/i.test(b.staticDefinitionSymbol||ke)?new RegExp("["+(b.staticDefinitionSymbol||ke)+"]",b.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:pe===void 0?"master":pe.def!==ke&&pe.static!==!0,casing:null,def:b.staticDefinitionSymbol||ke,placeholder:b.staticDefinitionSymbol!==void 0?ke:k(b.placeholder)==="object"?b.placeholder[j.matches.length]:void 0,nativeDef:(P?"'":"")+ke})}));P=!1}else{var Ae=b.definitions&&b.definitions[W]||b.usePrototypeDefinitions&&g.default.prototype.definitions[W];Ae&&!P?ce.matches.splice(ee++,0,{fn:Ae.validator?typeof Ae.validator=="string"?new RegExp(Ae.validator,b.casing?"i":""):new function(){this.test=Ae.validator}:/./,static:Ae.static||!1,optionality:Ae.optional||!1,defOptionality:Ae.optional||!1,newBlockMarker:pe===void 0||Ae.optional?"master":pe.def!==(Ae.definitionSymbol||W),casing:Ae.casing,def:Ae.definitionSymbol||W,placeholder:Ae.placeholder,nativeDef:W,generated:Ae.generated}):(ce.matches.splice(ee++,0,{fn:/[a-z]/i.test(b.staticDefinitionSymbol||W)?new RegExp("["+(b.staticDefinitionSymbol||W)+"]",b.casing?"i":""):null,static:!0,optionality:!1,newBlockMarker:pe===void 0?"master":pe.def!==W&&pe.static!==!0,casing:null,def:b.staticDefinitionSymbol||W,placeholder:b.staticDefinitionSymbol!==void 0?W:void 0,nativeDef:(P?"'":"")+W}),P=!1)}}function X(){if($.length>0){if(te(T=$[$.length-1],E),T.isAlternator){C=$.pop();for(var ce=0;ce<C.matches.length;ce++)C.matches[ce].isGroup&&(C.matches[ce].isGroup=!1);$.length>0?(T=$[$.length-1]).matches.push(C):j.matches.push(C)}}else te(j,E)}function V(ce){var W=new y.default(!0);return W.openGroup=!1,W.matches=ce,W}function de(){if((D=$.pop()).openGroup=!1,D!==void 0)if($.length>0){if((T=$[$.length-1]).matches.push(D),T.isAlternator){C=$.pop();for(var ce=0;ce<C.matches.length;ce++)C.matches[ce].isGroup=!1,C.matches[ce].alternatorGroup=!1;$.length>0?(T=$[$.length-1]).matches.push(C):j.matches.push(C)}}else j.matches.push(D);else X()}function Y(ce){var W=ce.pop();return W.isQuantifier&&(W=V([ce.pop(),W])),W}for(N&&(b.optionalmarker[0]=void 0,b.optionalmarker[1]=void 0);M=N?I.exec(A):B.exec(A);){if(E=M[0],N){switch(E.charAt(0)){case"?":E="{0,1}";break;case"+":case"*":E="{"+E+"}";break;case"|":if($.length===0){var ue=V(j.matches);ue.openGroup=!0,$.push(ue),j.matches=[],se=!0}}switch(E){case"\\d":E="[0-9]";break;case"\\p":E+=I.exec(A)[0],E+=I.exec(A)[0]}}if(P)X();else switch(E.charAt(0)){case"$":case"^":N||X();break;case b.escapeChar:P=!0,N&&X();break;case b.optionalmarker[1]:case b.groupmarker[1]:de();break;case b.optionalmarker[0]:$.push(new y.default(!1,!0));break;case b.groupmarker[0]:$.push(new y.default(!0));break;case b.quantifiermarker[0]:var xe=new y.default(!1,!1,!0),we=(E=E.replace(/[{}?]/g,"")).split("|"),Q=we[0].split(","),K=isNaN(Q[0])?Q[0]:parseInt(Q[0]),Ce=Q.length===1?K:isNaN(Q[1])?Q[1]:parseInt(Q[1]),Me=isNaN(we[1])?we[1]:parseInt(we[1]);K!=="*"&&K!=="+"||(K=Ce==="*"?0:1),xe.quantifier={min:K,max:Ce,jit:Me};var ne=$.length>0?$[$.length-1].matches:j.matches;(M=ne.pop()).isGroup||(M=V([M])),ne.push(M),ne.push(xe);break;case b.alternatormarker:if($.length>0){var ie=(T=$[$.length-1]).matches[T.matches.length-1];R=T.openGroup&&(ie.matches===void 0||ie.isGroup===!1&&ie.isAlternator===!1)?$.pop():Y(T.matches)}else R=Y(j.matches);if(R.isAlternator)$.push(R);else if(R.alternatorGroup?(C=$.pop(),R.alternatorGroup=!1):C=new y.default(!1,!1,!1,!0),C.matches.push(R),$.push(C),R.openGroup){R.openGroup=!1;var oe=new y.default(!0);oe.alternatorGroup=!0,$.push(oe)}break;default:X()}}for(se&&de();$.length>0;)D=$.pop(),j.matches.push(D);return j.matches.length>0&&((function ce(W){W&&W.matches&&W.matches.forEach((function(ee,pe){var ve=W.matches[pe+1];(ve===void 0||ve.matches===void 0||ve.isQuantifier===!1)&&ee&&ee.isGroup&&(ee.isGroup=!1,N||(te(ee,b.groupmarker[0],0),ee.openGroup!==!0&&te(ee,b.groupmarker[1]))),ce(ee)}))})(j),Z.push(j)),(b.numericInput||b.isRTL)&&(function ce(W){for(var ee in W.matches=W.matches.reverse(),W.matches)if(Object.prototype.hasOwnProperty.call(W.matches,ee)){var pe=parseInt(ee);if(W.matches[ee].isQuantifier&&W.matches[pe+1]&&W.matches[pe+1].isGroup){var ve=W.matches[ee];W.matches.splice(ee,1),W.matches.splice(pe+1,0,ve)}W.matches[ee].matches!==void 0?W.matches[ee]=ce(W.matches[ee]):W.matches[ee]=((Ae=W.matches[ee])===b.optionalmarker[0]?Ae=b.optionalmarker[1]:Ae===b.optionalmarker[1]?Ae=b.optionalmarker[0]:Ae===b.groupmarker[0]?Ae=b.groupmarker[1]:Ae===b.groupmarker[1]&&(Ae=b.groupmarker[0]),Ae)}var Ae;return W})(Z[0]),Z},h.generateMaskSet=function(A,N){var b;function M(T,C){var R=C.repeat,B=C.groupmarker,I=C.quantifiermarker,P=C.keepStatic;if(R>0||R==="*"||R==="+"){var j=R==="*"?0:R==="+"?1:R;if(j!=R)T=B[0]+T+B[1]+I[0]+j+","+R+I[1];else for(var $=T,Z=1;Z<j;Z++)T+=$}if(P===!0){var se=T.match(new RegExp("(.)\\[([^\\]]*)\\]","g"));se&&se.forEach((function(te,X){var V=(function(ue,xe){return(function(we){if(Array.isArray(we))return we})(ue)||(function(we,Q){var K=we==null?null:typeof Symbol<"u"&&we[Symbol.iterator]||we["@@iterator"];if(K!=null){var Ce,Me,ne,ie,oe=[],ce=!0,W=!1;try{if(ne=(K=K.call(we)).next,Q!==0)for(;!(ce=(Ce=ne.call(K)).done)&&(oe.push(Ce.value),oe.length!==Q);ce=!0);}catch(ee){W=!0,Me=ee}finally{try{if(!ce&&K.return!=null&&(ie=K.return(),Object(ie)!==ie))return}finally{if(W)throw Me}}return oe}})(ue,xe)||(function(we,Q){if(we){if(typeof we=="string")return w(we,Q);var K=Object.prototype.toString.call(we).slice(8,-1);if(K==="Object"&&we.constructor&&(K=we.constructor.name),K==="Map"||K==="Set")return Array.from(we);if(K==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(K))return w(we,Q)}})(ue,xe)||(function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()})(te.split("["),2),de=V[0],Y=V[1];Y=Y.replace("]",""),T=T.replace(new RegExp("".concat((0,d.default)(de),"\\[").concat((0,d.default)(Y),"\\]")),de.charAt(0)===Y.charAt(0)?"(".concat(de,"|").concat(de).concat(Y,")"):"".concat(de,"[").concat(Y,"]"))}))}return T}function E(T,C,R){var B,I,P=!1;return T!==null&&T!==""||((P=R.regex!==null)?T=(T=R.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(P=!0,T=".*")),T.length===1&&R.greedy===!1&&R.repeat!==0&&(R.placeholder=""),T=M(T,R),I=P?"regex_"+R.regex:R.numericInput?T.split("").reverse().join(""):T,R.keepStatic!==null&&(I="ks_"+R.keepStatic+I),k(R.placeholder)==="object"&&(I="ph_"+JSON.stringify(R.placeholder)+I),g.default.prototype.masksCache[I]===void 0||N===!0?(B={mask:T,maskToken:g.default.prototype.analyseMask(T,P,R),validPositions:[],_buffer:void 0,buffer:void 0,tests:{},excludes:{},metadata:C,maskLength:void 0,jitOffset:{}},N!==!0&&(g.default.prototype.masksCache[I]=B,B=f.default.extend(!0,{},g.default.prototype.masksCache[I]))):B=f.default.extend(!0,{},g.default.prototype.masksCache[I]),B}if(typeof A.mask=="function"&&(A.mask=A.mask(A)),Array.isArray(A.mask)){if(A.mask.length>1){A.keepStatic===null&&(A.keepStatic=!0);var D=A.groupmarker[0];return(A.isRTL?A.mask.reverse():A.mask).forEach((function(T){D.length>1&&(D+=A.alternatormarker),T.mask!==void 0&&typeof T.mask!="function"?D+=T.mask:D+=T})),E(D+=A.groupmarker[1],A.mask,A)}A.mask=A.mask.pop()}return b=A.mask&&A.mask.mask!==void 0&&typeof A.mask.mask!="function"?E(A.mask.mask,A.mask,A):E(A.mask,A.mask,A),A.keepStatic===null&&(A.keepStatic=!1),b};var f=_(u(4963)),d=_(u(7184)),g=_(u(2394)),y=_(u(9695));function k(A){return k=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N},k(A)}function w(A,N){(N==null||N>A.length)&&(N=A.length);for(var b=0,M=new Array(N);b<N;b++)M[b]=A[b];return M}function _(A){return A&&A.__esModule?A:{default:A}}},157:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.mask=function(){var _=this,A=this.opts,N=this.el,b=this.dependencyLib;g.EventRuler.off(N);var M=(function(T,C){var R=T.getAttribute("type"),B=T.tagName.toLowerCase()==="input"&&C.supportsInputType.includes(R)||T.isContentEditable||T.tagName.toLowerCase()==="textarea";if(!B)if(T.tagName.toLowerCase()==="input"){var I=document.createElement("input");I.setAttribute("type",R),B=I.type==="text",I=null}else B="partial";return B!==!1?(function(P){var j,$;function Z(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():k.getLastValidPosition.call(_)!==-1||C.nullable!==!0?(this.inputmask.shadowRoot||this.ownerDocument).activeElement===this&&C.clearMaskOnLostFocus?(_.isRTL?y.clearOptionalTail.call(_,k.getBuffer.call(_).slice()).reverse():y.clearOptionalTail.call(_,k.getBuffer.call(_).slice())).join(""):j.call(this):"":j.call(this)}function se(X){$.call(this,X),this.inputmask&&(0,y.applyInputValue)(this,X)}if(!P.inputmask.__valueGet){if(C.noValuePatching!==!0){if(Object.getOwnPropertyDescriptor){var te=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(P),"value"):void 0;te&&te.get&&te.set?(j=te.get,$=te.set,Object.defineProperty(P,"value",{get:Z,set:se,configurable:!0})):P.tagName.toLowerCase()!=="input"&&(j=function(){return this.textContent},$=function(X){this.textContent=X},Object.defineProperty(P,"value",{get:Z,set:se,configurable:!0}))}else document.__lookupGetter__&&P.__lookupGetter__("value")&&(j=P.__lookupGetter__("value"),$=P.__lookupSetter__("value"),P.__defineGetter__("value",Z),P.__defineSetter__("value",se));P.inputmask.__valueGet=j,P.inputmask.__valueSet=$}P.inputmask._valueGet=function(X){return _.isRTL&&X!==!0?j.call(this.el).split("").reverse().join(""):j.call(this.el)},P.inputmask._valueSet=function(X,V){$.call(this.el,X==null?"":V!==!0&&_.isRTL?X.split("").reverse().join(""):X)},j===void 0&&(j=function(){return this.value},$=function(X){this.value=X},(function(X){if(b.valHooks&&(b.valHooks[X]===void 0||b.valHooks[X].inputmaskpatch!==!0)){var V=b.valHooks[X]&&b.valHooks[X].get?b.valHooks[X].get:function(Y){return Y.value},de=b.valHooks[X]&&b.valHooks[X].set?b.valHooks[X].set:function(Y,ue){return Y.value=ue,Y};b.valHooks[X]={get:function(Y){if(Y.inputmask){if(Y.inputmask.opts.autoUnmask)return Y.inputmask.unmaskedvalue();var ue=V(Y);return k.getLastValidPosition.call(_,void 0,void 0,Y.inputmask.maskset.validPositions)!==-1||C.nullable!==!0?ue:""}return V(Y)},set:function(Y,ue){var xe=de(Y,ue);return Y.inputmask&&(0,y.applyInputValue)(Y,ue),xe},inputmaskpatch:!0}}})(P.type),(function(X){g.EventRuler.on(X,"mouseenter",(function(){var V=this,de=V.inputmask._valueGet(!0);de!=(V.inputmask.isRTL?k.getBuffer.call(V.inputmask).slice().reverse():k.getBuffer.call(V.inputmask)).join("")&&(0,y.applyInputValue)(V,de)}))})(P))}})(T):T.inputmask=void 0,B})(N,A);if(M!==!1){_.originalPlaceholder=N.placeholder,_.maxLength=N!==void 0?N.maxLength:void 0,_.maxLength===-1&&(_.maxLength=void 0),"inputMode"in N&&N.getAttribute("inputmode")===null&&(N.inputMode=A.inputmode,N.setAttribute("inputmode",A.inputmode)),M===!0&&(A.showMaskOnFocus=A.showMaskOnFocus&&["cc-number","cc-exp"].indexOf(N.autocomplete)===-1,f.iphone&&(A.insertModeVisual=!1,N.setAttribute("autocorrect","off")),g.EventRuler.on(N,"submit",d.EventHandlers.submitEvent),g.EventRuler.on(N,"reset",d.EventHandlers.resetEvent),g.EventRuler.on(N,"blur",d.EventHandlers.blurEvent),g.EventRuler.on(N,"focus",d.EventHandlers.focusEvent),g.EventRuler.on(N,"invalid",d.EventHandlers.invalidEvent),g.EventRuler.on(N,"click",d.EventHandlers.clickEvent),g.EventRuler.on(N,"mouseleave",d.EventHandlers.mouseleaveEvent),g.EventRuler.on(N,"mouseenter",d.EventHandlers.mouseenterEvent),g.EventRuler.on(N,"paste",d.EventHandlers.pasteEvent),g.EventRuler.on(N,"cut",d.EventHandlers.cutEvent),g.EventRuler.on(N,"complete",A.oncomplete),g.EventRuler.on(N,"incomplete",A.onincomplete),g.EventRuler.on(N,"cleared",A.oncleared),A.inputEventOnly!==!0&&g.EventRuler.on(N,"keydown",d.EventHandlers.keyEvent),(f.mobile||A.inputEventOnly)&&N.removeAttribute("maxLength"),g.EventRuler.on(N,"input",d.EventHandlers.inputFallBackEvent)),g.EventRuler.on(N,"setvalue",d.EventHandlers.setValueEvent),_.applyMaskHook===void 0||_.applyMaskHook(),k.getBufferTemplate.call(_).join(""),_.undoValue=_._valueGet(!0);var E=(N.inputmask.shadowRoot||N.ownerDocument).activeElement;if(N.inputmask._valueGet(!0)!==""||A.clearMaskOnLostFocus===!1||E===N){(0,y.applyInputValue)(N,N.inputmask._valueGet(!0),A);var D=k.getBuffer.call(_).slice();w.isComplete.call(_,D)===!1&&A.clearIncomplete&&k.resetMaskSet.call(_,!1),A.clearMaskOnLostFocus&&E!==N&&(k.getLastValidPosition.call(_)===-1?D=[]:y.clearOptionalTail.call(_,D)),(A.clearMaskOnLostFocus===!1||A.showMaskOnFocus&&E===N||N.inputmask._valueGet(!0)!=="")&&(0,y.writeBuffer)(N,D),E===N&&k.caret.call(_,N,k.seekNext.call(_,k.getLastValidPosition.call(_)))}}};var f=u(9845),d=u(6030),g=u(9716),y=u(7760),k=u(8711),w=u(7215)},9695:function(l,h){Object.defineProperty(h,"__esModule",{value:!0}),h.default=function(u,f,d,g){this.matches=[],this.openGroup=u||!1,this.alternatorGroup=!1,this.isGroup=u||!1,this.isOptional=f||!1,this.isQuantifier=d||!1,this.isAlternator=g||!1,this.quantifier={min:1,max:1}}},3194:function(){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(l,h){if(this==null)throw new TypeError('"this" is null or not defined');var u=Object(this),f=u.length>>>0;if(f===0)return!1;for(var d=0|h,g=Math.max(d>=0?d:f-Math.abs(d),0);g<f;){if(u[g]===l)return!0;g++}return!1}})},9302:function(){var l=Function.bind.call(Function.call,Array.prototype.reduce),h=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),u=Function.bind.call(Function.call,Array.prototype.concat),f=Object.keys;Object.entries||(Object.entries=function(d){return l(f(d),(function(g,y){return u(g,typeof y=="string"&&h(d,y)?[[y,d[y]]]:[])}),[])})},7149:function(){function l(h){return l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},l(h)}typeof Object.getPrototypeOf!="function"&&(Object.getPrototypeOf=l("test".__proto__)==="object"?function(h){return h.__proto__}:function(h){return h.constructor.prototype})},4013:function(){String.prototype.includes||(String.prototype.includes=function(l,h){return typeof h!="number"&&(h=0),!(h+l.length>this.length)&&this.indexOf(l,h)!==-1})},8711:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.caret=function(b,M,E,D,T){var C,R=this,B=this.opts;if(M===void 0)return"selectionStart"in b&&"selectionEnd"in b?(M=b.selectionStart,E=b.selectionEnd):d.default.getSelection?(C=d.default.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==b&&C.commonAncestorContainer!==b||(M=C.startOffset,E=C.endOffset):document.selection&&document.selection.createRange&&(E=(M=0-(C=document.selection.createRange()).duplicate().moveStart("character",-b.inputmask._valueGet().length))+C.text.length),{begin:D?M:N.call(R,M),end:D?E:N.call(R,E)};if(Array.isArray(M)&&(E=R.isRTL?M[0]:M[1],M=R.isRTL?M[1]:M[0]),M.begin!==void 0&&(E=R.isRTL?M.begin:M.end,M=R.isRTL?M.end:M.begin),typeof M=="number"){M=D?M:N.call(R,M),E=typeof(E=D?E:N.call(R,E))=="number"?E:M;var I=parseInt(((b.ownerDocument.defaultView||d.default).getComputedStyle?(b.ownerDocument.defaultView||d.default).getComputedStyle(b,null):b.currentStyle).fontSize)*E;if(b.scrollLeft=I>b.scrollWidth?I:0,b.inputmask.caretPos={begin:M,end:E},B.insertModeVisual&&B.insertMode===!1&&M===E&&(T||E++),b===(b.inputmask.shadowRoot||b.ownerDocument).activeElement){if("setSelectionRange"in b)b.setSelectionRange(M,E);else if(d.default.getSelection){if(C=document.createRange(),b.firstChild===void 0||b.firstChild===null){var P=document.createTextNode("");b.appendChild(P)}C.setStart(b.firstChild,M<b.inputmask._valueGet().length?M:b.inputmask._valueGet().length),C.setEnd(b.firstChild,E<b.inputmask._valueGet().length?E:b.inputmask._valueGet().length),C.collapse(!0);var j=d.default.getSelection();j.removeAllRanges(),j.addRange(C)}else b.createTextRange&&((C=b.createTextRange()).collapse(!0),C.moveEnd("character",E),C.moveStart("character",M),C.select());b.inputmask.caretHook===void 0||b.inputmask.caretHook.call(R,{begin:M,end:E})}}},h.determineLastRequiredPosition=function(b){var M,E,D=this,T=D.maskset,C=D.dependencyLib,R=w.call(D),B={},I=T.validPositions[R],P=y.getMaskTemplate.call(D,!0,w.call(D),!0,!0),j=P.length,$=I!==void 0?I.locator.slice():void 0;for(M=R+1;M<P.length;M++)$=(E=y.getTestTemplate.call(D,M,$,M-1)).locator.slice(),B[M]=C.extend(!0,{},E);var Z=I&&I.alternation!==void 0?I.locator[I.alternation]:void 0;for(M=j-1;M>R&&((E=B[M]).match.optionality||E.match.optionalQuantifier&&E.match.newBlockMarker||Z&&(Z!==B[M].locator[I.alternation]&&E.match.static!==!0||E.match.static===!0&&E.locator[I.alternation]&&g.checkAlternationMatch.call(D,E.locator[I.alternation].toString().split(","),Z.toString().split(","))&&y.getTests.call(D,M)[0].def!==""))&&P[M]===y.getPlaceholder.call(D,M,E.match);M--)j--;return b?{l:j,def:B[j]?B[j].match:void 0}:j},h.determineNewCaretPosition=function(b,M,E){var D,T,C,R=this,B=R.maskset,I=R.opts;if(M&&(R.isRTL?b.end=b.begin:b.begin=b.end),b.begin===b.end){switch(E=E||I.positionCaretOnClick){case"none":break;case"select":b={begin:0,end:k.call(R).length};break;case"ignore":b.end=b.begin=A.call(R,w.call(R));break;case"radixFocus":if(R.clicked>1&&B.validPositions.length===0)break;if((function(te){if(I.radixPoint!==""&&I.digits!==0){var X=B.validPositions;if(X[te]===void 0||X[te].input===void 0){if(te<A.call(R,-1))return!0;var V=k.call(R).indexOf(I.radixPoint);if(V!==-1){for(var de=0,Y=X.length;de<Y;de++)if(X[de]&&V<de&&X[de].input!==y.getPlaceholder.call(R,de))return!1;return!0}}}return!1})(b.begin)){var P=k.call(R).join("").indexOf(I.radixPoint);b.end=b.begin=I.numericInput?A.call(R,P):P;break}default:if(D=b.begin,T=w.call(R,D,!0),D<=(C=A.call(R,T!==-1||_.call(R,0)?T:-1)))b.end=b.begin=_.call(R,D,!1,!0)?D:A.call(R,D);else{var j=B.validPositions[T],$=y.getTestTemplate.call(R,C,j?j.match.locator:void 0,j),Z=y.getPlaceholder.call(R,C,$.match);if(Z!==""&&k.call(R)[C]!==Z&&$.match.optionalQuantifier!==!0&&$.match.newBlockMarker!==!0||!_.call(R,C,I.keepStatic,!0)&&$.match.def===Z){var se=A.call(R,C);(D>=se||D===C)&&(C=se)}b.end=b.begin=C}}return b}},h.getBuffer=k,h.getBufferTemplate=function(){var b=this.maskset;return b._buffer===void 0&&(b._buffer=y.getMaskTemplate.call(this,!1,1),b.buffer===void 0&&(b.buffer=b._buffer.slice())),b._buffer},h.getLastValidPosition=w,h.isMask=_,h.resetMaskSet=function(b){var M=this.maskset;M.buffer=void 0,b!==!0&&(M.validPositions=[],M.p=0),b===!1&&(M.tests={},M.jitOffset={})},h.seekNext=A,h.seekPrevious=function(b,M){var E=this,D=b-1;if(b<=0)return 0;for(;D>0&&(M===!0&&(y.getTest.call(E,D).match.newBlockMarker!==!0||!_.call(E,D,void 0,!0))||M!==!0&&!_.call(E,D,void 0,!0));)D--;return D},h.translatePosition=N;var f,d=(f=u(9380))&&f.__esModule?f:{default:f},g=u(7215),y=u(4713);function k(b){var M=this,E=M.maskset;return E.buffer!==void 0&&b!==!0||(E.buffer=y.getMaskTemplate.call(M,!0,w.call(M),!0),E._buffer===void 0&&(E._buffer=E.buffer.slice())),E.buffer}function w(b,M,E){var D=this.maskset,T=-1,C=-1,R=E||D.validPositions;b===void 0&&(b=-1);for(var B=0,I=R.length;B<I;B++)R[B]&&(M||R[B].generatedInput!==!0)&&(B<=b&&(T=B),B>=b&&(C=B));return T===-1||T===b?C:C===-1||b-T<C-b?T:C}function _(b,M,E){var D=this,T=this.maskset,C=y.getTestTemplate.call(D,b).match;if(C.def===""&&(C=y.getTest.call(D,b).match),C.static!==!0)return C.fn;if(E===!0&&T.validPositions[b]!==void 0&&T.validPositions[b].generatedInput!==!0)return!0;if(M!==!0&&b>-1){if(E){var R=y.getTests.call(D,b);return R.length>1+(R[R.length-1].match.def===""?1:0)}var B=y.determineTestTemplate.call(D,b,y.getTests.call(D,b)),I=y.getPlaceholder.call(D,b,B.match);return B.match.def!==I}return!1}function A(b,M,E){var D=this;E===void 0&&(E=!0);for(var T=b+1;y.getTest.call(D,T).match.def!==""&&(M===!0&&(y.getTest.call(D,T).match.newBlockMarker!==!0||!_.call(D,T,void 0,!0))||M!==!0&&!_.call(D,T,void 0,E));)T++;return T}function N(b){var M=this.opts,E=this.el;return!this.isRTL||typeof b!="number"||M.greedy&&M.placeholder===""||!E||(b=this._valueGet().length-b)<0&&(b=0),b}},4713:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.determineTestTemplate=N,h.getDecisionTaker=w,h.getMaskTemplate=function(D,T,C,R,B){var I=this,P=this.opts,j=this.maskset,$=P.greedy;B&&P.greedy&&(P.greedy=!1,I.maskset.tests={}),T=T||0;var Z,se,te,X,V=[],de=0;do{if(D===!0&&j.validPositions[de])se=(te=B&&j.validPositions[de].match.optionality&&j.validPositions[de+1]===void 0&&(j.validPositions[de].generatedInput===!0||j.validPositions[de].input==P.skipOptionalPartCharacter&&de>0)?N.call(I,de,E.call(I,de,Z,de-1)):j.validPositions[de]).match,Z=te.locator.slice(),V.push(C===!0?te.input:C===!1?se.nativeDef:_.call(I,de,se));else{se=(te=A.call(I,de,Z,de-1)).match,Z=te.locator.slice();var Y=R!==!0&&(P.jitMasking!==!1?P.jitMasking:se.jit);(X=(X||j.validPositions[de-1])&&se.static&&se.def!==P.groupSeparator&&se.fn===null)||Y===!1||Y===void 0||typeof Y=="number"&&isFinite(Y)&&Y>de?V.push(C===!1?se.nativeDef:_.call(I,V.length,se)):X=!1}de++}while(se.static!==!0||se.def!==""||T>de);return V[V.length-1]===""&&V.pop(),C===!1&&j.maskLength!==void 0||(j.maskLength=de-1),P.greedy=$,V},h.getPlaceholder=_,h.getTest=b,h.getTestTemplate=A,h.getTests=E,h.isSubsetOf=M;var f,d=(f=u(2394))&&f.__esModule?f:{default:f},g=u(8711);function y(D){return y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(T){return typeof T}:function(T){return T&&typeof Symbol=="function"&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},y(D)}function k(D,T){var C=(D.alternation!=null?D.mloc[w(D)]:D.locator).join("");if(C!=="")for(C=C.split(":")[0];C.length<T;)C+="0";return C}function w(D){var T=D.locator[D.alternation];return typeof T=="string"&&T.length>0&&(T=T.split(",")[0]),T!==void 0?T.toString():""}function _(D,T,C){var R=this,B=this.opts,I=this.maskset;if((T=T||b.call(R,D).match).placeholder!==void 0||C===!0){if(T.placeholder!==""&&T.static===!0&&T.generated!==!0){var P=g.getLastValidPosition.call(R,D),j=g.seekNext.call(R,P);return(C?D<=j:D<j)?B.staticDefinitionSymbol&&T.static?T.nativeDef:T.def:typeof T.placeholder=="function"?T.placeholder(B):T.placeholder}return typeof T.placeholder=="function"?T.placeholder(B):T.placeholder}if(T.static===!0){if(D>-1&&I.validPositions[D]===void 0){var $,Z=E.call(R,D),se=[];if(typeof B.placeholder=="string"&&Z.length>1+(Z[Z.length-1].match.def===""?1:0)){for(var te=0;te<Z.length;te++)if(Z[te].match.def!==""&&Z[te].match.optionality!==!0&&Z[te].match.optionalQuantifier!==!0&&(Z[te].match.static===!0||$===void 0||Z[te].match.fn.test($.match.def,I,D,!0,B)!==!1)&&(se.push(Z[te]),Z[te].match.static===!0&&($=Z[te]),se.length>1&&/[0-9a-bA-Z]/.test(se[0].match.def)))return B.placeholder.charAt(D%B.placeholder.length)}}return T.def}return y(B.placeholder)==="object"?T.def:B.placeholder.charAt(D%B.placeholder.length)}function A(D,T,C){return this.maskset.validPositions[D]||N.call(this,D,E.call(this,D,T&&T.slice(),C))}function N(D,T){var C=this.opts,R=0,B=(function(X,V){var de=0,Y=!1;return V.forEach((function(ue){ue.match.optionality&&(de!==0&&de!==ue.match.optionality&&(Y=!0),(de===0||de>ue.match.optionality)&&(de=ue.match.optionality))})),de&&(X==0||V.length==1?de=0:Y||(de=0)),de})(D,T);D=D>0?D-1:0;var I,P,j,$=k(b.call(this,D));C.greedy&&T.length>1&&T[T.length-1].match.def===""&&(R=1);for(var Z=0;Z<T.length-R;Z++){var se=T[Z];I=k(se,$.length);var te=Math.abs(I-$);(se.unMatchedAlternationStopped!==!0||T.filter((function(X){return X.unMatchedAlternationStopped!==!0})).length<=1)&&(P===void 0||I!==""&&te<P||j&&!C.greedy&&j.match.optionality&&j.match.optionality-B>0&&j.match.newBlockMarker==="master"&&(!se.match.optionality||se.match.optionality-B<1||!se.match.newBlockMarker)||j&&!C.greedy&&j.match.optionalQuantifier&&!se.match.optionalQuantifier)&&(P=te,j=se)}return j}function b(D,T){var C=this.maskset;return C.validPositions[D]?C.validPositions[D]:(T||E.call(this,D))[0]}function M(D,T,C){function R(B){for(var I,P=[],j=-1,$=0,Z=B.length;$<Z;$++)if(B.charAt($)==="-")for(I=B.charCodeAt($+1);++j<I;)P.push(String.fromCharCode(j));else j=B.charCodeAt($),P.push(B.charAt($));return P.join("")}return D.match.def===T.match.nativeDef||!(!(C.regex||D.match.fn instanceof RegExp&&T.match.fn instanceof RegExp)||D.match.static===!0||T.match.static===!0)&&(T.match.fn.source==="."||R(T.match.fn.source.replace(/[[\]/]/g,"")).indexOf(R(D.match.fn.source.replace(/[[\]/]/g,"")))!==-1)}function E(D,T,C){var R,B,I=this,P=this.dependencyLib,j=this.maskset,$=this.opts,Z=this.el,se=j.maskToken,te=T?C:0,X=T?T.slice():[0],V=[],de=!1,Y=T?T.join(""):"",ue=!1;function xe(Me,ne,ie,oe){function ce(pe,ve,Ae){function ke(O,H){var U=H.matches.indexOf(O)===0;return U||H.matches.every((function(le,Se){return le.isQuantifier===!0?U=ke(O,H.matches[Se-1]):Object.prototype.hasOwnProperty.call(le,"matches")&&(U=ke(O,le)),!U})),U}function Fe(O,H,U){var le,Se;if((j.tests[O]||j.validPositions[O])&&(j.validPositions[O]?[j.validPositions[O]]:j.tests[O]).every((function($e,Ze){if($e.mloc[H])return le=$e,!1;var pt=U!==void 0?U:$e.alternation,ct=$e.locator[pt]!==void 0?$e.locator[pt].toString().indexOf(H):-1;return(Se===void 0||ct<Se)&&ct!==-1&&(le=$e,Se=ct),!0})),le){var Le=le.locator[le.alternation],Pe=le.mloc[H]||le.mloc[Le]||le.locator;return Pe[Pe.length-1].toString().indexOf(":")!==-1&&Pe.pop(),Pe.slice((U!==void 0?U:le.alternation)+1)}return U!==void 0?Fe(O,H):void 0}function ae(O,H){return O.match.static===!0&&H.match.static!==!0&&H.match.fn.test(O.match.def,j,D,!1,$,!1)}function fe(O,H){var U=O.alternation,le=H===void 0||U<=H.alternation&&O.locator[U].toString().indexOf(H.locator[U])===-1;if(!le&&U>H.alternation){for(var Se=0;Se<U;Se++)if(O.locator[Se]!==H.locator[Se]){U=Se,le=!0;break}}return!!le&&(function(Le){O.mloc=O.mloc||{};var Pe=O.locator[Le];if(Pe!==void 0){if(typeof Pe=="string"&&(Pe=Pe.split(",")[0]),O.mloc[Pe]===void 0&&(O.mloc[Pe]=O.locator.slice(),O.mloc[Pe].push(":".concat(O.alternation))),H!==void 0){for(var $e in H.mloc)typeof $e=="string"&&($e=parseInt($e.split(",")[0])),O.mloc[$e+0]=H.mloc[$e];O.locator[Le]=Object.keys(O.mloc).join(",")}return O.alternation>Le&&(O.alternation=Le),!0}return O.alternation=void 0,!1})(U)}function me(O,H){if(O.locator.length!==H.locator.length)return!1;for(var U=O.alternation+1;U<O.locator.length;U++)if(O.locator[U]!==H.locator[U])return!1;return!0}if(te>D+$._maxTestPos)throw new Error("Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. ".concat(j.mask));if(te===D&&pe.matches===void 0){if(V.push({match:pe,locator:ve.reverse(),cd:Y,mloc:{}}),!pe.optionality||Ae!==void 0||!($.definitions&&$.definitions[pe.nativeDef]&&$.definitions[pe.nativeDef].optional||d.default.prototype.definitions[pe.nativeDef]&&d.default.prototype.definitions[pe.nativeDef].optional))return!0;de=!0,te=D}else if(pe.matches!==void 0){if(pe.isGroup&&Ae!==pe)return(function(){if(pe=ce(Me.matches[Me.matches.indexOf(pe)+1],ve,Ae))return!0})();if(pe.isOptional)return(function(){var O=pe,H=V.length;if(pe=xe(pe,ne,ve,Ae),V.length>0){if(V.forEach((function(U,le){le>=H&&(U.match.optionality=U.match.optionality?U.match.optionality+1:1)})),R=V[V.length-1].match,Ae!==void 0||!ke(R,O))return pe;de=!0,te=D}})();if(pe.isAlternator)return(function(){function O(ye){for(var Ee,Be=ye.matches[0].matches?ye.matches[0].matches.length:1,Ue=0;Ue<ye.matches.length&&Be===(Ee=ye.matches[Ue].matches?ye.matches[Ue].matches.length:1);Ue++);return Be!==Ee}I.hasAlternator=!0;var H,U=pe,le=[],Se=V.slice(),Le=ve.length,Pe=ne.length>0?ne.shift():-1;if(Pe===-1||typeof Pe=="string"){var $e,Ze=te,pt=ne.slice(),ct=[];if(typeof Pe=="string")ct=Pe.split(",");else for($e=0;$e<U.matches.length;$e++)ct.push($e.toString());if(j.excludes[D]!==void 0){for(var $t=ct.slice(),Ot=0,mt=j.excludes[D].length;Ot<mt;Ot++){var De=j.excludes[D][Ot].toString().split(":");ve.length==De[1]&&ct.splice(ct.indexOf(De[0]),1)}ct.length===0&&(delete j.excludes[D],ct=$t)}($.keepStatic===!0||isFinite(parseInt($.keepStatic))&&Ze>=$.keepStatic)&&(ct=ct.slice(0,1));for(var ze=0;ze<ct.length;ze++){$e=parseInt(ct[ze]),V=[],ne=typeof Pe=="string"&&Fe(te,$e,Le)||pt.slice();var Qe=U.matches[$e];if(Qe&&ce(Qe,[$e].concat(ve),Ae))pe=!0;else if(ze===0&&(ue=O(U)),Qe&&Qe.matches&&Qe.matches.length>U.matches[0].matches.length)break;H=V.slice(),te=Ze,V=[];for(var Et=0;Et<H.length;Et++){var wt=H[Et],yt=!1;wt.alternation=wt.alternation||Le,fe(wt);for(var Ut=0;Ut<le.length;Ut++){var qt=le[Ut];if(typeof Pe!="string"||wt.alternation!==void 0&&ct.includes(wt.locator[wt.alternation].toString())){if(wt.match.nativeDef===qt.match.nativeDef){yt=!0,fe(qt,wt);break}if(M(wt,qt,$)){fe(wt,qt)&&(yt=!0,le.splice(le.indexOf(qt),0,wt));break}if(M(qt,wt,$)){fe(qt,wt);break}if(ae(wt,qt)){me(wt,qt)||Z.inputmask.userOptions.keepStatic!==void 0?fe(wt,qt)&&(yt=!0,le.splice(le.indexOf(qt),0,wt)):$.keepStatic=!0;break}if(ae(qt,wt)){fe(qt,wt);break}}}yt||le.push(wt)}}V=Se.concat(le),te=D,de=V.length>0&&ue,pe=le.length>0&&!ue,ue&&de&&!pe&&V.forEach((function(ye,Ee){ye.unMatchedAlternationStopped=!0})),ne=pt.slice()}else pe=ce(U.matches[Pe]||Me.matches[Pe],[Pe].concat(ve),Ae);if(pe)return!0})();if(pe.isQuantifier&&Ae!==Me.matches[Me.matches.indexOf(pe)-1])return(function(){for(var O=pe,H=!1,U=ne.length>0?ne.shift():0;U<(isNaN(O.quantifier.max)?U+1:O.quantifier.max)&&te<=D;U++){var le=Me.matches[Me.matches.indexOf(O)-1];if(pe=ce(le,[U].concat(ve),le)){if(V.forEach((function(Se,Le){(R=we(le,Se.match)?Se.match:V[V.length-1].match).optionalQuantifier=U>=O.quantifier.min,R.jit=(U+1)*(le.matches.indexOf(R)+1)>O.quantifier.jit,R.optionalQuantifier&&ke(R,le)&&(de=!0,te=D,$.greedy&&j.validPositions[D-1]==null&&U>O.quantifier.min&&["*","+"].indexOf(O.quantifier.max)!=-1&&(V.pop(),Y=void 0),H=!0,pe=!1),!H&&R.jit&&(j.jitOffset[D]=le.matches.length-le.matches.indexOf(R))})),H)break;return!0}}})();if(pe=xe(pe,ne,ve,Ae))return!0}else te++}for(var W=ne.length>0?ne.shift():0;W<Me.matches.length;W++)if(Me.matches[W].isQuantifier!==!0){var ee=ce(Me.matches[W],[W].concat(ie),oe);if(ee&&te===D)return ee;if(te>D)break}}function we(Me,ne){var ie=Me.matches.indexOf(ne)!=-1;return ie||Me.matches.forEach((function(oe,ce){oe.matches===void 0||ie||(ie=we(oe,ne))})),ie}if(D>-1){if(T===void 0){for(var Q,K=D-1;(Q=j.validPositions[K]||j.tests[K])===void 0&&K>-1;)K--;Q!==void 0&&K>-1&&(X=(function(Me,ne){var ie,oe=[];return Array.isArray(ne)||(ne=[ne]),ne.length>0&&(ne[0].alternation===void 0||$.keepStatic===!0?(oe=N.call(I,Me,ne.slice()).locator.slice()).length===0&&(oe=ne[0].locator.slice()):ne.forEach((function(ce){ce.def!==""&&(oe.length===0?(ie=ce.alternation,oe=ce.locator.slice()):ce.locator[ie]&&oe[ie].toString().indexOf(ce.locator[ie])===-1&&(oe[ie]+=","+ce.locator[ie]))}))),oe})(K,Q),Y=X.join(""),te=K)}if(j.tests[D]&&j.tests[D][0].cd===Y)return j.tests[D];for(var Ce=X.shift();Ce<se.length&&!(xe(se[Ce],X,[Ce])&&te===D||te>D);Ce++);}return(V.length===0||de)&&V.push({match:{fn:null,static:!0,optionality:!1,casing:null,def:"",placeholder:""},locator:ue&&V.filter((function(Me){return Me.unMatchedAlternationStopped!==!0})).length===0?[0]:[],mloc:{},cd:Y}),T!==void 0&&j.tests[D]?B=P.extend(!0,[],V):(j.tests[D]=P.extend(!0,[],V),B=j.tests[D]),V.forEach((function(Me){Me.match.optionality=Me.match.defOptionality||!1})),B}},7215:function(l,h,u){Object.defineProperty(h,"__esModule",{value:!0}),h.alternate=k,h.checkAlternationMatch=function(T,C,R){for(var B,I=this.opts.greedy?C:C.slice(0,1),P=!1,j=R!==void 0?R.split(","):[],$=0;$<j.length;$++)(B=T.indexOf(j[$]))!==-1&&T.splice(B,1);for(var Z=0;Z<T.length;Z++)if(I.includes(T[Z])){P=!0;break}return P},h.handleRemove=function(T,C,R,B,I){var P=this,j=this.maskset,$=this.opts;if(($.numericInput||P.isRTL)&&(C===d.keys.Backspace?C=d.keys.Delete:C===d.keys.Delete&&(C=d.keys.Backspace),P.isRTL)){var Z=R.end;R.end=R.begin,R.begin=Z}var se,te=g.getLastValidPosition.call(P,void 0,!0);R.end>=g.getBuffer.call(P).length&&te>=R.end&&(R.end=te+1),C===d.keys.Backspace?R.end-R.begin<1&&(R.begin=g.seekPrevious.call(P,R.begin)):C===d.keys.Delete&&R.begin===R.end&&(R.end=g.isMask.call(P,R.end,!0,!0)?R.end+1:g.seekNext.call(P,R.end)+1),(se=D.call(P,R))!==!1&&((B!==!0&&$.keepStatic!==!1||$.regex!==null&&y.getTest.call(P,R.begin).match.def.indexOf("|")!==-1)&&k.call(P,!0),B!==!0&&(j.p=C===d.keys.Delete?R.begin+se:R.begin,j.p=g.determineNewCaretPosition.call(P,{begin:j.p,end:j.p},!1,$.insertMode===!1&&C===d.keys.Backspace?"none":void 0).begin))},h.isComplete=_,h.isSelection=A,h.isValid=N,h.refreshFromBuffer=M,h.revalidateMask=D;var f=u(6030),d=u(2839),g=u(8711),y=u(4713);function k(T,C,R,B,I,P){var j=this,$=this.dependencyLib,Z=this.opts,se=j.maskset;if(!j.hasAlternator)return!1;var te,X,V,de,Y,ue,xe,we,Q,K,Ce,Me=$.extend(!0,[],se.validPositions),ne=$.extend(!0,{},se.tests),ie=!1,oe=!1,ce=I!==void 0?I:g.getLastValidPosition.call(j);if(P&&(K=P.begin,Ce=P.end,P.begin>P.end&&(K=P.end,Ce=P.begin)),ce===-1&&I===void 0)te=0,X=(de=y.getTest.call(j,te)).alternation;else for(;ce>=0;ce--)if((V=se.validPositions[ce])&&V.alternation!==void 0){if(ce<=(T||0)&&de&&de.locator[V.alternation]!==V.locator[V.alternation])break;te=ce,X=se.validPositions[te].alternation,de=V}if(X!==void 0){xe=parseInt(te),se.excludes[xe]=se.excludes[xe]||[],T!==!0&&se.excludes[xe].push((0,y.getDecisionTaker)(de)+":"+de.alternation);var W=[],ee=-1;for(Y=xe;xe<g.getLastValidPosition.call(j,void 0,!0)+1;Y++)ee===-1&&T<=Y&&C!==void 0&&(W.push(C),ee=W.length-1),(ue=se.validPositions[xe])&&ue.generatedInput!==!0&&(P===void 0||Y<K||Y>=Ce)&&W.push(ue.input),se.validPositions.splice(xe,1);for(ee===-1&&C!==void 0&&(W.push(C),ee=W.length-1);se.excludes[xe]!==void 0&&se.excludes[xe].length<10;){for(se.tests={},g.resetMaskSet.call(j,!0),ie=!0,Y=0;Y<W.length&&(we=ie.caret||Z.insertMode==0&&we!=null?g.seekNext.call(j,we):g.getLastValidPosition.call(j,void 0,!0)+1,Q=W[Y],ie=N.call(j,we,Q,!1,B,!0));Y++)Y===ee&&(oe=ie),T==1&&ie&&(oe={caretPos:Y});if(ie)break;if(g.resetMaskSet.call(j),de=y.getTest.call(j,xe),se.validPositions=$.extend(!0,[],Me),se.tests=$.extend(!0,{},ne),!se.excludes[xe]){oe=k.call(j,T,C,R,B,xe-1,P);break}if(de.alternation!=null){var pe=(0,y.getDecisionTaker)(de);if(se.excludes[xe].indexOf(pe+":"+de.alternation)!==-1){oe=k.call(j,T,C,R,B,xe-1,P);break}for(se.excludes[xe].push(pe+":"+de.alternation),Y=xe;Y<g.getLastValidPosition.call(j,void 0,!0)+1;Y++)se.validPositions.splice(xe)}else delete se.excludes[xe]}}return oe&&Z.keepStatic===!1||delete se.excludes[xe],oe}function w(T,C,R){var B=this.opts,I=this.maskset;switch(B.casing||C.casing){case"upper":T=T.toUpperCase();break;case"lower":T=T.toLowerCase();break;case"title":var P=I.validPositions[R-1];T=R===0||P&&P.input===String.fromCharCode(d.keyCode.Space)?T.toUpperCase():T.toLowerCase();break;default:if(typeof B.casing=="function"){var j=Array.prototype.slice.call(arguments);j.push(I.validPositions),T=B.casing.apply(this,j)}}return T}function _(T){var C=this,R=this.opts,B=this.maskset;if(typeof R.isComplete=="function")return R.isComplete(T,R);if(R.repeat!=="*"){var I=!1,P=g.determineLastRequiredPosition.call(C,!0),j=P.l;if(P.def===void 0||P.def.newBlockMarker||P.def.optionality||P.def.optionalQuantifier){I=!0;for(var $=0;$<=j;$++){var Z=y.getTestTemplate.call(C,$).match;if(Z.static!==!0&&B.validPositions[$]===void 0&&(Z.optionality===!1||Z.optionality===void 0||Z.optionality&&Z.newBlockMarker==0)&&(Z.optionalQuantifier===!1||Z.optionalQuantifier===void 0)||Z.static===!0&&Z.def!=""&&T[$]!==y.getPlaceholder.call(C,$,Z)){I=!1;break}}}return I}}function A(T){var C=this.opts.insertMode?0:1;return this.isRTL?T.begin-T.end>C:T.end-T.begin>C}function N(T,C,R,B,I,P,j){var $=this,Z=this.dependencyLib,se=this.opts,te=$.maskset;R=R===!0;var X=T;function V(ie){if(ie!==void 0){if(ie.remove!==void 0&&(Array.isArray(ie.remove)||(ie.remove=[ie.remove]),ie.remove.sort((function(ce,W){return $.isRTL?ce.pos-W.pos:W.pos-ce.pos})).forEach((function(ce){D.call($,{begin:ce,end:ce+1})})),ie.remove=void 0),ie.insert!==void 0&&(Array.isArray(ie.insert)||(ie.insert=[ie.insert]),ie.insert.sort((function(ce,W){return $.isRTL?W.pos-ce.pos:ce.pos-W.pos})).forEach((function(ce){ce.c!==""&&N.call($,ce.pos,ce.c,ce.strict===void 0||ce.strict,ce.fromIsValid!==void 0?ce.fromIsValid:B)})),ie.insert=void 0),ie.refreshFromBuffer&&ie.buffer){var oe=ie.refreshFromBuffer;M.call($,oe===!0?oe:oe.start,oe.end,ie.buffer),ie.refreshFromBuffer=void 0}ie.rewritePosition!==void 0&&(X=ie.rewritePosition,ie=!0)}return ie}function de(ie,oe,ce){var W=!1;return y.getTests.call($,ie).every((function(ee,pe){var ve=ee.match;if(g.getBuffer.call($,!0),(W=(!ve.jit||te.validPositions[g.seekPrevious.call($,ie)]!==void 0)&&(ve.fn!=null?ve.fn.test(oe,te,ie,ce,se,A.call($,T)):(oe===ve.def||oe===se.skipOptionalPartCharacter)&&ve.def!==""&&{c:y.getPlaceholder.call($,ie,ve,!0)||ve.def,pos:ie}))!==!1){var Ae=W.c!==void 0?W.c:oe,ke=ie;return Ae=Ae===se.skipOptionalPartCharacter&&ve.static===!0?y.getPlaceholder.call($,ie,ve,!0)||ve.def:Ae,(W=V(W))!==!0&&W.pos!==void 0&&W.pos!==ie&&(ke=W.pos),W!==!0&&W.pos===void 0&&W.c===void 0||D.call($,T,Z.extend({},ee,{input:w.call($,Ae,ve,ke)}),B,ke)===!1&&(W=!1),!1}return!0})),W}T.begin!==void 0&&(X=$.isRTL?T.end:T.begin);var Y=!0,ue=Z.extend(!0,[],te.validPositions);if(se.keepStatic===!1&&te.excludes[X]!==void 0&&I!==!0&&B!==!0)for(var xe=X;xe<($.isRTL?T.begin:T.end);xe++)te.excludes[xe]!==void 0&&(te.excludes[xe]=void 0,delete te.tests[xe]);if(typeof se.preValidation=="function"&&B!==!0&&P!==!0&&(Y=V(Y=se.preValidation.call($,g.getBuffer.call($),X,C,A.call($,T),se,te,T,R||I))),Y===!0){if(Y=de(X,C,R),(!R||B===!0)&&Y===!1&&P!==!0){var we=te.validPositions[X];if(!we||we.match.static!==!0||we.match.def!==C&&C!==se.skipOptionalPartCharacter){if(se.insertMode||te.validPositions[g.seekNext.call($,X)]===void 0||T.end>X){var Q=!1;if(te.jitOffset[X]&&te.validPositions[g.seekNext.call($,X)]===void 0&&(Y=N.call($,X+te.jitOffset[X],C,!0,!0))!==!1&&(I!==!0&&(Y.caret=X),Q=!0),T.end>X&&(te.validPositions[X]=void 0),!Q&&!g.isMask.call($,X,se.keepStatic&&X===0)){for(var K=X+1,Ce=g.seekNext.call($,X,!1,X!==0);K<=Ce;K++)if((Y=de(K,C,R))!==!1){Y=E.call($,X,Y.pos!==void 0?Y.pos:K)||Y,X=K;break}}}}else Y={caret:g.seekNext.call($,X)}}$.hasAlternator&&I!==!0&&!R&&(I=!0,Y===!1&&se.keepStatic&&(_.call($,g.getBuffer.call($))||X===0)?Y=k.call($,X,C,R,B,void 0,T):(A.call($,T)&&te.tests[X]&&te.tests[X].length>1&&se.keepStatic||Y==1&&se.numericInput!==!0&&te.tests[X]&&te.tests[X].length>1&&g.getLastValidPosition.call($,void 0,!0)>X)&&(Y=k.call($,!0))),Y===!0&&(Y={pos:X})}if(typeof se.postValidation=="function"&&B!==!0&&P!==!0){var Me=se.postValidation.call($,g.getBuffer.call($,!0),T.begin!==void 0?$.isRTL?T.end:T.begin:T,C,Y,se,te,R,j);Me!==void 0&&(Y=Me===!0?Y:Me)}Y&&Y.pos===void 0&&(Y.pos=X),Y===!1||P===!0?(g.resetMaskSet.call($,!0),te.validPositions=Z.extend(!0,[],ue)):E.call($,void 0,X,!0);var ne=V(Y);return $.maxLength!==void 0&&g.getBuffer.call($).length>$.maxLength&&!B&&(g.resetMaskSet.call($,!0),te.validPositions=Z.extend(!0,[],ue),ne=!1),ne}function b(T,C,R){for(var B=this.maskset,I=!1,P=y.getTests.call(this,T),j=0;j<P.length;j++){if(P[j].match&&(P[j].match.nativeDef===C.match[R.shiftPositions?"def":"nativeDef"]&&(!R.shiftPositions||!C.match.static)||P[j].match.nativeDef===C.match.nativeDef||R.regex&&!P[j].match.static&&P[j].match.fn.test(C.input,B,T,!1,R))){I=!0;break}if(P[j].match&&P[j].match.def===C.match.nativeDef){I=void 0;break}}return I===!1&&B.jitOffset[T]!==void 0&&(I=b.call(this,T+B.jitOffset[T],C,R)),I}function M(T,C,R){var B,I,P=this,j=this.maskset,$=this.opts,Z=this.dependencyLib,se=$.skipOptionalPartCharacter,te=P.isRTL?R.slice().reverse():R;if($.skipOptionalPartCharacter="",T===!0)g.resetMaskSet.call(P,!1),T=0,C=R.length,I=g.determineNewCaretPosition.call(P,{begin:0,end:0},!1).begin;else{for(B=T;B<C;B++)j.validPositions.splice(T,0);I=T}var X=new Z.Event("keypress");for(B=T;B<C;B++){X.key=te[B].toString(),P.ignorable=!1;var V=f.EventHandlers.keypressEvent.call(P,X,!0,!1,!1,I);V!==!1&&V!==void 0&&(I=V.forwardPosition)}$.skipOptionalPartCharacter=se}function E(T,C,R){var B=this,I=this.maskset,P=this.dependencyLib;if(T===void 0)for(T=C-1;T>0&&!I.validPositions[T];T--);for(var j=T;j<C;j++)if(I.validPositions[j]===void 0&&!g.isMask.call(B,j,!1)&&(j==0?y.getTest.call(B,j):I.validPositions[j-1])){var $=y.getTests.call(B,j).slice();$[$.length-1].match.def===""&&$.pop();var Z,se=y.determineTestTemplate.call(B,j,$);if(se&&(se.match.jit!==!0||se.match.newBlockMarker==="master"&&(Z=I.validPositions[j+1])&&Z.match.optionalQuantifier===!0)&&((se=P.extend({},se,{input:y.getPlaceholder.call(B,j,se.match,!0)||se.match.def})).generatedInput=!0,D.call(B,j,se,!0),R!==!0)){var te=I.validPositions[C].input;return I.validPositions[C]=void 0,N.call(B,C,te,!0,!0)}}}function D(T,C,R,B){var I=this,P=this.maskset,j=this.opts,$=this.dependencyLib;function Z(ne,ie,oe){var ce=ie[ne];if(ce!==void 0&&ce.match.static===!0&&ce.match.optionality!==!0&&(ie[0]===void 0||ie[0].alternation===void 0)){var W=oe.begin<=ne-1?ie[ne-1]&&ie[ne-1].match.static===!0&&ie[ne-1]:ie[ne-1],ee=oe.end>ne+1?ie[ne+1]&&ie[ne+1].match.static===!0&&ie[ne+1]:ie[ne+1];return W&&ee}return!1}var se=0,te=T.begin!==void 0?T.begin:T,X=T.end!==void 0?T.end:T,V=!0;if(T.begin>T.end&&(te=T.end,X=T.begin),B=B!==void 0?B:te,R===void 0&&(te!==X||j.insertMode&&P.validPositions[B]!==void 0||C===void 0||C.match.optionalQuantifier||C.match.optionality)){var de,Y=$.extend(!0,[],P.validPositions),ue=g.getLastValidPosition.call(I,void 0,!0);P.p=te;var xe=A.call(I,T)?te:B;for(de=ue;de>=xe;de--)P.validPositions.splice(de,1),C===void 0&&delete P.tests[de+1];var we,Q,K=B,Ce=K;for(C&&(P.validPositions[B]=$.extend(!0,{},C),Ce++,K++),Y[X]==null&&P.jitOffset[X]&&(X+=P.jitOffset[X]+1),de=C?X:X-1;de<=ue;de++){if((we=Y[de])!==void 0&&we.generatedInput!==!0&&(de>=X||de>=te&&Z(de,Y,{begin:te,end:X}))){for(;y.getTest.call(I,Ce).match.def!=="";){if((Q=b.call(I,Ce,we,j))!==!1||we.match.def==="+"){we.match.def==="+"&&g.getBuffer.call(I,!0);var Me=N.call(I,Ce,we.input,we.match.def!=="+",!0);if(V=Me!==!1,K=(Me.pos||Ce)+1,!V&&Q)break}else V=!1;if(V){C===void 0&&we.match.static&&de===T.begin&&se++;break}if(!V&&g.getBuffer.call(I),Ce>P.maskLength)break;Ce++}y.getTest.call(I,Ce).match.def==""&&(V=!1),Ce=K}if(!V)break}if(!V)return P.validPositions=$.extend(!0,[],Y),g.resetMaskSet.call(I,!0),!1}else C&&y.getTest.call(I,B).match.cd===C.match.cd&&(P.validPositions[B]=$.extend(!0,{},C));return g.resetMaskSet.call(I,!0),se}}},r={};function i(l){var h=r[l];if(h!==void 0)return h.exports;var u=r[l]={exports:{}};return t[l](u,u.exports,i),u.exports}var o={};return(function(){var l=o;Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,i(7149),i(3194),i(9302),i(4013),i(3851),i(219),i(207),i(5296);var h,u=(h=i(2394))&&h.__esModule?h:{default:h};l.default=u.default})(),o})()}))})(Nd)),Nd.exports}var Z4=K4();const X4=Ol(Z4);class J4 extends dn{get mask(){let e=this.data.get("mask");try{return e=JSON.parse(e),e.autoUnmask=e.autoUnmask||e.removeMaskOnSubmit||void 0,e}catch{return e}}connect(){const e=this.element.querySelector("input");let t=this.mask;if(t.length<1)return;(e.form||this.element.closest("form")).addEventListener("orchid:screen-submit",()=>{t.removeMaskOnSubmit&&e.inputmask.remove()}),X4(t).mask(e)}}const Q4=Object.freeze(Object.defineProperty({__proto__:null,default:J4},Symbol.toStringTag,{value:"Module"}));class e5 extends dn{static classes=["loading"];static values={url:{type:String},watched:{type:Array,default:[]}};connect(){this.watchedValue.forEach(e=>{document.querySelectorAll(`[name="${e}"]`).forEach(t=>t.addEventListener("change",()=>this.debouncedHandleFieldChange()))})}handleFieldChange(){const e=this.element.closest("form");e.classList.add(...this.loadingClasses);const t=new FormData(e);let r=document.getElementById("screen-state").value;r.length>0&&t.append("_state",r),this.loadStream(this.urlValue,t,()=>{e.classList.remove(...this.loadingClasses)})}debouncedHandleFieldChange=this.debounce(()=>this.handleFieldChange(),200);debounce(e,t){let r;return(...i)=>{clearTimeout(r),r=setTimeout(()=>e.apply(this,i),t)}}}const t5=Object.freeze(Object.defineProperty({__proto__:null,default:e5},Symbol.toStringTag,{value:"Module"}));var nh={exports:{}};var n5=nh.exports,Y1;function r5(){return Y1||(Y1=1,(function(n,e){(function(t,r){r(e)})(n5,(function(t){var r="1.9.4";function i(a){var p,S,z,J;for(S=1,z=arguments.length;S<z;S++){J=arguments[S];for(p in J)a[p]=J[p]}return a}var o=Object.create||(function(){function a(){}return function(p){return a.prototype=p,new a}})();function l(a,p){var S=Array.prototype.slice;if(a.bind)return a.bind.apply(a,S.call(arguments,1));var z=S.call(arguments,2);return function(){return a.apply(p,z.length?z.concat(S.call(arguments)):arguments)}}var h=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++h),a._leaflet_id}function f(a,p,S){var z,J,ge,Ne;return Ne=function(){z=!1,J&&(ge.apply(S,J),J=!1)},ge=function(){z?J=arguments:(a.apply(S,arguments),setTimeout(Ne,p),z=!0)},ge}function d(a,p,S){var z=p[1],J=p[0],ge=z-J;return a===z&&S?a:((a-J)%ge+ge)%ge+J}function g(){return!1}function y(a,p){if(p===!1)return a;var S=Math.pow(10,p===void 0?6:p);return Math.round(a*S)/S}function k(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function w(a){return k(a).split(/\s+/)}function _(a,p){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var S in p)a.options[S]=p[S];return a.options}function A(a,p,S){var z=[];for(var J in a)z.push(encodeURIComponent(S?J.toUpperCase():J)+"="+encodeURIComponent(a[J]));return(!p||p.indexOf("?")===-1?"?":"&")+z.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function b(a,p){return a.replace(N,function(S,z){var J=p[z];if(J===void 0)throw new Error("No value provided for variable "+S);return typeof J=="function"&&(J=J(p)),J})}var M=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function E(a,p){for(var S=0;S<a.length;S++)if(a[S]===p)return S;return-1}var D="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function T(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var C=0;function R(a){var p=+new Date,S=Math.max(0,16-(p-C));return C=p+S,window.setTimeout(a,S)}var B=window.requestAnimationFrame||T("RequestAnimationFrame")||R,I=window.cancelAnimationFrame||T("CancelAnimationFrame")||T("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function P(a,p,S){if(S&&B===R)a.call(p);else return B.call(window,l(a,p))}function j(a){a&&I.call(window,a)}var $={__proto__:null,extend:i,create:o,bind:l,get lastId(){return h},stamp:u,throttle:f,wrapNum:d,falseFn:g,formatNum:y,trim:k,splitWords:w,setOptions:_,getParamString:A,template:b,isArray:M,indexOf:E,emptyImageUrl:D,requestFn:B,cancelFn:I,requestAnimFrame:P,cancelAnimFrame:j};function Z(){}Z.extend=function(a){var p=function(){_(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},S=p.__super__=this.prototype,z=o(S);z.constructor=p,p.prototype=z;for(var J in this)Object.prototype.hasOwnProperty.call(this,J)&&J!=="prototype"&&J!=="__super__"&&(p[J]=this[J]);return a.statics&&i(p,a.statics),a.includes&&(se(a.includes),i.apply(null,[z].concat(a.includes))),i(z,a),delete z.statics,delete z.includes,z.options&&(z.options=S.options?o(S.options):{},i(z.options,a.options)),z._initHooks=[],z.callInitHooks=function(){if(!this._initHooksCalled){S.callInitHooks&&S.callInitHooks.call(this),this._initHooksCalled=!0;for(var ge=0,Ne=z._initHooks.length;ge<Ne;ge++)z._initHooks[ge].call(this)}},p},Z.include=function(a){var p=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=p,this.mergeOptions(a.options)),this},Z.mergeOptions=function(a){return i(this.prototype.options,a),this},Z.addInitHook=function(a){var p=Array.prototype.slice.call(arguments,1),S=typeof a=="function"?a:function(){this[a].apply(this,p)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(S),this};function se(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=M(a)?a:[a];for(var p=0;p<a.length;p++)a[p]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var te={on:function(a,p,S){if(typeof a=="object")for(var z in a)this._on(z,a[z],p);else{a=w(a);for(var J=0,ge=a.length;J<ge;J++)this._on(a[J],p,S)}return this},off:function(a,p,S){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var z in a)this._off(z,a[z],p);else{a=w(a);for(var J=arguments.length===1,ge=0,Ne=a.length;ge<Ne;ge++)J?this._off(a[ge]):this._off(a[ge],p,S)}return this},_on:function(a,p,S,z){if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}if(this._listens(a,p,S)===!1){S===this&&(S=void 0);var J={fn:p,ctx:S};z&&(J.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(J)}},_off:function(a,p,S){var z,J,ge;if(this._events&&(z=this._events[a],!!z)){if(arguments.length===1){if(this._firingCount)for(J=0,ge=z.length;J<ge;J++)z[J].fn=g;delete this._events[a];return}if(typeof p!="function"){console.warn("wrong listener type: "+typeof p);return}var Ne=this._listens(a,p,S);if(Ne!==!1){var qe=z[Ne];this._firingCount&&(qe.fn=g,this._events[a]=z=z.slice()),z.splice(Ne,1)}}},fire:function(a,p,S){if(!this.listens(a,S))return this;var z=i({},p,{type:a,target:this,sourceTarget:p&&p.sourceTarget||this});if(this._events){var J=this._events[a];if(J){this._firingCount=this._firingCount+1||1;for(var ge=0,Ne=J.length;ge<Ne;ge++){var qe=J[ge],Ve=qe.fn;qe.once&&this.off(a,Ve,qe.ctx),Ve.call(qe.ctx||this,z)}this._firingCount--}}return S&&this._propagateEvent(z),this},listens:function(a,p,S,z){typeof a!="string"&&console.warn('"string" type argument expected');var J=p;typeof p!="function"&&(z=!!p,J=void 0,S=void 0);var ge=this._events&&this._events[a];if(ge&&ge.length&&this._listens(a,J,S)!==!1)return!0;if(z){for(var Ne in this._eventParents)if(this._eventParents[Ne].listens(a,p,S,z))return!0}return!1},_listens:function(a,p,S){if(!this._events)return!1;var z=this._events[a]||[];if(!p)return!!z.length;S===this&&(S=void 0);for(var J=0,ge=z.length;J<ge;J++)if(z[J].fn===p&&z[J].ctx===S)return J;return!1},once:function(a,p,S){if(typeof a=="object")for(var z in a)this._on(z,a[z],p,!0);else{a=w(a);for(var J=0,ge=a.length;J<ge;J++)this._on(a[J],p,S,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var p in this._eventParents)this._eventParents[p].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};te.addEventListener=te.on,te.removeEventListener=te.clearAllEventListeners=te.off,te.addOneTimeEventListener=te.once,te.fireEvent=te.fire,te.hasEventListeners=te.listens;var X=Z.extend(te);function V(a,p,S){this.x=S?Math.round(a):a,this.y=S?Math.round(p):p}var de=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};V.prototype={clone:function(){return new V(this.x,this.y)},add:function(a){return this.clone()._add(Y(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(Y(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new V(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new V(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=de(this.x),this.y=de(this.y),this},distanceTo:function(a){a=Y(a);var p=a.x-this.x,S=a.y-this.y;return Math.sqrt(p*p+S*S)},equals:function(a){return a=Y(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=Y(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function Y(a,p,S){return a instanceof V?a:M(a)?new V(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new V(a.x,a.y):new V(a,p,S)}function ue(a,p){if(a)for(var S=p?[a,p]:a,z=0,J=S.length;z<J;z++)this.extend(S[z])}ue.prototype={extend:function(a){var p,S;if(!a)return this;if(a instanceof V||typeof a[0]=="number"||"x"in a)p=S=Y(a);else if(a=xe(a),p=a.min,S=a.max,!p||!S)return this;return!this.min&&!this.max?(this.min=p.clone(),this.max=S.clone()):(this.min.x=Math.min(p.x,this.min.x),this.max.x=Math.max(S.x,this.max.x),this.min.y=Math.min(p.y,this.min.y),this.max.y=Math.max(S.y,this.max.y)),this},getCenter:function(a){return Y((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return Y(this.min.x,this.max.y)},getTopRight:function(){return Y(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var p,S;return typeof a[0]=="number"||a instanceof V?a=Y(a):a=xe(a),a instanceof ue?(p=a.min,S=a.max):p=S=a,p.x>=this.min.x&&S.x<=this.max.x&&p.y>=this.min.y&&S.y<=this.max.y},intersects:function(a){a=xe(a);var p=this.min,S=this.max,z=a.min,J=a.max,ge=J.x>=p.x&&z.x<=S.x,Ne=J.y>=p.y&&z.y<=S.y;return ge&&Ne},overlaps:function(a){a=xe(a);var p=this.min,S=this.max,z=a.min,J=a.max,ge=J.x>p.x&&z.x<S.x,Ne=J.y>p.y&&z.y<S.y;return ge&&Ne},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var p=this.min,S=this.max,z=Math.abs(p.x-S.x)*a,J=Math.abs(p.y-S.y)*a;return xe(Y(p.x-z,p.y-J),Y(S.x+z,S.y+J))},equals:function(a){return a?(a=xe(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function xe(a,p){return!a||a instanceof ue?a:new ue(a,p)}function we(a,p){if(a)for(var S=p?[a,p]:a,z=0,J=S.length;z<J;z++)this.extend(S[z])}we.prototype={extend:function(a){var p=this._southWest,S=this._northEast,z,J;if(a instanceof K)z=a,J=a;else if(a instanceof we){if(z=a._southWest,J=a._northEast,!z||!J)return this}else return a?this.extend(Ce(a)||Q(a)):this;return!p&&!S?(this._southWest=new K(z.lat,z.lng),this._northEast=new K(J.lat,J.lng)):(p.lat=Math.min(z.lat,p.lat),p.lng=Math.min(z.lng,p.lng),S.lat=Math.max(J.lat,S.lat),S.lng=Math.max(J.lng,S.lng)),this},pad:function(a){var p=this._southWest,S=this._northEast,z=Math.abs(p.lat-S.lat)*a,J=Math.abs(p.lng-S.lng)*a;return new we(new K(p.lat-z,p.lng-J),new K(S.lat+z,S.lng+J))},getCenter:function(){return new K((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new K(this.getNorth(),this.getWest())},getSouthEast:function(){return new K(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof K||"lat"in a?a=Ce(a):a=Q(a);var p=this._southWest,S=this._northEast,z,J;return a instanceof we?(z=a.getSouthWest(),J=a.getNorthEast()):z=J=a,z.lat>=p.lat&&J.lat<=S.lat&&z.lng>=p.lng&&J.lng<=S.lng},intersects:function(a){a=Q(a);var p=this._southWest,S=this._northEast,z=a.getSouthWest(),J=a.getNorthEast(),ge=J.lat>=p.lat&&z.lat<=S.lat,Ne=J.lng>=p.lng&&z.lng<=S.lng;return ge&&Ne},overlaps:function(a){a=Q(a);var p=this._southWest,S=this._northEast,z=a.getSouthWest(),J=a.getNorthEast(),ge=J.lat>p.lat&&z.lat<S.lat,Ne=J.lng>p.lng&&z.lng<S.lng;return ge&&Ne},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,p){return a?(a=Q(a),this._southWest.equals(a.getSouthWest(),p)&&this._northEast.equals(a.getNorthEast(),p)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Q(a,p){return a instanceof we?a:new we(a,p)}function K(a,p,S){if(isNaN(a)||isNaN(p))throw new Error("Invalid LatLng object: ("+a+", "+p+")");this.lat=+a,this.lng=+p,S!==void 0&&(this.alt=+S)}K.prototype={equals:function(a,p){if(!a)return!1;a=Ce(a);var S=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return S<=(p===void 0?1e-9:p)},toString:function(a){return"LatLng("+y(this.lat,a)+", "+y(this.lng,a)+")"},distanceTo:function(a){return ne.distance(this,Ce(a))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(a){var p=180*a/40075017,S=p/Math.cos(Math.PI/180*this.lat);return Q([this.lat-p,this.lng-S],[this.lat+p,this.lng+S])},clone:function(){return new K(this.lat,this.lng,this.alt)}};function Ce(a,p,S){return a instanceof K?a:M(a)&&typeof a[0]!="object"?a.length===3?new K(a[0],a[1],a[2]):a.length===2?new K(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new K(a.lat,"lng"in a?a.lng:a.lon,a.alt):p===void 0?null:new K(a,p,S)}var Me={latLngToPoint:function(a,p){var S=this.projection.project(a),z=this.scale(p);return this.transformation._transform(S,z)},pointToLatLng:function(a,p){var S=this.scale(p),z=this.transformation.untransform(a,S);return this.projection.unproject(z)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var p=this.projection.bounds,S=this.scale(a),z=this.transformation.transform(p.min,S),J=this.transformation.transform(p.max,S);return new ue(z,J)},infinite:!1,wrapLatLng:function(a){var p=this.wrapLng?d(a.lng,this.wrapLng,!0):a.lng,S=this.wrapLat?d(a.lat,this.wrapLat,!0):a.lat,z=a.alt;return new K(S,p,z)},wrapLatLngBounds:function(a){var p=a.getCenter(),S=this.wrapLatLng(p),z=p.lat-S.lat,J=p.lng-S.lng;if(z===0&&J===0)return a;var ge=a.getSouthWest(),Ne=a.getNorthEast(),qe=new K(ge.lat-z,ge.lng-J),Ve=new K(Ne.lat-z,Ne.lng-J);return new we(qe,Ve)}},ne=i({},Me,{wrapLng:[-180,180],R:6371e3,distance:function(a,p){var S=Math.PI/180,z=a.lat*S,J=p.lat*S,ge=Math.sin((p.lat-a.lat)*S/2),Ne=Math.sin((p.lng-a.lng)*S/2),qe=ge*ge+Math.cos(z)*Math.cos(J)*Ne*Ne,Ve=2*Math.atan2(Math.sqrt(qe),Math.sqrt(1-qe));return this.R*Ve}}),ie=6378137,oe={R:ie,MAX_LATITUDE:85.0511287798,project:function(a){var p=Math.PI/180,S=this.MAX_LATITUDE,z=Math.max(Math.min(S,a.lat),-S),J=Math.sin(z*p);return new V(this.R*a.lng*p,this.R*Math.log((1+J)/(1-J))/2)},unproject:function(a){var p=180/Math.PI;return new K((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*p,a.x*p/this.R)},bounds:(function(){var a=ie*Math.PI;return new ue([-a,-a],[a,a])})()};function ce(a,p,S,z){if(M(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=p,this._c=S,this._d=z}ce.prototype={transform:function(a,p){return this._transform(a.clone(),p)},_transform:function(a,p){return p=p||1,a.x=p*(this._a*a.x+this._b),a.y=p*(this._c*a.y+this._d),a},untransform:function(a,p){return p=p||1,new V((a.x/p-this._b)/this._a,(a.y/p-this._d)/this._c)}};function W(a,p,S,z){return new ce(a,p,S,z)}var ee=i({},ne,{code:"EPSG:3857",projection:oe,transformation:(function(){var a=.5/(Math.PI*oe.R);return W(a,.5,-a,.5)})()}),pe=i({},ee,{code:"EPSG:900913"});function ve(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function Ae(a,p){var S="",z,J,ge,Ne,qe,Ve;for(z=0,ge=a.length;z<ge;z++){for(qe=a[z],J=0,Ne=qe.length;J<Ne;J++)Ve=qe[J],S+=(J?"L":"M")+Ve.x+" "+Ve.y;S+=p?it.svg?"z":"x":""}return S||"M0 0"}var ke=document.documentElement.style,Fe="ActiveXObject"in window,ae=Fe&&!document.addEventListener,fe="msLaunchUri"in navigator&&!("documentMode"in document),me=dt("webkit"),O=dt("android"),H=dt("android 2")||dt("android 3"),U=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),le=O&&dt("Google")&&U<537&&!("AudioNode"in window),Se=!!window.opera,Le=!fe&&dt("chrome"),Pe=dt("gecko")&&!me&&!Se&&!Fe,$e=!Le&&dt("safari"),Ze=dt("phantom"),pt="OTransition"in ke,ct=navigator.platform.indexOf("Win")===0,$t=Fe&&"transition"in ke,Ot="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!H,mt="MozPerspective"in ke,De=!window.L_DISABLE_3D&&($t||Ot||mt)&&!pt&&!Ze,ze=typeof orientation<"u"||dt("mobile"),Qe=ze&&me,Et=ze&&Ot,wt=!window.PointerEvent&&window.MSPointerEvent,yt=!!(window.PointerEvent||wt),Ut="ontouchstart"in window||!!window.TouchEvent,qt=!window.L_NO_TOUCH&&(Ut||yt),ye=ze&&Se,Ee=ze&&Pe,Be=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ue=(function(){var a=!1;try{var p=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",g,p),window.removeEventListener("testPassiveEventSupport",g,p)}catch{}return a})(),et=(function(){return!!document.createElement("canvas").getContext})(),Je=!!(document.createElementNS&&ve("svg").createSVGRect),bt=!!Je&&(function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),lt=!Je&&(function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var p=a.firstChild;return p.style.behavior="url(#default#VML)",p&&typeof p.adj=="object"}catch{return!1}})(),xt=navigator.platform.indexOf("Mac")===0,ft=navigator.platform.indexOf("Linux")===0;function dt(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var it={ie:Fe,ielt9:ae,edge:fe,webkit:me,android:O,android23:H,androidStock:le,opera:Se,chrome:Le,gecko:Pe,safari:$e,phantom:Ze,opera12:pt,win:ct,ie3d:$t,webkit3d:Ot,gecko3d:mt,any3d:De,mobile:ze,mobileWebkit:Qe,mobileWebkit3d:Et,msPointer:wt,pointer:yt,touch:qt,touchNative:Ut,mobileOpera:ye,mobileGecko:Ee,retina:Be,passiveEvents:Ue,canvas:et,svg:Je,vml:lt,inlineSvg:bt,mac:xt,linux:ft},nn=it.msPointer?"MSPointerDown":"pointerdown",mn=it.msPointer?"MSPointerMove":"pointermove",qn=it.msPointer?"MSPointerUp":"pointerup",Dn=it.msPointer?"MSPointerCancel":"pointercancel",vr={touchstart:nn,touchmove:mn,touchend:qn,touchcancel:Dn},Wn={touchstart:Ke,touchmove:Ye,touchend:Ye,touchcancel:Ye},fn={},Nr=!1;function Ar(a,p,S){return p==="touchstart"&&Te(),Wn[p]?(S=Wn[p].bind(this,S),a.addEventListener(vr[p],S,!1),S):(console.warn("wrong event specified:",p),g)}function Rn(a,p,S){if(!vr[p]){console.warn("wrong event specified:",p);return}a.removeEventListener(vr[p],S,!1)}function En(a){fn[a.pointerId]=a}function Tr(a){fn[a.pointerId]&&(fn[a.pointerId]=a)}function Cn(a){delete fn[a.pointerId]}function Te(){Nr||(document.addEventListener(nn,En,!0),document.addEventListener(mn,Tr,!0),document.addEventListener(qn,Cn,!0),document.addEventListener(Dn,Cn,!0),Nr=!0)}function Ye(a,p){if(p.pointerType!==(p.MSPOINTER_TYPE_MOUSE||"mouse")){p.touches=[];for(var S in fn)p.touches.push(fn[S]);p.changedTouches=[p],a(p)}}function Ke(a,p){p.MSPOINTER_TYPE_TOUCH&&p.pointerType===p.MSPOINTER_TYPE_TOUCH&&tr(p),Ye(a,p)}function nt(a){var p={},S,z;for(z in a)S=a[z],p[z]=S&&S.bind?S.bind(a):S;return a=p,p.type="dblclick",p.detail=2,p.isTrusted=!1,p._simulated=!0,p}var ot=200;function jt(a,p){a.addEventListener("dblclick",p);var S=0,z;function J(ge){if(ge.detail!==1){z=ge.detail;return}if(!(ge.pointerType==="mouse"||ge.sourceCapabilities&&!ge.sourceCapabilities.firesTouchEvents)){var Ne=G(ge);if(!(Ne.some(function(Ve){return Ve instanceof HTMLLabelElement&&Ve.attributes.for})&&!Ne.some(function(Ve){return Ve instanceof HTMLInputElement||Ve instanceof HTMLSelectElement}))){var qe=Date.now();qe-S<=ot?(z++,z===2&&p(nt(ge))):z=1,S=qe}}}return a.addEventListener("click",J),{dblclick:p,simDblclick:J}}function _t(a,p){a.removeEventListener("dblclick",p.dblclick),a.removeEventListener("click",p.simDblclick)}var rn=Kr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),sn=Kr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wn=sn==="webkitTransition"||sn==="OTransition"?sn+"End":"transitionend";function zn(a){return typeof a=="string"?document.getElementById(a):a}function rt(a,p){var S=a.style[p]||a.currentStyle&&a.currentStyle[p];if((!S||S==="auto")&&document.defaultView){var z=document.defaultView.getComputedStyle(a,null);S=z?z[p]:null}return S==="auto"?null:S}function Mt(a,p,S){var z=document.createElement(a);return z.className=p||"",S&&S.appendChild(z),z}function cn(a){var p=a.parentNode;p&&p.removeChild(a)}function Ir(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function $n(a){var p=a.parentNode;p&&p.lastChild!==a&&p.appendChild(a)}function lr(a){var p=a.parentNode;p&&p.firstChild!==a&&p.insertBefore(a,p.firstChild)}function ur(a,p){if(a.classList!==void 0)return a.classList.contains(p);var S=cr(a);return S.length>0&&new RegExp("(^|\\s)"+p+"(\\s|$)").test(S)}function Wt(a,p){if(a.classList!==void 0)for(var S=w(p),z=0,J=S.length;z<J;z++)a.classList.add(S[z]);else if(!ur(a,p)){var ge=cr(a);yi(a,(ge?ge+" ":"")+p)}}function Tn(a,p){a.classList!==void 0?a.classList.remove(p):yi(a,k((" "+cr(a)+" ").replace(" "+p+" "," ")))}function yi(a,p){a.className.baseVal===void 0?a.className=p:a.className.baseVal=p}function cr(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function ir(a,p){"opacity"in a.style?a.style.opacity=p:"filter"in a.style&&Pi(a,p)}function Pi(a,p){var S=!1,z="DXImageTransform.Microsoft.Alpha";try{S=a.filters.item(z)}catch{if(p===1)return}p=Math.round(p*100),S?(S.Enabled=p!==100,S.Opacity=p):a.style.filter+=" progid:"+z+"(opacity="+p+")"}function Kr(a){for(var p=document.documentElement.style,S=0;S<a.length;S++)if(a[S]in p)return a[S];return!1}function on(a,p,S){var z=p||new V(0,0);a.style[rn]=(it.ie3d?"translate("+z.x+"px,"+z.y+"px)":"translate3d("+z.x+"px,"+z.y+"px,0)")+(S?" scale("+S+")":"")}function hn(a,p){a._leaflet_pos=p,it.any3d?on(a,p):(a.style.left=p.x+"px",a.style.top=p.y+"px")}function Fn(a){return a._leaflet_pos||new V(0,0)}var Mn,kr,Vn;if("onselectstart"in document)Mn=function(){Vt(window,"selectstart",tr)},kr=function(){Zt(window,"selectstart",tr)};else{var gs=Kr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mn=function(){if(gs){var a=document.documentElement.style;Vn=a[gs],a[gs]="none"}},kr=function(){gs&&(document.documentElement.style[gs]=Vn,Vn=void 0)}}function Zr(){Vt(window,"dragstart",tr)}function yo(){Zt(window,"dragstart",tr)}var Ws,bo;function wo(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Qn(),Ws=a,bo=a.style.outlineStyle,a.style.outlineStyle="none",Vt(window,"keydown",Qn))}function Qn(){Ws&&(Ws.style.outlineStyle=bo,Ws=void 0,bo=void 0,Zt(window,"keydown",Qn))}function pn(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function Bn(a){var p=a.getBoundingClientRect();return{x:p.width/a.offsetWidth||1,y:p.height/a.offsetHeight||1,boundingClientRect:p}}var er={__proto__:null,TRANSFORM:rn,TRANSITION:sn,TRANSITION_END:wn,get:zn,getStyle:rt,create:Mt,remove:cn,empty:Ir,toFront:$n,toBack:lr,hasClass:ur,addClass:Wt,removeClass:Tn,setClass:yi,getClass:cr,setOpacity:ir,testProp:Kr,setTransform:on,setPosition:hn,getPosition:Fn,get disableTextSelection(){return Mn},get enableTextSelection(){return kr},disableImageDrag:Zr,enableImageDrag:yo,preventOutline:wo,restoreOutline:Qn,getSizedParentNode:pn,getScale:Bn};function Vt(a,p,S,z){if(p&&typeof p=="object")for(var J in p)qr(a,J,p[J],S);else{p=w(p);for(var ge=0,Ne=p.length;ge<Ne;ge++)qr(a,p[ge],S,z)}return this}var hr="_leaflet_events";function Zt(a,p,S,z){if(arguments.length===1)Xr(a),delete a[hr];else if(p&&typeof p=="object")for(var J in p)Ni(a,J,p[J],S);else if(p=w(p),arguments.length===2)Xr(a,function(qe){return E(p,qe)!==-1});else for(var ge=0,Ne=p.length;ge<Ne;ge++)Ni(a,p[ge],S,z);return this}function Xr(a,p){for(var S in a[hr]){var z=S.split(/\d/)[0];(!p||p(z))&&Ni(a,z,null,null,S)}}var Ur={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function qr(a,p,S,z){var J=p+u(S)+(z?"_"+u(z):"");if(a[hr]&&a[hr][J])return this;var ge=function(qe){return S.call(z||a,qe||window.event)},Ne=ge;!it.touchNative&&it.pointer&&p.indexOf("touch")===0?ge=Ar(a,p,ge):it.touch&&p==="dblclick"?ge=jt(a,ge):"addEventListener"in a?p==="touchstart"||p==="touchmove"||p==="wheel"||p==="mousewheel"?a.addEventListener(Ur[p]||p,ge,it.passiveEvents?{passive:!1}:!1):p==="mouseenter"||p==="mouseleave"?(ge=function(qe){qe=qe||window.event,Xt(a,qe)&&Ne(qe)},a.addEventListener(Ur[p],ge,!1)):a.addEventListener(p,Ne,!1):a.attachEvent("on"+p,ge),a[hr]=a[hr]||{},a[hr][J]=ge}function Ni(a,p,S,z,J){J=J||p+u(S)+(z?"_"+u(z):"");var ge=a[hr]&&a[hr][J];if(!ge)return this;!it.touchNative&&it.pointer&&p.indexOf("touch")===0?Rn(a,p,ge):it.touch&&p==="dblclick"?_t(a,ge):"removeEventListener"in a?a.removeEventListener(Ur[p]||p,ge,!1):a.detachEvent("on"+p,ge),a[hr][J]=null}function yr(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function vs(a){return qr(a,"wheel",yr),this}function Ii(a){return Vt(a,"mousedown touchstart dblclick contextmenu",yr),a._leaflet_disable_click=!0,this}function tr(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Di(a){return tr(a),yr(a),this}function G(a){if(a.composedPath)return a.composedPath();for(var p=[],S=a.target;S;)p.push(S),S=S.parentNode;return p}function be(a,p){if(!p)return new V(a.clientX,a.clientY);var S=Bn(p),z=S.boundingClientRect;return new V((a.clientX-z.left)/S.x-p.clientLeft,(a.clientY-z.top)/S.y-p.clientTop)}var Re=it.linux&&it.chrome?window.devicePixelRatio:it.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xe(a){return it.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/Re:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Xt(a,p){var S=p.relatedTarget;if(!S)return!0;try{for(;S&&S!==a;)S=S.parentNode}catch{return!1}return S!==a}var Pt={__proto__:null,on:Vt,off:Zt,stopPropagation:yr,disableScrollPropagation:vs,disableClickPropagation:Ii,preventDefault:tr,stop:Di,getPropagationPath:G,getMousePosition:be,getWheelDelta:Xe,isExternalTarget:Xt,addListener:Vt,removeListener:Zt},gn=X.extend({run:function(a,p,S,z){this.stop(),this._el=a,this._inProgress=!0,this._duration=S||.25,this._easeOutPower=1/Math.max(z||.5,.2),this._startPos=Fn(a),this._offset=p.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=P(this._animate,this),this._step()},_step:function(a){var p=+new Date-this._startTime,S=this._duration*1e3;p<S?this._runFrame(this._easeOut(p/S),a):(this._runFrame(1),this._complete())},_runFrame:function(a,p){var S=this._startPos.add(this._offset.multiplyBy(a));p&&S._round(),hn(this._el,S),this.fire("step")},_complete:function(){j(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),At=X.extend({options:{crs:ee,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,p){p=_(this,p),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),p.maxBounds&&this.setMaxBounds(p.maxBounds),p.zoom!==void 0&&(this._zoom=this._limitZoom(p.zoom)),p.center&&p.zoom!==void 0&&this.setView(Ce(p.center),p.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=sn&&it.any3d&&!it.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Vt(this._proxy,wn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,p,S){if(p=p===void 0?this._zoom:this._limitZoom(p),a=this._limitCenter(Ce(a),p,this.options.maxBounds),S=S||{},this._stop(),this._loaded&&!S.reset&&S!==!0){S.animate!==void 0&&(S.zoom=i({animate:S.animate},S.zoom),S.pan=i({animate:S.animate,duration:S.duration},S.pan));var z=this._zoom!==p?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,p,S.zoom):this._tryAnimatedPan(a,S.pan);if(z)return clearTimeout(this._sizeTimer),this}return this._resetView(a,p,S.pan&&S.pan.noMoveStart),this},setZoom:function(a,p){return this._loaded?this.setView(this.getCenter(),a,{zoom:p}):(this._zoom=a,this)},zoomIn:function(a,p){return a=a||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,p)},zoomOut:function(a,p){return a=a||(it.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,p)},setZoomAround:function(a,p,S){var z=this.getZoomScale(p),J=this.getSize().divideBy(2),ge=a instanceof V?a:this.latLngToContainerPoint(a),Ne=ge.subtract(J).multiplyBy(1-1/z),qe=this.containerPointToLatLng(J.add(Ne));return this.setView(qe,p,{zoom:S})},_getBoundsCenterZoom:function(a,p){p=p||{},a=a.getBounds?a.getBounds():Q(a);var S=Y(p.paddingTopLeft||p.padding||[0,0]),z=Y(p.paddingBottomRight||p.padding||[0,0]),J=this.getBoundsZoom(a,!1,S.add(z));if(J=typeof p.maxZoom=="number"?Math.min(p.maxZoom,J):J,J===1/0)return{center:a.getCenter(),zoom:J};var ge=z.subtract(S).divideBy(2),Ne=this.project(a.getSouthWest(),J),qe=this.project(a.getNorthEast(),J),Ve=this.unproject(Ne.add(qe).divideBy(2).add(ge),J);return{center:Ve,zoom:J}},fitBounds:function(a,p){if(a=Q(a),!a.isValid())throw new Error("Bounds are not valid.");var S=this._getBoundsCenterZoom(a,p);return this.setView(S.center,S.zoom,p)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,p){return this.setView(a,this._zoom,{pan:p})},panBy:function(a,p){if(a=Y(a).round(),p=p||{},!a.x&&!a.y)return this.fire("moveend");if(p.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new gn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),p.noMoveStart||this.fire("movestart"),p.animate!==!1){Wt(this._mapPane,"leaflet-pan-anim");var S=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,S,p.duration||.25,p.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,p,S){if(S=S||{},S.animate===!1||!it.any3d)return this.setView(a,p,S);this._stop();var z=this.project(this.getCenter()),J=this.project(a),ge=this.getSize(),Ne=this._zoom;a=Ce(a),p=p===void 0?Ne:p;var qe=Math.max(ge.x,ge.y),Ve=qe*this.getZoomScale(Ne,p),st=J.distanceTo(z)||1,St=1.42,Gt=St*St;function an(An){var Es=An?-1:1,Oo=An?Ve:qe,Ec=Ve*Ve-qe*qe+Es*Gt*Gt*st*st,Sn=2*Oo*Gt*st,pr=Ec/Sn,Wa=Math.sqrt(pr*pr+1)-pr,Va=Wa<1e-9?-18:Math.log(Wa);return Va}function Fr(An){return(Math.exp(An)-Math.exp(-An))/2}function fr(An){return(Math.exp(An)+Math.exp(-An))/2}function ai(An){return Fr(An)/fr(An)}var Br=an(0);function eo(An){return qe*(fr(Br)/fr(Br+St*An))}function Sf(An){return qe*(fr(Br)*ai(Br+St*An)-Fr(Br))/Gt}function Yl(An){return 1-Math.pow(1-An,1.5)}var Qr=Date.now(),Ef=(an(1)-Br)/St,dr=S.duration?1e3*S.duration:1e3*Ef*.8;function Sc(){var An=(Date.now()-Qr)/dr,Es=Yl(An)*Ef;An<=1?(this._flyToFrame=P(Sc,this),this._move(this.unproject(z.add(J.subtract(z).multiplyBy(Sf(Es)/st)),Ne),this.getScaleZoom(qe/eo(Es),Ne),{flyTo:!0})):this._move(a,p)._moveEnd(!0)}return this._moveStart(!0,S.noMoveStart),Sc.call(this),this},flyToBounds:function(a,p){var S=this._getBoundsCenterZoom(a,p);return this.flyTo(S.center,S.zoom,p)},setMaxBounds:function(a){return a=Q(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var p=this.options.minZoom;return this.options.minZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var p=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&p!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,p){this._enforcingBounds=!0;var S=this.getCenter(),z=this._limitCenter(S,this._zoom,Q(a));return S.equals(z)||this.panTo(z,p),this._enforcingBounds=!1,this},panInside:function(a,p){p=p||{};var S=Y(p.paddingTopLeft||p.padding||[0,0]),z=Y(p.paddingBottomRight||p.padding||[0,0]),J=this.project(this.getCenter()),ge=this.project(a),Ne=this.getPixelBounds(),qe=xe([Ne.min.add(S),Ne.max.subtract(z)]),Ve=qe.getSize();if(!qe.contains(ge)){this._enforcingBounds=!0;var st=ge.subtract(qe.getCenter()),St=qe.extend(ge).getSize().subtract(Ve);J.x+=st.x<0?-St.x:St.x,J.y+=st.y<0?-St.y:St.y,this.panTo(this.unproject(J),p),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var p=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var S=this.getSize(),z=p.divideBy(2).round(),J=S.divideBy(2).round(),ge=z.subtract(J);return!ge.x&&!ge.y?this:(a.animate&&a.pan?this.panBy(ge):(a.pan&&this._rawPanBy(ge),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:p,newSize:S}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var p=l(this._handleGeolocationResponse,this),S=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(p,S,a):navigator.geolocation.getCurrentPosition(p,S,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var p=a.code,S=a.message||(p===1?"permission denied":p===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:p,message:"Geolocation error: "+S+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var p=a.coords.latitude,S=a.coords.longitude,z=new K(p,S),J=z.toBounds(a.coords.accuracy*2),ge=this._locateOptions;if(ge.setView){var Ne=this.getBoundsZoom(J);this.setView(z,ge.maxZoom?Math.min(Ne,ge.maxZoom):Ne)}var qe={latlng:z,bounds:J,timestamp:a.timestamp};for(var Ve in a.coords)typeof a.coords[Ve]=="number"&&(qe[Ve]=a.coords[Ve]);this.fire("locationfound",qe)}},addHandler:function(a,p){if(!p)return this;var S=this[a]=new p(this);return this._handlers.push(S),this.options[a]&&S.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),cn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(j(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)cn(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,p){var S="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),z=Mt("div",S,p||this._mapPane);return a&&(this._panes[a]=z),z},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),p=this.unproject(a.getBottomLeft()),S=this.unproject(a.getTopRight());return new we(p,S)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,p,S){a=Q(a),S=Y(S||[0,0]);var z=this.getZoom()||0,J=this.getMinZoom(),ge=this.getMaxZoom(),Ne=a.getNorthWest(),qe=a.getSouthEast(),Ve=this.getSize().subtract(S),st=xe(this.project(qe,z),this.project(Ne,z)).getSize(),St=it.any3d?this.options.zoomSnap:1,Gt=Ve.x/st.x,an=Ve.y/st.y,Fr=p?Math.max(Gt,an):Math.min(Gt,an);return z=this.getScaleZoom(Fr,z),St&&(z=Math.round(z/(St/100))*(St/100),z=p?Math.ceil(z/St)*St:Math.floor(z/St)*St),Math.max(J,Math.min(ge,z))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new V(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,p){var S=this._getTopLeftPoint(a,p);return new ue(S,S.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,p){var S=this.options.crs;return p=p===void 0?this._zoom:p,S.scale(a)/S.scale(p)},getScaleZoom:function(a,p){var S=this.options.crs;p=p===void 0?this._zoom:p;var z=S.zoom(a*S.scale(p));return isNaN(z)?1/0:z},project:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.latLngToPoint(Ce(a),p)},unproject:function(a,p){return p=p===void 0?this._zoom:p,this.options.crs.pointToLatLng(Y(a),p)},layerPointToLatLng:function(a){var p=Y(a).add(this.getPixelOrigin());return this.unproject(p)},latLngToLayerPoint:function(a){var p=this.project(Ce(a))._round();return p._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(Ce(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Q(a))},distance:function(a,p){return this.options.crs.distance(Ce(a),Ce(p))},containerPointToLayerPoint:function(a){return Y(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return Y(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var p=this.containerPointToLayerPoint(Y(a));return this.layerPointToLatLng(p)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Ce(a)))},mouseEventToContainerPoint:function(a){return be(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var p=this._container=zn(a);if(p){if(p._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Vt(p,"scroll",this._onScroll,this),this._containerId=u(p)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&it.any3d,Wt(a,"leaflet-container"+(it.touch?" leaflet-touch":"")+(it.retina?" leaflet-retina":"")+(it.ielt9?" leaflet-oldie":"")+(it.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var p=rt(a,"position");p!=="absolute"&&p!=="relative"&&p!=="fixed"&&p!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),hn(this._mapPane,new V(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Wt(a.markerPane,"leaflet-zoom-hide"),Wt(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,p,S){hn(this._mapPane,new V(0,0));var z=!this._loaded;this._loaded=!0,p=this._limitZoom(p),this.fire("viewprereset");var J=this._zoom!==p;this._moveStart(J,S)._move(a,p)._moveEnd(J),this.fire("viewreset"),z&&this.fire("load")},_moveStart:function(a,p){return a&&this.fire("zoomstart"),p||this.fire("movestart"),this},_move:function(a,p,S,z){p===void 0&&(p=this._zoom);var J=this._zoom!==p;return this._zoom=p,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),z?S&&S.pinch&&this.fire("zoom",S):((J||S&&S.pinch)&&this.fire("zoom",S),this.fire("move",S)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return j(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){hn(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var p=a?Zt:Vt;p(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&p(window,"resize",this._onResize,this),it.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){j(this._resizeRequest),this._resizeRequest=P(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,p){for(var S=[],z,J=p==="mouseout"||p==="mouseover",ge=a.target||a.srcElement,Ne=!1;ge;){if(z=this._targets[u(ge)],z&&(p==="click"||p==="preclick")&&this._draggableMoved(z)){Ne=!0;break}if(z&&z.listens(p,!0)&&(J&&!Xt(ge,a)||(S.push(z),J))||ge===this._container)break;ge=ge.parentNode}return!S.length&&!Ne&&!J&&this.listens(p,!0)&&(S=[this]),S},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var p=a.target||a.srcElement;if(!(!this._loaded||p._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(p))){var S=a.type;S==="mousedown"&&wo(p),this._fireDOMEvent(a,S)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,p,S){if(a.type==="click"){var z=i({},a);z.type="preclick",this._fireDOMEvent(z,z.type,S)}var J=this._findEventTargets(a,p);if(S){for(var ge=[],Ne=0;Ne<S.length;Ne++)S[Ne].listens(p,!0)&&ge.push(S[Ne]);J=ge.concat(J)}if(J.length){p==="contextmenu"&&tr(a);var qe=J[0],Ve={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var st=qe.getLatLng&&(!qe._radius||qe._radius<=10);Ve.containerPoint=st?this.latLngToContainerPoint(qe.getLatLng()):this.mouseEventToContainerPoint(a),Ve.layerPoint=this.containerPointToLayerPoint(Ve.containerPoint),Ve.latlng=st?qe.getLatLng():this.layerPointToLatLng(Ve.layerPoint)}for(Ne=0;Ne<J.length;Ne++)if(J[Ne].fire(p,Ve,!0),Ve.originalEvent._stopped||J[Ne].options.bubblingMouseEvents===!1&&E(this._mouseEvents,p)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,p=this._handlers.length;a<p;a++)this._handlers[a].disable()},whenReady:function(a,p){return this._loaded?a.call(p||this,{target:this}):this.on("load",a,p),this},_getMapPanePos:function(){return Fn(this._mapPane)||new V(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,p){var S=a&&p!==void 0?this._getNewPixelOrigin(a,p):this.getPixelOrigin();return S.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,p){var S=this.getSize()._divideBy(2);return this.project(a,p)._subtract(S)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,p,S){var z=this._getNewPixelOrigin(S,p);return this.project(a,p)._subtract(z)},_latLngBoundsToNewLayerBounds:function(a,p,S){var z=this._getNewPixelOrigin(S,p);return xe([this.project(a.getSouthWest(),p)._subtract(z),this.project(a.getNorthWest(),p)._subtract(z),this.project(a.getSouthEast(),p)._subtract(z),this.project(a.getNorthEast(),p)._subtract(z)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,p,S){if(!S)return a;var z=this.project(a,p),J=this.getSize().divideBy(2),ge=new ue(z.subtract(J),z.add(J)),Ne=this._getBoundsOffset(ge,S,p);return Math.abs(Ne.x)<=1&&Math.abs(Ne.y)<=1?a:this.unproject(z.add(Ne),p)},_limitOffset:function(a,p){if(!p)return a;var S=this.getPixelBounds(),z=new ue(S.min.add(a),S.max.add(a));return a.add(this._getBoundsOffset(z,p))},_getBoundsOffset:function(a,p,S){var z=xe(this.project(p.getNorthEast(),S),this.project(p.getSouthWest(),S)),J=z.min.subtract(a.min),ge=z.max.subtract(a.max),Ne=this._rebound(J.x,-ge.x),qe=this._rebound(J.y,-ge.y);return new V(Ne,qe)},_rebound:function(a,p){return a+p>0?Math.round(a-p)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(p))},_limitZoom:function(a){var p=this.getMinZoom(),S=this.getMaxZoom(),z=it.any3d?this.options.zoomSnap:1;return z&&(a=Math.round(a/z)*z),Math.max(p,Math.min(S,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,p){var S=this._getCenterOffset(a)._trunc();return(p&&p.animate)!==!0&&!this.getSize().contains(S)?!1:(this.panBy(S,p),!0)},_createAnimProxy:function(){var a=this._proxy=Mt("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(p){var S=rn,z=this._proxy.style[S];on(this._proxy,this.project(p.center,p.zoom),this.getZoomScale(p.zoom,1)),z===this._proxy.style[S]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){cn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),p=this.getZoom();on(this._proxy,this.project(a,p),this.getZoomScale(p,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,p,S){if(this._animatingZoom)return!0;if(S=S||{},!this._zoomAnimated||S.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold)return!1;var z=this.getZoomScale(p),J=this._getCenterOffset(a)._divideBy(1-1/z);return S.animate!==!0&&!this.getSize().contains(J)?!1:(P(function(){this._moveStart(!0,S.noMoveStart||!1)._animateZoom(a,p,!0)},this),!0)},_animateZoom:function(a,p,S,z){this._mapPane&&(S&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=p,Wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:p,noUpdate:z}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Gn(a,p){return new At(a,p)}var ln=Z.extend({options:{position:"topright"},initialize:function(a){_(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var p=this._map;return p&&p.removeControl(this),this.options.position=a,p&&p.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var p=this._container=this.onAdd(a),S=this.getPosition(),z=a._controlCorners[S];return Wt(p,"leaflet-control"),S.indexOf("bottom")!==-1?z.insertBefore(p,z.firstChild):z.appendChild(p),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(cn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Yn=function(a){return new ln(a)};At.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},p="leaflet-",S=this._controlContainer=Mt("div",p+"control-container",this._container);function z(J,ge){var Ne=p+J+" "+p+ge;a[J+ge]=Mt("div",Ne,S)}z("top","left"),z("top","right"),z("bottom","left"),z("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)cn(this._controlCorners[a]);cn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var br=ln.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,p,S,z){return S<z?-1:z<S?1:0}},initialize:function(a,p,S){_(this,S),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var z in a)this._addLayer(a[z],z);for(z in p)this._addLayer(p[z],z,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var p=0;p<this._layers.length;p++)this._layers[p].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return ln.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,p){return this._addLayer(a,p),this._map?this._update():this},addOverlay:function(a,p){return this._addLayer(a,p,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var p=this._getLayer(u(a));return p&&this._layers.splice(this._layers.indexOf(p),1),this._map?this._update():this},expand:function(){Wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(Wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Tn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",p=this._container=Mt("div",a),S=this.options.collapsed;p.setAttribute("aria-haspopup",!0),Ii(p),vs(p);var z=this._section=Mt("section",a+"-list");S&&(this._map.on("click",this.collapse,this),Vt(p,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var J=this._layersLink=Mt("a",a+"-toggle",p);J.href="#",J.title="Layers",J.setAttribute("role","button"),Vt(J,{keydown:function(ge){ge.keyCode===13&&this._expandSafely()},click:function(ge){tr(ge),this._expandSafely()}},this),S||this.expand(),this._baseLayersList=Mt("div",a+"-base",z),this._separator=Mt("div",a+"-separator",z),this._overlaysList=Mt("div",a+"-overlays",z),p.appendChild(z)},_getLayer:function(a){for(var p=0;p<this._layers.length;p++)if(this._layers[p]&&u(this._layers[p].layer)===a)return this._layers[p]},_addLayer:function(a,p,S){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:p,overlay:S}),this.options.sortLayers&&this._layers.sort(l(function(z,J){return this.options.sortFunction(z.layer,J.layer,z.name,J.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ir(this._baseLayersList),Ir(this._overlaysList),this._layerControlInputs=[];var a,p,S,z,J=0;for(S=0;S<this._layers.length;S++)z=this._layers[S],this._addItem(z),p=p||z.overlay,a=a||!z.overlay,J+=z.overlay?0:1;return this.options.hideSingleBase&&(a=a&&J>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=p&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var p=this._getLayer(u(a.target)),S=p.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;S&&this._map.fire(S,p)},_createRadioElement:function(a,p){var S='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(p?' checked="checked"':"")+"/>",z=document.createElement("div");return z.innerHTML=S,z.firstChild},_addItem:function(a){var p=document.createElement("label"),S=this._map.hasLayer(a.layer),z;a.overlay?(z=document.createElement("input"),z.type="checkbox",z.className="leaflet-control-layers-selector",z.defaultChecked=S):z=this._createRadioElement("leaflet-base-layers_"+u(this),S),this._layerControlInputs.push(z),z.layerId=u(a.layer),Vt(z,"click",this._onInputClick,this);var J=document.createElement("span");J.innerHTML=" "+a.name;var ge=document.createElement("span");p.appendChild(ge),ge.appendChild(z),ge.appendChild(J);var Ne=a.overlay?this._overlaysList:this._baseLayersList;return Ne.appendChild(p),this._checkDisabledLayers(),p},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,p,S,z=[],J=[];this._handlingClick=!0;for(var ge=a.length-1;ge>=0;ge--)p=a[ge],S=this._getLayer(p.layerId).layer,p.checked?z.push(S):p.checked||J.push(S);for(ge=0;ge<J.length;ge++)this._map.hasLayer(J[ge])&&this._map.removeLayer(J[ge]);for(ge=0;ge<z.length;ge++)this._map.hasLayer(z[ge])||this._map.addLayer(z[ge]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,p,S,z=this._map.getZoom(),J=a.length-1;J>=0;J--)p=a[J],S=this._getLayer(p.layerId).layer,p.disabled=S.options.minZoom!==void 0&&z<S.options.minZoom||S.options.maxZoom!==void 0&&z>S.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Vt(a,"click",tr),this.expand();var p=this;setTimeout(function(){Zt(a,"click",tr),p._preventClick=!1})}}),Pn=function(a,p,S){return new br(a,p,S)},Nn=ln.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var p="leaflet-control-zoom",S=Mt("div",p+" leaflet-bar"),z=this.options;return this._zoomInButton=this._createButton(z.zoomInText,z.zoomInTitle,p+"-in",S,this._zoomIn),this._zoomOutButton=this._createButton(z.zoomOutText,z.zoomOutTitle,p+"-out",S,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),S},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,p,S,z,J){var ge=Mt("a",S,z);return ge.innerHTML=a,ge.href="#",ge.title=p,ge.setAttribute("role","button"),ge.setAttribute("aria-label",p),Ii(ge),Vt(ge,"click",Di),Vt(ge,"click",J,this),Vt(ge,"click",this._refocusOnMap,this),ge},_updateDisabled:function(){var a=this._map,p="leaflet-disabled";Tn(this._zoomInButton,p),Tn(this._zoomOutButton,p),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(Wt(this._zoomOutButton,p),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(Wt(this._zoomInButton,p),this._zoomInButton.setAttribute("aria-disabled","true"))}});At.mergeOptions({zoomControl:!0}),At.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Nn,this.addControl(this.zoomControl))});var sr=function(a){return new Nn(a)},Jr=ln.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var p="leaflet-control-scale",S=Mt("div",p),z=this.options;return this._addScales(z,p+"-line",S),a.on(z.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),S},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,p,S){a.metric&&(this._mScale=Mt("div",p,S)),a.imperial&&(this._iScale=Mt("div",p,S))},_update:function(){var a=this._map,p=a.getSize().y/2,S=a.distance(a.containerPointToLatLng([0,p]),a.containerPointToLatLng([this.options.maxWidth,p]));this._updateScales(S)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var p=this._getRoundNum(a),S=p<1e3?p+" m":p/1e3+" km";this._updateScale(this._mScale,S,p/a)},_updateImperial:function(a){var p=a*3.2808399,S,z,J;p>5280?(S=p/5280,z=this._getRoundNum(S),this._updateScale(this._iScale,z+" mi",z/S)):(J=this._getRoundNum(p),this._updateScale(this._iScale,J+" ft",J/p))},_updateScale:function(a,p,S){a.style.width=Math.round(this.options.maxWidth*S)+"px",a.innerHTML=p},_getRoundNum:function(a){var p=Math.pow(10,(Math.floor(a)+"").length-1),S=a/p;return S=S>=10?10:S>=5?5:S>=3?3:S>=2?2:1,p*S}}),Ri=function(a){return new Jr(a)},bi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_o=ln.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(it.inlineSvg?bi+" ":"")+"Leaflet</a>"},initialize:function(a){_(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=Mt("div","leaflet-control-attribution"),Ii(this._container);for(var p in a._layers)a._layers[p].getAttribution&&this.addAttribution(a._layers[p].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var p in this._attributions)this._attributions[p]&&a.push(p);var S=[];this.options.prefix&&S.push(this.options.prefix),a.length&&S.push(a.join(", ")),this._container.innerHTML=S.join(' <span aria-hidden="true">|</span> ')}}});At.mergeOptions({attributionControl:!0}),At.addInitHook(function(){this.options.attributionControl&&new _o().addTo(this)});var Go=function(a){return new _o(a)};ln.Layers=br,ln.Zoom=Nn,ln.Scale=Jr,ln.Attribution=_o,Yn.layers=Pn,Yn.zoom=sr,Yn.scale=Ri,Yn.attribution=Go;var Dr=Z.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Dr.addTo=function(a,p){return a.addHandler(p,this),this};var Up={Events:te},cc=it.touch?"touchstart mousedown":"mousedown",ys=X.extend({options:{clickTolerance:3},initialize:function(a,p,S,z){_(this,z),this._element=a,this._dragStartTarget=p||a,this._preventOutline=S},enable:function(){this._enabled||(Vt(this._dragStartTarget,cc,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ys._dragging===this&&this.finishDrag(!0),Zt(this._dragStartTarget,cc,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!ur(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){ys._dragging===this&&this.finishDrag();return}if(!(ys._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(ys._dragging=this,this._preventOutline&&wo(this._element),Zr(),Mn(),!this._moving)){this.fire("down");var p=a.touches?a.touches[0]:a,S=pn(this._element);this._startPoint=new V(p.clientX,p.clientY),this._startPos=Fn(this._element),this._parentScale=Bn(S);var z=a.type==="mousedown";Vt(document,z?"mousemove":"touchmove",this._onMove,this),Vt(document,z?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var p=a.touches&&a.touches.length===1?a.touches[0]:a,S=new V(p.clientX,p.clientY)._subtract(this._startPoint);!S.x&&!S.y||Math.abs(S.x)+Math.abs(S.y)<this.options.clickTolerance||(S.x/=this._parentScale.x,S.y/=this._parentScale.y,tr(a),this._moved||(this.fire("dragstart"),this._moved=!0,Wt(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(S),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),hn(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Tn(document.body,"leaflet-dragging"),this._lastTarget&&(Tn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Zt(document,"mousemove touchmove",this._onMove,this),Zt(document,"mouseup touchend touchcancel",this._onUp,this),yo(),kr();var p=this._moved&&this._moving;this._moving=!1,ys._dragging=!1,p&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function of(a,p,S){var z,J=[1,4,2,8],ge,Ne,qe,Ve,st,St,Gt,an;for(ge=0,St=a.length;ge<St;ge++)a[ge]._code=Vs(a[ge],p);for(qe=0;qe<4;qe++){for(Gt=J[qe],z=[],ge=0,St=a.length,Ne=St-1;ge<St;Ne=ge++)Ve=a[ge],st=a[Ne],Ve._code&Gt?st._code&Gt||(an=Eo(st,Ve,Gt,p,S),an._code=Vs(an,p),z.push(an)):(st._code&Gt&&(an=Eo(st,Ve,Gt,p,S),an._code=Vs(an,p),z.push(an)),z.push(Ve));a=z}return a}function Rl(a,p){var S,z,J,ge,Ne,qe,Ve,st,St;if(!a||a.length===0)throw new Error("latlngs not passed");Cr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Gt=Ce([0,0]),an=Q(a),Fr=an.getNorthWest().distanceTo(an.getSouthWest())*an.getNorthEast().distanceTo(an.getNorthWest());Fr<1700&&(Gt=xo(a));var fr=a.length,ai=[];for(S=0;S<fr;S++){var Br=Ce(a[S]);ai.push(p.project(Ce([Br.lat-Gt.lat,Br.lng-Gt.lng])))}for(qe=Ve=st=0,S=0,z=fr-1;S<fr;z=S++)J=ai[S],ge=ai[z],Ne=J.y*ge.x-ge.y*J.x,Ve+=(J.x+ge.x)*Ne,st+=(J.y+ge.y)*Ne,qe+=Ne*3;qe===0?St=ai[0]:St=[Ve/qe,st/qe];var eo=p.unproject(Y(St));return Ce([eo.lat+Gt.lat,eo.lng+Gt.lng])}function xo(a){for(var p=0,S=0,z=0,J=0;J<a.length;J++){var ge=Ce(a[J]);p+=ge.lat,S+=ge.lng,z++}return Ce([p/z,S/z])}var af={__proto__:null,clipPolygon:of,polygonCenter:Rl,centroid:xo};function lf(a,p){if(!p||!a.length)return a.slice();var S=p*p;return a=cf(a,S),a=uf(a,S),a}function hc(a,p,S){return Math.sqrt(Ra(a,p,S,!0))}function fc(a,p,S){return Ra(a,p,S)}function uf(a,p){var S=a.length,z=typeof Uint8Array<"u"?Uint8Array:Array,J=new z(S);J[0]=J[S-1]=1,dc(a,J,p,0,S-1);var ge,Ne=[];for(ge=0;ge<S;ge++)J[ge]&&Ne.push(a[ge]);return Ne}function dc(a,p,S,z,J){var ge=0,Ne,qe,Ve;for(qe=z+1;qe<=J-1;qe++)Ve=Ra(a[qe],a[z],a[J],!0),Ve>ge&&(Ne=qe,ge=Ve);ge>S&&(p[Ne]=1,dc(a,p,S,z,Ne),dc(a,p,S,Ne,J))}function cf(a,p){for(var S=[a[0]],z=1,J=0,ge=a.length;z<ge;z++)Da(a[z],a[J])>p&&(S.push(a[z]),J=z);return J<ge-1&&S.push(a[ge-1]),S}var So;function pc(a,p,S,z,J){var ge=z?So:Vs(a,S),Ne=Vs(p,S),qe,Ve,st;for(So=Ne;;){if(!(ge|Ne))return[a,p];if(ge&Ne)return!1;qe=ge||Ne,Ve=Eo(a,p,qe,S,J),st=Vs(Ve,S),qe===ge?(a=Ve,ge=st):(p=Ve,Ne=st)}}function Eo(a,p,S,z,J){var ge=p.x-a.x,Ne=p.y-a.y,qe=z.min,Ve=z.max,st,St;return S&8?(st=a.x+ge*(Ve.y-a.y)/Ne,St=Ve.y):S&4?(st=a.x+ge*(qe.y-a.y)/Ne,St=qe.y):S&2?(st=Ve.x,St=a.y+Ne*(Ve.x-a.x)/ge):S&1&&(st=qe.x,St=a.y+Ne*(qe.x-a.x)/ge),new V(st,St,J)}function Vs(a,p){var S=0;return a.x<p.min.x?S|=1:a.x>p.max.x&&(S|=2),a.y<p.min.y?S|=4:a.y>p.max.y&&(S|=8),S}function Da(a,p){var S=p.x-a.x,z=p.y-a.y;return S*S+z*z}function Ra(a,p,S,z){var J=p.x,ge=p.y,Ne=S.x-J,qe=S.y-ge,Ve=Ne*Ne+qe*qe,st;return Ve>0&&(st=((a.x-J)*Ne+(a.y-ge)*qe)/Ve,st>1?(J=S.x,ge=S.y):st>0&&(J+=Ne*st,ge+=qe*st)),Ne=a.x-J,qe=a.y-ge,z?Ne*Ne+qe*qe:new V(J,ge)}function Cr(a){return!M(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function hf(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Cr(a)}function ff(a,p){var S,z,J,ge,Ne,qe,Ve,st;if(!a||a.length===0)throw new Error("latlngs not passed");Cr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var St=Ce([0,0]),Gt=Q(a),an=Gt.getNorthWest().distanceTo(Gt.getSouthWest())*Gt.getNorthEast().distanceTo(Gt.getNorthWest());an<1700&&(St=xo(a));var Fr=a.length,fr=[];for(S=0;S<Fr;S++){var ai=Ce(a[S]);fr.push(p.project(Ce([ai.lat-St.lat,ai.lng-St.lng])))}for(S=0,z=0;S<Fr-1;S++)z+=fr[S].distanceTo(fr[S+1])/2;if(z===0)st=fr[0];else for(S=0,ge=0;S<Fr-1;S++)if(Ne=fr[S],qe=fr[S+1],J=Ne.distanceTo(qe),ge+=J,ge>z){Ve=(ge-z)/J,st=[qe.x-Ve*(qe.x-Ne.x),qe.y-Ve*(qe.y-Ne.y)];break}var Br=p.unproject(Y(st));return Ce([Br.lat+St.lat,Br.lng+St.lng])}var qp={__proto__:null,simplify:lf,pointToSegmentDistance:hc,closestPointOnSegment:fc,clipSegment:pc,_getEdgeIntersection:Eo,_getBitCode:Vs,_sqClosestPointOnSegment:Ra,isFlat:Cr,_flat:hf,polylineCenter:ff},Yo={project:function(a){return new V(a.lng,a.lat)},unproject:function(a){return new K(a.y,a.x)},bounds:new ue([-180,-90],[180,90])},Fa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ue([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var p=Math.PI/180,S=this.R,z=a.lat*p,J=this.R_MINOR/S,ge=Math.sqrt(1-J*J),Ne=ge*Math.sin(z),qe=Math.tan(Math.PI/4-z/2)/Math.pow((1-Ne)/(1+Ne),ge/2);return z=-S*Math.log(Math.max(qe,1e-10)),new V(a.lng*p*S,z)},unproject:function(a){for(var p=180/Math.PI,S=this.R,z=this.R_MINOR/S,J=Math.sqrt(1-z*z),ge=Math.exp(-a.y/S),Ne=Math.PI/2-2*Math.atan(ge),qe=0,Ve=.1,st;qe<15&&Math.abs(Ve)>1e-7;qe++)st=J*Math.sin(Ne),st=Math.pow((1-st)/(1+st),J/2),Ve=Math.PI/2-2*Math.atan(ge*st)-Ne,Ne+=Ve;return new K(Ne*p,a.x*p/S)}},Ko={__proto__:null,LonLat:Yo,Mercator:Fa,SphericalMercator:oe},Fl=i({},ne,{code:"EPSG:3395",projection:Fa,transformation:(function(){var a=.5/(Math.PI*Fa.R);return W(a,.5,-a,.5)})()}),Zo=i({},ne,{code:"EPSG:4326",projection:Yo,transformation:W(1/180,1,-1/180,.5)}),Bl=i({},Me,{projection:Yo,transformation:W(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,p){var S=p.lng-a.lng,z=p.lat-a.lat;return Math.sqrt(S*S+z*z)},infinite:!0});Me.Earth=ne,Me.EPSG3395=Fl,Me.EPSG3857=ee,Me.EPSG900913=pe,Me.EPSG4326=Zo,Me.Simple=Bl;var Rr=X.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var p=a.target;if(p.hasLayer(this)){if(this._map=p,this._zoomAnimated=p._zoomAnimated,this.getEvents){var S=this.getEvents();p.on(S,this),this.once("remove",function(){p.off(S,this)},this)}this.onAdd(p),this.fire("add"),p.fire("layeradd",{layer:this})}}});At.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var p=u(a);return this._layers[p]?this:(this._layers[p]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var p=u(a);return this._layers[p]?(this._loaded&&a.onRemove(this),delete this._layers[p],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,p){for(var S in this._layers)a.call(p,this._layers[S]);return this},_addLayers:function(a){a=a?M(a)?a:[a]:[];for(var p=0,S=a.length;p<S;p++)this.addLayer(a[p])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var p=u(a);this._zoomBoundLayers[p]&&(delete this._zoomBoundLayers[p],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,p=-1/0,S=this._getZoomSpan();for(var z in this._zoomBoundLayers){var J=this._zoomBoundLayers[z].options;a=J.minZoom===void 0?a:Math.min(a,J.minZoom),p=J.maxZoom===void 0?p:Math.max(p,J.maxZoom)}this._layersMaxZoom=p===-1/0?void 0:p,this._layersMinZoom=a===1/0?void 0:a,S!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gs=Rr.extend({initialize:function(a,p){_(this,p),this._layers={};var S,z;if(a)for(S=0,z=a.length;S<z;S++)this.addLayer(a[S])},addLayer:function(a){var p=this.getLayerId(a);return this._layers[p]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var p=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[p]&&this._map.removeLayer(this._layers[p]),delete this._layers[p],this},hasLayer:function(a){var p=typeof a=="number"?a:this.getLayerId(a);return p in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var p=Array.prototype.slice.call(arguments,1),S,z;for(S in this._layers)z=this._layers[S],z[a]&&z[a].apply(z,p);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,p){for(var S in this._layers)a.call(p,this._layers[S]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),df=function(a,p){return new Gs(a,p)},Bt=Gs.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Gs.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Gs.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new we;for(var p in this._layers){var S=this._layers[p];a.extend(S.getBounds?S.getBounds():S.getLatLng())}return a}}),Wp=function(a,p){return new Bt(a,p)},bs=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){_(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,p){var S=this._getIconUrl(a);if(!S){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var z=this._createImg(S,p&&p.tagName==="IMG"?p:null);return this._setIconStyles(z,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(z.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),z},_setIconStyles:function(a,p){var S=this.options,z=S[p+"Size"];typeof z=="number"&&(z=[z,z]);var J=Y(z),ge=Y(p==="shadow"&&S.shadowAnchor||S.iconAnchor||J&&J.divideBy(2,!0));a.className="leaflet-marker-"+p+" "+(S.className||""),ge&&(a.style.marginLeft=-ge.x+"px",a.style.marginTop=-ge.y+"px"),J&&(a.style.width=J.x+"px",a.style.height=J.y+"px")},_createImg:function(a,p){return p=p||document.createElement("img"),p.src=a,p},_getIconUrl:function(a){return it.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function Xo(a){return new bs(a)}var Ba=bs.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Ba.imagePath!="string"&&(Ba.imagePath=this._detectIconPath()),(this.options.imagePath||Ba.imagePath)+bs.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var p=function(S,z,J){var ge=z.exec(S);return ge&&ge[J]};return a=p(a,/^url\((['"])?(.+)\1\)$/,2),a&&p(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=Mt("div","leaflet-default-icon-path",document.body),p=rt(a,"background-image")||rt(a,"backgroundImage");if(document.body.removeChild(a),p=this._stripUrl(p),p)return p;var S=document.querySelector('link[href$="leaflet.css"]');return S?S.href.substring(0,S.href.length-11-1):""}}),mc=Dr.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new ys(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Wt(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var p=this._marker,S=p._map,z=this._marker.options.autoPanSpeed,J=this._marker.options.autoPanPadding,ge=Fn(p._icon),Ne=S.getPixelBounds(),qe=S.getPixelOrigin(),Ve=xe(Ne.min._subtract(qe).add(J),Ne.max._subtract(qe).subtract(J));if(!Ve.contains(ge)){var st=Y((Math.max(Ve.max.x,ge.x)-Ve.max.x)/(Ne.max.x-Ve.max.x)-(Math.min(Ve.min.x,ge.x)-Ve.min.x)/(Ne.min.x-Ve.min.x),(Math.max(Ve.max.y,ge.y)-Ve.max.y)/(Ne.max.y-Ve.max.y)-(Math.min(Ve.min.y,ge.y)-Ve.min.y)/(Ne.min.y-Ve.min.y)).multiplyBy(z);S.panBy(st,{animate:!1}),this._draggable._newPos._add(st),this._draggable._startPos._add(st),hn(p._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=P(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(j(this._panRequest),this._panRequest=P(this._adjustPan.bind(this,a)))},_onDrag:function(a){var p=this._marker,S=p._shadow,z=Fn(p._icon),J=p._map.layerPointToLatLng(z);S&&hn(S,z),p._latlng=J,a.latlng=J,a.oldLatLng=this._oldLatLng,p.fire("move",a).fire("drag",a)},_onDragEnd:function(a){j(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),jl=Rr.extend({options:{icon:new Ba,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,p){_(this,p),this._latlng=Ce(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var p=this._latlng;return this._latlng=Ce(a),this.update(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,p="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),S=a.icon.createIcon(this._icon),z=!1;S!==this._icon&&(this._icon&&this._removeIcon(),z=!0,a.title&&(S.title=a.title),S.tagName==="IMG"&&(S.alt=a.alt||"")),Wt(S,p),a.keyboard&&(S.tabIndex="0",S.setAttribute("role","button")),this._icon=S,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Vt(S,"focus",this._panOnFocus,this);var J=a.icon.createShadow(this._shadow),ge=!1;J!==this._shadow&&(this._removeShadow(),ge=!0),J&&(Wt(J,p),J.alt=""),this._shadow=J,a.opacity<1&&this._updateOpacity(),z&&this.getPane().appendChild(this._icon),this._initInteraction(),J&&ge&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Zt(this._icon,"focus",this._panOnFocus,this),cn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&cn(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&hn(this._icon,a),this._shadow&&hn(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(p)},_initInteraction:function(){if(this.options.interactive&&(Wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),mc)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new mc(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&ir(this._icon,a),this._shadow&&ir(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var p=this.options.icon.options,S=p.iconSize?Y(p.iconSize):Y(0,0),z=p.iconAnchor?Y(p.iconAnchor):Y(0,0);a.panInside(this._latlng,{paddingTopLeft:z,paddingBottomRight:S.subtract(z)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Vp(a,p){return new jl(a,p)}var Fi=Rr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return _(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ys=Fi.extend({options:{fill:!0,radius:10},initialize:function(a,p){_(this,p),this._latlng=Ce(a),this._radius=this.options.radius},setLatLng:function(a){var p=this._latlng;return this._latlng=Ce(a),this.redraw(),this.fire("move",{oldLatLng:p,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var p=a&&a.radius||this._radius;return Fi.prototype.setStyle.call(this,a),this.setRadius(p),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,p=this._radiusY||a,S=this._clickTolerance(),z=[a+S,p+S];this._pxBounds=new ue(this._point.subtract(z),this._point.add(z))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Gp(a,p){return new Ys(a,p)}var gc=Ys.extend({initialize:function(a,p,S){if(typeof p=="number"&&(p=i({},S,{radius:p})),_(this,p),this._latlng=Ce(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new we(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Fi.prototype.setStyle,_project:function(){var a=this._latlng.lng,p=this._latlng.lat,S=this._map,z=S.options.crs;if(z.distance===ne.distance){var J=Math.PI/180,ge=this._mRadius/ne.R/J,Ne=S.project([p+ge,a]),qe=S.project([p-ge,a]),Ve=Ne.add(qe).divideBy(2),st=S.unproject(Ve).lat,St=Math.acos((Math.cos(ge*J)-Math.sin(p*J)*Math.sin(st*J))/(Math.cos(p*J)*Math.cos(st*J)))/J;(isNaN(St)||St===0)&&(St=ge/Math.cos(Math.PI/180*p)),this._point=Ve.subtract(S.getPixelOrigin()),this._radius=isNaN(St)?0:Ve.x-S.project([st,a-St]).x,this._radiusY=Ve.y-Ne.y}else{var Gt=z.unproject(z.project(this._latlng).subtract([this._mRadius,0]));this._point=S.latLngToLayerPoint(this._latlng),this._radius=this._point.x-S.latLngToLayerPoint(Gt).x}this._updateBounds()}});function Yp(a,p,S){return new gc(a,p,S)}var ws=Fi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,p){_(this,p),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var p=1/0,S=null,z=Ra,J,ge,Ne=0,qe=this._parts.length;Ne<qe;Ne++)for(var Ve=this._parts[Ne],st=1,St=Ve.length;st<St;st++){J=Ve[st-1],ge=Ve[st];var Gt=z(a,J,ge,!0);Gt<p&&(p=Gt,S=z(a,J,ge))}return S&&(S.distance=Math.sqrt(p)),S},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return ff(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,p){return p=p||this._defaultShape(),a=Ce(a),p.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new we,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Cr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var p=[],S=Cr(a),z=0,J=a.length;z<J;z++)S?(p[z]=Ce(a[z]),this._bounds.extend(p[z])):p[z]=this._convertLatLngs(a[z]);return p},_project:function(){var a=new ue;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),p=new V(a,a);this._rawPxBounds&&(this._pxBounds=new ue([this._rawPxBounds.min.subtract(p),this._rawPxBounds.max.add(p)]))},_projectLatlngs:function(a,p,S){var z=a[0]instanceof K,J=a.length,ge,Ne;if(z){for(Ne=[],ge=0;ge<J;ge++)Ne[ge]=this._map.latLngToLayerPoint(a[ge]),S.extend(Ne[ge]);p.push(Ne)}else for(ge=0;ge<J;ge++)this._projectLatlngs(a[ge],p,S)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var p=this._parts,S,z,J,ge,Ne,qe,Ve;for(S=0,J=0,ge=this._rings.length;S<ge;S++)for(Ve=this._rings[S],z=0,Ne=Ve.length;z<Ne-1;z++)qe=pc(Ve[z],Ve[z+1],a,z,!0),qe&&(p[J]=p[J]||[],p[J].push(qe[0]),(qe[1]!==Ve[z+1]||z===Ne-2)&&(p[J].push(qe[1]),J++))}},_simplifyPoints:function(){for(var a=this._parts,p=this.options.smoothFactor,S=0,z=a.length;S<z;S++)a[S]=lf(a[S],p)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,p){var S,z,J,ge,Ne,qe,Ve=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(S=0,ge=this._parts.length;S<ge;S++)for(qe=this._parts[S],z=0,Ne=qe.length,J=Ne-1;z<Ne;J=z++)if(!(!p&&z===0)&&hc(a,qe[J],qe[z])<=Ve)return!0;return!1}});function vc(a,p){return new ws(a,p)}ws._flat=hf;var Ao=ws.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Rl(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var p=ws.prototype._convertLatLngs.call(this,a),S=p.length;return S>=2&&p[0]instanceof K&&p[0].equals(p[S-1])&&p.pop(),p},_setLatLngs:function(a){ws.prototype._setLatLngs.call(this,a),Cr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Cr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,p=this.options.weight,S=new V(p,p);if(a=new ue(a.min.subtract(S),a.max.add(S)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var z=0,J=this._rings.length,ge;z<J;z++)ge=of(this._rings[z],a,!0),ge.length&&this._parts.push(ge)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var p=!1,S,z,J,ge,Ne,qe,Ve,st;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(ge=0,Ve=this._parts.length;ge<Ve;ge++)for(S=this._parts[ge],Ne=0,st=S.length,qe=st-1;Ne<st;qe=Ne++)z=S[Ne],J=S[qe],z.y>a.y!=J.y>a.y&&a.x<(J.x-z.x)*(a.y-z.y)/(J.y-z.y)+z.x&&(p=!p);return p||ws.prototype._containsPoint.call(this,a,!0)}});function pf(a,p){return new Ao(a,p)}var _s=Bt.extend({initialize:function(a,p){_(this,p),this._layers={},a&&this.addData(a)},addData:function(a){var p=M(a)?a:a.features,S,z,J;if(p){for(S=0,z=p.length;S<z;S++)J=p[S],(J.geometries||J.geometry||J.features||J.coordinates)&&this.addData(J);return this}var ge=this.options;if(ge.filter&&!ge.filter(a))return this;var Ne=ja(a,ge);return Ne?(Ne.feature=Ks(a),Ne.defaultOptions=Ne.options,this.resetStyle(Ne),ge.onEachFeature&&ge.onEachFeature(a,Ne),this.addLayer(Ne)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(p){this._setLayerStyle(p,a)},this)},_setLayerStyle:function(a,p){a.setStyle&&(typeof p=="function"&&(p=p(a.feature)),a.setStyle(p))}});function ja(a,p){var S=a.type==="Feature"?a.geometry:a,z=S?S.coordinates:null,J=[],ge=p&&p.pointToLayer,Ne=p&&p.coordsToLatLng||Jo,qe,Ve,st,St;if(!z&&!S)return null;switch(S.type){case"Point":return qe=Ne(z),yc(ge,a,qe,p);case"MultiPoint":for(st=0,St=z.length;st<St;st++)qe=Ne(z[st]),J.push(yc(ge,a,qe,p));return new Bt(J);case"LineString":case"MultiLineString":return Ve=To(z,S.type==="LineString"?0:1,Ne),new ws(Ve,p);case"Polygon":case"MultiPolygon":return Ve=To(z,S.type==="Polygon"?1:2,Ne),new Ao(Ve,p);case"GeometryCollection":for(st=0,St=S.geometries.length;st<St;st++){var Gt=ja({geometry:S.geometries[st],type:"Feature",properties:a.properties},p);Gt&&J.push(Gt)}return new Bt(J);case"FeatureCollection":for(st=0,St=S.features.length;st<St;st++){var an=ja(S.features[st],p);an&&J.push(an)}return new Bt(J);default:throw new Error("Invalid GeoJSON object.")}}function yc(a,p,S,z){return a?a(p,S):new jl(S,z&&z.markersInheritOptions&&z)}function Jo(a){return new K(a[1],a[0],a[2])}function To(a,p,S){for(var z=[],J=0,ge=a.length,Ne;J<ge;J++)Ne=p?To(a[J],p-1,S):(S||Jo)(a[J]),z.push(Ne);return z}function Hl(a,p){return a=Ce(a),a.alt!==void 0?[y(a.lng,p),y(a.lat,p),y(a.alt,p)]:[y(a.lng,p),y(a.lat,p)]}function Ha(a,p,S,z){for(var J=[],ge=0,Ne=a.length;ge<Ne;ge++)J.push(p?Ha(a[ge],Cr(a[ge])?0:p-1,S,z):Hl(a[ge],z));return!p&&S&&J.length>0&&J.push(J[0].slice()),J}function ko(a,p){return a.feature?i({},a.feature,{geometry:p}):Ks(p)}function Ks(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var zl={toGeoJSON:function(a){return ko(this,{type:"Point",coordinates:Hl(this.getLatLng(),a)})}};jl.include(zl),gc.include(zl),Ys.include(zl),ws.include({toGeoJSON:function(a){var p=!Cr(this._latlngs),S=Ha(this._latlngs,p?1:0,!1,a);return ko(this,{type:(p?"Multi":"")+"LineString",coordinates:S})}}),Ao.include({toGeoJSON:function(a){var p=!Cr(this._latlngs),S=p&&!Cr(this._latlngs[0]),z=Ha(this._latlngs,S?2:p?1:0,!0,a);return p||(z=[z]),ko(this,{type:(S?"Multi":"")+"Polygon",coordinates:z})}}),Gs.include({toMultiPoint:function(a){var p=[];return this.eachLayer(function(S){p.push(S.toGeoJSON(a).geometry.coordinates)}),ko(this,{type:"MultiPoint",coordinates:p})},toGeoJSON:function(a){var p=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(p==="MultiPoint")return this.toMultiPoint(a);var S=p==="GeometryCollection",z=[];return this.eachLayer(function(J){if(J.toGeoJSON){var ge=J.toGeoJSON(a);if(S)z.push(ge.geometry);else{var Ne=Ks(ge);Ne.type==="FeatureCollection"?z.push.apply(z,Ne.features):z.push(Ne)}}}),S?ko(this,{geometries:z,type:"GeometryCollection"}):{type:"FeatureCollection",features:z}}});function Bi(a,p){return new _s(a,p)}var Kp=Bi,Qo=Rr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,p,S){this._url=a,this._bounds=Q(p),_(this,S)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){cn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&$n(this._image),this},bringToBack:function(){return this._map&&lr(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Q(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",p=this._image=a?this._url:Mt("img");if(Wt(p,"leaflet-image-layer"),this._zoomAnimated&&Wt(p,"leaflet-zoom-animated"),this.options.className&&Wt(p,this.options.className),p.onselectstart=g,p.onmousemove=g,p.onload=l(this.fire,this,"load"),p.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=p.src;return}p.src=this._url,p.alt=this.options.alt},_animateZoom:function(a){var p=this._map.getZoomScale(a.zoom),S=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;on(this._image,S,p)},_reset:function(){var a=this._image,p=new ue(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),S=p.getSize();hn(a,p.min),a.style.width=S.x+"px",a.style.height=S.y+"px"},_updateOpacity:function(){ir(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),mf=function(a,p,S){return new Qo(a,p,S)},Zs=Qo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",p=this._image=a?this._url:Mt("video");if(Wt(p,"leaflet-image-layer"),this._zoomAnimated&&Wt(p,"leaflet-zoom-animated"),this.options.className&&Wt(p,this.options.className),p.onselectstart=g,p.onmousemove=g,p.onloadeddata=l(this.fire,this,"load"),a){for(var S=p.getElementsByTagName("source"),z=[],J=0;J<S.length;J++)z.push(S[J].src);this._url=S.length>0?z:[p.src];return}M(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(p.style,"objectFit")&&(p.style.objectFit="fill"),p.autoplay=!!this.options.autoplay,p.loop=!!this.options.loop,p.muted=!!this.options.muted,p.playsInline=!!this.options.playsInline;for(var ge=0;ge<this._url.length;ge++){var Ne=Mt("source");Ne.src=this._url[ge],p.appendChild(Ne)}}});function bc(a,p,S){return new Zs(a,p,S)}var wc=Qo.extend({_initImage:function(){var a=this._image=this._url;Wt(a,"leaflet-image-layer"),this._zoomAnimated&&Wt(a,"leaflet-zoom-animated"),this.options.className&&Wt(a,this.options.className),a.onselectstart=g,a.onmousemove=g}});function za(a,p,S){return new wc(a,p,S)}var ns=Rr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,p){a&&(a instanceof K||M(a))?(this._latlng=Ce(a),_(this,p)):(_(this,a),this._source=p),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&ir(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&ir(this._container,1),this.bringToFront(),this.options.interactive&&(Wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(ir(this._container,0),this._removeTimeout=setTimeout(l(cn,void 0,this._container),200)):cn(this._container),this.options.interactive&&(Tn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=Ce(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&$n(this._container),this},bringToBack:function(){return this._map&&lr(this._container),this},_prepareOpen:function(a){var p=this._source;if(!p._map)return!1;if(p instanceof Bt){p=null;var S=this._source._layers;for(var z in S)if(S[z]._map){p=S[z];break}if(!p)return!1;this._source=p}if(!a)if(p.getCenter)a=p.getCenter();else if(p.getLatLng)a=p.getLatLng();else if(p.getBounds)a=p.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,p=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof p=="string")a.innerHTML=p;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(p)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),p=Y(this.options.offset),S=this._getAnchor();this._zoomAnimated?hn(this._container,a.add(S)):p=p.add(a).add(S);var z=this._containerBottom=-p.y,J=this._containerLeft=-Math.round(this._containerWidth/2)+p.x;this._container.style.bottom=z+"px",this._container.style.left=J+"px"}},_getAnchor:function(){return[0,0]}});At.include({_initOverlay:function(a,p,S,z){var J=p;return J instanceof a||(J=new a(z).setContent(p)),S&&J.setLatLng(S),J}}),Rr.include({_initOverlay:function(a,p,S,z){var J=S;return J instanceof a?(_(J,z),J._source=this):(J=p&&!z?p:new a(z,this),J.setContent(S)),J}});var $l=ns.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,ns.prototype.openOn.call(this,a)},onAdd:function(a){ns.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Fi||this._source.on("preclick",yr))},onRemove:function(a){ns.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Fi||this._source.off("preclick",yr))},getEvents:function(){var a=ns.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",p=this._container=Mt("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),S=this._wrapper=Mt("div",a+"-content-wrapper",p);if(this._contentNode=Mt("div",a+"-content",S),Ii(p),vs(this._contentNode),Vt(p,"contextmenu",yr),this._tipContainer=Mt("div",a+"-tip-container",p),this._tip=Mt("div",a+"-tip",this._tipContainer),this.options.closeButton){var z=this._closeButton=Mt("a",a+"-close-button",p);z.setAttribute("role","button"),z.setAttribute("aria-label","Close popup"),z.href="#close",z.innerHTML='<span aria-hidden="true">&#215;</span>',Vt(z,"click",function(J){tr(J),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,p=a.style;p.width="",p.whiteSpace="nowrap";var S=a.offsetWidth;S=Math.min(S,this.options.maxWidth),S=Math.max(S,this.options.minWidth),p.width=S+1+"px",p.whiteSpace="",p.height="";var z=a.offsetHeight,J=this.options.maxHeight,ge="leaflet-popup-scrolled";J&&z>J?(p.height=J+"px",Wt(a,ge)):Tn(a,ge),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),S=this._getAnchor();hn(this._container,p.add(S))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,p=parseInt(rt(this._container,"marginBottom"),10)||0,S=this._container.offsetHeight+p,z=this._containerWidth,J=new V(this._containerLeft,-S-this._containerBottom);J._add(Fn(this._container));var ge=a.layerPointToContainerPoint(J),Ne=Y(this.options.autoPanPadding),qe=Y(this.options.autoPanPaddingTopLeft||Ne),Ve=Y(this.options.autoPanPaddingBottomRight||Ne),st=a.getSize(),St=0,Gt=0;ge.x+z+Ve.x>st.x&&(St=ge.x+z-st.x+Ve.x),ge.x-St-qe.x<0&&(St=ge.x-qe.x),ge.y+S+Ve.y>st.y&&(Gt=ge.y+S-st.y+Ve.y),ge.y-Gt-qe.y<0&&(Gt=ge.y-qe.y),(St||Gt)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([St,Gt]))}},_getAnchor:function(){return Y(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zp=function(a,p){return new $l(a,p)};At.mergeOptions({closePopupOnClick:!0}),At.include({openPopup:function(a,p,S){return this._initOverlay($l,a,p,S).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),Rr.include({bindPopup:function(a,p){return this._popup=this._initOverlay($l,this._popup,a,p),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof Bt||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Di(a);var p=a.layer||a.target;if(this._popup._source===p&&!(p instanceof Fi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=p,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var $a=ns.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){ns.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){ns.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=ns.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",p=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Mt("div",p),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var p,S,z=this._map,J=this._container,ge=z.latLngToContainerPoint(z.getCenter()),Ne=z.layerPointToContainerPoint(a),qe=this.options.direction,Ve=J.offsetWidth,st=J.offsetHeight,St=Y(this.options.offset),Gt=this._getAnchor();qe==="top"?(p=Ve/2,S=st):qe==="bottom"?(p=Ve/2,S=0):qe==="center"?(p=Ve/2,S=st/2):qe==="right"?(p=0,S=st/2):qe==="left"?(p=Ve,S=st/2):Ne.x<ge.x?(qe="right",p=0,S=st/2):(qe="left",p=Ve+(St.x+Gt.x)*2,S=st/2),a=a.subtract(Y(p,S,!0)).add(St).add(Gt),Tn(J,"leaflet-tooltip-right"),Tn(J,"leaflet-tooltip-left"),Tn(J,"leaflet-tooltip-top"),Tn(J,"leaflet-tooltip-bottom"),Wt(J,"leaflet-tooltip-"+qe),hn(J,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&ir(this._container,a)},_animateZoom:function(a){var p=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(p)},_getAnchor:function(){return Y(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),gf=function(a,p){return new $a(a,p)};At.include({openTooltip:function(a,p,S){return this._initOverlay($a,a,p,S).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),Rr.include({bindTooltip:function(a,p){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay($a,this._tooltip,a,p),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var p=a?"off":"on",S={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?S.add=this._openTooltip:(S.mouseover=this._openTooltip,S.mouseout=this.closeTooltip,S.click=this._openTooltip,this._map?this._addFocusListeners():S.add=this._addFocusListeners),this._tooltip.options.sticky&&(S.mousemove=this._moveTooltip),this[p](S),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof Bt||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&(Vt(p,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Vt(p,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var p=typeof a.getElement=="function"&&a.getElement();p&&p.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var p=this;this._map.once("moveend",function(){p._openOnceFlag=!1,p._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var p=a.latlng,S,z;this._tooltip.options.sticky&&a.originalEvent&&(S=this._map.mouseEventToContainerPoint(a.originalEvent),z=this._map.containerPointToLayerPoint(S),p=this._map.layerPointToLatLng(z)),this._tooltip.setLatLng(p)}});var Ul=bs.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var p=a&&a.tagName==="DIV"?a:document.createElement("div"),S=this.options;if(S.html instanceof Element?(Ir(p),p.appendChild(S.html)):p.innerHTML=S.html!==!1?S.html:"",S.bgPos){var z=Y(S.bgPos);p.style.backgroundPosition=-z.x+"px "+-z.y+"px"}return this._setIconStyles(p,"icon"),p},createShadow:function(){return null}});function vf(a){return new Ul(a)}bs.Default=Ba;var ea=Rr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:it.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){_(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),cn(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&($n(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(lr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof V?a:new V(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var p=this.getPane().children,S=-a(-1/0,1/0),z=0,J=p.length,ge;z<J;z++)ge=p[z].style.zIndex,p[z]!==this._container&&ge&&(S=a(S,+ge));isFinite(S)&&(this.options.zIndex=S+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!it.ielt9){ir(this._container,this.options.opacity);var a=+new Date,p=!1,S=!1;for(var z in this._tiles){var J=this._tiles[z];if(!(!J.current||!J.loaded)){var ge=Math.min(1,(a-J.loaded)/200);ir(J.el,ge),ge<1?p=!0:(J.active?S=!0:this._onOpaqueTile(J),J.active=!0)}}S&&!this._noPrune&&this._pruneTiles(),p&&(j(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=Mt("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,p=this.options.maxZoom;if(a!==void 0){for(var S in this._levels)S=Number(S),this._levels[S].el.children.length||S===a?(this._levels[S].el.style.zIndex=p-Math.abs(a-S),this._onUpdateLevel(S)):(cn(this._levels[S].el),this._removeTilesAtZoom(S),this._onRemoveLevel(S),delete this._levels[S]);var z=this._levels[a],J=this._map;return z||(z=this._levels[a]={},z.el=Mt("div","leaflet-tile-container leaflet-zoom-animated",this._container),z.el.style.zIndex=p,z.origin=J.project(J.unproject(J.getPixelOrigin()),a).round(),z.zoom=a,this._setZoomTransform(z,J.getCenter(),J.getZoom()),g(z.el.offsetWidth),this._onCreateLevel(z)),this._level=z,z}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var a,p,S=this._map.getZoom();if(S>this.options.maxZoom||S<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)p=this._tiles[a],p.retain=p.current;for(a in this._tiles)if(p=this._tiles[a],p.current&&!p.active){var z=p.coords;this._retainParent(z.x,z.y,z.z,z.z-5)||this._retainChildren(z.x,z.y,z.z,z.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var p in this._tiles)this._tiles[p].coords.z===a&&this._removeTile(p)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)cn(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,p,S,z){var J=Math.floor(a/2),ge=Math.floor(p/2),Ne=S-1,qe=new V(+J,+ge);qe.z=+Ne;var Ve=this._tileCoordsToKey(qe),st=this._tiles[Ve];return st&&st.active?(st.retain=!0,!0):(st&&st.loaded&&(st.retain=!0),Ne>z?this._retainParent(J,ge,Ne,z):!1)},_retainChildren:function(a,p,S,z){for(var J=2*a;J<2*a+2;J++)for(var ge=2*p;ge<2*p+2;ge++){var Ne=new V(J,ge);Ne.z=S+1;var qe=this._tileCoordsToKey(Ne),Ve=this._tiles[qe];if(Ve&&Ve.active){Ve.retain=!0;continue}else Ve&&Ve.loaded&&(Ve.retain=!0);S+1<z&&this._retainChildren(J,ge,S+1,z)}},_resetView:function(a){var p=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),p,p)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var p=this.options;return p.minNativeZoom!==void 0&&a<p.minNativeZoom?p.minNativeZoom:p.maxNativeZoom!==void 0&&p.maxNativeZoom<a?p.maxNativeZoom:a},_setView:function(a,p,S,z){var J=Math.round(p);this.options.maxZoom!==void 0&&J>this.options.maxZoom||this.options.minZoom!==void 0&&J<this.options.minZoom?J=void 0:J=this._clampZoom(J);var ge=this.options.updateWhenZooming&&J!==this._tileZoom;(!z||ge)&&(this._tileZoom=J,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),J!==void 0&&this._update(a),S||this._pruneTiles(),this._noPrune=!!S),this._setZoomTransforms(a,p)},_setZoomTransforms:function(a,p){for(var S in this._levels)this._setZoomTransform(this._levels[S],a,p)},_setZoomTransform:function(a,p,S){var z=this._map.getZoomScale(S,a.zoom),J=a.origin.multiplyBy(z).subtract(this._map._getNewPixelOrigin(p,S)).round();it.any3d?on(a.el,J,z):hn(a.el,J)},_resetGrid:function(){var a=this._map,p=a.options.crs,S=this._tileSize=this.getTileSize(),z=this._tileZoom,J=this._map.getPixelWorldBounds(this._tileZoom);J&&(this._globalTileRange=this._pxBoundsToTileRange(J)),this._wrapX=p.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,p.wrapLng[0]],z).x/S.x),Math.ceil(a.project([0,p.wrapLng[1]],z).x/S.y)],this._wrapY=p.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([p.wrapLat[0],0],z).y/S.x),Math.ceil(a.project([p.wrapLat[1],0],z).y/S.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var p=this._map,S=p._animatingZoom?Math.max(p._animateToZoom,p.getZoom()):p.getZoom(),z=p.getZoomScale(S,this._tileZoom),J=p.project(a,this._tileZoom).floor(),ge=p.getSize().divideBy(z*2);return new ue(J.subtract(ge),J.add(ge))},_update:function(a){var p=this._map;if(p){var S=this._clampZoom(p.getZoom());if(a===void 0&&(a=p.getCenter()),this._tileZoom!==void 0){var z=this._getTiledPixelBounds(a),J=this._pxBoundsToTileRange(z),ge=J.getCenter(),Ne=[],qe=this.options.keepBuffer,Ve=new ue(J.getBottomLeft().subtract([qe,-qe]),J.getTopRight().add([qe,-qe]));if(!(isFinite(J.min.x)&&isFinite(J.min.y)&&isFinite(J.max.x)&&isFinite(J.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var st in this._tiles){var St=this._tiles[st].coords;(St.z!==this._tileZoom||!Ve.contains(new V(St.x,St.y)))&&(this._tiles[st].current=!1)}if(Math.abs(S-this._tileZoom)>1){this._setView(a,S);return}for(var Gt=J.min.y;Gt<=J.max.y;Gt++)for(var an=J.min.x;an<=J.max.x;an++){var Fr=new V(an,Gt);if(Fr.z=this._tileZoom,!!this._isValidTile(Fr)){var fr=this._tiles[this._tileCoordsToKey(Fr)];fr?fr.current=!0:Ne.push(Fr)}}if(Ne.sort(function(Br,eo){return Br.distanceTo(ge)-eo.distanceTo(ge)}),Ne.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ai=document.createDocumentFragment();for(an=0;an<Ne.length;an++)this._addTile(Ne[an],ai);this._level.el.appendChild(ai)}}}},_isValidTile:function(a){var p=this._map.options.crs;if(!p.infinite){var S=this._globalTileRange;if(!p.wrapLng&&(a.x<S.min.x||a.x>S.max.x)||!p.wrapLat&&(a.y<S.min.y||a.y>S.max.y))return!1}if(!this.options.bounds)return!0;var z=this._tileCoordsToBounds(a);return Q(this.options.bounds).overlaps(z)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var p=this._map,S=this.getTileSize(),z=a.scaleBy(S),J=z.add(S),ge=p.unproject(z,a.z),Ne=p.unproject(J,a.z);return[ge,Ne]},_tileCoordsToBounds:function(a){var p=this._tileCoordsToNwSe(a),S=new we(p[0],p[1]);return this.options.noWrap||(S=this._map.wrapLatLngBounds(S)),S},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var p=a.split(":"),S=new V(+p[0],+p[1]);return S.z=+p[2],S},_removeTile:function(a){var p=this._tiles[a];p&&(cn(p.el),delete this._tiles[a],this.fire("tileunload",{tile:p.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){Wt(a,"leaflet-tile");var p=this.getTileSize();a.style.width=p.x+"px",a.style.height=p.y+"px",a.onselectstart=g,a.onmousemove=g,it.ielt9&&this.options.opacity<1&&ir(a,this.options.opacity)},_addTile:function(a,p){var S=this._getTilePos(a),z=this._tileCoordsToKey(a),J=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(J),this.createTile.length<2&&P(l(this._tileReady,this,a,null,J)),hn(J,S),this._tiles[z]={el:J,coords:a,current:!0},p.appendChild(J),this.fire("tileloadstart",{tile:J,coords:a})},_tileReady:function(a,p,S){p&&this.fire("tileerror",{error:p,tile:S,coords:a});var z=this._tileCoordsToKey(a);S=this._tiles[z],S&&(S.loaded=+new Date,this._map._fadeAnimated?(ir(S.el,0),j(this._fadeFrame),this._fadeFrame=P(this._updateOpacity,this)):(S.active=!0,this._pruneTiles()),p||(Wt(S.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:S.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),it.ielt9||!this._map._fadeAnimated?P(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var p=new V(this._wrapX?d(a.x,this._wrapX):a.x,this._wrapY?d(a.y,this._wrapY):a.y);return p.z=a.z,p},_pxBoundsToTileRange:function(a){var p=this.getTileSize();return new ue(a.min.unscaleBy(p).floor(),a.max.unscaleBy(p).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function yf(a){return new ea(a)}var Co=ea.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,p){this._url=a,p=_(this,p),p.detectRetina&&it.retina&&p.maxZoom>0?(p.tileSize=Math.floor(p.tileSize/2),p.zoomReverse?(p.zoomOffset--,p.minZoom=Math.min(p.maxZoom,p.minZoom+1)):(p.zoomOffset++,p.maxZoom=Math.max(p.minZoom,p.maxZoom-1)),p.minZoom=Math.max(0,p.minZoom)):p.zoomReverse?p.minZoom=Math.min(p.maxZoom,p.minZoom):p.maxZoom=Math.max(p.minZoom,p.maxZoom),typeof p.subdomains=="string"&&(p.subdomains=p.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,p){return this._url===a&&p===void 0&&(p=!0),this._url=a,p||this.redraw(),this},createTile:function(a,p){var S=document.createElement("img");return Vt(S,"load",l(this._tileOnLoad,this,p,S)),Vt(S,"error",l(this._tileOnError,this,p,S)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(S.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(S.referrerPolicy=this.options.referrerPolicy),S.alt="",S.src=this.getTileUrl(a),S},getTileUrl:function(a){var p={r:it.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var S=this._globalTileRange.max.y-a.y;this.options.tms&&(p.y=S),p["-y"]=S}return b(this._url,i(p,this.options))},_tileOnLoad:function(a,p){it.ielt9?setTimeout(l(a,this,null,p),0):a(null,p)},_tileOnError:function(a,p,S){var z=this.options.errorTileUrl;z&&p.getAttribute("src")!==z&&(p.src=z),a(S,p)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,p=this.options.maxZoom,S=this.options.zoomReverse,z=this.options.zoomOffset;return S&&(a=p-a),a+z},_getSubdomain:function(a){var p=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[p]},_abortLoading:function(){var a,p;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(p=this._tiles[a].el,p.onload=g,p.onerror=g,!p.complete)){p.src=D;var S=this._tiles[a].coords;cn(p),delete this._tiles[a],this.fire("tileabort",{tile:p,coords:S})}},_removeTile:function(a){var p=this._tiles[a];if(p)return p.el.setAttribute("src",D),ea.prototype._removeTile.call(this,a)},_tileReady:function(a,p,S){if(!(!this._map||S&&S.getAttribute("src")===D))return ea.prototype._tileReady.call(this,a,p,S)}});function ql(a,p){return new Co(a,p)}var _c=Co.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,p){this._url=a;var S=i({},this.defaultWmsParams);for(var z in p)z in this.options||(S[z]=p[z]);p=_(this,p);var J=p.detectRetina&&it.retina?2:1,ge=this.getTileSize();S.width=ge.x*J,S.height=ge.y*J,this.wmsParams=S},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var p=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[p]=this._crs.code,Co.prototype.onAdd.call(this,a)},getTileUrl:function(a){var p=this._tileCoordsToNwSe(a),S=this._crs,z=xe(S.project(p[0]),S.project(p[1])),J=z.min,ge=z.max,Ne=(this._wmsVersion>=1.3&&this._crs===Zo?[J.y,J.x,ge.y,ge.x]:[J.x,J.y,ge.x,ge.y]).join(","),qe=Co.prototype.getTileUrl.call(this,a);return qe+A(this.wmsParams,qe,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+Ne},setParams:function(a,p){return i(this.wmsParams,a),p||this.redraw(),this}});function bf(a,p){return new _c(a,p)}Co.WMS=_c,ql.wms=bf;var xs=Rr.extend({options:{padding:.1},initialize:function(a){_(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,p){var S=this._map.getZoomScale(p,this._zoom),z=this._map.getSize().multiplyBy(.5+this.options.padding),J=this._map.project(this._center,p),ge=z.multiplyBy(-S).add(J).subtract(this._map._getNewPixelOrigin(a,p));it.any3d?on(this._container,ge,S):hn(this._container,ge)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,p=this._map.getSize(),S=this._map.containerPointToLayerPoint(p.multiplyBy(-a)).round();this._bounds=new ue(S,S.add(p.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wf=xs.extend({options:{tolerance:0},getEvents:function(){var a=xs.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){xs.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Vt(a,"mousemove",this._onMouseMove,this),Vt(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Vt(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){j(this._redrawRequest),delete this._ctx,cn(this._container),Zt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var p in this._layers)a=this._layers[p],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xs.prototype._update.call(this);var a=this._bounds,p=this._container,S=a.getSize(),z=it.retina?2:1;hn(p,a.min),p.width=z*S.x,p.height=z*S.y,p.style.width=S.x+"px",p.style.height=S.y+"px",it.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){xs.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var p=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=p),this._drawLast=p,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var p=a._order,S=p.next,z=p.prev;S?S.prev=z:this._drawLast=z,z?z.next=S:this._drawFirst=S,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var p=a.options.dashArray.split(/[, ]+/),S=[],z,J;for(J=0;J<p.length;J++){if(z=Number(p[J]),isNaN(z))return;S.push(z)}a.options._dashArray=S}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||P(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var p=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ue,this._redrawBounds.extend(a._pxBounds.min.subtract([p,p])),this._redrawBounds.extend(a._pxBounds.max.add([p,p]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var p=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,p.x,p.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,p=this._redrawBounds;if(this._ctx.save(),p){var S=p.getSize();this._ctx.beginPath(),this._ctx.rect(p.min.x,p.min.y,S.x,S.y),this._ctx.clip()}this._drawing=!0;for(var z=this._drawFirst;z;z=z.next)a=z.layer,(!p||a._pxBounds&&a._pxBounds.intersects(p))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,p){if(this._drawing){var S,z,J,ge,Ne=a._parts,qe=Ne.length,Ve=this._ctx;if(qe){for(Ve.beginPath(),S=0;S<qe;S++){for(z=0,J=Ne[S].length;z<J;z++)ge=Ne[S][z],Ve[z?"lineTo":"moveTo"](ge.x,ge.y);p&&Ve.closePath()}this._fillStroke(Ve,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var p=a._point,S=this._ctx,z=Math.max(Math.round(a._radius),1),J=(Math.max(Math.round(a._radiusY),1)||z)/z;J!==1&&(S.save(),S.scale(1,J)),S.beginPath(),S.arc(p.x,p.y/J,z,0,Math.PI*2,!1),J!==1&&S.restore(),this._fillStroke(S,a)}},_fillStroke:function(a,p){var S=p.options;S.fill&&(a.globalAlpha=S.fillOpacity,a.fillStyle=S.fillColor||S.color,a.fill(S.fillRule||"evenodd")),S.stroke&&S.weight!==0&&(a.setLineDash&&a.setLineDash(p.options&&p.options._dashArray||[]),a.globalAlpha=S.opacity,a.lineWidth=S.weight,a.strokeStyle=S.color,a.lineCap=S.lineCap,a.lineJoin=S.lineJoin,a.stroke())},_onClick:function(a){for(var p=this._map.mouseEventToLayerPoint(a),S,z,J=this._drawFirst;J;J=J.next)S=J.layer,S.options.interactive&&S._containsPoint(p)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(S))&&(z=S);this._fireEvent(z?[z]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var p=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,p)}},_handleMouseOut:function(a){var p=this._hoveredLayer;p&&(Tn(this._container,"leaflet-interactive"),this._fireEvent([p],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,p){if(!this._mouseHoverThrottled){for(var S,z,J=this._drawFirst;J;J=J.next)S=J.layer,S.options.interactive&&S._containsPoint(p)&&(z=S);z!==this._hoveredLayer&&(this._handleMouseOut(a),z&&(Wt(this._container,"leaflet-interactive"),this._fireEvent([z],a,"mouseover"),this._hoveredLayer=z)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,p,S){this._map._fireDOMEvent(p,S||p.type,a)},_bringToFront:function(a){var p=a._order;if(p){var S=p.next,z=p.prev;if(S)S.prev=z;else return;z?z.next=S:S&&(this._drawFirst=S),p.prev=this._drawLast,this._drawLast.next=p,p.next=null,this._drawLast=p,this._requestRedraw(a)}},_bringToBack:function(a){var p=a._order;if(p){var S=p.next,z=p.prev;if(z)z.next=S;else return;S?S.prev=z:z&&(this._drawLast=z),p.prev=null,p.next=this._drawFirst,this._drawFirst.prev=p,this._drawFirst=p,this._requestRedraw(a)}}});function _f(a){return it.canvas?new wf(a):null}var Ua=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),xf={_initContainer:function(){this._container=Mt("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(xs.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var p=a._container=Ua("shape");Wt(p,"leaflet-vml-shape "+(this.options.className||"")),p.coordsize="1 1",a._path=Ua("path"),p.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var p=a._container;this._container.appendChild(p),a.options.interactive&&a.addInteractiveTarget(p)},_removePath:function(a){var p=a._container;cn(p),a.removeInteractiveTarget(p),delete this._layers[u(a)]},_updateStyle:function(a){var p=a._stroke,S=a._fill,z=a.options,J=a._container;J.stroked=!!z.stroke,J.filled=!!z.fill,z.stroke?(p||(p=a._stroke=Ua("stroke")),J.appendChild(p),p.weight=z.weight+"px",p.color=z.color,p.opacity=z.opacity,z.dashArray?p.dashStyle=M(z.dashArray)?z.dashArray.join(" "):z.dashArray.replace(/( *, *)/g," "):p.dashStyle="",p.endcap=z.lineCap.replace("butt","flat"),p.joinstyle=z.lineJoin):p&&(J.removeChild(p),a._stroke=null),z.fill?(S||(S=a._fill=Ua("fill")),J.appendChild(S),S.color=z.fillColor||z.color,S.opacity=z.fillOpacity):S&&(J.removeChild(S),a._fill=null)},_updateCircle:function(a){var p=a._point.round(),S=Math.round(a._radius),z=Math.round(a._radiusY||S);this._setPath(a,a._empty()?"M0 0":"AL "+p.x+","+p.y+" "+S+","+z+" 0,"+65535*360)},_setPath:function(a,p){a._path.v=p},_bringToFront:function(a){$n(a._container)},_bringToBack:function(a){lr(a._container)}},Wl=it.vml?Ua:ve,ta=xs.extend({_initContainer:function(){this._container=Wl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){cn(this._container),Zt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){xs.prototype._update.call(this);var a=this._bounds,p=a.getSize(),S=this._container;(!this._svgSize||!this._svgSize.equals(p))&&(this._svgSize=p,S.setAttribute("width",p.x),S.setAttribute("height",p.y)),hn(S,a.min),S.setAttribute("viewBox",[a.min.x,a.min.y,p.x,p.y].join(" ")),this.fire("update")}},_initPath:function(a){var p=a._path=Wl("path");a.options.className&&Wt(p,a.options.className),a.options.interactive&&Wt(p,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){cn(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var p=a._path,S=a.options;p&&(S.stroke?(p.setAttribute("stroke",S.color),p.setAttribute("stroke-opacity",S.opacity),p.setAttribute("stroke-width",S.weight),p.setAttribute("stroke-linecap",S.lineCap),p.setAttribute("stroke-linejoin",S.lineJoin),S.dashArray?p.setAttribute("stroke-dasharray",S.dashArray):p.removeAttribute("stroke-dasharray"),S.dashOffset?p.setAttribute("stroke-dashoffset",S.dashOffset):p.removeAttribute("stroke-dashoffset")):p.setAttribute("stroke","none"),S.fill?(p.setAttribute("fill",S.fillColor||S.color),p.setAttribute("fill-opacity",S.fillOpacity),p.setAttribute("fill-rule",S.fillRule||"evenodd")):p.setAttribute("fill","none"))},_updatePoly:function(a,p){this._setPath(a,Ae(a._parts,p))},_updateCircle:function(a){var p=a._point,S=Math.max(Math.round(a._radius),1),z=Math.max(Math.round(a._radiusY),1)||S,J="a"+S+","+z+" 0 1,0 ",ge=a._empty()?"M0 0":"M"+(p.x-S)+","+p.y+J+S*2+",0 "+J+-S*2+",0 ";this._setPath(a,ge)},_setPath:function(a,p){a._path.setAttribute("d",p)},_bringToFront:function(a){$n(a._path)},_bringToBack:function(a){lr(a._path)}});it.vml&&ta.include(xf);function Vl(a){return it.svg||it.vml?new ta(a):null}At.include({getRenderer:function(a){var p=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return p||(p=this._renderer=this._createRenderer()),this.hasLayer(p)||this.addLayer(p),p},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var p=this._paneRenderers[a];return p===void 0&&(p=this._createRenderer({pane:a}),this._paneRenderers[a]=p),p},_createRenderer:function(a){return this.options.preferCanvas&&_f(a)||Vl(a)}});var na=Ao.extend({initialize:function(a,p){Ao.prototype.initialize.call(this,this._boundsToLatLngs(a),p)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Q(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function qa(a,p){return new na(a,p)}ta.create=Wl,ta.pointsToPath=Ae,_s.geometryToLayer=ja,_s.coordsToLatLng=Jo,_s.coordsToLatLngs=To,_s.latLngToCoords=Hl,_s.latLngsToCoords=Ha,_s.getFeature=ko,_s.asFeature=Ks,At.mergeOptions({boxZoom:!0});var Xs=Dr.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Vt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Zt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){cn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mn(),Zr(),this._startPoint=this._map.mouseEventToContainerPoint(a),Vt(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=Mt("div","leaflet-zoom-box",this._container),Wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var p=new ue(this._point,this._startPoint),S=p.getSize();hn(this._box,p.min),this._box.style.width=S.x+"px",this._box.style.height=S.y+"px"},_finish:function(){this._moved&&(cn(this._box),Tn(this._container,"leaflet-crosshair")),kr(),yo(),Zt(document,{contextmenu:Di,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var p=new we(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(p).fire("boxzoomend",{boxZoomBounds:p})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});At.addInitHook("addHandler","boxZoom",Xs),At.mergeOptions({doubleClickZoom:!0});var xc=Dr.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var p=this._map,S=p.getZoom(),z=p.options.zoomDelta,J=a.originalEvent.shiftKey?S-z:S+z;p.options.doubleClickZoom==="center"?p.setZoom(J):p.setZoomAround(a.containerPoint,J)}});At.addInitHook("addHandler","doubleClickZoom",xc),At.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Dt=Dr.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new ys(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}Wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tn(this._map._container,"leaflet-grab"),Tn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var p=Q(this._map.options.maxBounds);this._offsetLimit=xe(this._map.latLngToContainerPoint(p.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(p.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var p=this._lastTime=+new Date,S=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(S),this._times.push(p),this._prunePositions(p)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),p=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=p.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,p){return a-(a-p)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),p=this._offsetLimit;a.x<p.min.x&&(a.x=this._viscousLimit(a.x,p.min.x)),a.y<p.min.y&&(a.y=this._viscousLimit(a.y,p.min.y)),a.x>p.max.x&&(a.x=this._viscousLimit(a.x,p.max.x)),a.y>p.max.y&&(a.y=this._viscousLimit(a.y,p.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,p=Math.round(a/2),S=this._initialWorldOffset,z=this._draggable._newPos.x,J=(z-p+S)%a+p-S,ge=(z+p+S)%a-p-S,Ne=Math.abs(J+S)<Math.abs(ge+S)?J:ge;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=Ne},_onDragEnd:function(a){var p=this._map,S=p.options,z=!S.inertia||a.noInertia||this._times.length<2;if(p.fire("dragend",a),z)p.fire("moveend");else{this._prunePositions(+new Date);var J=this._lastPos.subtract(this._positions[0]),ge=(this._lastTime-this._times[0])/1e3,Ne=S.easeLinearity,qe=J.multiplyBy(Ne/ge),Ve=qe.distanceTo([0,0]),st=Math.min(S.inertiaMaxSpeed,Ve),St=qe.multiplyBy(st/Ve),Gt=st/(S.inertiaDeceleration*Ne),an=St.multiplyBy(-Gt/2).round();!an.x&&!an.y?p.fire("moveend"):(an=p._limitOffset(an,p.options.maxBounds),P(function(){p.panBy(an,{duration:Gt,easeLinearity:Ne,noMoveStart:!0,animate:!0})}))}}});At.addInitHook("addHandler","dragging",Dt),At.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Js=Dr.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Vt(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Zt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,p=document.documentElement,S=a.scrollTop||p.scrollTop,z=a.scrollLeft||p.scrollLeft;this._map._container.focus(),window.scrollTo(z,S)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var p=this._panKeys={},S=this.keyCodes,z,J;for(z=0,J=S.left.length;z<J;z++)p[S.left[z]]=[-1*a,0];for(z=0,J=S.right.length;z<J;z++)p[S.right[z]]=[a,0];for(z=0,J=S.down.length;z<J;z++)p[S.down[z]]=[0,a];for(z=0,J=S.up.length;z<J;z++)p[S.up[z]]=[0,-1*a]},_setZoomDelta:function(a){var p=this._zoomKeys={},S=this.keyCodes,z,J;for(z=0,J=S.zoomIn.length;z<J;z++)p[S.zoomIn[z]]=a;for(z=0,J=S.zoomOut.length;z<J;z++)p[S.zoomOut[z]]=-a},_addHooks:function(){Vt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Zt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var p=a.keyCode,S=this._map,z;if(p in this._panKeys){if(!S._panAnim||!S._panAnim._inProgress)if(z=this._panKeys[p],a.shiftKey&&(z=Y(z).multiplyBy(3)),S.options.maxBounds&&(z=S._limitOffset(Y(z),S.options.maxBounds)),S.options.worldCopyJump){var J=S.wrapLatLng(S.unproject(S.project(S.getCenter()).add(z)));S.panTo(J)}else S.panBy(z)}else if(p in this._zoomKeys)S.setZoom(S.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[p]);else if(p===27&&S._popup&&S._popup.options.closeOnEscapeKey)S.closePopup();else return;Di(a)}}});At.addInitHook("addHandler","keyboard",Js),At.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Gl=Dr.extend({addHooks:function(){Vt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Zt(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var p=Xe(a),S=this._map.options.wheelDebounceTime;this._delta+=p,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var z=Math.max(S-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),z),Di(a)},_performZoom:function(){var a=this._map,p=a.getZoom(),S=this._map.options.zoomSnap||0;a._stop();var z=this._delta/(this._map.options.wheelPxPerZoomLevel*4),J=4*Math.log(2/(1+Math.exp(-Math.abs(z))))/Math.LN2,ge=S?Math.ceil(J/S)*S:J,Ne=a._limitZoom(p+(this._delta>0?ge:-ge))-p;this._delta=0,this._startTime=null,Ne&&(a.options.scrollWheelZoom==="center"?a.setZoom(p+Ne):a.setZoomAround(this._lastMousePos,p+Ne))}});At.addInitHook("addHandler","scrollWheelZoom",Gl);var rs=600;At.mergeOptions({tapHold:it.touchNative&&it.safari&&it.mobile,tapTolerance:15});var kn=Dr.extend({addHooks:function(){Vt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Zt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var p=a.touches[0];this._startPos=this._newPos=new V(p.clientX,p.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Vt(document,"touchend",tr),Vt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",p))},this),rs),Vt(document,"touchend touchcancel contextmenu",this._cancel,this),Vt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){Zt(document,"touchend",tr),Zt(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),Zt(document,"touchend touchcancel contextmenu",this._cancel,this),Zt(document,"touchmove",this._onMove,this)},_onMove:function(a){var p=a.touches[0];this._newPos=new V(p.clientX,p.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,p){var S=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:p.screenX,screenY:p.screenY,clientX:p.clientX,clientY:p.clientY});S._simulated=!0,p.target.dispatchEvent(S)}});At.addInitHook("addHandler","tapHold",kn),At.mergeOptions({touchZoom:it.touch,bounceAtZoomLimits:!0});var Qs=Dr.extend({addHooks:function(){Wt(this._map._container,"leaflet-touch-zoom"),Vt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tn(this._map._container,"leaflet-touch-zoom"),Zt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var p=this._map;if(!(!a.touches||a.touches.length!==2||p._animatingZoom||this._zooming)){var S=p.mouseEventToContainerPoint(a.touches[0]),z=p.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=p.getSize()._divideBy(2),this._startLatLng=p.containerPointToLatLng(this._centerPoint),p.options.touchZoom!=="center"&&(this._pinchStartLatLng=p.containerPointToLatLng(S.add(z)._divideBy(2))),this._startDist=S.distanceTo(z),this._startZoom=p.getZoom(),this._moved=!1,this._zooming=!0,p._stop(),Vt(document,"touchmove",this._onTouchMove,this),Vt(document,"touchend touchcancel",this._onTouchEnd,this),tr(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var p=this._map,S=p.mouseEventToContainerPoint(a.touches[0]),z=p.mouseEventToContainerPoint(a.touches[1]),J=S.distanceTo(z)/this._startDist;if(this._zoom=p.getScaleZoom(J,this._startZoom),!p.options.bounceAtZoomLimits&&(this._zoom<p.getMinZoom()&&J<1||this._zoom>p.getMaxZoom()&&J>1)&&(this._zoom=p._limitZoom(this._zoom)),p.options.touchZoom==="center"){if(this._center=this._startLatLng,J===1)return}else{var ge=S._add(z)._divideBy(2)._subtract(this._centerPoint);if(J===1&&ge.x===0&&ge.y===0)return;this._center=p.unproject(p.project(this._pinchStartLatLng,this._zoom).subtract(ge),this._zoom)}this._moved||(p._moveStart(!0,!1),this._moved=!0),j(this._animRequest);var Ne=l(p._move,p,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=P(Ne,this,!0),tr(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,j(this._animRequest),Zt(document,"touchmove",this._onTouchMove,this),Zt(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});At.addInitHook("addHandler","touchZoom",Qs),At.BoxZoom=Xs,At.DoubleClickZoom=xc,At.Drag=Dt,At.Keyboard=Js,At.ScrollWheelZoom=Gl,At.TapHold=kn,At.TouchZoom=Qs,t.Bounds=ue,t.Browser=it,t.CRS=Me,t.Canvas=wf,t.Circle=gc,t.CircleMarker=Ys,t.Class=Z,t.Control=ln,t.DivIcon=Ul,t.DivOverlay=ns,t.DomEvent=Pt,t.DomUtil=er,t.Draggable=ys,t.Evented=X,t.FeatureGroup=Bt,t.GeoJSON=_s,t.GridLayer=ea,t.Handler=Dr,t.Icon=bs,t.ImageOverlay=Qo,t.LatLng=K,t.LatLngBounds=we,t.Layer=Rr,t.LayerGroup=Gs,t.LineUtil=qp,t.Map=At,t.Marker=jl,t.Mixin=Up,t.Path=Fi,t.Point=V,t.PolyUtil=af,t.Polygon=Ao,t.Polyline=ws,t.Popup=$l,t.PosAnimation=gn,t.Projection=Ko,t.Rectangle=na,t.Renderer=xs,t.SVG=ta,t.SVGOverlay=wc,t.TileLayer=Co,t.Tooltip=$a,t.Transformation=ce,t.Util=$,t.VideoOverlay=Zs,t.bind=l,t.bounds=xe,t.canvas=_f,t.circle=Yp,t.circleMarker=Gp,t.control=Yn,t.divIcon=vf,t.extend=i,t.featureGroup=Wp,t.geoJSON=Bi,t.geoJson=Kp,t.gridLayer=yf,t.icon=Xo,t.imageOverlay=mf,t.latLng=Ce,t.latLngBounds=Q,t.layerGroup=df,t.map=Gn,t.marker=Vp,t.point=Y,t.polygon=pf,t.polyline=vc,t.popup=Zp,t.rectangle=qa,t.setOptions=_,t.stamp=u,t.svg=Vl,t.svgOverlay=za,t.tileLayer=ql,t.tooltip=gf,t.transformation=W,t.version=r,t.videoOverlay=bc;var Ss=window.L;t.noConflict=function(){return window.L=Ss,this},window.L=t}))})(nh,nh.exports)),nh.exports}var i5=r5();const ua=Ol(i5);class s5 extends dn{static targets=["search","lat","lng"];connect(){const e=this.latTarget.value,t=this.lngTarget.value,r=this.data.get("zoom"),i="18";let h=ua.icon({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAGmklEQVRYw7VXeUyTZxjvNnfELFuyIzOabermMZEeQC/OclkO49CpOHXOLJl/CAURuYbQi3KLgEhbrhZ1aDwmaoGqKII6odATmH/scDFbdC7LvFqOCc+e95s2VG50X/LLm/f4/Z7neY/ne18aANCmAr5E/xZf1uDOkTcGcWR6hl9247tT5U7Y6SNvWsKT63P58qbfeLJG8M5qcgTknrvvrdDbsT7Ml+tv82X6vVxJE33aRmgSyYtcWVMqX97Yv2JvW39UhRE2HuyBL+t+gK1116ly06EeWFNlAmHxlQE0OMiV6mQCScusKRlhS3QLeVJdl1+23h5dY4FNB3thrbYboqptEFlphTC1hSpJnbRvxP4NWgsE5Jyz86QNNi/5qSUTGuFk1gu54tN9wuK2wc3o+Wc13RCmsoBwEqzGcZsxsvCSy/9wJKf7UWf1mEY8JWfewc67UUoDbDjQC+FqK4QqLVMGGR9d2wurKzqBk3nqIT/9zLxRRjgZ9bqQgub+DdoeCC03Q8j+0QhFhBHR/eP3U/zCln7Uu+hihJ1+bBNffLIvmkyP0gpBZWYXhKussK6mBz5HT6M1Nqpcp+mBCPXosYQfrekGvrjewd59/GvKCE7TbK/04/ZV5QZYVWmDwH1mF3xa2Q3ra3DBC5vBT1oP7PTj4C0+CcL8c7C2CtejqhuCnuIQHaKHzvcRfZpnylFfXsYJx3pNLwhKzRAwAhEqG0SpusBHfAKkxw3w4627MPhoCH798z7s0ZnBJ/MEJbZSbXPhER2ih7p2ok/zSj2cEJDd4CAe+5WYnBCgR2uruyEw6zRoW6/DWJ/OeAP8pd/BGtzOZKpG8oke0SX6GMmRk6GFlyAc59K32OTEinILRJRchah8HQwND8N435Z9Z0FY1EqtxUg+0SO6RJ/mmXz4VuS+DpxXC3gXmZwIL7dBSH4zKE50wESf8qwVgrP1EIlTO5JP9Igu0aexdh28F1lmAEGJGfh7jE6ElyM5Rw/FDcYJjWhbeiBYoYNIpc2FT/SILivp0F1ipDWk4BIEo2VuodEJUifhbiltnNBIXPUFCMpthtAyqws/BPlEF/VbaIxErdxPphsU7rcCp8DohC+GvBIPJS/tW2jtvTmmAeuNO8BNOYQeG8G/2OzCJ3q+soYB5i6NhMaKr17FSal7GIHheuV3uSCY8qYVuEm1cOzqdWr7ku/R0BDoTT+DT+ohCM6/CCvKLKO4RI+dXPeAuaMqksaKrZ7L3FE5FIFbkIceeOZ2OcHO6wIhTkNo0ffgjRGxEqogXHYUPHfWAC/lADpwGcLRY3aeK4/oRGCKYcZXPVoeX/kelVYY8dUGf8V5EBRbgJXT5QIPhP9ePJi428JKOiEYhYXFBqou2Guh+p/mEB1/RfMw6rY7cxcjTrneI1FrDyuzUSRm9miwEJx8E/gUmqlyvHGkneiwErR21F3tNOK5Tf0yXaT+O7DgCvALTUBXdM4YhC/IawPU+2PduqMvuaR6eoxSwUk75ggqsYJ7VicsnwGIkZBSXKOUww73WGXyqP+J2/b9c+gi1YAg/xpwck3gJuucNrh5JvDPvQr0WFXf0piyt8f8/WI0hV4pRxxkQZdJDfDJNOAmM0Ag8jyT6hz0WGXWuP94Yh2jcfjmXAGvHCMslRimDHYuHuDsy2QtHuIavznhbYURq5R57KpzBBRZKPJi8eQg48h4j8SDdowifdIrEVdU+gbO6QNvRRt4ZBthUaZhUnjlYObNagV3keoeru3rU7rcuceqU1mJBxy+BWZYlNEBH+0eH4vRiB+OYybU2hnblYlTvkHinM4m54YnxSyaZYSF6R3jwgP7udKLGIX6r/lbNa9N6y5MFynjWDtrHd75ZvTYAPO/6RgF0k76mQla3FGq7dO+cH8sKn0Vo7nDllwAhqwLPkxrHwWmHJOo+AKJ4rab5OgrM7rVu8eWb2Pu0Dh4eDgXoOfvp7Y7QeqknRmvcTBEyq9m/HQQSCSz6LHq3z0yzsNySRfMS253wl2KyRDbcZPcfJKjZmSEOjcxyi+Y8dUOtsIEH6R2wNykdqrkYJ0RV92H0W58pkfQk7cKevsLK10Py8SdMGfXNXATY+pPbyJR/ET6n9nIfztNtZYRV9XniQu9IA2vOVgy4ir7GCLVmmd+zjkH0eAF9Po6K61pmCXHxU5rHMYd1ftc3owjwRSVRzLjKvqZEty6cRUD7jGqiOdu5HG6MdHjNcNYGqfDm5YRzLBBCCDl/2bk8a8gdbqcfwECu62Fg/HrggAAAABJRU5ErkJggg==",iconAnchor:[12,41],iconSize:[25,41],popupAnchor:[1,-34],shadowSize:[41,41],shadowUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAC5ElEQVRYw+2YW4/TMBCF45S0S1luXZCABy5CgLQgwf//S4BYBLTdJLax0fFqmB07nnQfEGqkIydpVH85M+NLjPe++dcPc4Q8Qh4hj5D/AaQJx6H/4TMwB0PeBNwU7EGQAmAtsNfAzoZkgIa0ZgLMa4Aj6CxIAsjhjOCoL5z7Glg1JAOkaicgvQBXuncwJAWjksLtBTWZe04CnYRktUGdilALppZBOgHGZcBzL6OClABvMSVIzyBjazOgrvACf1ydC5mguqAVg6RhdkSWQFj2uxfaq/BrIZOLEWgZdALIDvcMcZLD8ZbLC9de4yR1sYMi4G20S4Q/PWeJYxTOZn5zJXANZHIxAd4JWhPIloTJZhzMQduM89WQ3MUVAE/RnhAXpTycqys3NZALOBbB7kFrgLesQl2h45Fcj8L1tTSohUwuxhy8H/Qg6K7gIs+3kkaigQCOcyEXCHN07wyQazhrmIulvKMQAwMcmLNqyCVyMAI+BuxSMeTk3OPikLY2J1uE+VHQk6ANrhds+tNARqBeaGc72cK550FP4WhXmFmcMGhTwAR1ifOe3EvPqIegFmF+C8gVy0OfAaWQPMR7gF1OQKqGoBjq90HPMP01BUjPOqGFksC4emE48tWQAH0YmvOgF3DST6xieJgHAWxPAHMuNhrImIdvoNOKNWIOcE+UXE0pYAnkX6uhWsgVXDxHdTfCmrEEmMB2zMFimLVOtiiajxiGWrbU52EeCdyOwPEQD8LqyPH9Ti2kgYMf4OhSKB7qYILbBv3CuVTJ11Y80oaseiMWOONc/Y7kJYe0xL2f0BaiFTxknHO5HaMGMublKwxFGzYdWsBF174H/QDknhTHmHHN39iWFnkZx8lPyM8WHfYELmlLKtgWNmFNzQcC1b47gJ4hL19i7o65dhH0Negbca8vONZoP7doIeOC9zXm8RjuL0Gf4d4OYaU5ljo3GYiqzrWQHfJxA6ALhDpVKv9qYeZA8eM3EhfPSCmpuD0AAAAASUVORK5CYII="});this.leafletMap=ua.map(this.data.get("id"),{center:[e,t],zoom:r}),this.leafLayer=ua.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',maxZoom:i}).addTo(this.leafletMap),this.leafletMarker=ua.marker([e,t],{icon:h,draggable:!0,autoPan:!0,autoPanPadding:ua.point(100,100)}).addTo(this.leafletMap),this.leafletMarker.on("dragend",()=>{this.updateCoords()}),this.leafletMap.on("click",f=>{this.leafletMarker.setLatLng(f.latlng),this.updateCoords(),this.leafletMap.panTo(f.latlng)});let u=document.querySelector('a[data-bs-toggle="tab"]');u!==null&&u.addEventListener("shown.bs.tab",()=>this.leafletMap.invalidateSize())}updateCoords(){this.latTarget.value=this.leafletMarker.getLatLng().lat,this.lngTarget.value=this.leafletMarker.getLatLng().lng,this.latTarget.dispatchEvent(new Event("change")),this.lngTarget.dispatchEvent(new Event("change"))}search(){const e=this.element.querySelector(".marker-results");this.searchTarget.value.length<=3||axios.get("https://nominatim.openstreetmap.org/search?format=json&limit=5&q="+this.searchTarget.value).then(t=>{let r=[];if(t.data.forEach(i=>{let o=i.boundingbox,l=i.lat,h=i.lon,u=i.display_name;r.push("<li style='cursor:pointer' data-name='"+u+"' data-lat='"+l+"' data-lng='"+h+"' data-lat1='"+o[0]+"' data-lat2='"+o[1]+"' data-lng1='"+o[2]+"' data-lng2='"+o[3]+"' data-type='"+i.osm_type+"' data-action='click->map#chooseAddr'>"+i.display_name+"</li>")}),e.innerHTML=null,r.length!==0){e.innerHTML="<ul class='my-2'>"+r.join("")+"</ul>";return}e.innerHTML="<small>No results found</small>"})}chooseAddr(e){const t=e.target.getAttribute("data-name"),r=e.target.getAttribute("data-lat"),i=e.target.getAttribute("data-lng"),o=e.target.getAttribute("data-lat1"),l=e.target.getAttribute("data-lat2"),h=e.target.getAttribute("data-lng1"),u=e.target.getAttribute("data-lng2"),f=new ua.LatLng(o,h),d=new ua.LatLng(l,u),g=new ua.LatLngBounds(f,d);this.leafletMap.fitBounds(g),this.leafletMarker.setLatLng([r,i]),this.updateCoords(),this.searchTarget.value=t}}const o5=Object.freeze(Object.defineProperty({__proto__:null,default:s5},Symbol.toStringTag,{value:"Module"}));class a5 extends dn{static targets=["index"];connect(){this.template=this.element.querySelector(".matrix-template"),this.keyValueMode=this.data.get("key-value")==="true",this.detectMaxRows()}deleteRow(e){return(e.path||e.composedPath&&e.composedPath()).forEach(r=>{r.tagName==="TR"&&r.parentNode.removeChild(r)}),this.detectMaxRows(),e.preventDefault(),!1}addRow(e){this.index++;let t=this.template.content.querySelector("tr").cloneNode(!0);t.innerHTML=t.innerHTML.replace(/{index}/gi,this.index);let r=this.element.querySelector(".add-row");return this.element.querySelector("tbody").insertBefore(t,r),this.detectMaxRows(),e.preventDefault(),!1}get index(){return parseInt(this.data.get("index"))}set index(e){this.data.set("index",e)}detectMaxRows(){const e=parseInt(this.data.get("rows"));if(e===0)return;let t=this.element.querySelectorAll("tbody tr:not(.add-row)").length,r=this.element.querySelector(".add-row th");r.style.display=e<=t?"none":""}}const l5=Object.freeze(Object.defineProperty({__proto__:null,default:a5},Symbol.toStringTag,{value:"Module"}));class u5 extends dn{toggle(e){document.body.classList.toggle("menu-open"),e.preventDefault()}}const c5=Object.freeze(Object.defineProperty({__proto__:null,default:u5},Symbol.toStringTag,{value:"Module"}));class h5 extends dn{static values={slug:{type:String,default:""},url:{type:String,default:""},parameters:{type:Object},open:{type:Boolean,default:!1}};static targets=["title"];static SESSION_KEY_FOR_LAST_OPEN_MODAL="last-open-modal";initialize(){this.show=this.show.bind(this),this.hidden=this.hidden.bind(this)}connect(){this.element.addEventListener("shown.bs.modal",this.show),this.element.addEventListener("hide.bs.modal",this.hidden),this.openValue&&new pi(this.element).show(),this.openLastModal()}disconnect(){this.element.removeEventListener("shown.bs.modal",this.show),this.element.removeEventListener("hide.bs.modal",this.hidden)}show(e){this.updateTurboCacheControl("no-cache"),this.element.querySelector("[autofocus]")?.focus()}hidden(e){this.updateTurboCacheControl("cache"),this.clearLastOpenModal()}open(e){e={...e,slug:this.slugValue,validateError:this.element.querySelectorAll(".invalid-feedback").length>0},this.element.querySelector("form").action=e.submit,e.title!==void 0&&(this.titleTarget.textContent=e.title),Object.keys(this.parametersValue).length!==0&&!e.validateError&&this.asyncLoadData(e.params),this.storeLastOpenModal(e),new pi(this.element).toggle()}openLastModal(){if(this.element.querySelectorAll(".invalid-feedback").length===0)return;const e=this.lastOpenModal();e&&e.slug===this.slugValue&&(this.element.classList.remove("fade","in"),this.open(e))}asyncLoadData(e){this.element.classList.add("modal-loading");let t=new URLSearchParams(e).toString();this.loadStream(`${this.urlValue}?${t}`,{_state:document.getElementById("screen-state")?.value||null,...this.parametersValue}).then(()=>this.element.classList.remove("modal-loading"))}storeLastOpenModal(e){window.sessionStorage.setItem(this.constructor.SESSION_KEY_FOR_LAST_OPEN_MODAL,JSON.stringify(e))}lastOpenModal(){return JSON.parse(sessionStorage.getItem(this.constructor.SESSION_KEY_FOR_LAST_OPEN_MODAL))??!1}clearLastOpenModal(){sessionStorage.removeItem(this.constructor.SESSION_KEY_FOR_LAST_OPEN_MODAL)}}const f5=Object.freeze(Object.defineProperty({__proto__:null,default:h5},Symbol.toStringTag,{value:"Module"}));class d5 extends dn{static values={title:{type:String,default:null},key:{type:String},action:{type:String},parameters:{type:Object},open:{type:Boolean,default:!1}};connect(){setTimeout(()=>{this.openValue&&(this.modal.classList.remove("fade","in"),this.targetModal())})}targetModal(e){if(this.application.getControllerForElementAndIdentifier(this.modal,"modal").open({title:this.titleValue||this.modal.dataset.modalTitle,submit:this.actionValue,params:this.parametersValue}),e)return e.preventDefault()}get modal(){let e=document.getElementById(`screen-modal-${this.keyValue}`);return e===null&&this.toast("The modal element does not exist.","warning"),e}}const p5=Object.freeze(Object.defineProperty({__proto__:null,default:d5},Symbol.toStringTag,{value:"Module"}));class m5 extends dn{static targets=["badge"];static values={count:{type:Number,default:0},url:{type:String},method:{type:String,default:"get"},interval:{type:Number,default:60}};initialize(){this.channel=new BroadcastChannel(this.channelName()),this.channel.onmessage=e=>{const{total:t}=e.data;Wy.clear(),this.render(t)}}connect(){this.channel.postMessage({total:this.countValue}),this.updateInterval=this.setUpdateInterval()}disconnect(){clearInterval(this.updateInterval),this.channel.close()}channelName(){return"profile.notifications"}setUpdateInterval(){const e=this.urlValue,t=this.methodValue,r=this.intervalValue;return setInterval(()=>{this.ensureLeader()&&axios({method:t,url:e}).then(i=>{const o=i.data.total;this.channel.postMessage({total:o}),this.render(o)})},r*1e3)}ensureLeader(){const e=Date.now(),t=JSON.parse(localStorage.getItem("notification_leader")||"null"),r={type:"leader",id:this.tabId(),expiry:e+this.intervalValue*2*1e3};return t&&t.expiry>e&&t.id!==this.tabId()?!1:(localStorage.setItem("notification_leader",JSON.stringify(r)),!0)}render(e){let t=this.element.querySelector("#notification-circle").innerHTML.trim();e<10&&(t=e),(e===null||parseInt(e)===0)&&(t=""),this.badgeTarget.classList.remove("d-none"),this.badgeTarget.innerHTML=t}}const g5=Object.freeze(Object.defineProperty({__proto__:null,default:m5},Symbol.toStringTag,{value:"Module"}));class v5 extends dn{static targets=["password","iconShow","iconLock"];change(){const e=this.passwordTarget.type;let t="password";e==="text"&&(this.iconLockTarget.classList.add("none"),this.iconShowTarget.classList.remove("none")),e==="password"&&(t="text",this.iconLockTarget.classList.remove("none"),this.iconShowTarget.classList.add("none")),this.passwordTarget.setAttribute("type",t)}}const y5=Object.freeze(Object.defineProperty({__proto__:null,default:v5},Symbol.toStringTag,{value:"Module"}));class b5 extends dn{static targets=["source","upload"];connect(){let e=this.data.get("url")?this.data.get("url"):this.data.get("value");if(e){this.element.querySelector(".picture-preview").src=e;return}this.element.querySelector(".picture-preview").classList.add("none"),this.element.querySelector(".picture-remove").classList.add("none")}upload(e){if(!e.target.files[0])return;let t=this.data.get("max-file-size");if(e.target.files[0].size/1024/1024>t){this.alert("Validation error",`The download file is too large. Max size: ${t} MB`),e.target.value=null;return}let r=new FileReader;r.readAsDataURL(e.target.files[0]),r.onloadend=()=>{const i=new FormData;i.append("file",e.target.files[0]),i.append("storage",this.data.get("storage")),i.append("group",this.data.get("groups")),i.append("path",this.data.get("path")),i.append("acceptedFiles",this.data.get("accepted-files"));let o=this.element;window.axios.post(this.prefix("/systems/files"),i).then(l=>{let h=l.data.url,u=this.data.get("target");o.querySelector(".picture-preview").src=h,o.querySelector(".picture-preview").classList.remove("none"),o.querySelector(".picture-remove").classList.remove("none"),o.querySelector(".picture-path").value=l.data[u],o.querySelector(".picture-path").dispatchEvent(new Event("change"))}).catch(l=>{this.alert("Validation error","File upload error"),console.warn(l)})}}clear(){this.element.querySelector(".picture-path").value="",this.element.querySelector(".picture-input").value="",this.element.querySelector(".picture-preview").src="",this.element.querySelector(".picture-preview").classList.add("none"),this.element.querySelector(".picture-remove").classList.add("none")}}const w5=Object.freeze(Object.defineProperty({__proto__:null,default:b5},Symbol.toStringTag,{value:"Module"}));class _5 extends dn{connect(){this.popover=new Vh(this.element)}trigger(e){e.preventDefault(),this.popover.toggle()}disconnect(){this.popover.dispose()}}const x5=Object.freeze(Object.defineProperty({__proto__:null,default:_5},Symbol.toStringTag,{value:"Module"}));class S5 extends Tl{touchstart(e){this.startPageY=e.touches[0].screenY}touchmove(e){if(this.willRefresh)return;const t=document.body.scrollTop,r=e.changedTouches[0].screenY-this.startPageY;t<1&&r>150&&(this.willRefresh=!0,this.element.style="filter: blur(1px);opacity: 0.2;touch-action: none;")}touchend(e){this.willRefresh&&Turbo.visit(window.location.toString(),{action:"replace"})}}const E5=Object.freeze(Object.defineProperty({__proto__:null,default:S5},Symbol.toStringTag,{value:"Module"}));var qA=typeof global=="object"&&global&&global.Object===Object&&global,A5=typeof self=="object"&&self&&self.Object===Object&&self,go=qA||A5||Function("return this")(),Oa=go.Symbol,WA=Object.prototype,T5=WA.hasOwnProperty,k5=WA.toString,Gc=Oa?Oa.toStringTag:void 0;function C5(n){var e=T5.call(n,Gc),t=n[Gc];try{n[Gc]=void 0;var r=!0}catch{}var i=k5.call(n);return r&&(e?n[Gc]=t:delete n[Gc]),i}var O5=Object.prototype,L5=O5.toString;function M5(n){return L5.call(n)}var P5="[object Null]",N5="[object Undefined]",K1=Oa?Oa.toStringTag:void 0;function lc(n){return n==null?n===void 0?N5:P5:K1&&K1 in Object(n)?C5(n):M5(n)}function zo(n){return n!=null&&typeof n=="object"}var xl=Array.isArray;function Na(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}function VA(n){return n}var I5="[object AsyncFunction]",D5="[object Function]",R5="[object GeneratorFunction]",F5="[object Proxy]";function rb(n){if(!Na(n))return!1;var e=lc(n);return e==D5||e==R5||e==I5||e==F5}var Vg=go["__core-js_shared__"],Z1=(function(){var n=/[^.]+$/.exec(Vg&&Vg.keys&&Vg.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function B5(n){return!!Z1&&Z1 in n}var j5=Function.prototype,H5=j5.toString;function Ll(n){if(n!=null){try{return H5.call(n)}catch{}try{return n+""}catch{}}return""}var z5=/[\\^$.*+?()[\]{}|]/g,$5=/^\[object .+?Constructor\]$/,U5=Function.prototype,q5=Object.prototype,W5=U5.toString,V5=q5.hasOwnProperty,G5=RegExp("^"+W5.call(V5).replace(z5,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y5(n){if(!Na(n)||B5(n))return!1;var e=rb(n)?G5:$5;return e.test(Ll(n))}function K5(n,e){return n?.[e]}function Ml(n,e){var t=K5(n,e);return Y5(t)?t:void 0}var Yv=Ml(go,"WeakMap"),X1=Object.create,Z5=(function(){function n(){}return function(e){if(!Na(e))return{};if(X1)return X1(e);n.prototype=e;var t=new n;return n.prototype=void 0,t}})();function X5(n,e,t){switch(t.length){case 0:return n.call(e);case 1:return n.call(e,t[0]);case 2:return n.call(e,t[0],t[1]);case 3:return n.call(e,t[0],t[1],t[2])}return n.apply(e,t)}function J5(n,e){var t=-1,r=n.length;for(e||(e=Array(r));++t<r;)e[t]=n[t];return e}var Q5=800,ej=16,tj=Date.now;function nj(n){var e=0,t=0;return function(){var r=tj(),i=ej-(r-t);if(t=r,i>0){if(++e>=Q5)return arguments[0]}else e=0;return n.apply(void 0,arguments)}}function rj(n){return function(){return n}}var ip=(function(){try{var n=Ml(Object,"defineProperty");return n({},"",{}),n}catch{}})(),ij=ip?function(n,e){return ip(n,"toString",{configurable:!0,enumerable:!1,value:rj(e),writable:!0})}:VA,sj=nj(ij);function oj(n,e){for(var t=-1,r=n==null?0:n.length;++t<r&&e(n[t],t,n)!==!1;);return n}var aj=9007199254740991,lj=/^(?:0|[1-9]\d*)$/;function GA(n,e){var t=typeof n;return e=e??aj,!!e&&(t=="number"||t!="symbol"&&lj.test(n))&&n>-1&&n%1==0&&n<e}function ib(n,e,t){e=="__proto__"&&ip?ip(n,e,{configurable:!0,enumerable:!0,value:t,writable:!0}):n[e]=t}function ef(n,e){return n===e||n!==n&&e!==e}var uj=Object.prototype,cj=uj.hasOwnProperty;function YA(n,e,t){var r=n[e];(!(cj.call(n,e)&&ef(r,t))||t===void 0&&!(e in n))&&ib(n,e,t)}function hj(n,e,t,r){var i=!t;t||(t={});for(var o=-1,l=e.length;++o<l;){var h=e[o],u=void 0;u===void 0&&(u=n[h]),i?ib(t,h,u):YA(t,h,u)}return t}var J1=Math.max;function fj(n,e,t){return e=J1(e===void 0?n.length-1:e,0),function(){for(var r=arguments,i=-1,o=J1(r.length-e,0),l=Array(o);++i<o;)l[i]=r[e+i];i=-1;for(var h=Array(e+1);++i<e;)h[i]=r[i];return h[e]=t(l),X5(n,this,h)}}function dj(n,e){return sj(fj(n,e,VA),n+"")}var pj=9007199254740991;function KA(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=pj}function Ip(n){return n!=null&&KA(n.length)&&!rb(n)}function mj(n,e,t){if(!Na(t))return!1;var r=typeof e;return(r=="number"?Ip(t)&&GA(e,t.length):r=="string"&&e in t)?ef(t[e],n):!1}function gj(n){return dj(function(e,t){var r=-1,i=t.length,o=i>1?t[i-1]:void 0,l=i>2?t[2]:void 0;for(o=n.length>3&&typeof o=="function"?(i--,o):void 0,l&&mj(t[0],t[1],l)&&(o=i<3?void 0:o,i=1),e=Object(e);++r<i;){var h=t[r];h&&n(e,h,r,o)}return e})}var vj=Object.prototype;function sb(n){var e=n&&n.constructor,t=typeof e=="function"&&e.prototype||vj;return n===t}function yj(n,e){for(var t=-1,r=Array(n);++t<n;)r[t]=e(t);return r}var bj="[object Arguments]";function Q1(n){return zo(n)&&lc(n)==bj}var ZA=Object.prototype,wj=ZA.hasOwnProperty,_j=ZA.propertyIsEnumerable,Kv=Q1((function(){return arguments})())?Q1:function(n){return zo(n)&&wj.call(n,"callee")&&!_j.call(n,"callee")};function xj(){return!1}var XA=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,e_=XA&&typeof Zi=="object"&&Zi&&!Zi.nodeType&&Zi,Sj=e_&&e_.exports===XA,t_=Sj?go.Buffer:void 0,Ej=t_?t_.isBuffer:void 0,kh=Ej||xj,Aj="[object Arguments]",Tj="[object Array]",kj="[object Boolean]",Cj="[object Date]",Oj="[object Error]",Lj="[object Function]",Mj="[object Map]",Pj="[object Number]",Nj="[object Object]",Ij="[object RegExp]",Dj="[object Set]",Rj="[object String]",Fj="[object WeakMap]",Bj="[object ArrayBuffer]",jj="[object DataView]",Hj="[object Float32Array]",zj="[object Float64Array]",$j="[object Int8Array]",Uj="[object Int16Array]",qj="[object Int32Array]",Wj="[object Uint8Array]",Vj="[object Uint8ClampedArray]",Gj="[object Uint16Array]",Yj="[object Uint32Array]",Un={};Un[Hj]=Un[zj]=Un[$j]=Un[Uj]=Un[qj]=Un[Wj]=Un[Vj]=Un[Gj]=Un[Yj]=!0;Un[Aj]=Un[Tj]=Un[Bj]=Un[kj]=Un[jj]=Un[Cj]=Un[Oj]=Un[Lj]=Un[Mj]=Un[Pj]=Un[Nj]=Un[Ij]=Un[Dj]=Un[Rj]=Un[Fj]=!1;function Kj(n){return zo(n)&&KA(n.length)&&!!Un[lc(n)]}function ob(n){return function(e){return n(e)}}var JA=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,yh=JA&&typeof Zi=="object"&&Zi&&!Zi.nodeType&&Zi,Zj=yh&&yh.exports===JA,Gg=Zj&&qA.process,Ku=(function(){try{var n=yh&&yh.require&&yh.require("util").types;return n||Gg&&Gg.binding&&Gg.binding("util")}catch{}})(),n_=Ku&&Ku.isTypedArray,ab=n_?ob(n_):Kj,Xj=Object.prototype,Jj=Xj.hasOwnProperty;function QA(n,e){var t=xl(n),r=!t&&Kv(n),i=!t&&!r&&kh(n),o=!t&&!r&&!i&&ab(n),l=t||r||i||o,h=l?yj(n.length,String):[],u=h.length;for(var f in n)(e||Jj.call(n,f))&&!(l&&(f=="length"||i&&(f=="offset"||f=="parent")||o&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||GA(f,u)))&&h.push(f);return h}function eT(n,e){return function(t){return n(e(t))}}var Qj=eT(Object.keys,Object),e6=Object.prototype,t6=e6.hasOwnProperty;function n6(n){if(!sb(n))return Qj(n);var e=[];for(var t in Object(n))t6.call(n,t)&&t!="constructor"&&e.push(t);return e}function r6(n){return Ip(n)?QA(n):n6(n)}function i6(n){var e=[];if(n!=null)for(var t in Object(n))e.push(t);return e}var s6=Object.prototype,o6=s6.hasOwnProperty;function a6(n){if(!Na(n))return i6(n);var e=sb(n),t=[];for(var r in n)r=="constructor"&&(e||!o6.call(n,r))||t.push(r);return t}function tT(n){return Ip(n)?QA(n,!0):a6(n)}var Ch=Ml(Object,"create");function l6(){this.__data__=Ch?Ch(null):{},this.size=0}function u6(n){var e=this.has(n)&&delete this.__data__[n];return this.size-=e?1:0,e}var c6="__lodash_hash_undefined__",h6=Object.prototype,f6=h6.hasOwnProperty;function d6(n){var e=this.__data__;if(Ch){var t=e[n];return t===c6?void 0:t}return f6.call(e,n)?e[n]:void 0}var p6=Object.prototype,m6=p6.hasOwnProperty;function g6(n){var e=this.__data__;return Ch?e[n]!==void 0:m6.call(e,n)}var v6="__lodash_hash_undefined__";function y6(n,e){var t=this.__data__;return this.size+=this.has(n)?0:1,t[n]=Ch&&e===void 0?v6:e,this}function Sl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Sl.prototype.clear=l6;Sl.prototype.delete=u6;Sl.prototype.get=d6;Sl.prototype.has=g6;Sl.prototype.set=y6;function b6(){this.__data__=[],this.size=0}function Dp(n,e){for(var t=n.length;t--;)if(ef(n[t][0],e))return t;return-1}var w6=Array.prototype,_6=w6.splice;function x6(n){var e=this.__data__,t=Dp(e,n);if(t<0)return!1;var r=e.length-1;return t==r?e.pop():_6.call(e,t,1),--this.size,!0}function S6(n){var e=this.__data__,t=Dp(e,n);return t<0?void 0:e[t][1]}function E6(n){return Dp(this.__data__,n)>-1}function A6(n,e){var t=this.__data__,r=Dp(t,n);return r<0?(++this.size,t.push([n,e])):t[r][1]=e,this}function Wo(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Wo.prototype.clear=b6;Wo.prototype.delete=x6;Wo.prototype.get=S6;Wo.prototype.has=E6;Wo.prototype.set=A6;var Oh=Ml(go,"Map");function T6(){this.size=0,this.__data__={hash:new Sl,map:new(Oh||Wo),string:new Sl}}function k6(n){var e=typeof n;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?n!=="__proto__":n===null}function Rp(n,e){var t=n.__data__;return k6(e)?t[typeof e=="string"?"string":"hash"]:t.map}function C6(n){var e=Rp(this,n).delete(n);return this.size-=e?1:0,e}function O6(n){return Rp(this,n).get(n)}function L6(n){return Rp(this,n).has(n)}function M6(n,e){var t=Rp(this,n),r=t.size;return t.set(n,e),this.size+=t.size==r?0:1,this}function Pl(n){var e=-1,t=n==null?0:n.length;for(this.clear();++e<t;){var r=n[e];this.set(r[0],r[1])}}Pl.prototype.clear=T6;Pl.prototype.delete=C6;Pl.prototype.get=O6;Pl.prototype.has=L6;Pl.prototype.set=M6;function P6(n,e){for(var t=-1,r=e.length,i=n.length;++t<r;)n[i+t]=e[t];return n}var nT=eT(Object.getPrototypeOf,Object),N6="[object Object]",I6=Function.prototype,D6=Object.prototype,rT=I6.toString,R6=D6.hasOwnProperty,F6=rT.call(Object);function B6(n){if(!zo(n)||lc(n)!=N6)return!1;var e=nT(n);if(e===null)return!0;var t=R6.call(e,"constructor")&&e.constructor;return typeof t=="function"&&t instanceof t&&rT.call(t)==F6}function j6(){this.__data__=new Wo,this.size=0}function H6(n){var e=this.__data__,t=e.delete(n);return this.size=e.size,t}function z6(n){return this.__data__.get(n)}function $6(n){return this.__data__.has(n)}var U6=200;function q6(n,e){var t=this.__data__;if(t instanceof Wo){var r=t.__data__;if(!Oh||r.length<U6-1)return r.push([n,e]),this.size=++t.size,this;t=this.__data__=new Pl(r)}return t.set(n,e),this.size=t.size,this}function co(n){var e=this.__data__=new Wo(n);this.size=e.size}co.prototype.clear=j6;co.prototype.delete=H6;co.prototype.get=z6;co.prototype.has=$6;co.prototype.set=q6;var iT=typeof Ki=="object"&&Ki&&!Ki.nodeType&&Ki,r_=iT&&typeof Zi=="object"&&Zi&&!Zi.nodeType&&Zi,W6=r_&&r_.exports===iT,i_=W6?go.Buffer:void 0,s_=i_?i_.allocUnsafe:void 0;function sT(n,e){if(e)return n.slice();var t=n.length,r=s_?s_(t):new n.constructor(t);return n.copy(r),r}function V6(n,e){for(var t=-1,r=n==null?0:n.length,i=0,o=[];++t<r;){var l=n[t];e(l,t,n)&&(o[i++]=l)}return o}function G6(){return[]}var Y6=Object.prototype,K6=Y6.propertyIsEnumerable,o_=Object.getOwnPropertySymbols,Z6=o_?function(n){return n==null?[]:(n=Object(n),V6(o_(n),function(e){return K6.call(n,e)}))}:G6;function X6(n,e,t){var r=e(n);return xl(n)?r:P6(r,t(n))}function Zv(n){return X6(n,r6,Z6)}var Xv=Ml(go,"DataView"),Jv=Ml(go,"Promise"),Qv=Ml(go,"Set"),a_="[object Map]",J6="[object Object]",l_="[object Promise]",u_="[object Set]",c_="[object WeakMap]",h_="[object DataView]",Q6=Ll(Xv),e8=Ll(Oh),t8=Ll(Jv),n8=Ll(Qv),r8=Ll(Yv),Ds=lc;(Xv&&Ds(new Xv(new ArrayBuffer(1)))!=h_||Oh&&Ds(new Oh)!=a_||Jv&&Ds(Jv.resolve())!=l_||Qv&&Ds(new Qv)!=u_||Yv&&Ds(new Yv)!=c_)&&(Ds=function(n){var e=lc(n),t=e==J6?n.constructor:void 0,r=t?Ll(t):"";if(r)switch(r){case Q6:return h_;case e8:return a_;case t8:return l_;case n8:return u_;case r8:return c_}return e});var i8=Object.prototype,s8=i8.hasOwnProperty;function o8(n){var e=n.length,t=new n.constructor(e);return e&&typeof n[0]=="string"&&s8.call(n,"index")&&(t.index=n.index,t.input=n.input),t}var sp=go.Uint8Array;function lb(n){var e=new n.constructor(n.byteLength);return new sp(e).set(new sp(n)),e}function a8(n,e){var t=lb(n.buffer);return new n.constructor(t,n.byteOffset,n.byteLength)}var l8=/\w*$/;function u8(n){var e=new n.constructor(n.source,l8.exec(n));return e.lastIndex=n.lastIndex,e}var f_=Oa?Oa.prototype:void 0,d_=f_?f_.valueOf:void 0;function c8(n){return d_?Object(d_.call(n)):{}}function oT(n,e){var t=e?lb(n.buffer):n.buffer;return new n.constructor(t,n.byteOffset,n.length)}var h8="[object Boolean]",f8="[object Date]",d8="[object Map]",p8="[object Number]",m8="[object RegExp]",g8="[object Set]",v8="[object String]",y8="[object Symbol]",b8="[object ArrayBuffer]",w8="[object DataView]",_8="[object Float32Array]",x8="[object Float64Array]",S8="[object Int8Array]",E8="[object Int16Array]",A8="[object Int32Array]",T8="[object Uint8Array]",k8="[object Uint8ClampedArray]",C8="[object Uint16Array]",O8="[object Uint32Array]";function L8(n,e,t){var r=n.constructor;switch(e){case b8:return lb(n);case h8:case f8:return new r(+n);case w8:return a8(n);case _8:case x8:case S8:case E8:case A8:case T8:case k8:case C8:case O8:return oT(n,t);case d8:return new r;case p8:case v8:return new r(n);case m8:return u8(n);case g8:return new r;case y8:return c8(n)}}function aT(n){return typeof n.constructor=="function"&&!sb(n)?Z5(nT(n)):{}}var M8="[object Map]";function P8(n){return zo(n)&&Ds(n)==M8}var p_=Ku&&Ku.isMap,N8=p_?ob(p_):P8,I8="[object Set]";function D8(n){return zo(n)&&Ds(n)==I8}var m_=Ku&&Ku.isSet,R8=m_?ob(m_):D8,F8=1,lT="[object Arguments]",B8="[object Array]",j8="[object Boolean]",H8="[object Date]",z8="[object Error]",uT="[object Function]",$8="[object GeneratorFunction]",U8="[object Map]",q8="[object Number]",cT="[object Object]",W8="[object RegExp]",V8="[object Set]",G8="[object String]",Y8="[object Symbol]",K8="[object WeakMap]",Z8="[object ArrayBuffer]",X8="[object DataView]",J8="[object Float32Array]",Q8="[object Float64Array]",eH="[object Int8Array]",tH="[object Int16Array]",nH="[object Int32Array]",rH="[object Uint8Array]",iH="[object Uint8ClampedArray]",sH="[object Uint16Array]",oH="[object Uint32Array]",Hn={};Hn[lT]=Hn[B8]=Hn[Z8]=Hn[X8]=Hn[j8]=Hn[H8]=Hn[J8]=Hn[Q8]=Hn[eH]=Hn[tH]=Hn[nH]=Hn[U8]=Hn[q8]=Hn[cT]=Hn[W8]=Hn[V8]=Hn[G8]=Hn[Y8]=Hn[rH]=Hn[iH]=Hn[sH]=Hn[oH]=!0;Hn[z8]=Hn[uT]=Hn[K8]=!1;function Id(n,e,t,r,i,o){var l,h=e&F8;if(l!==void 0)return l;if(!Na(n))return n;var u=xl(n);if(u)l=o8(n);else{var f=Ds(n),d=f==uT||f==$8;if(kh(n))return sT(n,h);if(f==cT||f==lT||d&&!i)l=d?{}:aT(n);else{if(!Hn[f])return i?n:{};l=L8(n,f,h)}}o||(o=new co);var g=o.get(n);if(g)return g;o.set(n,l),R8(n)?n.forEach(function(w){l.add(Id(w,e,t,w,n,o))}):N8(n)&&n.forEach(function(w,_){l.set(_,Id(w,e,t,_,n,o))});var y=Zv,k=u?void 0:y(n);return oj(k||n,function(w,_){k&&(_=w,w=n[_]),YA(l,_,Id(w,e,t,_,n,o))}),l}var aH=1,lH=4;function Fu(n){return Id(n,aH|lH)}var uH="__lodash_hash_undefined__";function cH(n){return this.__data__.set(n,uH),this}function hH(n){return this.__data__.has(n)}function op(n){var e=-1,t=n==null?0:n.length;for(this.__data__=new Pl;++e<t;)this.add(n[e])}op.prototype.add=op.prototype.push=cH;op.prototype.has=hH;function fH(n,e){for(var t=-1,r=n==null?0:n.length;++t<r;)if(e(n[t],t,n))return!0;return!1}function dH(n,e){return n.has(e)}var pH=1,mH=2;function hT(n,e,t,r,i,o){var l=t&pH,h=n.length,u=e.length;if(h!=u&&!(l&&u>h))return!1;var f=o.get(n),d=o.get(e);if(f&&d)return f==e&&d==n;var g=-1,y=!0,k=t&mH?new op:void 0;for(o.set(n,e),o.set(e,n);++g<h;){var w=n[g],_=e[g];if(r)var A=l?r(_,w,g,e,n,o):r(w,_,g,n,e,o);if(A!==void 0){if(A)continue;y=!1;break}if(k){if(!fH(e,function(N,b){if(!dH(k,b)&&(w===N||i(w,N,t,r,o)))return k.push(b)})){y=!1;break}}else if(!(w===_||i(w,_,t,r,o))){y=!1;break}}return o.delete(n),o.delete(e),y}function gH(n){var e=-1,t=Array(n.size);return n.forEach(function(r,i){t[++e]=[i,r]}),t}function vH(n){var e=-1,t=Array(n.size);return n.forEach(function(r){t[++e]=r}),t}var yH=1,bH=2,wH="[object Boolean]",_H="[object Date]",xH="[object Error]",SH="[object Map]",EH="[object Number]",AH="[object RegExp]",TH="[object Set]",kH="[object String]",CH="[object Symbol]",OH="[object ArrayBuffer]",LH="[object DataView]",g_=Oa?Oa.prototype:void 0,Yg=g_?g_.valueOf:void 0;function MH(n,e,t,r,i,o,l){switch(t){case LH:if(n.byteLength!=e.byteLength||n.byteOffset!=e.byteOffset)return!1;n=n.buffer,e=e.buffer;case OH:return!(n.byteLength!=e.byteLength||!o(new sp(n),new sp(e)));case wH:case _H:case EH:return ef(+n,+e);case xH:return n.name==e.name&&n.message==e.message;case AH:case kH:return n==e+"";case SH:var h=gH;case TH:var u=r&yH;if(h||(h=vH),n.size!=e.size&&!u)return!1;var f=l.get(n);if(f)return f==e;r|=bH,l.set(n,e);var d=hT(h(n),h(e),r,i,o,l);return l.delete(n),d;case CH:if(Yg)return Yg.call(n)==Yg.call(e)}return!1}var PH=1,NH=Object.prototype,IH=NH.hasOwnProperty;function DH(n,e,t,r,i,o){var l=t&PH,h=Zv(n),u=h.length,f=Zv(e),d=f.length;if(u!=d&&!l)return!1;for(var g=u;g--;){var y=h[g];if(!(l?y in e:IH.call(e,y)))return!1}var k=o.get(n),w=o.get(e);if(k&&w)return k==e&&w==n;var _=!0;o.set(n,e),o.set(e,n);for(var A=l;++g<u;){y=h[g];var N=n[y],b=e[y];if(r)var M=l?r(b,N,y,e,n,o):r(N,b,y,n,e,o);if(!(M===void 0?N===b||i(N,b,t,r,o):M)){_=!1;break}A||(A=y=="constructor")}if(_&&!A){var E=n.constructor,D=e.constructor;E!=D&&"constructor"in n&&"constructor"in e&&!(typeof E=="function"&&E instanceof E&&typeof D=="function"&&D instanceof D)&&(_=!1)}return o.delete(n),o.delete(e),_}var RH=1,v_="[object Arguments]",y_="[object Array]",id="[object Object]",FH=Object.prototype,b_=FH.hasOwnProperty;function BH(n,e,t,r,i,o){var l=xl(n),h=xl(e),u=l?y_:Ds(n),f=h?y_:Ds(e);u=u==v_?id:u,f=f==v_?id:f;var d=u==id,g=f==id,y=u==f;if(y&&kh(n)){if(!kh(e))return!1;l=!0,d=!1}if(y&&!d)return o||(o=new co),l||ab(n)?hT(n,e,t,r,i,o):MH(n,e,u,t,r,i,o);if(!(t&RH)){var k=d&&b_.call(n,"__wrapped__"),w=g&&b_.call(e,"__wrapped__");if(k||w){var _=k?n.value():n,A=w?e.value():e;return o||(o=new co),i(_,A,t,r,o)}}return y?(o||(o=new co),DH(n,e,t,r,i,o)):!1}function fT(n,e,t,r,i){return n===e?!0:n==null||e==null||!zo(n)&&!zo(e)?n!==n&&e!==e:BH(n,e,t,r,fT,i)}function jH(n){return function(e,t,r){for(var i=-1,o=Object(e),l=r(e),h=l.length;h--;){var u=l[++i];if(t(o[u],u,o)===!1)break}return e}}var HH=jH();function ey(n,e,t){(t!==void 0&&!ef(n[e],t)||t===void 0&&!(e in n))&&ib(n,e,t)}function zH(n){return zo(n)&&Ip(n)}function ty(n,e){if(!(e==="constructor"&&typeof n[e]=="function")&&e!="__proto__")return n[e]}function $H(n){return hj(n,tT(n))}function UH(n,e,t,r,i,o,l){var h=ty(n,t),u=ty(e,t),f=l.get(u);if(f){ey(n,t,f);return}var d=o?o(h,u,t+"",n,e,l):void 0,g=d===void 0;if(g){var y=xl(u),k=!y&&kh(u),w=!y&&!k&&ab(u);d=u,y||k||w?xl(h)?d=h:zH(h)?d=J5(h):k?(g=!1,d=sT(u,!0)):w?(g=!1,d=oT(u,!0)):d=[]:B6(u)||Kv(u)?(d=h,Kv(h)?d=$H(h):(!Na(h)||rb(h))&&(d=aT(u))):g=!1}g&&(l.set(u,d),i(d,u,r,o,l),l.delete(u)),ey(n,t,d)}function dT(n,e,t,r,i){n!==e&&HH(e,function(o,l){if(i||(i=new co),Na(o))UH(n,e,l,t,dT,r,i);else{var h=r?r(ty(n,l),o,l+"",n,e,i):void 0;h===void 0&&(h=o),ey(n,l,h)}},tT)}function ub(n,e){return fT(n,e)}var xa=gj(function(n,e,t){dT(n,e,t)}),It=(n=>(n[n.TYPE=3]="TYPE",n[n.LEVEL=12]="LEVEL",n[n.ATTRIBUTE=13]="ATTRIBUTE",n[n.BLOT=14]="BLOT",n[n.INLINE=7]="INLINE",n[n.BLOCK=11]="BLOCK",n[n.BLOCK_BLOT=10]="BLOCK_BLOT",n[n.INLINE_BLOT=6]="INLINE_BLOT",n[n.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",n[n.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",n[n.ANY=15]="ANY",n))(It||{});class mo{constructor(e,t,r={}){this.attrName=e,this.keyName=t;const i=It.TYPE&It.ATTRIBUTE;this.scope=r.scope!=null?r.scope&It.LEVEL|i:It.ATTRIBUTE,r.whitelist!=null&&(this.whitelist=r.whitelist)}static keys(e){return Array.from(e.attributes).map(t=>t.name)}add(e,t){return this.canAdd(e,t)?(e.setAttribute(this.keyName,t),!0):!1}canAdd(e,t){return this.whitelist==null?!0:typeof t=="string"?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1}remove(e){e.removeAttribute(this.keyName)}value(e){const t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""}}class Bu extends Error{constructor(e){e="[Parchment] "+e,super(e),this.message=e,this.name=this.constructor.name}}const pT=class ny{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,t=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){let r=null;try{r=e.parentNode}catch{return null}return this.find(r,t)}return null}create(e,t,r){const i=this.query(t);if(i==null)throw new Bu(`Unable to create ${t} blot`);const o=i,l=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:o.create(r),h=new o(e,l,r);return ny.blots.set(h.domNode,h),h}find(e,t=!1){return ny.find(e,t)}query(e,t=It.ANY){let r;return typeof e=="string"?r=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?r=this.types.text:typeof e=="number"?e&It.LEVEL&It.BLOCK?r=this.types.block:e&It.LEVEL&It.INLINE&&(r=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(i=>(r=this.classes[i],!!r)),r=r||this.tags[e.tagName]),r==null?null:"scope"in r&&t&It.LEVEL&r.scope&&t&It.TYPE&r.scope?r:null}register(...e){return e.map(t=>{const r="blotName"in t,i="attrName"in t;if(!r&&!i)throw new Bu("Invalid definition");if(r&&t.blotName==="abstract")throw new Bu("Cannot register abstract class");const o=r?t.blotName:i?t.attrName:void 0;return this.types[o]=t,i?typeof t.keyName=="string"&&(this.attributes[t.keyName]=t):r&&(t.className&&(this.classes[t.className]=t),t.tagName&&(Array.isArray(t.tagName)?t.tagName=t.tagName.map(l=>l.toUpperCase()):t.tagName=t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(l=>{(this.tags[l]==null||t.className==null)&&(this.tags[l]=t)}))),t})}};pT.blots=new WeakMap;let Zu=pT;function w_(n,e){return(n.getAttribute("class")||"").split(/\s+/).filter(t=>t.indexOf(`${e}-`)===0)}class qH extends mo{static keys(e){return(e.getAttribute("class")||"").split(/\s+/).map(t=>t.split("-").slice(0,-1).join("-"))}add(e,t){return this.canAdd(e,t)?(this.remove(e),e.classList.add(`${this.keyName}-${t}`),!0):!1}remove(e){w_(e,this.keyName).forEach(t=>{e.classList.remove(t)}),e.classList.length===0&&e.removeAttribute("class")}value(e){const t=(w_(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""}}const Us=qH;function Kg(n){const e=n.split("-"),t=e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("");return e[0]+t}class WH extends mo{static keys(e){return(e.getAttribute("style")||"").split(";").map(t=>t.split(":")[0].trim())}add(e,t){return this.canAdd(e,t)?(e.style[Kg(this.keyName)]=t,!0):!1}remove(e){e.style[Kg(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")}value(e){const t=e.style[Kg(this.keyName)];return this.canAdd(e,t)?t:""}}const Ia=WH;class VH{constructor(e){this.attributes={},this.domNode=e,this.build()}attribute(e,t){t?e.add(this.domNode,t)&&(e.value(this.domNode)!=null?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])}build(){this.attributes={};const e=Zu.find(this.domNode);if(e==null)return;const t=mo.keys(this.domNode),r=Us.keys(this.domNode),i=Ia.keys(this.domNode);t.concat(r).concat(i).forEach(o=>{const l=e.scroll.query(o,It.ATTRIBUTE);l instanceof mo&&(this.attributes[l.attrName]=l)})}copy(e){Object.keys(this.attributes).forEach(t=>{const r=this.attributes[t].value(this.domNode);e.format(t,r)})}move(e){this.copy(e),Object.keys(this.attributes).forEach(t=>{this.attributes[t].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((e,t)=>(e[t]=this.attributes[t].value(this.domNode),e),{})}}const Fp=VH,mT=class{constructor(e,t){this.scroll=e,this.domNode=t,Zu.blots.set(t,this),this.prev=null,this.next=null}static create(e){if(this.tagName==null)throw new Bu("Blot definition missing tagName");let t,r;return Array.isArray(this.tagName)?(typeof e=="string"?(r=e.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof e=="number"&&(r=e),typeof r=="number"?t=document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?t=document.createElement(r):t=document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t}get statics(){return this.constructor}attach(){}clone(){const e=this.domNode.cloneNode(!1);return this.scroll.create(e)}detach(){this.parent!=null&&this.parent.removeChild(this),Zu.blots.delete(this.domNode)}deleteAt(e,t){this.isolate(e,t).remove()}formatAt(e,t,r,i){const o=this.isolate(e,t);if(this.scroll.query(r,It.BLOT)!=null&&i)o.wrap(r,i);else if(this.scroll.query(r,It.ATTRIBUTE)!=null){const l=this.scroll.create(this.statics.scope);o.wrap(l),l.format(r,i)}}insertAt(e,t,r){const i=r==null?this.scroll.create("text",t):this.scroll.create(t,r),o=this.split(e);this.parent.insertBefore(i,o||void 0)}isolate(e,t){const r=this.split(e);if(r==null)throw new Error("Attempt to isolate at end");return r.split(t),r}length(){return 1}offset(e=this.parent){return this.parent==null||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)}optimize(e){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(e,t){return e===0?this:this.next}update(e,t){}wrap(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new Bu(`Cannot wrap ${e}`);return r.appendChild(this),r}};mT.blotName="abstract";let gT=mT;const vT=class extends gT{static value(e){return!0}index(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1}position(e,t){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};vT.scope=It.INLINE_BLOT;let GH=vT;const si=GH;class YH{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const t=e.slice(1);this.append(...t)}}at(e){const t=this.iterator();let r=t();for(;r&&e>0;)e-=1,r=t();return r}contains(e){const t=this.iterator();let r=t();for(;r;){if(r===e)return!0;r=t()}return!1}indexOf(e){const t=this.iterator();let r=t(),i=0;for(;r;){if(r===e)return i;i+=1,r=t()}return-1}insertBefore(e,t){e!=null&&(this.remove(e),e.next=t,t!=null?(e.prev=t.prev,t.prev!=null&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let t=0,r=this.head;for(;r!=null;){if(r===e)return t;t+=r.length(),r=r.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const t=e;return e!=null&&(e=e.next),t}}find(e,t=!1){const r=this.iterator();let i=r();for(;i;){const o=i.length();if(e<o||t&&e===o&&(i.next==null||i.next.length()!==0))return[i,e];e-=o,i=r()}return[null,0]}forEach(e){const t=this.iterator();let r=t();for(;r;)e(r),r=t()}forEachAt(e,t,r){if(t<=0)return;const[i,o]=this.find(e);let l=e-o;const h=this.iterator(i);let u=h();for(;u&&l<e+t;){const f=u.length();e>l?r(u,e-l,Math.min(t,l+f-e)):r(u,0,Math.min(f,e+t-l)),l+=f,u=h()}}map(e){return this.reduce((t,r)=>(t.push(e(r)),t),[])}reduce(e,t){const r=this.iterator();let i=r();for(;i;)t=e(t,i),i=r();return t}}function __(n,e){const t=e.find(n);if(t)return t;try{return e.create(n)}catch{const r=e.create(It.INLINE);return Array.from(n.childNodes).forEach(i=>{r.domNode.appendChild(i)}),n.parentNode&&n.parentNode.replaceChild(r.domNode,n),r.attach(),r}}const yT=class ha extends gT{constructor(e,t){super(e,t),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,ha.uiClass&&this.uiNode.classList.add(ha.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new YH,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const t=__(e,this.scroll);this.insertBefore(t,this.children.head||void 0)}catch(t){if(t instanceof Bu)return;throw t}})}deleteAt(e,t){if(e===0&&t===this.length())return this.remove();this.children.forEachAt(e,t,(r,i,o)=>{r.deleteAt(i,o)})}descendant(e,t=0){const[r,i]=this.children.find(t);return e.blotName==null&&e(r)||e.blotName!=null&&r instanceof e?[r,i]:r instanceof ha?r.descendant(e,i):[null,-1]}descendants(e,t=0,r=Number.MAX_VALUE){let i=[],o=r;return this.children.forEachAt(t,r,(l,h,u)=>{(e.blotName==null&&e(l)||e.blotName!=null&&l instanceof e)&&i.push(l),l instanceof ha&&(i=i.concat(l.descendants(e,h,o))),o-=u}),i}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(t=>{e||this.statics.allowedChildren.some(r=>t instanceof r)||(t.statics.scope===It.BLOCK_BLOT?(t.next!=null&&this.splitAfter(t),t.prev!=null&&this.splitAfter(t.prev),t.parent.unwrap(),e=!0):t instanceof ha?t.unwrap():t.remove())})}formatAt(e,t,r,i){this.children.forEachAt(e,t,(o,l,h)=>{o.formatAt(l,h,r,i)})}insertAt(e,t,r){const[i,o]=this.children.find(e);if(i)i.insertAt(o,t,r);else{const l=r==null?this.scroll.create("text",t):this.scroll.create(t,r);this.appendChild(l)}}insertBefore(e,t){e.parent!=null&&e.parent.children.remove(e);let r=null;this.children.insertBefore(e,t||null),e.parent=this,t!=null&&(r=t.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==r)&&this.domNode.insertBefore(e.domNode,r),e.attach()}length(){return this.children.reduce((e,t)=>e+t.length(),0)}moveChildren(e,t){this.children.forEach(r=>{e.insertBefore(r,t)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const t=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(t)}else this.remove()}path(e,t=!1){const[r,i]=this.children.find(e,t),o=[[this,e]];return r instanceof ha?o.concat(r.path(i,t)):(r!=null&&o.push([r,i]),o)}removeChild(e){this.children.remove(e)}replaceWith(e,t){const r=typeof e=="string"?this.scroll.create(e,t):e;return r instanceof ha&&this.moveChildren(r),super.replaceWith(r)}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.clone();return this.parent&&this.parent.insertBefore(r,this.next||void 0),this.children.forEachAt(e,this.length(),(i,o,l)=>{const h=i.split(o,t);h!=null&&r.appendChild(h)}),r}splitAfter(e){const t=this.clone();for(;e.next!=null;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,t){const r=[],i=[];e.forEach(o=>{o.target===this.domNode&&o.type==="childList"&&(r.push(...o.addedNodes),i.push(...o.removedNodes))}),i.forEach(o=>{if(o.parentNode!=null&&o.tagName!=="IFRAME"&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const l=this.scroll.find(o);l!=null&&(l.domNode.parentNode==null||l.domNode.parentNode===this.domNode)&&l.detach()}),r.filter(o=>o.parentNode===this.domNode&&o!==this.uiNode).sort((o,l)=>o===l?0:o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(o=>{let l=null;o.nextSibling!=null&&(l=this.scroll.find(o.nextSibling));const h=__(o,this.scroll);(h.next!==l||h.next==null)&&(h.parent!=null&&h.parent.removeChild(this),this.insertBefore(h,l||void 0))}),this.enforceAllowedChildren()}};yT.uiClass="";let KH=yT;const js=KH;function ZH(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(n[t]!==e[t])return!1;return!0}const vu=class yu extends js{static create(e){return super.create(e)}static formats(e,t){const r=t.query(yu.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Fp(this.domNode)}format(e,t){if(e===this.statics.blotName&&!t)this.children.forEach(r=>{r instanceof yu||(r=r.wrap(yu.blotName,!0)),this.attributes.copy(r)}),this.unwrap();else{const r=this.scroll.query(e,It.INLINE);if(r==null)return;r instanceof mo?this.attributes.attribute(r,t):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t)}}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.formats()[r]!=null||this.scroll.query(r,It.ATTRIBUTE)?this.isolate(e,t).format(r,i):super.formatAt(e,t,r,i)}optimize(e){super.optimize(e);const t=this.formats();if(Object.keys(t).length===0)return this.unwrap();const r=this.next;r instanceof yu&&r.prev===this&&ZH(t,r.formats())&&(r.moveChildren(this),r.remove())}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}wrap(e,t){const r=super.wrap(e,t);return r instanceof yu&&this.attributes.move(r),r}};vu.allowedChildren=[vu,si],vu.blotName="inline",vu.scope=It.INLINE_BLOT,vu.tagName="SPAN";let XH=vu;const cb=XH,bu=class ry extends js{static create(e){return super.create(e)}static formats(e,t){const r=t.query(ry.blotName);if(!(r!=null&&e.tagName===r.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,t){super(e,t),this.attributes=new Fp(this.domNode)}format(e,t){const r=this.scroll.query(e,It.BLOCK);r!=null&&(r instanceof mo?this.attributes.attribute(r,t):e===this.statics.blotName&&!t?this.replaceWith(ry.blotName):t&&(e!==this.statics.blotName||this.formats()[e]!==t)&&this.replaceWith(e,t))}formats(){const e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return t!=null&&(e[this.statics.blotName]=t),e}formatAt(e,t,r,i){this.scroll.query(r,It.BLOCK)!=null?this.format(r,i):super.formatAt(e,t,r,i)}insertAt(e,t,r){if(r==null||this.scroll.query(t,It.INLINE)!=null)super.insertAt(e,t,r);else{const i=this.split(e);if(i!=null){const o=this.scroll.create(t,r);i.parent.insertBefore(o,i)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(e,t){const r=super.replaceWith(e,t);return this.attributes.copy(r),r}update(e,t){super.update(e,t),e.some(r=>r.target===this.domNode&&r.type==="attributes")&&this.attributes.build()}};bu.blotName="block",bu.scope=It.BLOCK_BLOT,bu.tagName="P",bu.allowedChildren=[cb,bu,si];let JH=bu;const Lh=JH,iy=class extends js{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(e,t){super.deleteAt(e,t),this.enforceAllowedChildren()}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.enforceAllowedChildren()}insertAt(e,t,r){super.insertAt(e,t,r),this.enforceAllowedChildren()}optimize(e){super.optimize(e),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};iy.blotName="container",iy.scope=It.BLOCK_BLOT;let QH=iy;const Bp=QH;class e9 extends si{static formats(e,t){}format(e,t){super.formatAt(0,this.length(),e,t)}formatAt(e,t,r,i){e===0&&t===this.length()?this.format(r,i):super.formatAt(e,t,r,i)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const ts=e9,t9={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},n9=100,wu=class extends js{constructor(e,t){super(null,t),this.registry=e,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,t9),this.attach()}create(e,t){return this.registry.create(this,e,t)}find(e,t=!1){const r=this.registry.find(e,t);return r?r.scroll===this?r:t?this.find(r.scroll.domNode.parentNode,!0):null:null}query(e,t=It.ANY){return this.registry.query(e,t)}register(...e){return this.registry.register(...e)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(e,t){this.update(),e===0&&t===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(e,t)}formatAt(e,t,r,i){this.update(),super.formatAt(e,t,r,i)}insertAt(e,t,r){this.update(),super.insertAt(e,t,r)}optimize(e=[],t={}){super.optimize(t);const r=t.mutationsMap||new WeakMap;let i=Array.from(this.observer.takeRecords());for(;i.length>0;)e.push(i.pop());const o=(u,f=!0)=>{u==null||u===this||u.domNode.parentNode!=null&&(r.has(u.domNode)||r.set(u.domNode,[]),f&&o(u.parent))},l=u=>{r.has(u.domNode)&&(u instanceof js&&u.children.forEach(l),r.delete(u.domNode),u.optimize(t))};let h=e;for(let u=0;h.length>0;u+=1){if(u>=n9)throw new Error("[Parchment] Maximum optimize iterations reached");for(h.forEach(f=>{const d=this.find(f.target,!0);d!=null&&(d.domNode===f.target&&(f.type==="childList"?(o(this.find(f.previousSibling,!1)),Array.from(f.addedNodes).forEach(g=>{const y=this.find(g,!1);o(y,!1),y instanceof js&&y.children.forEach(k=>{o(k,!1)})})):f.type==="attributes"&&o(d.prev)),o(d))}),this.children.forEach(l),h=Array.from(this.observer.takeRecords()),i=h.slice();i.length>0;)e.push(i.pop())}}update(e,t={}){e=e||this.observer.takeRecords();const r=new WeakMap;e.map(i=>{const o=this.find(i.target,!0);return o==null?null:r.has(o.domNode)?(r.get(o.domNode).push(i),null):(r.set(o.domNode,[i]),o)}).forEach(i=>{i!=null&&i!==this&&r.has(i.domNode)&&i.update(r.get(i.domNode)||[],t)}),t.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),t),this.optimize(e,t)}};wu.blotName="scroll",wu.defaultChild=Lh,wu.allowedChildren=[Lh,Bp],wu.scope=It.BLOCK_BLOT,wu.tagName="DIV";let r9=wu;const hb=r9,sy=class bT extends si{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,t){super(e,t),this.text=this.statics.value(this.domNode)}deleteAt(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)}index(e,t){return this.domNode===e?t:-1}insertAt(e,t,r){r==null?(this.text=this.text.slice(0,e)+t+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,t,r)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof bT&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,t=!1){return[this.domNode,e]}split(e,t=!1){if(!t){if(e===0)return this;if(e===this.length())return this.next}const r=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(r,this.next||void 0),this.text=this.statics.value(this.domNode),r}update(e,t){e.some(r=>r.type==="characterData"&&r.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};sy.blotName="text",sy.scope=It.INLINE_BLOT;let i9=sy;const ap=i9,s9=Object.freeze(Object.defineProperty({__proto__:null,Attributor:mo,AttributorStore:Fp,BlockBlot:Lh,ClassAttributor:Us,ContainerBlot:Bp,EmbedBlot:ts,InlineBlot:cb,LeafBlot:si,ParentBlot:js,Registry:Zu,Scope:It,ScrollBlot:hb,StyleAttributor:Ia,TextBlot:ap},Symbol.toStringTag,{value:"Module"}));var sd={exports:{}},Zg,x_;function o9(){if(x_)return Zg;x_=1;var n=-1,e=1,t=0;function r(P,j,$,Z,se){if(P===j)return P?[[t,P]]:[];if($!=null){var te=B(P,j,$);if(te)return te}var X=h(P,j),V=P.substring(0,X);P=P.substring(X),j=j.substring(X),X=f(P,j);var de=P.substring(P.length-X);P=P.substring(0,P.length-X),j=j.substring(0,j.length-X);var Y=i(P,j);return V&&Y.unshift([t,V]),de&&Y.push([t,de]),b(Y,se),Z&&g(Y),Y}function i(P,j){var $;if(!P)return[[e,j]];if(!j)return[[n,P]];var Z=P.length>j.length?P:j,se=P.length>j.length?j:P,te=Z.indexOf(se);if(te!==-1)return $=[[e,Z.substring(0,te)],[t,se],[e,Z.substring(te+se.length)]],P.length>j.length&&($[0][0]=$[2][0]=n),$;if(se.length===1)return[[n,P],[e,j]];var X=d(P,j);if(X){var V=X[0],de=X[1],Y=X[2],ue=X[3],xe=X[4],we=r(V,Y),Q=r(de,ue);return we.concat([[t,xe]],Q)}return o(P,j)}function o(P,j){for(var $=P.length,Z=j.length,se=Math.ceil(($+Z)/2),te=se,X=2*se,V=new Array(X),de=new Array(X),Y=0;Y<X;Y++)V[Y]=-1,de[Y]=-1;V[te+1]=0,de[te+1]=0;for(var ue=$-Z,xe=ue%2!==0,we=0,Q=0,K=0,Ce=0,Me=0;Me<se;Me++){for(var ne=-Me+we;ne<=Me-Q;ne+=2){var ie=te+ne,oe;ne===-Me||ne!==Me&&V[ie-1]<V[ie+1]?oe=V[ie+1]:oe=V[ie-1]+1;for(var ce=oe-ne;oe<$&&ce<Z&&P.charAt(oe)===j.charAt(ce);)oe++,ce++;if(V[ie]=oe,oe>$)Q+=2;else if(ce>Z)we+=2;else if(xe){var W=te+ue-ne;if(W>=0&&W<X&&de[W]!==-1){var ee=$-de[W];if(oe>=ee)return l(P,j,oe,ce)}}}for(var pe=-Me+K;pe<=Me-Ce;pe+=2){var W=te+pe,ee;pe===-Me||pe!==Me&&de[W-1]<de[W+1]?ee=de[W+1]:ee=de[W-1]+1;for(var ve=ee-pe;ee<$&&ve<Z&&P.charAt($-ee-1)===j.charAt(Z-ve-1);)ee++,ve++;if(de[W]=ee,ee>$)Ce+=2;else if(ve>Z)K+=2;else if(!xe){var ie=te+ue-pe;if(ie>=0&&ie<X&&V[ie]!==-1){var oe=V[ie],ce=te+oe-ie;if(ee=$-ee,oe>=ee)return l(P,j,oe,ce)}}}}return[[n,P],[e,j]]}function l(P,j,$,Z){var se=P.substring(0,$),te=j.substring(0,Z),X=P.substring($),V=j.substring(Z),de=r(se,te),Y=r(X,V);return de.concat(Y)}function h(P,j){if(!P||!j||P.charAt(0)!==j.charAt(0))return 0;for(var $=0,Z=Math.min(P.length,j.length),se=Z,te=0;$<se;)P.substring(te,se)==j.substring(te,se)?($=se,te=$):Z=se,se=Math.floor((Z-$)/2+$);return M(P.charCodeAt(se-1))&&se--,se}function u(P,j){var $=P.length,Z=j.length;if($==0||Z==0)return 0;$>Z?P=P.substring($-Z):$<Z&&(j=j.substring(0,$));var se=Math.min($,Z);if(P==j)return se;for(var te=0,X=1;;){var V=P.substring(se-X),de=j.indexOf(V);if(de==-1)return te;X+=de,(de==0||P.substring(se-X)==j.substring(0,X))&&(te=X,X++)}}function f(P,j){if(!P||!j||P.slice(-1)!==j.slice(-1))return 0;for(var $=0,Z=Math.min(P.length,j.length),se=Z,te=0;$<se;)P.substring(P.length-se,P.length-te)==j.substring(j.length-se,j.length-te)?($=se,te=$):Z=se,se=Math.floor((Z-$)/2+$);return E(P.charCodeAt(P.length-se))&&se--,se}function d(P,j){var $=P.length>j.length?P:j,Z=P.length>j.length?j:P;if($.length<4||Z.length*2<$.length)return null;function se(Q,K,Ce){for(var Me=Q.substring(Ce,Ce+Math.floor(Q.length/4)),ne=-1,ie="",oe,ce,W,ee;(ne=K.indexOf(Me,ne+1))!==-1;){var pe=h(Q.substring(Ce),K.substring(ne)),ve=f(Q.substring(0,Ce),K.substring(0,ne));ie.length<ve+pe&&(ie=K.substring(ne-ve,ne)+K.substring(ne,ne+pe),oe=Q.substring(0,Ce-ve),ce=Q.substring(Ce+pe),W=K.substring(0,ne-ve),ee=K.substring(ne+pe))}return ie.length*2>=Q.length?[oe,ce,W,ee,ie]:null}var te=se($,Z,Math.ceil($.length/4)),X=se($,Z,Math.ceil($.length/2)),V;if(!te&&!X)return null;X?te?V=te[4].length>X[4].length?te:X:V=X:V=te;var de,Y,ue,xe;P.length>j.length?(de=V[0],Y=V[1],ue=V[2],xe=V[3]):(ue=V[0],xe=V[1],de=V[2],Y=V[3]);var we=V[4];return[de,Y,ue,xe,we]}function g(P){for(var j=!1,$=[],Z=0,se=null,te=0,X=0,V=0,de=0,Y=0;te<P.length;)P[te][0]==t?($[Z++]=te,X=de,V=Y,de=0,Y=0,se=P[te][1]):(P[te][0]==e?de+=P[te][1].length:Y+=P[te][1].length,se&&se.length<=Math.max(X,V)&&se.length<=Math.max(de,Y)&&(P.splice($[Z-1],0,[n,se]),P[$[Z-1]+1][0]=e,Z--,Z--,te=Z>0?$[Z-1]:-1,X=0,V=0,de=0,Y=0,se=null,j=!0)),te++;for(j&&b(P),N(P),te=1;te<P.length;){if(P[te-1][0]==n&&P[te][0]==e){var ue=P[te-1][1],xe=P[te][1],we=u(ue,xe),Q=u(xe,ue);we>=Q?(we>=ue.length/2||we>=xe.length/2)&&(P.splice(te,0,[t,xe.substring(0,we)]),P[te-1][1]=ue.substring(0,ue.length-we),P[te+1][1]=xe.substring(we),te++):(Q>=ue.length/2||Q>=xe.length/2)&&(P.splice(te,0,[t,ue.substring(0,Q)]),P[te-1][0]=e,P[te-1][1]=xe.substring(0,xe.length-Q),P[te+1][0]=n,P[te+1][1]=ue.substring(Q),te++),te++}te++}}var y=/[^a-zA-Z0-9]/,k=/\s/,w=/[\r\n]/,_=/\n\r?\n$/,A=/^\r?\n\r?\n/;function N(P){function j(Q,K){if(!Q||!K)return 6;var Ce=Q.charAt(Q.length-1),Me=K.charAt(0),ne=Ce.match(y),ie=Me.match(y),oe=ne&&Ce.match(k),ce=ie&&Me.match(k),W=oe&&Ce.match(w),ee=ce&&Me.match(w),pe=W&&Q.match(_),ve=ee&&K.match(A);return pe||ve?5:W||ee?4:ne&&!oe&&ce?3:oe||ce?2:ne||ie?1:0}for(var $=1;$<P.length-1;){if(P[$-1][0]==t&&P[$+1][0]==t){var Z=P[$-1][1],se=P[$][1],te=P[$+1][1],X=f(Z,se);if(X){var V=se.substring(se.length-X);Z=Z.substring(0,Z.length-X),se=V+se.substring(0,se.length-X),te=V+te}for(var de=Z,Y=se,ue=te,xe=j(Z,se)+j(se,te);se.charAt(0)===te.charAt(0);){Z+=se.charAt(0),se=se.substring(1)+te.charAt(0),te=te.substring(1);var we=j(Z,se)+j(se,te);we>=xe&&(xe=we,de=Z,Y=se,ue=te)}P[$-1][1]!=de&&(de?P[$-1][1]=de:(P.splice($-1,1),$--),P[$][1]=Y,ue?P[$+1][1]=ue:(P.splice($+1,1),$--))}$++}}function b(P,j){P.push([t,""]);for(var $=0,Z=0,se=0,te="",X="",V;$<P.length;){if($<P.length-1&&!P[$][1]){P.splice($,1);continue}switch(P[$][0]){case e:se++,X+=P[$][1],$++;break;case n:Z++,te+=P[$][1],$++;break;case t:var de=$-se-Z-1;if(j){if(de>=0&&T(P[de][1])){var Y=P[de][1].slice(-1);if(P[de][1]=P[de][1].slice(0,-1),te=Y+te,X=Y+X,!P[de][1]){P.splice(de,1),$--;var ue=de-1;P[ue]&&P[ue][0]===e&&(se++,X=P[ue][1]+X,ue--),P[ue]&&P[ue][0]===n&&(Z++,te=P[ue][1]+te,ue--),de=ue}}if(D(P[$][1])){var Y=P[$][1].charAt(0);P[$][1]=P[$][1].slice(1),te+=Y,X+=Y}}if($<P.length-1&&!P[$][1]){P.splice($,1);break}if(te.length>0||X.length>0){te.length>0&&X.length>0&&(V=h(X,te),V!==0&&(de>=0?P[de][1]+=X.substring(0,V):(P.splice(0,0,[t,X.substring(0,V)]),$++),X=X.substring(V),te=te.substring(V)),V=f(X,te),V!==0&&(P[$][1]=X.substring(X.length-V)+P[$][1],X=X.substring(0,X.length-V),te=te.substring(0,te.length-V)));var xe=se+Z;te.length===0&&X.length===0?(P.splice($-xe,xe),$=$-xe):te.length===0?(P.splice($-xe,xe,[e,X]),$=$-xe+1):X.length===0?(P.splice($-xe,xe,[n,te]),$=$-xe+1):(P.splice($-xe,xe,[n,te],[e,X]),$=$-xe+2)}$!==0&&P[$-1][0]===t?(P[$-1][1]+=P[$][1],P.splice($,1)):$++,se=0,Z=0,te="",X="";break}}P[P.length-1][1]===""&&P.pop();var we=!1;for($=1;$<P.length-1;)P[$-1][0]===t&&P[$+1][0]===t&&(P[$][1].substring(P[$][1].length-P[$-1][1].length)===P[$-1][1]?(P[$][1]=P[$-1][1]+P[$][1].substring(0,P[$][1].length-P[$-1][1].length),P[$+1][1]=P[$-1][1]+P[$+1][1],P.splice($-1,1),we=!0):P[$][1].substring(0,P[$+1][1].length)==P[$+1][1]&&(P[$-1][1]+=P[$+1][1],P[$][1]=P[$][1].substring(P[$+1][1].length)+P[$+1][1],P.splice($+1,1),we=!0)),$++;we&&b(P,j)}function M(P){return P>=55296&&P<=56319}function E(P){return P>=56320&&P<=57343}function D(P){return E(P.charCodeAt(0))}function T(P){return M(P.charCodeAt(P.length-1))}function C(P){for(var j=[],$=0;$<P.length;$++)P[$][1].length>0&&j.push(P[$]);return j}function R(P,j,$,Z){return T(P)||D(Z)?null:C([[t,P],[n,j],[e,$],[t,Z]])}function B(P,j,$){var Z=typeof $=="number"?{index:$,length:0}:$.oldRange,se=typeof $=="number"?null:$.newRange,te=P.length,X=j.length;if(Z.length===0&&(se===null||se.length===0)){var V=Z.index,de=P.slice(0,V),Y=P.slice(V),ue=se?se.index:null;e:{var xe=V+X-te;if(ue!==null&&ue!==xe||xe<0||xe>X)break e;var we=j.slice(0,xe),Q=j.slice(xe);if(Q!==Y)break e;var K=Math.min(V,xe),Ce=de.slice(0,K),Me=we.slice(0,K);if(Ce!==Me)break e;var ne=de.slice(K),ie=we.slice(K);return R(Ce,ne,ie,Y)}e:{if(ue!==null&&ue!==V)break e;var oe=V,we=j.slice(0,oe),Q=j.slice(oe);if(we!==de)break e;var ce=Math.min(te-oe,X-oe),W=Y.slice(Y.length-ce),ee=Q.slice(Q.length-ce);if(W!==ee)break e;var ne=Y.slice(0,Y.length-ce),ie=Q.slice(0,Q.length-ce);return R(de,ne,ie,W)}}if(Z.length>0&&se&&se.length===0)e:{var Ce=P.slice(0,Z.index),W=P.slice(Z.index+Z.length),K=Ce.length,ce=W.length;if(X<K+ce)break e;var Me=j.slice(0,K),ee=j.slice(X-ce);if(Ce!==Me||W!==ee)break e;var ne=P.slice(K,te-ce),ie=j.slice(K,X-ce);return R(Ce,ne,ie,W)}return null}function I(P,j,$,Z){return r(P,j,$,Z,!0)}return I.INSERT=e,I.DELETE=n,I.EQUAL=t,Zg=I,Zg}var rh={exports:{}};rh.exports;var S_;function wT(){return S_||(S_=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=9007199254740991,o="[object Arguments]",l="[object Array]",h="[object Boolean]",u="[object Date]",f="[object Error]",d="[object Function]",g="[object GeneratorFunction]",y="[object Map]",k="[object Number]",w="[object Object]",_="[object Promise]",A="[object RegExp]",N="[object Set]",b="[object String]",M="[object Symbol]",E="[object WeakMap]",D="[object ArrayBuffer]",T="[object DataView]",C="[object Float32Array]",R="[object Float64Array]",B="[object Int8Array]",I="[object Int16Array]",P="[object Int32Array]",j="[object Uint8Array]",$="[object Uint8ClampedArray]",Z="[object Uint16Array]",se="[object Uint32Array]",te=/[\\^$.*+?()[\]{}|]/g,X=/\w*$/,V=/^\[object .+?Constructor\]$/,de=/^(?:0|[1-9]\d*)$/,Y={};Y[o]=Y[l]=Y[D]=Y[T]=Y[h]=Y[u]=Y[C]=Y[R]=Y[B]=Y[I]=Y[P]=Y[y]=Y[k]=Y[w]=Y[A]=Y[N]=Y[b]=Y[M]=Y[j]=Y[$]=Y[Z]=Y[se]=!0,Y[f]=Y[d]=Y[E]=!1;var ue=typeof Oi=="object"&&Oi&&Oi.Object===Object&&Oi,xe=typeof self=="object"&&self&&self.Object===Object&&self,we=ue||xe||Function("return this")(),Q=e&&!e.nodeType&&e,K=Q&&!0&&n&&!n.nodeType&&n,Ce=K&&K.exports===Q;function Me(G,be){return G.set(be[0],be[1]),G}function ne(G,be){return G.add(be),G}function ie(G,be){for(var Re=-1,Xe=G?G.length:0;++Re<Xe&&be(G[Re],Re,G)!==!1;);return G}function oe(G,be){for(var Re=-1,Xe=be.length,Xt=G.length;++Re<Xe;)G[Xt+Re]=be[Re];return G}function ce(G,be,Re,Xe){for(var Xt=-1,Pt=G?G.length:0;++Xt<Pt;)Re=be(Re,G[Xt],Xt,G);return Re}function W(G,be){for(var Re=-1,Xe=Array(G);++Re<G;)Xe[Re]=be(Re);return Xe}function ee(G,be){return G?.[be]}function pe(G){var be=!1;if(G!=null&&typeof G.toString!="function")try{be=!!(G+"")}catch{}return be}function ve(G){var be=-1,Re=Array(G.size);return G.forEach(function(Xe,Xt){Re[++be]=[Xt,Xe]}),Re}function Ae(G,be){return function(Re){return G(be(Re))}}function ke(G){var be=-1,Re=Array(G.size);return G.forEach(function(Xe){Re[++be]=Xe}),Re}var Fe=Array.prototype,ae=Function.prototype,fe=Object.prototype,me=we["__core-js_shared__"],O=(function(){var G=/[^.]+$/.exec(me&&me.keys&&me.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""})(),H=ae.toString,U=fe.hasOwnProperty,le=fe.toString,Se=RegExp("^"+H.call(U).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Le=Ce?we.Buffer:void 0,Pe=we.Symbol,$e=we.Uint8Array,Ze=Ae(Object.getPrototypeOf,Object),pt=Object.create,ct=fe.propertyIsEnumerable,$t=Fe.splice,Ot=Object.getOwnPropertySymbols,mt=Le?Le.isBuffer:void 0,De=Ae(Object.keys,Object),ze=Mn(we,"DataView"),Qe=Mn(we,"Map"),Et=Mn(we,"Promise"),wt=Mn(we,"Set"),yt=Mn(we,"WeakMap"),Ut=Mn(Object,"create"),qt=pn(ze),ye=pn(Qe),Ee=pn(Et),Be=pn(wt),Ue=pn(yt),et=Pe?Pe.prototype:void 0,Je=et?et.valueOf:void 0;function bt(G){var be=-1,Re=G?G.length:0;for(this.clear();++be<Re;){var Xe=G[be];this.set(Xe[0],Xe[1])}}function lt(){this.__data__=Ut?Ut(null):{}}function xt(G){return this.has(G)&&delete this.__data__[G]}function ft(G){var be=this.__data__;if(Ut){var Re=be[G];return Re===r?void 0:Re}return U.call(be,G)?be[G]:void 0}function dt(G){var be=this.__data__;return Ut?be[G]!==void 0:U.call(be,G)}function it(G,be){var Re=this.__data__;return Re[G]=Ut&&be===void 0?r:be,this}bt.prototype.clear=lt,bt.prototype.delete=xt,bt.prototype.get=ft,bt.prototype.has=dt,bt.prototype.set=it;function nn(G){var be=-1,Re=G?G.length:0;for(this.clear();++be<Re;){var Xe=G[be];this.set(Xe[0],Xe[1])}}function mn(){this.__data__=[]}function qn(G){var be=this.__data__,Re=rn(be,G);if(Re<0)return!1;var Xe=be.length-1;return Re==Xe?be.pop():$t.call(be,Re,1),!0}function Dn(G){var be=this.__data__,Re=rn(be,G);return Re<0?void 0:be[Re][1]}function vr(G){return rn(this.__data__,G)>-1}function Wn(G,be){var Re=this.__data__,Xe=rn(Re,G);return Xe<0?Re.push([G,be]):Re[Xe][1]=be,this}nn.prototype.clear=mn,nn.prototype.delete=qn,nn.prototype.get=Dn,nn.prototype.has=vr,nn.prototype.set=Wn;function fn(G){var be=-1,Re=G?G.length:0;for(this.clear();++be<Re;){var Xe=G[be];this.set(Xe[0],Xe[1])}}function Nr(){this.__data__={hash:new bt,map:new(Qe||nn),string:new bt}}function Ar(G){return Fn(this,G).delete(G)}function Rn(G){return Fn(this,G).get(G)}function En(G){return Fn(this,G).has(G)}function Tr(G,be){return Fn(this,G).set(G,be),this}fn.prototype.clear=Nr,fn.prototype.delete=Ar,fn.prototype.get=Rn,fn.prototype.has=En,fn.prototype.set=Tr;function Cn(G){this.__data__=new nn(G)}function Te(){this.__data__=new nn}function Ye(G){return this.__data__.delete(G)}function Ke(G){return this.__data__.get(G)}function nt(G){return this.__data__.has(G)}function ot(G,be){var Re=this.__data__;if(Re instanceof nn){var Xe=Re.__data__;if(!Qe||Xe.length<t-1)return Xe.push([G,be]),this;Re=this.__data__=new fn(Xe)}return Re.set(G,be),this}Cn.prototype.clear=Te,Cn.prototype.delete=Ye,Cn.prototype.get=Ke,Cn.prototype.has=nt,Cn.prototype.set=ot;function jt(G,be){var Re=hr(G)||Vt(G)?W(G.length,String):[],Xe=Re.length,Xt=!!Xe;for(var Pt in G)U.call(G,Pt)&&!(Xt&&(Pt=="length"||Ws(Pt,Xe)))&&Re.push(Pt);return Re}function _t(G,be,Re){var Xe=G[be];(!(U.call(G,be)&&er(Xe,Re))||Re===void 0&&!(be in G))&&(G[be]=Re)}function rn(G,be){for(var Re=G.length;Re--;)if(er(G[Re][0],be))return Re;return-1}function sn(G,be){return G&&Kr(be,Ii(be),G)}function wn(G,be,Re,Xe,Xt,Pt,gn){var At;if(Xe&&(At=Pt?Xe(G,Xt,Pt,gn):Xe(G)),At!==void 0)return At;if(!yr(G))return G;var Gn=hr(G);if(Gn){if(At=gs(G),!be)return Pi(G,At)}else{var ln=Vn(G),Yn=ln==d||ln==g;if(Ur(G))return $n(G,be);if(ln==w||ln==o||Yn&&!Pt){if(pe(G))return Pt?G:{};if(At=Zr(Yn?{}:G),!be)return on(G,sn(At,G))}else{if(!Y[ln])return Pt?G:{};At=yo(G,ln,wn,be)}}gn||(gn=new Cn);var br=gn.get(G);if(br)return br;if(gn.set(G,At),!Gn)var Pn=Re?hn(G):Ii(G);return ie(Pn||G,function(Nn,sr){Pn&&(sr=Nn,Nn=G[sr]),_t(At,sr,wn(Nn,be,Re,Xe,sr,G,gn))}),At}function zn(G){return yr(G)?pt(G):{}}function rt(G,be,Re){var Xe=be(G);return hr(G)?Xe:oe(Xe,Re(G))}function Mt(G){return le.call(G)}function cn(G){if(!yr(G)||wo(G))return!1;var be=qr(G)||pe(G)?Se:V;return be.test(pn(G))}function Ir(G){if(!Qn(G))return De(G);var be=[];for(var Re in Object(G))U.call(G,Re)&&Re!="constructor"&&be.push(Re);return be}function $n(G,be){if(be)return G.slice();var Re=new G.constructor(G.length);return G.copy(Re),Re}function lr(G){var be=new G.constructor(G.byteLength);return new $e(be).set(new $e(G)),be}function ur(G,be){var Re=be?lr(G.buffer):G.buffer;return new G.constructor(Re,G.byteOffset,G.byteLength)}function Wt(G,be,Re){var Xe=be?Re(ve(G),!0):ve(G);return ce(Xe,Me,new G.constructor)}function Tn(G){var be=new G.constructor(G.source,X.exec(G));return be.lastIndex=G.lastIndex,be}function yi(G,be,Re){var Xe=be?Re(ke(G),!0):ke(G);return ce(Xe,ne,new G.constructor)}function cr(G){return Je?Object(Je.call(G)):{}}function ir(G,be){var Re=be?lr(G.buffer):G.buffer;return new G.constructor(Re,G.byteOffset,G.length)}function Pi(G,be){var Re=-1,Xe=G.length;for(be||(be=Array(Xe));++Re<Xe;)be[Re]=G[Re];return be}function Kr(G,be,Re,Xe){Re||(Re={});for(var Xt=-1,Pt=be.length;++Xt<Pt;){var gn=be[Xt],At=void 0;_t(Re,gn,At===void 0?G[gn]:At)}return Re}function on(G,be){return Kr(G,kr(G),be)}function hn(G){return rt(G,Ii,kr)}function Fn(G,be){var Re=G.__data__;return bo(be)?Re[typeof be=="string"?"string":"hash"]:Re.map}function Mn(G,be){var Re=ee(G,be);return cn(Re)?Re:void 0}var kr=Ot?Ae(Ot,Object):tr,Vn=Mt;(ze&&Vn(new ze(new ArrayBuffer(1)))!=T||Qe&&Vn(new Qe)!=y||Et&&Vn(Et.resolve())!=_||wt&&Vn(new wt)!=N||yt&&Vn(new yt)!=E)&&(Vn=function(G){var be=le.call(G),Re=be==w?G.constructor:void 0,Xe=Re?pn(Re):void 0;if(Xe)switch(Xe){case qt:return T;case ye:return y;case Ee:return _;case Be:return N;case Ue:return E}return be});function gs(G){var be=G.length,Re=G.constructor(be);return be&&typeof G[0]=="string"&&U.call(G,"index")&&(Re.index=G.index,Re.input=G.input),Re}function Zr(G){return typeof G.constructor=="function"&&!Qn(G)?zn(Ze(G)):{}}function yo(G,be,Re,Xe){var Xt=G.constructor;switch(be){case D:return lr(G);case h:case u:return new Xt(+G);case T:return ur(G,Xe);case C:case R:case B:case I:case P:case j:case $:case Z:case se:return ir(G,Xe);case y:return Wt(G,Xe,Re);case k:case b:return new Xt(G);case A:return Tn(G);case N:return yi(G,Xe,Re);case M:return cr(G)}}function Ws(G,be){return be=be??i,!!be&&(typeof G=="number"||de.test(G))&&G>-1&&G%1==0&&G<be}function bo(G){var be=typeof G;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?G!=="__proto__":G===null}function wo(G){return!!O&&O in G}function Qn(G){var be=G&&G.constructor,Re=typeof be=="function"&&be.prototype||fe;return G===Re}function pn(G){if(G!=null){try{return H.call(G)}catch{}try{return G+""}catch{}}return""}function Bn(G){return wn(G,!0,!0)}function er(G,be){return G===be||G!==G&&be!==be}function Vt(G){return Xr(G)&&U.call(G,"callee")&&(!ct.call(G,"callee")||le.call(G)==o)}var hr=Array.isArray;function Zt(G){return G!=null&&Ni(G.length)&&!qr(G)}function Xr(G){return vs(G)&&Zt(G)}var Ur=mt||Di;function qr(G){var be=yr(G)?le.call(G):"";return be==d||be==g}function Ni(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=i}function yr(G){var be=typeof G;return!!G&&(be=="object"||be=="function")}function vs(G){return!!G&&typeof G=="object"}function Ii(G){return Zt(G)?jt(G):Ir(G)}function tr(){return[]}function Di(){return!1}n.exports=Bn})(rh,rh.exports)),rh.exports}var ih={exports:{}};ih.exports;var E_;function _T(){return E_||(E_=1,(function(n,e){var t=200,r="__lodash_hash_undefined__",i=1,o=2,l=9007199254740991,h="[object Arguments]",u="[object Array]",f="[object AsyncFunction]",d="[object Boolean]",g="[object Date]",y="[object Error]",k="[object Function]",w="[object GeneratorFunction]",_="[object Map]",A="[object Number]",N="[object Null]",b="[object Object]",M="[object Promise]",E="[object Proxy]",D="[object RegExp]",T="[object Set]",C="[object String]",R="[object Symbol]",B="[object Undefined]",I="[object WeakMap]",P="[object ArrayBuffer]",j="[object DataView]",$="[object Float32Array]",Z="[object Float64Array]",se="[object Int8Array]",te="[object Int16Array]",X="[object Int32Array]",V="[object Uint8Array]",de="[object Uint8ClampedArray]",Y="[object Uint16Array]",ue="[object Uint32Array]",xe=/[\\^$.*+?()[\]{}|]/g,we=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,K={};K[$]=K[Z]=K[se]=K[te]=K[X]=K[V]=K[de]=K[Y]=K[ue]=!0,K[h]=K[u]=K[P]=K[d]=K[j]=K[g]=K[y]=K[k]=K[_]=K[A]=K[b]=K[D]=K[T]=K[C]=K[I]=!1;var Ce=typeof Oi=="object"&&Oi&&Oi.Object===Object&&Oi,Me=typeof self=="object"&&self&&self.Object===Object&&self,ne=Ce||Me||Function("return this")(),ie=e&&!e.nodeType&&e,oe=ie&&!0&&n&&!n.nodeType&&n,ce=oe&&oe.exports===ie,W=ce&&Ce.process,ee=(function(){try{return W&&W.binding&&W.binding("util")}catch{}})(),pe=ee&&ee.isTypedArray;function ve(G,be){for(var Re=-1,Xe=G==null?0:G.length,Xt=0,Pt=[];++Re<Xe;){var gn=G[Re];be(gn,Re,G)&&(Pt[Xt++]=gn)}return Pt}function Ae(G,be){for(var Re=-1,Xe=be.length,Xt=G.length;++Re<Xe;)G[Xt+Re]=be[Re];return G}function ke(G,be){for(var Re=-1,Xe=G==null?0:G.length;++Re<Xe;)if(be(G[Re],Re,G))return!0;return!1}function Fe(G,be){for(var Re=-1,Xe=Array(G);++Re<G;)Xe[Re]=be(Re);return Xe}function ae(G){return function(be){return G(be)}}function fe(G,be){return G.has(be)}function me(G,be){return G?.[be]}function O(G){var be=-1,Re=Array(G.size);return G.forEach(function(Xe,Xt){Re[++be]=[Xt,Xe]}),Re}function H(G,be){return function(Re){return G(be(Re))}}function U(G){var be=-1,Re=Array(G.size);return G.forEach(function(Xe){Re[++be]=Xe}),Re}var le=Array.prototype,Se=Function.prototype,Le=Object.prototype,Pe=ne["__core-js_shared__"],$e=Se.toString,Ze=Le.hasOwnProperty,pt=(function(){var G=/[^.]+$/.exec(Pe&&Pe.keys&&Pe.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""})(),ct=Le.toString,$t=RegExp("^"+$e.call(Ze).replace(xe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=ce?ne.Buffer:void 0,mt=ne.Symbol,De=ne.Uint8Array,ze=Le.propertyIsEnumerable,Qe=le.splice,Et=mt?mt.toStringTag:void 0,wt=Object.getOwnPropertySymbols,yt=Ot?Ot.isBuffer:void 0,Ut=H(Object.keys,Object),qt=kr(ne,"DataView"),ye=kr(ne,"Map"),Ee=kr(ne,"Promise"),Be=kr(ne,"Set"),Ue=kr(ne,"WeakMap"),et=kr(Object,"create"),Je=pn(qt),bt=pn(ye),lt=pn(Ee),xt=pn(Be),ft=pn(Ue),dt=mt?mt.prototype:void 0,it=dt?dt.valueOf:void 0;function nn(G){var be=-1,Re=G==null?0:G.length;for(this.clear();++be<Re;){var Xe=G[be];this.set(Xe[0],Xe[1])}}function mn(){this.__data__=et?et(null):{},this.size=0}function qn(G){var be=this.has(G)&&delete this.__data__[G];return this.size-=be?1:0,be}function Dn(G){var be=this.__data__;if(et){var Re=be[G];return Re===r?void 0:Re}return Ze.call(be,G)?be[G]:void 0}function vr(G){var be=this.__data__;return et?be[G]!==void 0:Ze.call(be,G)}function Wn(G,be){var Re=this.__data__;return this.size+=this.has(G)?0:1,Re[G]=et&&be===void 0?r:be,this}nn.prototype.clear=mn,nn.prototype.delete=qn,nn.prototype.get=Dn,nn.prototype.has=vr,nn.prototype.set=Wn;function fn(G){var be=-1,Re=G==null?0:G.length;for(this.clear();++be<Re;){var Xe=G[be];this.set(Xe[0],Xe[1])}}function Nr(){this.__data__=[],this.size=0}function Ar(G){var be=this.__data__,Re=$n(be,G);if(Re<0)return!1;var Xe=be.length-1;return Re==Xe?be.pop():Qe.call(be,Re,1),--this.size,!0}function Rn(G){var be=this.__data__,Re=$n(be,G);return Re<0?void 0:be[Re][1]}function En(G){return $n(this.__data__,G)>-1}function Tr(G,be){var Re=this.__data__,Xe=$n(Re,G);return Xe<0?(++this.size,Re.push([G,be])):Re[Xe][1]=be,this}fn.prototype.clear=Nr,fn.prototype.delete=Ar,fn.prototype.get=Rn,fn.prototype.has=En,fn.prototype.set=Tr;function Cn(G){var be=-1,Re=G==null?0:G.length;for(this.clear();++be<Re;){var Xe=G[be];this.set(Xe[0],Xe[1])}}function Te(){this.size=0,this.__data__={hash:new nn,map:new(ye||fn),string:new nn}}function Ye(G){var be=Mn(this,G).delete(G);return this.size-=be?1:0,be}function Ke(G){return Mn(this,G).get(G)}function nt(G){return Mn(this,G).has(G)}function ot(G,be){var Re=Mn(this,G),Xe=Re.size;return Re.set(G,be),this.size+=Re.size==Xe?0:1,this}Cn.prototype.clear=Te,Cn.prototype.delete=Ye,Cn.prototype.get=Ke,Cn.prototype.has=nt,Cn.prototype.set=ot;function jt(G){var be=-1,Re=G==null?0:G.length;for(this.__data__=new Cn;++be<Re;)this.add(G[be])}function _t(G){return this.__data__.set(G,r),this}function rn(G){return this.__data__.has(G)}jt.prototype.add=jt.prototype.push=_t,jt.prototype.has=rn;function sn(G){var be=this.__data__=new fn(G);this.size=be.size}function wn(){this.__data__=new fn,this.size=0}function zn(G){var be=this.__data__,Re=be.delete(G);return this.size=be.size,Re}function rt(G){return this.__data__.get(G)}function Mt(G){return this.__data__.has(G)}function cn(G,be){var Re=this.__data__;if(Re instanceof fn){var Xe=Re.__data__;if(!ye||Xe.length<t-1)return Xe.push([G,be]),this.size=++Re.size,this;Re=this.__data__=new Cn(Xe)}return Re.set(G,be),this.size=Re.size,this}sn.prototype.clear=wn,sn.prototype.delete=zn,sn.prototype.get=rt,sn.prototype.has=Mt,sn.prototype.set=cn;function Ir(G,be){var Re=Vt(G),Xe=!Re&&er(G),Xt=!Re&&!Xe&&Zt(G),Pt=!Re&&!Xe&&!Xt&&vs(G),gn=Re||Xe||Xt||Pt,At=gn?Fe(G.length,String):[],Gn=At.length;for(var ln in G)Ze.call(G,ln)&&!(gn&&(ln=="length"||Xt&&(ln=="offset"||ln=="parent")||Pt&&(ln=="buffer"||ln=="byteLength"||ln=="byteOffset")||yo(ln,Gn)))&&At.push(ln);return At}function $n(G,be){for(var Re=G.length;Re--;)if(Bn(G[Re][0],be))return Re;return-1}function lr(G,be,Re){var Xe=be(G);return Vt(G)?Xe:Ae(Xe,Re(G))}function ur(G){return G==null?G===void 0?B:N:Et&&Et in Object(G)?Vn(G):Qn(G)}function Wt(G){return yr(G)&&ur(G)==h}function Tn(G,be,Re,Xe,Xt){return G===be?!0:G==null||be==null||!yr(G)&&!yr(be)?G!==G&&be!==be:yi(G,be,Re,Xe,Tn,Xt)}function yi(G,be,Re,Xe,Xt,Pt){var gn=Vt(G),At=Vt(be),Gn=gn?u:Zr(G),ln=At?u:Zr(be);Gn=Gn==h?b:Gn,ln=ln==h?b:ln;var Yn=Gn==b,br=ln==b,Pn=Gn==ln;if(Pn&&Zt(G)){if(!Zt(be))return!1;gn=!0,Yn=!1}if(Pn&&!Yn)return Pt||(Pt=new sn),gn||vs(G)?Kr(G,be,Re,Xe,Xt,Pt):on(G,be,Gn,Re,Xe,Xt,Pt);if(!(Re&i)){var Nn=Yn&&Ze.call(G,"__wrapped__"),sr=br&&Ze.call(be,"__wrapped__");if(Nn||sr){var Jr=Nn?G.value():G,Ri=sr?be.value():be;return Pt||(Pt=new sn),Xt(Jr,Ri,Re,Xe,Pt)}}return Pn?(Pt||(Pt=new sn),hn(G,be,Re,Xe,Xt,Pt)):!1}function cr(G){if(!Ni(G)||bo(G))return!1;var be=Ur(G)?$t:we;return be.test(pn(G))}function ir(G){return yr(G)&&qr(G.length)&&!!K[ur(G)]}function Pi(G){if(!wo(G))return Ut(G);var be=[];for(var Re in Object(G))Ze.call(G,Re)&&Re!="constructor"&&be.push(Re);return be}function Kr(G,be,Re,Xe,Xt,Pt){var gn=Re&i,At=G.length,Gn=be.length;if(At!=Gn&&!(gn&&Gn>At))return!1;var ln=Pt.get(G);if(ln&&Pt.get(be))return ln==be;var Yn=-1,br=!0,Pn=Re&o?new jt:void 0;for(Pt.set(G,be),Pt.set(be,G);++Yn<At;){var Nn=G[Yn],sr=be[Yn];if(Xe)var Jr=gn?Xe(sr,Nn,Yn,be,G,Pt):Xe(Nn,sr,Yn,G,be,Pt);if(Jr!==void 0){if(Jr)continue;br=!1;break}if(Pn){if(!ke(be,function(Ri,bi){if(!fe(Pn,bi)&&(Nn===Ri||Xt(Nn,Ri,Re,Xe,Pt)))return Pn.push(bi)})){br=!1;break}}else if(!(Nn===sr||Xt(Nn,sr,Re,Xe,Pt))){br=!1;break}}return Pt.delete(G),Pt.delete(be),br}function on(G,be,Re,Xe,Xt,Pt,gn){switch(Re){case j:if(G.byteLength!=be.byteLength||G.byteOffset!=be.byteOffset)return!1;G=G.buffer,be=be.buffer;case P:return!(G.byteLength!=be.byteLength||!Pt(new De(G),new De(be)));case d:case g:case A:return Bn(+G,+be);case y:return G.name==be.name&&G.message==be.message;case D:case C:return G==be+"";case _:var At=O;case T:var Gn=Xe&i;if(At||(At=U),G.size!=be.size&&!Gn)return!1;var ln=gn.get(G);if(ln)return ln==be;Xe|=o,gn.set(G,be);var Yn=Kr(At(G),At(be),Xe,Xt,Pt,gn);return gn.delete(G),Yn;case R:if(it)return it.call(G)==it.call(be)}return!1}function hn(G,be,Re,Xe,Xt,Pt){var gn=Re&i,At=Fn(G),Gn=At.length,ln=Fn(be),Yn=ln.length;if(Gn!=Yn&&!gn)return!1;for(var br=Gn;br--;){var Pn=At[br];if(!(gn?Pn in be:Ze.call(be,Pn)))return!1}var Nn=Pt.get(G);if(Nn&&Pt.get(be))return Nn==be;var sr=!0;Pt.set(G,be),Pt.set(be,G);for(var Jr=gn;++br<Gn;){Pn=At[br];var Ri=G[Pn],bi=be[Pn];if(Xe)var _o=gn?Xe(bi,Ri,Pn,be,G,Pt):Xe(Ri,bi,Pn,G,be,Pt);if(!(_o===void 0?Ri===bi||Xt(Ri,bi,Re,Xe,Pt):_o)){sr=!1;break}Jr||(Jr=Pn=="constructor")}if(sr&&!Jr){var Go=G.constructor,Dr=be.constructor;Go!=Dr&&"constructor"in G&&"constructor"in be&&!(typeof Go=="function"&&Go instanceof Go&&typeof Dr=="function"&&Dr instanceof Dr)&&(sr=!1)}return Pt.delete(G),Pt.delete(be),sr}function Fn(G){return lr(G,Ii,gs)}function Mn(G,be){var Re=G.__data__;return Ws(be)?Re[typeof be=="string"?"string":"hash"]:Re.map}function kr(G,be){var Re=me(G,be);return cr(Re)?Re:void 0}function Vn(G){var be=Ze.call(G,Et),Re=G[Et];try{G[Et]=void 0;var Xe=!0}catch{}var Xt=ct.call(G);return Xe&&(be?G[Et]=Re:delete G[Et]),Xt}var gs=wt?function(G){return G==null?[]:(G=Object(G),ve(wt(G),function(be){return ze.call(G,be)}))}:tr,Zr=ur;(qt&&Zr(new qt(new ArrayBuffer(1)))!=j||ye&&Zr(new ye)!=_||Ee&&Zr(Ee.resolve())!=M||Be&&Zr(new Be)!=T||Ue&&Zr(new Ue)!=I)&&(Zr=function(G){var be=ur(G),Re=be==b?G.constructor:void 0,Xe=Re?pn(Re):"";if(Xe)switch(Xe){case Je:return j;case bt:return _;case lt:return M;case xt:return T;case ft:return I}return be});function yo(G,be){return be=be??l,!!be&&(typeof G=="number"||Q.test(G))&&G>-1&&G%1==0&&G<be}function Ws(G){var be=typeof G;return be=="string"||be=="number"||be=="symbol"||be=="boolean"?G!=="__proto__":G===null}function bo(G){return!!pt&&pt in G}function wo(G){var be=G&&G.constructor,Re=typeof be=="function"&&be.prototype||Le;return G===Re}function Qn(G){return ct.call(G)}function pn(G){if(G!=null){try{return $e.call(G)}catch{}try{return G+""}catch{}}return""}function Bn(G,be){return G===be||G!==G&&be!==be}var er=Wt((function(){return arguments})())?Wt:function(G){return yr(G)&&Ze.call(G,"callee")&&!ze.call(G,"callee")},Vt=Array.isArray;function hr(G){return G!=null&&qr(G.length)&&!Ur(G)}var Zt=yt||Di;function Xr(G,be){return Tn(G,be)}function Ur(G){if(!Ni(G))return!1;var be=ur(G);return be==k||be==w||be==f||be==E}function qr(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=l}function Ni(G){var be=typeof G;return G!=null&&(be=="object"||be=="function")}function yr(G){return G!=null&&typeof G=="object"}var vs=pe?ae(pe):ir;function Ii(G){return hr(G)?Ir(G):Pi(G)}function tr(){return[]}function Di(){return!1}n.exports=Xr})(ih,ih.exports)),ih.exports}var od={},A_;function a9(){if(A_)return od;A_=1,Object.defineProperty(od,"__esModule",{value:!0});const n=wT(),e=_T();var t;return(function(r){function i(u={},f={},d=!1){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});let g=n(f);d||(g=Object.keys(g).reduce((y,k)=>(g[k]!=null&&(y[k]=g[k]),y),{}));for(const y in u)u[y]!==void 0&&f[y]===void 0&&(g[y]=u[y]);return Object.keys(g).length>0?g:void 0}r.compose=i;function o(u={},f={}){typeof u!="object"&&(u={}),typeof f!="object"&&(f={});const d=Object.keys(u).concat(Object.keys(f)).reduce((g,y)=>(e(u[y],f[y])||(g[y]=f[y]===void 0?null:f[y]),g),{});return Object.keys(d).length>0?d:void 0}r.diff=o;function l(u={},f={}){u=u||{};const d=Object.keys(f).reduce((g,y)=>(f[y]!==u[y]&&u[y]!==void 0&&(g[y]=f[y]),g),{});return Object.keys(u).reduce((g,y)=>(u[y]!==f[y]&&f[y]===void 0&&(g[y]=null),g),d)}r.invert=l;function h(u,f,d=!1){if(typeof u!="object")return f;if(typeof f!="object")return;if(!d)return f;const g=Object.keys(f).reduce((y,k)=>(u[k]===void 0&&(y[k]=f[k]),y),{});return Object.keys(g).length>0?g:void 0}r.transform=h})(t||(t={})),od.default=t,od}var ad={},T_;function xT(){if(T_)return ad;T_=1,Object.defineProperty(ad,"__esModule",{value:!0});var n;return(function(e){function t(r){return typeof r.delete=="number"?r.delete:typeof r.retain=="number"?r.retain:typeof r.retain=="object"&&r.retain!==null?1:typeof r.insert=="string"?r.insert.length:1}e.length=t})(n||(n={})),ad.default=n,ad}var ld={},k_;function l9(){if(k_)return ld;k_=1,Object.defineProperty(ld,"__esModule",{value:!0});const n=xT();class e{constructor(r){this.ops=r,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(r){r||(r=1/0);const i=this.ops[this.index];if(i){const o=this.offset,l=n.default.length(i);if(r>=l-o?(r=l-o,this.index+=1,this.offset=0):this.offset+=r,typeof i.delete=="number")return{delete:r};{const h={};return i.attributes&&(h.attributes=i.attributes),typeof i.retain=="number"?h.retain=r:typeof i.retain=="object"&&i.retain!==null?h.retain=i.retain:typeof i.insert=="string"?h.insert=i.insert.substr(o,r):h.insert=i.insert,h}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?n.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const r=this.ops[this.index];return r?typeof r.delete=="number"?"delete":typeof r.retain=="number"||typeof r.retain=="object"&&r.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const r=this.offset,i=this.index,o=this.next(),l=this.ops.slice(this.index);return this.offset=r,this.index=i,[o].concat(l)}}else return[]}}return ld.default=e,ld}var C_;function u9(){return C_||(C_=1,(function(n,e){Object.defineProperty(e,"__esModule",{value:!0}),e.AttributeMap=e.OpIterator=e.Op=void 0;const t=o9(),r=wT(),i=_T(),o=a9();e.AttributeMap=o.default;const l=xT();e.Op=l.default;const h=l9();e.OpIterator=h.default;const u="\0",f=(g,y)=>{if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);if(typeof y!="object"||y===null)throw new Error(`cannot retain a ${typeof y}`);const k=Object.keys(g)[0];if(!k||k!==Object.keys(y)[0])throw new Error(`embed types not matched: ${k} != ${Object.keys(y)[0]}`);return[k,g[k],y[k]]};class d{constructor(y){Array.isArray(y)?this.ops=y:y!=null&&Array.isArray(y.ops)?this.ops=y.ops:this.ops=[]}static registerEmbed(y,k){this.handlers[y]=k}static unregisterEmbed(y){delete this.handlers[y]}static getHandler(y){const k=this.handlers[y];if(!k)throw new Error(`no handlers for embed type "${y}"`);return k}insert(y,k){const w={};return typeof y=="string"&&y.length===0?this:(w.insert=y,k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(w.attributes=k),this.push(w))}delete(y){return y<=0?this:this.push({delete:y})}retain(y,k){if(typeof y=="number"&&y<=0)return this;const w={retain:y};return k!=null&&typeof k=="object"&&Object.keys(k).length>0&&(w.attributes=k),this.push(w)}push(y){let k=this.ops.length,w=this.ops[k-1];if(y=r(y),typeof w=="object"){if(typeof y.delete=="number"&&typeof w.delete=="number")return this.ops[k-1]={delete:w.delete+y.delete},this;if(typeof w.delete=="number"&&y.insert!=null&&(k-=1,w=this.ops[k-1],typeof w!="object"))return this.ops.unshift(y),this;if(i(y.attributes,w.attributes)){if(typeof y.insert=="string"&&typeof w.insert=="string")return this.ops[k-1]={insert:w.insert+y.insert},typeof y.attributes=="object"&&(this.ops[k-1].attributes=y.attributes),this;if(typeof y.retain=="number"&&typeof w.retain=="number")return this.ops[k-1]={retain:w.retain+y.retain},typeof y.attributes=="object"&&(this.ops[k-1].attributes=y.attributes),this}}return k===this.ops.length?this.ops.push(y):this.ops.splice(k,0,y),this}chop(){const y=this.ops[this.ops.length-1];return y&&typeof y.retain=="number"&&!y.attributes&&this.ops.pop(),this}filter(y){return this.ops.filter(y)}forEach(y){this.ops.forEach(y)}map(y){return this.ops.map(y)}partition(y){const k=[],w=[];return this.forEach(_=>{(y(_)?k:w).push(_)}),[k,w]}reduce(y,k){return this.ops.reduce(y,k)}changeLength(){return this.reduce((y,k)=>k.insert?y+l.default.length(k):k.delete?y-k.delete:y,0)}length(){return this.reduce((y,k)=>y+l.default.length(k),0)}slice(y=0,k=1/0){const w=[],_=new h.default(this.ops);let A=0;for(;A<k&&_.hasNext();){let N;A<y?N=_.next(y-A):(N=_.next(k-A),w.push(N)),A+=l.default.length(N)}return new d(w)}compose(y){const k=new h.default(this.ops),w=new h.default(y.ops),_=[],A=w.peek();if(A!=null&&typeof A.retain=="number"&&A.attributes==null){let b=A.retain;for(;k.peekType()==="insert"&&k.peekLength()<=b;)b-=k.peekLength(),_.push(k.next());A.retain-b>0&&w.next(A.retain-b)}const N=new d(_);for(;k.hasNext()||w.hasNext();)if(w.peekType()==="insert")N.push(w.next());else if(k.peekType()==="delete")N.push(k.next());else{const b=Math.min(k.peekLength(),w.peekLength()),M=k.next(b),E=w.next(b);if(E.retain){const D={};if(typeof M.retain=="number")D.retain=typeof E.retain=="number"?b:E.retain;else if(typeof E.retain=="number")M.retain==null?D.insert=M.insert:D.retain=M.retain;else{const C=M.retain==null?"insert":"retain",[R,B,I]=f(M[C],E.retain),P=d.getHandler(R);D[C]={[R]:P.compose(B,I,C==="retain")}}const T=o.default.compose(M.attributes,E.attributes,typeof M.retain=="number");if(T&&(D.attributes=T),N.push(D),!w.hasNext()&&i(N.ops[N.ops.length-1],D)){const C=new d(k.rest());return N.concat(C).chop()}}else typeof E.delete=="number"&&(typeof M.retain=="number"||typeof M.retain=="object"&&M.retain!==null)&&N.push(E)}return N.chop()}concat(y){const k=new d(this.ops.slice());return y.ops.length>0&&(k.push(y.ops[0]),k.ops=k.ops.concat(y.ops.slice(1))),k}diff(y,k){if(this.ops===y.ops)return new d;const w=[this,y].map(M=>M.map(E=>{if(E.insert!=null)return typeof E.insert=="string"?E.insert:u;const D=M===y?"on":"with";throw new Error("diff() called "+D+" non-document")}).join("")),_=new d,A=t(w[0],w[1],k,!0),N=new h.default(this.ops),b=new h.default(y.ops);return A.forEach(M=>{let E=M[1].length;for(;E>0;){let D=0;switch(M[0]){case t.INSERT:D=Math.min(b.peekLength(),E),_.push(b.next(D));break;case t.DELETE:D=Math.min(E,N.peekLength()),N.next(D),_.delete(D);break;case t.EQUAL:D=Math.min(N.peekLength(),b.peekLength(),E);const T=N.next(D),C=b.next(D);i(T.insert,C.insert)?_.retain(D,o.default.diff(T.attributes,C.attributes)):_.push(C).delete(D);break}E-=D}}),_.chop()}eachLine(y,k=`
`){const w=new h.default(this.ops);let _=new d,A=0;for(;w.hasNext();){if(w.peekType()!=="insert")return;const N=w.peek(),b=l.default.length(N)-w.peekLength(),M=typeof N.insert=="string"?N.insert.indexOf(k,b)-b:-1;if(M<0)_.push(w.next());else if(M>0)_.push(w.next(M));else{if(y(_,w.next(1).attributes||{},A)===!1)return;A+=1,_=new d}}_.length()>0&&y(_,{},A)}invert(y){const k=new d;return this.reduce((w,_)=>{if(_.insert)k.delete(l.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return k.retain(_.retain),w+_.retain;if(_.delete||typeof _.retain=="number"){const A=_.delete||_.retain;return y.slice(w,w+A).forEach(b=>{_.delete?k.push(b):_.retain&&_.attributes&&k.retain(l.default.length(b),o.default.invert(_.attributes,b.attributes))}),w+A}else if(typeof _.retain=="object"&&_.retain!==null){const A=y.slice(w,w+1),N=new h.default(A.ops).next(),[b,M,E]=f(_.retain,N.insert),D=d.getHandler(b);return k.retain({[b]:D.invert(M,E)},o.default.invert(_.attributes,N.attributes)),w+1}}return w},0),k.chop()}transform(y,k=!1){if(k=!!k,typeof y=="number")return this.transformPosition(y,k);const w=y,_=new h.default(this.ops),A=new h.default(w.ops),N=new d;for(;_.hasNext()||A.hasNext();)if(_.peekType()==="insert"&&(k||A.peekType()!=="insert"))N.retain(l.default.length(_.next()));else if(A.peekType()==="insert")N.push(A.next());else{const b=Math.min(_.peekLength(),A.peekLength()),M=_.next(b),E=A.next(b);if(M.delete)continue;if(E.delete)N.push(E);else{const D=M.retain,T=E.retain;let C=typeof T=="object"&&T!==null?T:b;if(typeof D=="object"&&D!==null&&typeof T=="object"&&T!==null){const R=Object.keys(D)[0];if(R===Object.keys(T)[0]){const B=d.getHandler(R);B&&(C={[R]:B.transform(D[R],T[R],k)})}}N.retain(C,o.default.transform(M.attributes,E.attributes,k))}}return N.chop()}transformPosition(y,k=!1){k=!!k;const w=new h.default(this.ops);let _=0;for(;w.hasNext()&&_<=y;){const A=w.peekLength(),N=w.peekType();if(w.next(),N==="delete"){y-=Math.min(A,y-_);continue}else N==="insert"&&(_<y||!k)&&(y+=A);_+=A}return y}}d.Op=l.default,d.OpIterator=h.default,d.AttributeMap=o.default,d.handlers={},e.default=d,n.exports=d,n.exports.default=d})(sd,sd.exports)),sd.exports}var cs=u9();const Lt=Ol(cs);class qs extends ts{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}qs.blotName="break";qs.tagName="BR";let Hs=class extends ap{};const c9={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function jp(n){return n.replace(/[&<>"']/g,e=>c9[e])}class di extends cb{static allowedChildren=[di,qs,ts,Hs];static order=["cursor","inline","link","underline","strike","italic","bold","script","code"];static compare(e,t){const r=di.order.indexOf(e),i=di.order.indexOf(t);return r>=0||i>=0?r-i:e===t?0:e<t?-1:1}formatAt(e,t,r,i){if(di.compare(this.statics.blotName,r)<0&&this.scroll.query(r,It.BLOT)){const o=this.isolate(e,t);i&&o.wrap(r,i)}else super.formatAt(e,t,r,i)}optimize(e){if(super.optimize(e),this.parent instanceof di&&di.compare(this.statics.blotName,this.parent.statics.blotName)>0){const t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}const O_=1;class Yr extends Lh{cache={};delta(){return this.cache.delta==null&&(this.cache.delta=ST(this)),this.cache.delta}deleteAt(e,t){super.deleteAt(e,t),this.cache={}}formatAt(e,t,r,i){t<=0||(this.scroll.query(r,It.BLOCK)?e+t===this.length()&&this.format(r,i):super.formatAt(e,Math.min(t,this.length()-e-1),r,i),this.cache={})}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r),this.cache={};return}if(t.length===0)return;const i=t.split(`
`),o=i.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((h,u)=>(l=l.split(h,!0),l.insertAt(0,u),u.length),e+o.length)}insertBefore(e,t){const{head:r}=this.children;super.insertBefore(e,t),r instanceof qs&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+O_),this.cache.length}moveChildren(e,t){super.moveChildren(e,t),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t&&(e===0||e>=this.length()-O_)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const r=super.split(e,t);return this.cache={},r}}Yr.blotName="block";Yr.tagName="P";Yr.defaultChild=qs;Yr.allowedChildren=[qs,di,ts,Hs];class us extends ts{attach(){super.attach(),this.attributes=new Fp(this.domNode)}delta(){return new Lt().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(e,t){const r=this.scroll.query(e,It.BLOCK_ATTRIBUTE);r!=null&&this.attributes.attribute(r,t)}formatAt(e,t,r,i){this.format(r,i)}insertAt(e,t,r){if(r!=null){super.insertAt(e,t,r);return}const i=t.split(`
`),o=i.pop(),l=i.map(u=>{const f=this.scroll.create(Yr.blotName);return f.insertAt(0,u),f}),h=this.split(e);l.forEach(u=>{this.parent.insertBefore(u,h)}),o&&this.parent.insertBefore(this.scroll.create("text",o),h)}}us.scope=It.BLOCK_BLOT;function ST(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n.descendants(si).reduce((t,r)=>r.length()===0?t:t.insert(r.value(),as(r,{},e)),new Lt).insert(`
`,as(n))}function as(n){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return n==null||("formats"in n&&typeof n.formats=="function"&&(e={...e,...n.formats()},t&&delete e["code-token"]),n.parent==null||n.parent.statics.blotName==="scroll"||n.parent.statics.scope!==n.statics.scope)?e:as(n.parent,e,t)}class Rs extends ts{static blotName="cursor";static className="ql-cursor";static tagName="span";static CONTENTS="\uFEFF";static value(){}constructor(e,t,r){super(e,t),this.selection=r,this.textNode=document.createTextNode(Rs.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(e,t){if(this.savedLength!==0){super.format(e,t);return}let r=this,i=0;for(;r!=null&&r.statics.scope!==It.BLOCK_BLOT;)i+=r.offset(r.parent),r=r.parent;r!=null&&(this.savedLength=Rs.CONTENTS.length,r.optimize(),r.formatAt(i,Rs.CONTENTS.length,e,t),this.savedLength=0)}index(e,t){return e===this.textNode?0:super.index(e,t)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const e=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const t=this.prev instanceof Hs?this.prev:null,r=t?t.length():0,i=this.next instanceof Hs?this.next:null,o=i?i.text:"",{textNode:l}=this,h=l.data.split(Rs.CONTENTS).join("");l.data=Rs.CONTENTS;let u;if(t)u=t,(h||i)&&(t.insertAt(t.length(),h+o),i&&i.remove());else if(i)u=i,i.insertAt(0,h);else{const f=document.createTextNode(h);u=this.scroll.create(f),this.parent.insertBefore(u,this)}if(this.remove(),e){const f=(y,k)=>t&&y===t.domNode?k:y===l?r+k-1:i&&y===i.domNode?r+h.length+k:null,d=f(e.start.node,e.start.offset),g=f(e.end.node,e.end.offset);if(d!==null&&g!==null)return{startNode:u.domNode,startOffset:d,endNode:u.domNode,endOffset:g}}return null}update(e,t){if(e.some(r=>r.type==="characterData"&&r.target===this.textNode)){const r=this.restore();r&&(t.range=r)}}optimize(e){super.optimize(e);let{parent:t}=this;for(;t;){if(t.domNode.tagName==="A"){this.savedLength=Rs.CONTENTS.length,t.isolate(this.offset(t),this.length()).unwrap(),this.savedLength=0;break}t=t.parent}}value(){return""}}var Xg={exports:{}},L_;function h9(){return L_||(L_=1,(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function o(u,f,d,g,y){if(typeof d!="function")throw new TypeError("The listener must be a function");var k=new i(d,g||u,y),w=t?t+f:f;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],k]:u._events[w].push(k):(u._events[w]=k,u._eventsCount++),u}function l(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function h(){this._events=new r,this._eventsCount=0}h.prototype.eventNames=function(){var f=[],d,g;if(this._eventsCount===0)return f;for(g in d=this._events)e.call(d,g)&&f.push(t?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},h.prototype.listeners=function(f){var d=t?t+f:f,g=this._events[d];if(!g)return[];if(g.fn)return[g.fn];for(var y=0,k=g.length,w=new Array(k);y<k;y++)w[y]=g[y].fn;return w},h.prototype.listenerCount=function(f){var d=t?t+f:f,g=this._events[d];return g?g.fn?1:g.length:0},h.prototype.emit=function(f,d,g,y,k,w){var _=t?t+f:f;if(!this._events[_])return!1;var A=this._events[_],N=arguments.length,b,M;if(A.fn){switch(A.once&&this.removeListener(f,A.fn,void 0,!0),N){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,d),!0;case 3:return A.fn.call(A.context,d,g),!0;case 4:return A.fn.call(A.context,d,g,y),!0;case 5:return A.fn.call(A.context,d,g,y,k),!0;case 6:return A.fn.call(A.context,d,g,y,k,w),!0}for(M=1,b=new Array(N-1);M<N;M++)b[M-1]=arguments[M];A.fn.apply(A.context,b)}else{var E=A.length,D;for(M=0;M<E;M++)switch(A[M].once&&this.removeListener(f,A[M].fn,void 0,!0),N){case 1:A[M].fn.call(A[M].context);break;case 2:A[M].fn.call(A[M].context,d);break;case 3:A[M].fn.call(A[M].context,d,g);break;case 4:A[M].fn.call(A[M].context,d,g,y);break;default:if(!b)for(D=1,b=new Array(N-1);D<N;D++)b[D-1]=arguments[D];A[M].fn.apply(A[M].context,b)}}return!0},h.prototype.on=function(f,d,g){return o(this,f,d,g,!1)},h.prototype.once=function(f,d,g){return o(this,f,d,g,!0)},h.prototype.removeListener=function(f,d,g,y){var k=t?t+f:f;if(!this._events[k])return this;if(!d)return l(this,k),this;var w=this._events[k];if(w.fn)w.fn===d&&(!y||w.once)&&(!g||w.context===g)&&l(this,k);else{for(var _=0,A=[],N=w.length;_<N;_++)(w[_].fn!==d||y&&!w[_].once||g&&w[_].context!==g)&&A.push(w[_]);A.length?this._events[k]=A.length===1?A[0]:A:l(this,k)}return this},h.prototype.removeAllListeners=function(f){var d;return f?(d=t?t+f:f,this._events[d]&&l(this,d)):(this._events=new r,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prefixed=t,h.EventEmitter=h,n.exports=h})(Xg)),Xg.exports}var f9=h9();const d9=Ol(f9),oy=new WeakMap,ay=["error","warn","log","info"];let ly="warn";function ET(n){if(ly&&ay.indexOf(n)<=ay.indexOf(ly)){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];console[n](...t)}}function Vo(n){return ay.reduce((e,t)=>(e[t]=ET.bind(console,t,n),e),{})}Vo.level=n=>{ly=n};ET.level=Vo.level;const Jg=Vo("quill:events"),p9=["selectionchange","mousedown","mouseup","click"];p9.forEach(n=>{document.addEventListener(n,function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];Array.from(document.querySelectorAll(".ql-container")).forEach(i=>{const o=oy.get(i);o&&o.emitter&&o.emitter.handleDOM(...t)})})});class Ct extends d9{static events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"};static sources={API:"api",SILENT:"silent",USER:"user"};constructor(){super(),this.domListeners={},this.on("error",Jg.error)}emit(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return Jg.log.call(Jg,...t),super.emit(...t)}handleDOM(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];(this.domListeners[e.type]||[]).forEach(o=>{let{node:l,handler:h}=o;(e.target===l||l.contains(e.target))&&h(e,...r)})}listenDOM(e,t,r){this.domListeners[e]||(this.domListeners[e]=[]),this.domListeners[e].push({node:t,handler:r})}}const Qg=Vo("quill:selection");class El{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=e,this.length=t}}class m9{constructor(e,t){this.emitter=t,this.scroll=e,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new El(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,Ct.sources.USER),1)}),this.emitter.on(Ct.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const r=this.getNativeRange();r!=null&&r.start.node!==this.cursor.textNode&&this.emitter.once(Ct.events.SCROLL_UPDATE,(i,o)=>{try{this.root.contains(r.start.node)&&this.root.contains(r.end.node)&&this.setNativeRange(r.start.node,r.start.offset,r.end.node,r.end.offset);const l=o.some(h=>h.type==="characterData"||h.type==="childList"||h.type==="attributes"&&h.target===this.root);this.update(l?Ct.sources.SILENT:i)}catch{}})}),this.emitter.on(Ct.events.SCROLL_OPTIMIZE,(r,i)=>{if(i.range){const{startNode:o,startOffset:l,endNode:h,endOffset:u}=i.range;this.setNativeRange(o,l,h,u),this.update(Ct.sources.SILENT)}}),this.update(Ct.sources.SILENT)}handleComposition(){this.emitter.on(Ct.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(Ct.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const e=this.cursor.restore();if(!e)return;setTimeout(()=>{this.setNativeRange(e.startNode,e.startOffset,e.endNode,e.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(Ct.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(e,t){this.scroll.update();const r=this.getNativeRange();if(!(r==null||!r.native.collapsed||this.scroll.query(e,It.BLOCK))){if(r.start.node!==this.cursor.textNode){const i=this.scroll.find(r.start.node,!1);if(i==null)return;if(i instanceof si){const o=i.split(r.start.offset);i.parent.insertBefore(this.cursor,o)}else i.insertBefore(this.cursor,r.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const r=this.scroll.length();e=Math.min(e,r-1),t=Math.min(e+t,r-1)-e;let i,[o,l]=this.scroll.leaf(e);if(o==null)return null;if(t>0&&l===o.length()){const[d]=this.scroll.leaf(e+1);if(d){const[g]=this.scroll.line(e),[y]=this.scroll.line(e+1);g===y&&(o=d,l=0)}}[i,l]=o.position(l,!0);const h=document.createRange();if(t>0)return h.setStart(i,l),[o,l]=this.scroll.leaf(e+t),o==null?null:([i,l]=o.position(l,!0),h.setEnd(i,l),h.getBoundingClientRect());let u="left",f;if(i instanceof Text){if(!i.data.length)return null;l<i.data.length?(h.setStart(i,l),h.setEnd(i,l+1)):(h.setStart(i,l-1),h.setEnd(i,l),u="right"),f=h.getBoundingClientRect()}else{if(!(o.domNode instanceof Element))return null;f=o.domNode.getBoundingClientRect(),l>0&&(u="right")}return{bottom:f.top+f.height,height:f.height,left:f[u],right:f[u],top:f.top,width:0}}getNativeRange(){const e=document.getSelection();if(e==null||e.rangeCount<=0)return null;const t=e.getRangeAt(0);if(t==null)return null;const r=this.normalizeNative(t);return Qg.info("getNativeRange",r),r}getRange(){const e=this.scroll.domNode;if("isConnected"in e&&!e.isConnected)return[null,null];const t=this.getNativeRange();return t==null?[null,null]:[this.normalizedToRange(t),t]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&ev(this.root,document.activeElement)}normalizedToRange(e){const t=[[e.start.node,e.start.offset]];e.native.collapsed||t.push([e.end.node,e.end.offset]);const r=t.map(l=>{const[h,u]=l,f=this.scroll.find(h,!0),d=f.offset(this.scroll);return u===0?d:f instanceof si?d+f.index(h,u):d+f.length()}),i=Math.min(Math.max(...r),this.scroll.length()-1),o=Math.min(i,...r);return new El(o,i-o)}normalizeNative(e){if(!ev(this.root,e.startContainer)||!e.collapsed&&!ev(this.root,e.endContainer))return null;const t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(r=>{let{node:i,offset:o}=r;for(;!(i instanceof Text)&&i.childNodes.length>0;)if(i.childNodes.length>o)i=i.childNodes[o],o=0;else if(i.childNodes.length===o)i=i.lastChild,i instanceof Text?o=i.data.length:i.childNodes.length>0?o=i.childNodes.length:o=i.childNodes.length+1;else break;r.node=i,r.offset=o}),t}rangeToNative(e){const t=this.scroll.length(),r=(i,o)=>{i=Math.min(t-1,i);const[l,h]=this.scroll.leaf(i);return l?l.position(h,o):[null,-1]};return[...r(e.index,!1),...r(e.index+e.length,!0)]}setNativeRange(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Qg.info("setNativeRange",e,t,r,i),e!=null&&(this.root.parentNode==null||e.parentNode==null||r.parentNode==null))return;const l=document.getSelection();if(l!=null)if(e!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:h}=this.getNativeRange()||{};if(h==null||o||e!==h.startContainer||t!==h.startOffset||r!==h.endContainer||i!==h.endOffset){e instanceof Element&&e.tagName==="BR"&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),r instanceof Element&&r.tagName==="BR"&&(i=Array.from(r.parentNode.childNodes).indexOf(r),r=r.parentNode);const u=document.createRange();u.setStart(e,t),u.setEnd(r,i),l.removeAllRanges(),l.addRange(u)}}else l.removeAllRanges(),this.root.blur()}setRange(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ct.sources.API;if(typeof t=="string"&&(r=t,t=!1),Qg.info("setRange",e),e!=null){const i=this.rangeToNative(e);this.setNativeRange(...i,t)}else this.setNativeRange(null);this.update(r)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ct.sources.USER;const t=this.lastRange,[r,i]=this.getRange();if(this.lastRange=r,this.lastNative=i,this.lastRange!=null&&(this.savedRange=this.lastRange),!ub(t,this.lastRange)){if(!this.composing&&i!=null&&i.native.collapsed&&i.start.node!==this.cursor.textNode){const l=this.cursor.restore();l&&this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)}const o=[Ct.events.SELECTION_CHANGE,Fu(this.lastRange),Fu(t),e];this.emitter.emit(Ct.events.EDITOR_CHANGE,...o),e!==Ct.sources.SILENT&&this.emitter.emit(...o)}}}function ev(n,e){try{e.parentNode}catch{return!1}return n.contains(e)}const g9=/^[ -~]*$/;class v9{constructor(e){this.scroll=e,this.delta=this.getDelta()}applyDelta(e){this.scroll.update();let t=this.scroll.length();this.scroll.batchStart();const r=M_(e),i=new Lt;return b9(r.ops.slice()).reduce((l,h)=>{const u=cs.Op.length(h);let f=h.attributes||{},d=!1,g=!1;if(h.insert!=null){if(i.retain(u),typeof h.insert=="string"){const w=h.insert;g=!w.endsWith(`
`)&&(t<=l||!!this.scroll.descendant(us,l)[0]),this.scroll.insertAt(l,w);const[_,A]=this.scroll.line(l);let N=xa({},as(_));if(_ instanceof Yr){const[b]=_.descendant(si,A);b&&(N=xa(N,as(b)))}f=cs.AttributeMap.diff(N,f)||{}}else if(typeof h.insert=="object"){const w=Object.keys(h.insert)[0];if(w==null)return l;const _=this.scroll.query(w,It.INLINE)!=null;if(_)(t<=l||this.scroll.descendant(us,l)[0])&&(g=!0);else if(l>0){const[A,N]=this.scroll.descendant(si,l-1);A instanceof Hs?A.value()[N]!==`
`&&(d=!0):A instanceof ts&&A.statics.scope===It.INLINE_BLOT&&(d=!0)}if(this.scroll.insertAt(l,w,h.insert[w]),_){const[A]=this.scroll.descendant(si,l);if(A){const N=xa({},as(A));f=cs.AttributeMap.diff(N,f)||{}}}}t+=u}else if(i.push(h),h.retain!==null&&typeof h.retain=="object"){const w=Object.keys(h.retain)[0];if(w==null)return l;this.scroll.updateEmbedAt(l,w,h.retain[w])}Object.keys(f).forEach(w=>{this.scroll.formatAt(l,u,w,f[w])});const y=d?1:0,k=g?1:0;return t+=y+k,i.retain(y),i.delete(k),l+u+y+k},0),i.reduce((l,h)=>typeof h.delete=="number"?(this.scroll.deleteAt(l,h.delete),l):l+cs.Op.length(h),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(r)}deleteText(e,t){return this.scroll.deleteAt(e,t),this.update(new Lt().retain(e).delete(t))}formatLine(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(r).forEach(o=>{this.scroll.lines(e,Math.max(t,1)).forEach(l=>{l.format(o,r[o])})}),this.scroll.optimize();const i=new Lt().retain(e).retain(t,Fu(r));return this.update(i)}formatText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(r).forEach(o=>{this.scroll.formatAt(e,t,o,r[o])});const i=new Lt().retain(e).retain(t,Fu(r));return this.update(i)}getContents(e,t){return this.delta.slice(e,e+t)}getDelta(){return this.scroll.lines().reduce((e,t)=>e.concat(t.delta()),new Lt)}getFormat(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=[],i=[];t===0?this.scroll.path(e).forEach(h=>{const[u]=h;u instanceof Yr?r.push(u):u instanceof si&&i.push(u)}):(r=this.scroll.lines(e,t),i=this.scroll.descendants(si,e,t));const[o,l]=[r,i].map(h=>{const u=h.shift();if(u==null)return{};let f=as(u);for(;Object.keys(f).length>0;){const d=h.shift();if(d==null)return f;f=y9(as(d),f)}return f});return{...o,...l}}getHTML(e,t){const[r,i]=this.scroll.line(e);if(r){const o=r.length();return r.length()>=i+t&&!(i===0&&t===o)?Mh(r,i,t,!0):Mh(this.scroll,e,t,!0)}return""}getText(e,t){return this.getContents(e,t).filter(r=>typeof r.insert=="string").map(r=>r.insert).join("")}insertContents(e,t){const r=M_(t),i=new Lt().retain(e).concat(r);return this.scroll.insertContents(e,r),this.update(i)}insertEmbed(e,t,r){return this.scroll.insertAt(e,t,r),this.update(new Lt().retain(e).insert({[t]:r}))}insertText(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return t=t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(e,t),Object.keys(r).forEach(i=>{this.scroll.formatAt(e,t.length,i,r[i])}),this.update(new Lt().retain(e).insert(t,Fu(r)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const e=this.scroll.children.head;if(e?.statics.blotName!==Yr.blotName)return!1;const t=e;return t.children.length>1?!1:t.children.head instanceof qs}removeFormat(e,t){const r=this.getText(e,t),[i,o]=this.scroll.line(e+t);let l=0,h=new Lt;i!=null&&(l=i.length()-o,h=i.delta().slice(o,o+l-1).insert(`
`));const f=this.getContents(e,t+l).diff(new Lt().insert(r).concat(h)),d=new Lt().retain(e).concat(f);return this.applyDelta(d)}update(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const i=this.delta;if(t.length===1&&t[0].type==="characterData"&&t[0].target.data.match(g9)&&this.scroll.find(t[0].target)){const o=this.scroll.find(t[0].target),l=as(o),h=o.offset(this.scroll),u=t[0].oldValue.replace(Rs.CONTENTS,""),f=new Lt().insert(u),d=new Lt().insert(o.value()),g=r&&{oldRange:P_(r.oldRange,-h),newRange:P_(r.newRange,-h)};e=new Lt().retain(h).concat(f.diff(d,g)).reduce((k,w)=>w.insert?k.insert(w.insert,l):k.push(w),new Lt),this.delta=i.compose(e)}else this.delta=this.getDelta(),(!e||!ub(i.compose(e),this.delta))&&(e=i.diff(this.delta,r));return e}}function _u(n,e,t){if(n.length===0){const[k]=tv(t.pop());return e<=0?`</li></${k}>`:`</li></${k}>${_u([],e-1,t)}`}const[{child:r,offset:i,length:o,indent:l,type:h},...u]=n,[f,d]=tv(h);if(l>e)return t.push(h),l===e+1?`<${f}><li${d}>${Mh(r,i,o)}${_u(u,l,t)}`:`<${f}><li>${_u(n,e+1,t)}`;const g=t[t.length-1];if(l===e&&h===g)return`</li><li${d}>${Mh(r,i,o)}${_u(u,l,t)}`;const[y]=tv(t.pop());return`</li></${y}>${_u(n,e-1,t)}`}function Mh(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in n&&typeof n.html=="function")return n.html(e,t);if(n instanceof Hs)return jp(n.value().slice(e,e+t)).replaceAll(" ","&nbsp;");if(n instanceof js){if(n.statics.blotName==="list-container"){const f=[];return n.children.forEachAt(e,t,(d,g,y)=>{const k="formats"in d&&typeof d.formats=="function"?d.formats():{};f.push({child:d,offset:g,length:y,indent:k.indent||0,type:k.list})}),_u(f,-1,[])}const i=[];if(n.children.forEachAt(e,t,(f,d,g)=>{i.push(Mh(f,d,g))}),r||n.statics.blotName==="list")return i.join("");const{outerHTML:o,innerHTML:l}=n.domNode,[h,u]=o.split(`>${l}<`);return h==="<table"?`<table style="border: 1px solid #000;">${i.join("")}<${u}`:`${h}>${i.join("")}<${u}`}return n.domNode instanceof Element?n.domNode.outerHTML:""}function y9(n,e){return Object.keys(e).reduce((t,r)=>{if(n[r]==null)return t;const i=e[r];return i===n[r]?t[r]=i:Array.isArray(i)?i.indexOf(n[r])<0?t[r]=i.concat([n[r]]):t[r]=i:t[r]=[i,n[r]],t},{})}function tv(n){const e=n==="ordered"?"ol":"ul";switch(n){case"checked":return[e,' data-list="checked"'];case"unchecked":return[e,' data-list="unchecked"'];default:return[e,""]}}function M_(n){return n.reduce((e,t)=>{if(typeof t.insert=="string"){const r=t.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return e.insert(r,t.attributes)}return e.push(t)},new Lt)}function P_(n,e){let{index:t,length:r}=n;return new El(t+e,r)}function b9(n){const e=[];return n.forEach(t=>{typeof t.insert=="string"?t.insert.split(`
`).forEach((i,o)=>{o&&e.push({insert:`
`,attributes:t.attributes}),i&&e.push({insert:i,attributes:t.attributes})}):e.push(t)}),e}class vo{static DEFAULTS={};constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=e,this.options=t}}const ud="\uFEFF";class fb extends ts{constructor(e,t){super(e,t),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(r=>{this.contentNode.appendChild(r)}),this.leftGuard=document.createTextNode(ud),this.rightGuard=document.createTextNode(ud),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:super.index(e,t)}restore(e){let t=null,r;const i=e.data.split(ud).join("");if(e===this.leftGuard)if(this.prev instanceof Hs){const o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this),t={startNode:r,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof Hs?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(r=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(r),this.next),t={startNode:r,startOffset:i.length}));return e.data=ud,t}update(e,t){e.forEach(r=>{if(r.type==="characterData"&&(r.target===this.leftGuard||r.target===this.rightGuard)){const i=this.restore(r.target);i&&(t.range=i)}})}}class w9{isComposing=!1;constructor(e,t){this.scroll=e,this.emitter=t,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",e=>{this.isComposing||this.handleCompositionStart(e)}),this.scroll.domNode.addEventListener("compositionend",e=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(e)})})}handleCompositionStart(e){const t=e.target instanceof Node?this.scroll.find(e.target,!0):null;t&&!(t instanceof fb)&&(this.emitter.emit(Ct.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(Ct.events.COMPOSITION_START,e),this.isComposing=!0)}handleCompositionEnd(e){this.emitter.emit(Ct.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(Ct.events.COMPOSITION_END,e),this.isComposing=!1}}class uc{static DEFAULTS={modules:{}};static themes={default:uc};modules={};constructor(e,t){this.quill=e,this.options=t}init(){Object.keys(this.options.modules).forEach(e=>{this.modules[e]==null&&this.addModule(e)})}addModule(e){const t=this.quill.constructor.import(`modules/${e}`);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}const _9=n=>n.parentElement||n.getRootNode().host||null,x9=n=>{const e=n.getBoundingClientRect(),t="offsetWidth"in n&&Math.abs(e.width)/n.offsetWidth||1,r="offsetHeight"in n&&Math.abs(e.height)/n.offsetHeight||1;return{top:e.top,right:e.left+n.clientWidth*t,bottom:e.top+n.clientHeight*r,left:e.left}},cd=n=>{const e=parseInt(n,10);return Number.isNaN(e)?0:e},N_=(n,e,t,r,i,o)=>n<t&&e>r?0:n<t?-(t-n+i):e>r?e-n>r-t?n+i-t:e-r+o:0,S9=(n,e)=>{const t=n.ownerDocument;let r=e,i=n;for(;i;){const o=i===t.body,l=o?{top:0,right:window.visualViewport?.width??t.documentElement.clientWidth,bottom:window.visualViewport?.height??t.documentElement.clientHeight,left:0}:x9(i),h=getComputedStyle(i),u=N_(r.left,r.right,l.left,l.right,cd(h.scrollPaddingLeft),cd(h.scrollPaddingRight)),f=N_(r.top,r.bottom,l.top,l.bottom,cd(h.scrollPaddingTop),cd(h.scrollPaddingBottom));if(u||f)if(o)t.defaultView?.scrollBy(u,f);else{const{scrollLeft:d,scrollTop:g}=i;f&&(i.scrollTop+=f),u&&(i.scrollLeft+=u);const y=i.scrollLeft-d,k=i.scrollTop-g;r={left:r.left-y,top:r.top-k,right:r.right-y,bottom:r.bottom-k}}i=o||h.position==="fixed"?null:_9(i)}},E9=100,A9=["block","break","cursor","inline","scroll","text"],T9=(n,e,t)=>{const r=new Zu;return A9.forEach(i=>{const o=e.query(i);o&&r.register(o)}),n.forEach(i=>{let o=e.query(i);o||t.error(`Cannot register "${i}" specified in "formats" config. Are you sure it was registered?`);let l=0;for(;o;)if(r.register(o),o="blotName"in o?o.requiredContainer??null:null,l+=1,l>E9){t.error(`Cycle detected in registering blot requiredContainer: "${i}"`);break}}),r},ju=Vo("quill"),hd=new Zu;js.uiClass="ql-ui";class tt{static DEFAULTS={bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:hd,theme:"default"};static events=Ct.events;static sources=Ct.sources;static version="2.0.3";static imports={delta:Lt,parchment:s9,"core/module":vo,"core/theme":uc};static debug(e){e===!0&&(e="log"),Vo.level(e)}static find(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return oy.get(e)||hd.find(e,t)}static import(e){return this.imports[e]==null&&ju.error(`Cannot import ${e}. Are you sure it was registered?`),this.imports[e]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const e=arguments.length<=0?void 0:arguments[0],t=!!(!(arguments.length<=1)&&arguments[1]),r="attrName"in e?e.attrName:e.blotName;typeof r=="string"?this.register(`formats/${r}`,e,t):Object.keys(e).forEach(i=>{this.register(i,e[i],t)})}else{const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],r=!!(!(arguments.length<=2)&&arguments[2]);this.imports[e]!=null&&!r&&ju.warn(`Overwriting ${e} with`,t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&t&&typeof t!="boolean"&&t.blotName!=="abstract"&&hd.register(t),typeof t.register=="function"&&t.register(hd)}}constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=k9(e,t),this.container=this.options.container,this.container==null){ju.error("Invalid Quill container",e);return}this.options.debug&&tt.debug(this.options.debug);const r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",oy.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new Ct;const i=hb.blotName,o=this.options.registry.query(i);if(!o||!("blotName"in o))throw new Error(`Cannot initialize Quill without "${i}" blot`);if(this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new v9(this.scroll),this.selection=new m9(this.scroll,this.emitter),this.composition=new w9(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(Ct.events.EDITOR_CHANGE,l=>{l===Ct.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(Ct.events.SCROLL_UPDATE,(l,h)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),d=u&&f?{oldRange:u,newRange:f}:void 0;Ms.call(this,()=>this.editor.update(null,h,d),l)}),this.emitter.on(Ct.events.SCROLL_EMBED_UPDATE,(l,h)=>{const u=this.selection.lastRange,[f]=this.selection.getRange(),d=u&&f?{oldRange:u,newRange:f}:void 0;Ms.call(this,()=>{const g=new Lt().retain(l.offset(this)).retain({[l.statics.blotName]:h});return this.editor.update(g,[],d)},tt.sources.USER)}),r){const l=this.clipboard.convert({html:`${r}<p><br></p>`,text:`
`});this.setContents(l)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof e=="string"){const r=e;e=document.createElement("div"),e.classList.add(r)}return this.container.insertBefore(e,t),e}blur(){this.selection.setRange(null)}deleteText(e,t,r){return[e,t,,r]=Io(e,t,r),Ms.call(this,()=>this.editor.deleteText(e,t),r,e,-1*t)}disable(){this.enable(!1)}editReadOnly(e){this.allowReadOnlyEdits=!0;const t=e();return this.allowReadOnlyEdits=!1,t}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}focus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),e.preventScroll||this.scrollSelectionIntoView()}format(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ct.sources.API;return Ms.call(this,()=>{const i=this.getSelection(!0);let o=new Lt;if(i==null)return o;if(this.scroll.query(e,It.BLOCK))o=this.editor.formatLine(i.index,i.length,{[e]:t});else{if(i.length===0)return this.selection.format(e,t),o;o=this.editor.formatText(i.index,i.length,{[e]:t})}return this.setSelection(i,Ct.sources.SILENT),o},r)}formatLine(e,t,r,i,o){let l;return[e,t,l,o]=Io(e,t,r,i,o),Ms.call(this,()=>this.editor.formatLine(e,t,l),o,e,0)}formatText(e,t,r,i,o){let l;return[e,t,l,o]=Io(e,t,r,i,o),Ms.call(this,()=>this.editor.formatText(e,t,l),o,e,0)}getBounds(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=null;if(typeof e=="number"?r=this.selection.getBounds(e,t):r=this.selection.getBounds(e.index,e.length),!r)return null;const i=this.container.getBoundingClientRect();return{bottom:r.bottom-i.top,height:r.height,left:r.left-i.left,right:r.right-i.left,top:r.top-i.top,width:r.width}}getContents(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-e;return[e,t]=Io(e,t),this.editor.getContents(e,t)}getFormat(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof e=="number"?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}getIndex(e){return e.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(e){return this.scroll.leaf(e)}getLine(e){return this.scroll.line(e)}getLines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof e!="number"?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}getModule(e){return this.theme.modules[e]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Io(e,t),this.editor.getHTML(e,t)}getText(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return typeof e=="number"&&(t=t??this.getLength()-e),[e,t]=Io(e,t),this.editor.getText(e,t)}hasFocus(){return this.selection.hasFocus()}insertEmbed(e,t,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:tt.sources.API;return Ms.call(this,()=>this.editor.insertEmbed(e,t,r),i,e)}insertText(e,t,r,i,o){let l;return[e,,l,o]=Io(e,0,r,i,o),Ms.call(this,()=>this.editor.insertText(e,t,l),o,e,t.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(e,t,r){return[e,t,,r]=Io(e,t,r),Ms.call(this,()=>this.editor.removeFormat(e,t),r,e)}scrollRectIntoView(e){S9(this.root,e)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const e=this.selection.lastRange,t=e&&this.selection.getBounds(e.index,e.length);t&&this.scrollRectIntoView(t)}setContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct.sources.API;return Ms.call(this,()=>{e=new Lt(e);const r=this.getLength(),i=this.editor.deleteText(0,r),o=this.editor.insertContents(0,e),l=this.editor.deleteText(this.getLength()-1,1);return i.compose(o).compose(l)},t)}setSelection(e,t,r){e==null?this.selection.setRange(null,t||tt.sources.API):([e,t,,r]=Io(e,t,r),this.selection.setRange(new El(Math.max(0,e),t),r),r!==Ct.sources.SILENT&&this.scrollSelectionIntoView())}setText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct.sources.API;const r=new Lt().insert(e);return this.setContents(r,t)}update(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Ct.sources.USER;const t=this.scroll.update(e);return this.selection.update(e),t}updateContents(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ct.sources.API;return Ms.call(this,()=>(e=new Lt(e),this.editor.applyDelta(e)),t,!0)}}function I_(n){return typeof n=="string"?document.querySelector(n):n}function nv(n){return Object.entries(n??{}).reduce((e,t)=>{let[r,i]=t;return{...e,[r]:i===!0?{}:i}},{})}function D_(n){return Object.fromEntries(Object.entries(n).filter(e=>e[1]!==void 0))}function k9(n,e){const t=I_(n);if(!t)throw new Error("Invalid Quill container");const i=!e.theme||e.theme===tt.DEFAULTS.theme?uc:tt.import(`themes/${e.theme}`);if(!i)throw new Error(`Invalid theme ${e.theme}. Did you register it?`);const{modules:o,...l}=tt.DEFAULTS,{modules:h,...u}=i.DEFAULTS;let f=nv(e.modules);f!=null&&f.toolbar&&f.toolbar.constructor!==Object&&(f={...f,toolbar:{container:f.toolbar}});const d=xa({},nv(o),nv(h),f),g={...l,...D_(u),...D_(e)};let y=e.registry;return y?e.formats&&ju.warn('Ignoring "formats" option because "registry" is specified'):y=e.formats?T9(e.formats,g.registry,ju):g.registry,{...g,registry:y,container:t,theme:i,modules:Object.entries(d).reduce((k,w)=>{let[_,A]=w;if(!A)return k;const N=tt.import(`modules/${_}`);return N==null?(ju.error(`Cannot load ${_} module. Are you sure you registered it?`),k):{...k,[_]:xa({},N.DEFAULTS||{},A)}},{}),bounds:I_(g.bounds)}}function Ms(n,e,t,r){if(!this.isEnabled()&&e===Ct.sources.USER&&!this.allowReadOnlyEdits)return new Lt;let i=t==null?null:this.getSelection();const o=this.editor.delta,l=n();if(i!=null&&(t===!0&&(t=i.index),r==null?i=R_(i,l,e):r!==0&&(i=R_(i,t,r,e)),this.setSelection(i,Ct.sources.SILENT)),l.length()>0){const h=[Ct.events.TEXT_CHANGE,l,o,e];this.emitter.emit(Ct.events.EDITOR_CHANGE,...h),e!==Ct.sources.SILENT&&this.emitter.emit(...h)}return l}function Io(n,e,t,r,i){let o={};return typeof n.index=="number"&&typeof n.length=="number"?typeof e!="number"?(i=r,r=t,t=e,e=n.length,n=n.index):(e=n.length,n=n.index):typeof e!="number"&&(i=r,r=t,t=e,e=0),typeof t=="object"?(o=t,i=r):typeof t=="string"&&(r!=null?o[t]=r:i=t),i=i||Ct.sources.API,[n,e,o,i]}function R_(n,e,t,r){const i=typeof t=="number"?t:0;if(n==null)return null;let o,l;return e&&typeof e.transformPosition=="function"?[o,l]=[n.index,n.index+n.length].map(h=>e.transformPosition(h,r!==Ct.sources.USER)):[o,l]=[n.index,n.index+n.length].map(h=>h<e||h===e&&r===Ct.sources.USER?h:i>=0?h+i:Math.max(e,h+i)),new El(o,l-o)}class Nl extends Bp{}function F_(n){return n instanceof Yr||n instanceof us}function B_(n){return typeof n.updateContent=="function"}class C9 extends hb{static blotName="scroll";static className="ql-editor";static tagName="DIV";static defaultChild=Yr;static allowedChildren=[Yr,us,Nl];constructor(e,t,r){let{emitter:i}=r;super(e,t),this.emitter=i,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",o=>this.handleDragStart(o))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const e=this.batch;this.batch=!1,this.update(e)}emitMount(e){this.emitter.emit(Ct.events.SCROLL_BLOT_MOUNT,e)}emitUnmount(e){this.emitter.emit(Ct.events.SCROLL_BLOT_UNMOUNT,e)}emitEmbedUpdate(e,t){this.emitter.emit(Ct.events.SCROLL_EMBED_UPDATE,e,t)}deleteAt(e,t){const[r,i]=this.line(e),[o]=this.line(e+t);if(super.deleteAt(e,t),o!=null&&r!==o&&i>0){if(r instanceof us||o instanceof us){this.optimize();return}const l=o.children.head instanceof qs?null:o.children.head;r.moveChildren(o,l),r.remove()}this.optimize()}enable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",e?"true":"false")}formatAt(e,t,r,i){super.formatAt(e,t,r,i),this.optimize()}insertAt(e,t,r){if(e>=this.length())if(r==null||this.scroll.query(t,It.BLOCK)==null){const i=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(i),r==null&&t.endsWith(`
`)?i.insertAt(0,t.slice(0,-1),r):i.insertAt(0,t,r)}else{const i=this.scroll.create(t,r);this.appendChild(i)}else super.insertAt(e,t,r);this.optimize()}insertBefore(e,t){if(e.statics.scope===It.INLINE_BLOT){const r=this.scroll.create(this.statics.defaultChild.blotName);r.appendChild(e),super.insertBefore(r,t)}else super.insertBefore(e,t)}insertContents(e,t){const r=this.deltaToRenderBlocks(t.concat(new Lt().insert(`
`))),i=r.pop();if(i==null)return;this.batchStart();const o=r.shift();if(o){const u=o.type==="block"&&(o.delta.length()===0||!this.descendant(us,e)[0]&&e<this.length()),f=o.type==="block"?o.delta:new Lt().insert({[o.key]:o.value});rv(this,e,f);const d=o.type==="block"?1:0,g=e+f.length()+d;u&&this.insertAt(g-1,`
`);const y=as(this.line(e)[0]),k=cs.AttributeMap.diff(y,o.attributes)||{};Object.keys(k).forEach(w=>{this.formatAt(g-1,1,w,k[w])}),e=g}let[l,h]=this.children.find(e);if(r.length&&(l&&(l=l.split(h),h=0),r.forEach(u=>{if(u.type==="block"){const f=this.createBlock(u.attributes,l||void 0);rv(f,0,u.delta)}else{const f=this.create(u.key,u.value);this.insertBefore(f,l||void 0),Object.keys(u.attributes).forEach(d=>{f.format(d,u.attributes[d])})}})),i.type==="block"&&i.delta.length()){const u=l?l.offset(l.scroll)+h:this.length();rv(this,u,i.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(e){const t=this.path(e).pop();if(!t)return[null,-1];const[r,i]=t;return r instanceof si?[r,i]:[null,-1]}line(e){return e===this.length()?this.line(e-1):this.descendant(F_,e)}lines(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const r=(i,o,l)=>{let h=[],u=l;return i.children.forEachAt(o,l,(f,d,g)=>{F_(f)?h.push(f):f instanceof Bp&&(h=h.concat(r(f,d,u))),u-=g}),h};return r(this,e,t)}optimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(e,t),e.length>0&&this.emitter.emit(Ct.events.SCROLL_OPTIMIZE,e,t))}path(e){return super.path(e).slice(1)}remove(){}update(e){if(this.batch){Array.isArray(e)&&(this.batch=this.batch.concat(e));return}let t=Ct.sources.USER;typeof e=="string"&&(t=e),Array.isArray(e)||(e=this.observer.takeRecords()),e=e.filter(r=>{let{target:i}=r;const o=this.find(i,!0);return o&&!B_(o)}),e.length>0&&this.emitter.emit(Ct.events.SCROLL_BEFORE_UPDATE,t,e),super.update(e.concat([])),e.length>0&&this.emitter.emit(Ct.events.SCROLL_UPDATE,t,e)}updateEmbedAt(e,t,r){const[i]=this.descendant(o=>o instanceof us,e);i&&i.statics.blotName===t&&B_(i)&&i.updateContent(r)}handleDragStart(e){e.preventDefault()}deltaToRenderBlocks(e){const t=[];let r=new Lt;return e.forEach(i=>{const o=i?.insert;if(o)if(typeof o=="string"){const l=o.split(`
`);l.slice(0,-1).forEach(u=>{r.insert(u,i.attributes),t.push({type:"block",delta:r,attributes:i.attributes??{}}),r=new Lt});const h=l[l.length-1];h&&r.insert(h,i.attributes)}else{const l=Object.keys(o)[0];if(!l)return;this.query(l,It.INLINE)?r.push(i):(r.length()&&t.push({type:"block",delta:r,attributes:{}}),r=new Lt,t.push({type:"blockEmbed",key:l,value:o[l],attributes:i.attributes??{}}))}}),r.length()&&t.push({type:"block",delta:r,attributes:{}}),t}createBlock(e,t){let r;const i={};Object.entries(e).forEach(h=>{let[u,f]=h;this.query(u,It.BLOCK&It.BLOT)!=null?r=u:i[u]=f});const o=this.create(r||this.statics.defaultChild.blotName,r?e[r]:void 0);this.insertBefore(o,t||void 0);const l=o.length();return Object.entries(i).forEach(h=>{let[u,f]=h;o.formatAt(0,l,u,f)}),o}}function rv(n,e,t){t.reduce((r,i)=>{const o=cs.Op.length(i);let l=i.attributes||{};if(i.insert!=null){if(typeof i.insert=="string"){const h=i.insert;n.insertAt(r,h);const[u]=n.descendant(si,r),f=as(u);l=cs.AttributeMap.diff(f,l)||{}}else if(typeof i.insert=="object"){const h=Object.keys(i.insert)[0];if(h==null)return r;if(n.insertAt(r,h,i.insert[h]),n.scroll.query(h,It.INLINE)!=null){const[f]=n.descendant(si,r),d=as(f);l=cs.AttributeMap.diff(d,l)||{}}}}return Object.keys(l).forEach(h=>{n.formatAt(r,o,h,l[h])}),r+o},e)}const db={scope:It.BLOCK,whitelist:["right","center","justify"]},O9=new mo("align","align",db),AT=new Us("align","ql-align",db),TT=new Ia("align","text-align",db);class kT extends Ia{value(e){let t=super.value(e);return t.startsWith("rgb(")?(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${t.split(",").map(i=>`00${parseInt(i,10).toString(16)}`.slice(-2)).join("")}`):t}}const L9=new Us("color","ql-color",{scope:It.INLINE}),pb=new kT("color","color",{scope:It.INLINE}),M9=new Us("background","ql-bg",{scope:It.INLINE}),mb=new kT("background","background-color",{scope:It.INLINE});class Il extends Nl{static create(e){const t=super.create(e);return t.setAttribute("spellcheck","false"),t}code(e,t){return this.children.map(r=>r.length()<=1?"":r.domNode.innerText).join(`
`).slice(e,e+t)}html(e,t){return`<pre>
${jp(this.code(e,t))}
</pre>`}}class vi extends Yr{static TAB="  ";static register(){tt.register(Il)}}class gb extends di{}gb.blotName="code";gb.tagName="CODE";vi.blotName="code-block";vi.className="ql-code-block";vi.tagName="DIV";Il.blotName="code-block-container";Il.className="ql-code-block-container";Il.tagName="DIV";Il.allowedChildren=[vi];vi.allowedChildren=[Hs,qs,Rs];vi.requiredContainer=Il;const vb={scope:It.BLOCK,whitelist:["rtl"]},CT=new mo("direction","dir",vb),OT=new Us("direction","ql-direction",vb),LT=new Ia("direction","direction",vb),MT={scope:It.INLINE,whitelist:["serif","monospace"]},PT=new Us("font","ql-font",MT);class P9 extends Ia{value(e){return super.value(e).replace(/["']/g,"")}}const NT=new P9("font","font-family",MT),IT=new Us("size","ql-size",{scope:It.INLINE,whitelist:["small","large","huge"]}),DT=new Ia("size","font-size",{scope:It.INLINE,whitelist:["10px","18px","32px"]}),N9=Vo("quill:keyboard"),I9=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class Hp extends vo{static match(e,t){return["altKey","ctrlKey","metaKey","shiftKey"].some(r=>!!t[r]!==e[r]&&t[r]!==null)?!1:t.key===e.key||t.key===e.which}constructor(e,t){super(e,t),this.bindings={},Object.keys(this.options.bindings).forEach(r=>{this.options.bindings[r]&&this.addBinding(this.options.bindings[r])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=R9(e);if(i==null){N9.warn("Attempted to add invalid keyboard binding",i);return}typeof t=="function"&&(t={handler:t}),typeof r=="function"&&(r={handler:r}),(Array.isArray(i.key)?i.key:[i.key]).forEach(l=>{const h={...i,key:l,...t,...r};this.bindings[h.key]=this.bindings[h.key]||[],this.bindings[h.key].push(h)})}listen(){this.quill.root.addEventListener("keydown",e=>{if(e.defaultPrevented||e.isComposing||e.keyCode===229&&(e.key==="Enter"||e.key==="Backspace"))return;const i=(this.bindings[e.key]||[]).concat(this.bindings[e.which]||[]).filter(N=>Hp.match(e,N));if(i.length===0)return;const o=tt.find(e.target,!0);if(o&&o.scroll!==this.quill.scroll)return;const l=this.quill.getSelection();if(l==null||!this.quill.hasFocus())return;const[h,u]=this.quill.getLine(l.index),[f,d]=this.quill.getLeaf(l.index),[g,y]=l.length===0?[f,d]:this.quill.getLeaf(l.index+l.length),k=f instanceof ap?f.value().slice(0,d):"",w=g instanceof ap?g.value().slice(y):"",_={collapsed:l.length===0,empty:l.length===0&&h.length()<=1,format:this.quill.getFormat(l),line:h,offset:u,prefix:k,suffix:w,event:e};i.some(N=>{if(N.collapsed!=null&&N.collapsed!==_.collapsed||N.empty!=null&&N.empty!==_.empty||N.offset!=null&&N.offset!==_.offset)return!1;if(Array.isArray(N.format)){if(N.format.every(b=>_.format[b]==null))return!1}else if(typeof N.format=="object"&&!Object.keys(N.format).every(b=>N.format[b]===!0?_.format[b]!=null:N.format[b]===!1?_.format[b]==null:ub(N.format[b],_.format[b])))return!1;return N.prefix!=null&&!N.prefix.test(_.prefix)||N.suffix!=null&&!N.suffix.test(_.suffix)?!1:N.handler.call(this,l,_,N)!==!0})&&e.preventDefault()})}handleBackspace(e,t){const r=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(e.index===0||this.quill.getLength()<=1)return;let i={};const[o]=this.quill.getLine(e.index);let l=new Lt().retain(e.index-r).delete(r);if(t.offset===0){const[h]=this.quill.getLine(e.index-1);if(h&&!(h.statics.blotName==="block"&&h.length()<=1)){const f=o.formats(),d=this.quill.getFormat(e.index-1,1);if(i=cs.AttributeMap.diff(f,d)||{},Object.keys(i).length>0){const g=new Lt().retain(e.index+o.length()-2).retain(1,i);l=l.compose(g)}}}this.quill.updateContents(l,tt.sources.USER),this.quill.focus()}handleDelete(e,t){const r=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(e.index>=this.quill.getLength()-r)return;let i={};const[o]=this.quill.getLine(e.index);let l=new Lt().retain(e.index).delete(r);if(t.offset>=o.length()-1){const[h]=this.quill.getLine(e.index+1);if(h){const u=o.formats(),f=this.quill.getFormat(e.index,1);i=cs.AttributeMap.diff(u,f)||{},Object.keys(i).length>0&&(l=l.retain(h.length()-1).retain(1,i))}}this.quill.updateContents(l,tt.sources.USER),this.quill.focus()}handleDeleteRange(e){yb({range:e,quill:this.quill}),this.quill.focus()}handleEnter(e,t){const r=Object.keys(t.format).reduce((o,l)=>(this.quill.scroll.query(l,It.BLOCK)&&!Array.isArray(t.format[l])&&(o[l]=t.format[l]),o),{}),i=new Lt().retain(e.index).delete(e.length).insert(`
`,r);this.quill.updateContents(i,tt.sources.USER),this.quill.setSelection(e.index+1,tt.sources.SILENT),this.quill.focus()}}const D9={bindings:{bold:iv("bold"),italic:iv("italic"),underline:iv("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","+1",tt.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(n,e){return e.collapsed&&e.offset!==0?!0:(this.quill.format("indent","-1",tt.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(n,e){e.format.indent!=null?this.quill.format("indent","-1",tt.sources.USER):e.format.list!=null&&this.quill.format("list",!1,tt.sources.USER)}},"indent code-block":j_(!0),"outdent code-block":j_(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(n){this.quill.deleteText(n.index-1,1,tt.sources.USER)}},tab:{key:"Tab",handler(n,e){if(e.format.table)return!0;this.quill.history.cutoff();const t=new Lt().retain(n.index).delete(n.length).insert("	");return this.quill.updateContents(t,tt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index+1,tt.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,tt.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(n,e){const t={list:!1};e.format.indent&&(t.indent=!1),this.quill.formatLine(n.index,n.length,t,tt.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(n){const[e,t]=this.quill.getLine(n.index),r={...e.formats(),list:"checked"},i=new Lt().retain(n.index).insert(`
`,r).retain(e.length()-t-1).retain(1,{list:"unchecked"});this.quill.updateContents(i,tt.sources.USER),this.quill.setSelection(n.index+1,tt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(n,e){const[t,r]=this.quill.getLine(n.index),i=new Lt().retain(n.index).insert(`
`,e.format).retain(t.length()-r-1).retain(1,{header:null});this.quill.updateContents(i,tt.sources.USER),this.quill.setSelection(n.index+1,tt.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(n){const e=this.quill.getModule("table");if(e){const[t,r,i,o]=e.getTable(n),l=F9(t,r,i,o);if(l==null)return;let h=t.offset();if(l<0){const u=new Lt().retain(h).insert(`
`);this.quill.updateContents(u,tt.sources.USER),this.quill.setSelection(n.index+1,n.length,tt.sources.SILENT)}else if(l>0){h+=t.length();const u=new Lt().retain(h).insert(`
`);this.quill.updateContents(u,tt.sources.USER),this.quill.setSelection(h,tt.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(n,e){const{event:t,line:r}=e,i=r.offset(this.quill.scroll);t.shiftKey?this.quill.setSelection(i-1,tt.sources.USER):this.quill.setSelection(i+r.length(),tt.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(n,e){if(this.quill.scroll.query("list")==null)return!0;const{length:t}=e.prefix,[r,i]=this.quill.getLine(n.index);if(i>t)return!0;let o;switch(e.prefix.trim()){case"[]":case"[ ]":o="unchecked";break;case"[x]":o="checked";break;case"-":case"*":o="bullet";break;default:o="ordered"}this.quill.insertText(n.index," ",tt.sources.USER),this.quill.history.cutoff();const l=new Lt().retain(n.index-i).delete(t+1).retain(r.length()-2-i).retain(1,{list:o});return this.quill.updateContents(l,tt.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(n.index-t,tt.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(n){const[e,t]=this.quill.getLine(n.index);let r=2,i=e;for(;i!=null&&i.length()<=1&&i.formats()["code-block"];)if(i=i.prev,r-=1,r<=0){const o=new Lt().retain(n.index+e.length()-t-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(o,tt.sources.USER),this.quill.setSelection(n.index-1,tt.sources.SILENT),!1}return!0}},"embed left":fd("ArrowLeft",!1),"embed left shift":fd("ArrowLeft",!0),"embed right":fd("ArrowRight",!1),"embed right shift":fd("ArrowRight",!0),"table down":H_(!1),"table up":H_(!0)}};Hp.DEFAULTS=D9;function j_(n){return{key:"Tab",shiftKey:!n,format:{"code-block":!0},handler(e,t){let{event:r}=t;const i=this.quill.scroll.query("code-block"),{TAB:o}=i;if(e.length===0&&!r.shiftKey){this.quill.insertText(e.index,o,tt.sources.USER),this.quill.setSelection(e.index+o.length,tt.sources.SILENT);return}const l=e.length===0?this.quill.getLines(e.index,1):this.quill.getLines(e);let{index:h,length:u}=e;l.forEach((f,d)=>{n?(f.insertAt(0,o),d===0?h+=o.length:u+=o.length):f.domNode.textContent.startsWith(o)&&(f.deleteAt(0,o.length),d===0?h-=o.length:u-=o.length)}),this.quill.update(tt.sources.USER),this.quill.setSelection(h,u,tt.sources.SILENT)}}}function fd(n,e){return{key:n,shiftKey:e,altKey:null,[n==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(r){let{index:i}=r;n==="ArrowRight"&&(i+=r.length+1);const[o]=this.quill.getLeaf(i);return o instanceof ts?(n==="ArrowLeft"?e?this.quill.setSelection(r.index-1,r.length+1,tt.sources.USER):this.quill.setSelection(r.index-1,tt.sources.USER):e?this.quill.setSelection(r.index,r.length+1,tt.sources.USER):this.quill.setSelection(r.index+r.length+1,tt.sources.USER),!1):!0}}}function iv(n){return{key:n[0],shortKey:!0,handler(e,t){this.quill.format(n,!t.format[n],tt.sources.USER)}}}function H_(n){return{key:n?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(e,t){const r=n?"prev":"next",i=t.line,o=i.parent[r];if(o!=null){if(o.statics.blotName==="table-row"){let l=o.children.head,h=i;for(;h.prev!=null;)h=h.prev,l=l.next;const u=l.offset(this.quill.scroll)+Math.min(t.offset,l.length()-1);this.quill.setSelection(u,0,tt.sources.USER)}}else{const l=i.table()[r];l!=null&&(n?this.quill.setSelection(l.offset(this.quill.scroll)+l.length()-1,0,tt.sources.USER):this.quill.setSelection(l.offset(this.quill.scroll),0,tt.sources.USER))}return!1}}}function R9(n){if(typeof n=="string"||typeof n=="number")n={key:n};else if(typeof n=="object")n=Fu(n);else return null;return n.shortKey&&(n[I9]=n.shortKey,delete n.shortKey),n}function yb(n){let{quill:e,range:t}=n;const r=e.getLines(t);let i={};if(r.length>1){const o=r[0].formats(),l=r[r.length-1].formats();i=cs.AttributeMap.diff(l,o)||{}}e.deleteText(t,tt.sources.USER),Object.keys(i).length>0&&e.formatLine(t.index,1,i,tt.sources.USER),e.setSelection(t.index,tt.sources.SILENT)}function F9(n,e,t,r){return e.prev==null&&e.next==null?t.prev==null&&t.next==null?r===0?-1:1:t.prev==null?-1:1:e.prev==null?-1:e.next==null?1:null}const B9=/font-weight:\s*normal/,j9=["P","OL","UL"],z_=n=>n&&j9.includes(n.tagName),H9=n=>{Array.from(n.querySelectorAll("br")).filter(e=>z_(e.previousElementSibling)&&z_(e.nextElementSibling)).forEach(e=>{e.parentNode?.removeChild(e)})},z9=n=>{Array.from(n.querySelectorAll('b[style*="font-weight"]')).filter(e=>e.getAttribute("style")?.match(B9)).forEach(e=>{const t=n.createDocumentFragment();t.append(...e.childNodes),e.parentNode?.replaceChild(t,e)})};function $9(n){n.querySelector('[id^="docs-internal-guid-"]')&&(z9(n),H9(n))}const U9=/\bmso-list:[^;]*ignore/i,q9=/\bmso-list:[^;]*\bl(\d+)/i,W9=/\bmso-list:[^;]*\blevel(\d+)/i,V9=(n,e)=>{const t=n.getAttribute("style"),r=t?.match(q9);if(!r)return null;const i=Number(r[1]),o=t?.match(W9),l=o?Number(o[1]):1,h=new RegExp(`@list l${i}:level${l}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),u=e.match(h),f=u&&u[1]==="bullet"?"bullet":"ordered";return{id:i,indent:l,type:f,element:n}},G9=n=>{const e=Array.from(n.querySelectorAll("[style*=mso-list]")),t=[],r=[];e.forEach(l=>{(l.getAttribute("style")||"").match(U9)?t.push(l):r.push(l)}),t.forEach(l=>l.parentNode?.removeChild(l));const i=n.documentElement.innerHTML,o=r.map(l=>V9(l,i)).filter(l=>l);for(;o.length;){const l=[];let h=o.shift();for(;h;)l.push(h),h=o.length&&o[0]?.element===h.element.nextElementSibling&&o[0].id===h.id?o.shift():null;const u=document.createElement("ul");l.forEach(g=>{const y=document.createElement("li");y.setAttribute("data-list",g.type),g.indent>1&&y.setAttribute("class",`ql-indent-${g.indent-1}`),y.innerHTML=g.element.innerHTML,u.appendChild(y)});const f=l[0]?.element,{parentNode:d}=f??{};f&&d?.replaceChild(u,f),l.slice(1).forEach(g=>{let{element:y}=g;d?.removeChild(y)})}};function Y9(n){n.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&G9(n)}const K9=[Y9,$9],Z9=n=>{n.documentElement&&K9.forEach(e=>{e(n)})},X9=Vo("quill:clipboard"),J9=[[Node.TEXT_NODE,hz],[Node.TEXT_NODE,U_],["br",iz],[Node.ELEMENT_NODE,U_],[Node.ELEMENT_NODE,rz],[Node.ELEMENT_NODE,nz],[Node.ELEMENT_NODE,uz],["li",az],["ol, ul",lz],["pre",sz],["tr",cz],["b",sv("bold")],["i",sv("italic")],["strike",sv("strike")],["style",oz]],Q9=[O9,CT].reduce((n,e)=>(n[e.keyName]=e,n),{}),$_=[TT,mb,pb,LT,NT,DT].reduce((n,e)=>(n[e.keyName]=e,n),{});class ez extends vo{static DEFAULTS={matchers:[]};constructor(e,t){super(e,t),this.quill.root.addEventListener("copy",r=>this.onCaptureCopy(r,!1)),this.quill.root.addEventListener("cut",r=>this.onCaptureCopy(r,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],J9.concat(this.options.matchers??[]).forEach(r=>{let[i,o]=r;this.addMatcher(i,o)})}addMatcher(e,t){this.matchers.push([e,t])}convert(e){let{html:t,text:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(i[vi.blotName])return new Lt().insert(r||"",{[vi.blotName]:i[vi.blotName]});if(!t)return new Lt().insert(r||"",i);const o=this.convertHTML(t);return tf(o,`
`)&&(o.ops[o.ops.length-1].attributes==null||i.table)?o.compose(new Lt().retain(o.length()-1).delete(1)):o}normalizeHTML(e){Z9(e)}convertHTML(e){const t=new DOMParser().parseFromString(e,"text/html");this.normalizeHTML(t);const r=t.body,i=new WeakMap,[o,l]=this.prepareMatching(r,i);return bb(this.quill.scroll,r,o,l,i)}dangerouslyPasteHTML(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:tt.sources.API;if(typeof e=="string"){const i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,tt.sources.SILENT)}else{const i=this.convert({html:t,text:""});this.quill.updateContents(new Lt().retain(e).concat(i),r),this.quill.setSelection(e+i.length(),tt.sources.SILENT)}}onCaptureCopy(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(e.defaultPrevented)return;e.preventDefault();const[r]=this.quill.selection.getRange();if(r==null)return;const{html:i,text:o}=this.onCopy(r,t);e.clipboardData?.setData("text/plain",o),e.clipboardData?.setData("text/html",i),t&&yb({range:r,quill:this.quill})}normalizeURIList(e){return e.split(/\r?\n/).filter(t=>t[0]!=="#").join(`
`)}onCapturePaste(e){if(e.defaultPrevented||!this.quill.isEnabled())return;e.preventDefault();const t=this.quill.getSelection(!0);if(t==null)return;const r=e.clipboardData?.getData("text/html");let i=e.clipboardData?.getData("text/plain");if(!r&&!i){const l=e.clipboardData?.getData("text/uri-list");l&&(i=this.normalizeURIList(l))}const o=Array.from(e.clipboardData?.files||[]);if(!r&&o.length>0){this.quill.uploader.upload(t,o);return}if(r&&o.length>0){const l=new DOMParser().parseFromString(r,"text/html");if(l.body.childElementCount===1&&l.body.firstElementChild?.tagName==="IMG"){this.quill.uploader.upload(t,o);return}}this.onPaste(t,{html:r,text:i})}onCopy(e){const t=this.quill.getText(e);return{html:this.quill.getSemanticHTML(e),text:t}}onPaste(e,t){let{text:r,html:i}=t;const o=this.quill.getFormat(e.index),l=this.convert({text:r,html:i},o);X9.log("onPaste",l,{text:r,html:i});const h=new Lt().retain(e.index).delete(e.length).concat(l);this.quill.updateContents(h,tt.sources.USER),this.quill.setSelection(h.length()-e.length,tt.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(e,t){const r=[],i=[];return this.matchers.forEach(o=>{const[l,h]=o;switch(l){case Node.TEXT_NODE:i.push(h);break;case Node.ELEMENT_NODE:r.push(h);break;default:Array.from(e.querySelectorAll(l)).forEach(u=>{t.has(u)?t.get(u)?.push(h):t.set(u,[h])});break}}),[r,i]}}function Dl(n,e,t,r){return r.query(e)?n.reduce((i,o)=>{if(!o.insert)return i;if(o.attributes&&o.attributes[e])return i.push(o);const l=t?{[e]:t}:{};return i.insert(o.insert,{...l,...o.attributes})},new Lt):n}function tf(n,e){let t="";for(let r=n.ops.length-1;r>=0&&t.length<e.length;--r){const i=n.ops[r];if(typeof i.insert!="string")break;t=i.insert+t}return t.slice(-1*e.length)===e}function wa(n,e){if(!(n instanceof Element))return!1;const t=e.query(n);return t&&t.prototype instanceof ts?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(n.tagName.toLowerCase())}function tz(n,e){return n.previousElementSibling&&n.nextElementSibling&&!wa(n.previousElementSibling,e)&&!wa(n.nextElementSibling,e)}const dd=new WeakMap;function RT(n){return n==null?!1:(dd.has(n)||(n.tagName==="PRE"?dd.set(n,!0):dd.set(n,RT(n.parentNode))),dd.get(n))}function bb(n,e,t,r,i){return e.nodeType===e.TEXT_NODE?r.reduce((o,l)=>l(e,o,n),new Lt):e.nodeType===e.ELEMENT_NODE?Array.from(e.childNodes||[]).reduce((o,l)=>{let h=bb(n,l,t,r,i);return l.nodeType===e.ELEMENT_NODE&&(h=t.reduce((u,f)=>f(l,u,n),h),h=(i.get(l)||[]).reduce((u,f)=>f(l,u,n),h)),o.concat(h)},new Lt):new Lt}function sv(n){return(e,t,r)=>Dl(t,n,!0,r)}function nz(n,e,t){const r=mo.keys(n),i=Us.keys(n),o=Ia.keys(n),l={};return r.concat(i).concat(o).forEach(h=>{let u=t.query(h,It.ATTRIBUTE);u!=null&&(l[u.attrName]=u.value(n),l[u.attrName])||(u=Q9[h],u!=null&&(u.attrName===h||u.keyName===h)&&(l[u.attrName]=u.value(n)||void 0),u=$_[h],u!=null&&(u.attrName===h||u.keyName===h)&&(u=$_[h],l[u.attrName]=u.value(n)||void 0))}),Object.entries(l).reduce((h,u)=>{let[f,d]=u;return Dl(h,f,d,t)},e)}function rz(n,e,t){const r=t.query(n);if(r==null)return e;if(r.prototype instanceof ts){const i={},o=r.value(n);if(o!=null)return i[r.blotName]=o,new Lt().insert(i,r.formats(n,t))}else if(r.prototype instanceof Lh&&!tf(e,`
`)&&e.insert(`
`),"blotName"in r&&"formats"in r&&typeof r.formats=="function")return Dl(e,r.blotName,r.formats(n,t),t);return e}function iz(n,e){return tf(e,`
`)||e.insert(`
`),e}function sz(n,e,t){const r=t.query("code-block"),i=r&&"formats"in r&&typeof r.formats=="function"?r.formats(n,t):!0;return Dl(e,"code-block",i,t)}function oz(){return new Lt}function az(n,e,t){const r=t.query(n);if(r==null||r.blotName!=="list"||!tf(e,`
`))return e;let i=-1,o=n.parentNode;for(;o!=null;)["OL","UL"].includes(o.tagName)&&(i+=1),o=o.parentNode;return i<=0?e:e.reduce((l,h)=>h.insert?h.attributes&&typeof h.attributes.indent=="number"?l.push(h):l.insert(h.insert,{indent:i,...h.attributes||{}}):l,new Lt)}function lz(n,e,t){const r=n;let i=r.tagName==="OL"?"ordered":"bullet";const o=r.getAttribute("data-checked");return o&&(i=o==="true"?"checked":"unchecked"),Dl(e,"list",i,t)}function U_(n,e,t){if(!tf(e,`
`)){if(wa(n,t)&&(n.childNodes.length>0||n instanceof HTMLParagraphElement))return e.insert(`
`);if(e.length()>0&&n.nextSibling){let r=n.nextSibling;for(;r!=null;){if(wa(r,t))return e.insert(`
`);const i=t.query(r);if(i&&i.prototype instanceof us)return e.insert(`
`);r=r.firstChild}}}return e}function uz(n,e,t){const r={},i=n.style||{};return i.fontStyle==="italic"&&(r.italic=!0),i.textDecoration==="underline"&&(r.underline=!0),i.textDecoration==="line-through"&&(r.strike=!0),(i.fontWeight?.startsWith("bold")||parseInt(i.fontWeight,10)>=700)&&(r.bold=!0),e=Object.entries(r).reduce((o,l)=>{let[h,u]=l;return Dl(o,h,u,t)},e),parseFloat(i.textIndent||0)>0?new Lt().insert("	").concat(e):e}function cz(n,e,t){const r=n.parentElement?.tagName==="TABLE"?n.parentElement:n.parentElement?.parentElement;if(r!=null){const o=Array.from(r.querySelectorAll("tr")).indexOf(n)+1;return Dl(e,"table",o,t)}return e}function hz(n,e,t){let r=n.data;if(n.parentElement?.tagName==="O:P")return e.insert(r.trim());if(!RT(n)){if(r.trim().length===0&&r.includes(`
`)&&!tz(n,t))return e;r=r.replace(/[^\S\u00a0]/g," "),r=r.replace(/ {2,}/g," "),(n.previousSibling==null&&n.parentElement!=null&&wa(n.parentElement,t)||n.previousSibling instanceof Element&&wa(n.previousSibling,t))&&(r=r.replace(/^ /,"")),(n.nextSibling==null&&n.parentElement!=null&&wa(n.parentElement,t)||n.nextSibling instanceof Element&&wa(n.nextSibling,t))&&(r=r.replace(/ $/,"")),r=r.replaceAll(""," ")}return e.insert(r)}class fz extends vo{static DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};lastRecorded=0;ignoreChange=!1;stack={undo:[],redo:[]};currentRange=null;constructor(e,t){super(e,t),this.quill.on(tt.events.EDITOR_CHANGE,(r,i,o,l)=>{r===tt.events.SELECTION_CHANGE?i&&l!==tt.sources.SILENT&&(this.currentRange=i):r===tt.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===tt.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=uy(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,t){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const i=this.quill.getContents(),o=r.delta.invert(i);this.stack[t].push({delta:o,range:uy(r.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,tt.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,t){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(t),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(r=r.compose(l.delta),i=l.range)}else this.lastRecorded=o;r.length()!==0&&(this.stack.undo.push({delta:r,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){q_(this.stack.undo,e),q_(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,tt.sources.USER);else{const t=pz(this.quill.scroll,e.delta);this.quill.setSelection(t,tt.sources.USER)}}}function q_(n,e){let t=e;for(let r=n.length-1;r>=0;r-=1){const i=n[r];n[r]={delta:t.transform(i.delta,!0),range:i.range&&uy(i.range,t)},t=i.delta.transform(t),n[r].delta.length()===0&&n.splice(r,1)}}function dz(n,e){const t=e.ops[e.ops.length-1];return t==null?!1:t.insert!=null?typeof t.insert=="string"&&t.insert.endsWith(`
`):t.attributes!=null?Object.keys(t.attributes).some(r=>n.query(r,It.BLOCK)!=null):!1}function pz(n,e){const t=e.reduce((i,o)=>i+(o.delete||0),0);let r=e.length()-t;return dz(n,e)&&(r-=1),r}function uy(n,e){if(!n)return n;const t=e.transformPosition(n.index),r=e.transformPosition(n.index+n.length);return{index:t,length:r-t}}class FT extends vo{constructor(e,t){super(e,t),e.root.addEventListener("drop",r=>{r.preventDefault();let i=null;if(document.caretRangeFromPoint)i=document.caretRangeFromPoint(r.clientX,r.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(r.clientX,r.clientY);i=document.createRange(),i.setStart(l.offsetNode,l.offset),i.setEnd(l.offsetNode,l.offset)}const o=i&&e.selection.normalizeNative(i);if(o){const l=e.selection.normalizedToRange(o);r.dataTransfer?.files&&this.upload(l,r.dataTransfer.files)}})}upload(e,t){const r=[];Array.from(t).forEach(i=>{i&&this.options.mimetypes?.includes(i.type)&&r.push(i)}),r.length>0&&this.options.handler.call(this,e,r)}}FT.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(n,e){if(!this.quill.scroll.query("image"))return;const t=e.map(r=>new Promise(i=>{const o=new FileReader;o.onload=()=>{i(o.result)},o.readAsDataURL(r)}));Promise.all(t).then(r=>{const i=r.reduce((o,l)=>o.insert({image:l}),new Lt().retain(n.index).delete(n.length));this.quill.updateContents(i,Ct.sources.USER),this.quill.setSelection(n.index+r.length,Ct.sources.SILENT)})}};const mz=["insertText","insertReplacementText"];class gz extends vo{constructor(e,t){super(e,t),e.root.addEventListener("beforeinput",r=>{this.handleBeforeInput(r)}),/Android/i.test(navigator.userAgent)||e.on(tt.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(e){yb({range:e,quill:this.quill})}replaceText(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(e.length===0)return!1;if(t){const r=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents(new Lt().retain(e.index).insert(t,r),tt.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,tt.sources.SILENT),!0}handleBeforeInput(e){if(this.quill.composition.isComposing||e.defaultPrevented||!mz.includes(e.inputType))return;const t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(!t||t.collapsed===!0)return;const r=vz(e);if(r==null)return;const i=this.quill.selection.normalizeNative(t),o=i?this.quill.selection.normalizedToRange(i):null;o&&this.replaceText(o,r)&&e.preventDefault()}handleCompositionStart(){const e=this.quill.getSelection();e&&this.replaceText(e)}}function vz(n){return typeof n.data=="string"?n.data:n.dataTransfer?.types.includes("text/plain")?n.dataTransfer.getData("text/plain"):null}const yz=/Mac/i.test(navigator.platform),bz=100,wz=n=>!!(n.key==="ArrowLeft"||n.key==="ArrowRight"||n.key==="ArrowUp"||n.key==="ArrowDown"||n.key==="Home"||yz&&n.key==="a"&&n.ctrlKey===!0);class _z extends vo{isListening=!1;selectionChangeDeadline=0;constructor(e,t){super(e,t),this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,t){let{line:r,event:i}=t;if(!(r instanceof js)||!r.uiNode)return!0;const o=getComputedStyle(r.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),tt.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&wz(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+bz,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const t=e.getRangeAt(0);if(t.collapsed!==!0||t.startOffset!==0)return;const r=this.quill.scroll.find(t.startContainer);if(!(r instanceof js)||!r.uiNode)return;const i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(i)}}tt.register({"blots/block":Yr,"blots/block/embed":us,"blots/break":qs,"blots/container":Nl,"blots/cursor":Rs,"blots/embed":fb,"blots/inline":di,"blots/scroll":C9,"blots/text":Hs,"modules/clipboard":ez,"modules/history":fz,"modules/keyboard":Hp,"modules/uploader":FT,"modules/input":gz,"modules/uiNode":_z});class xz extends Us{add(e,t){let r=0;if(t==="+1"||t==="-1"){const i=this.value(e)||0;r=t==="+1"?i+1:i-1}else typeof t=="number"&&(r=t);return r===0?(this.remove(e),!0):super.add(e,r.toString())}canAdd(e,t){return super.canAdd(e,t)||super.canAdd(e,parseInt(t,10))}value(e){return parseInt(super.value(e),10)||void 0}}const Sz=new xz("indent","ql-indent",{scope:It.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class Ez extends Yr{static blotName="blockquote";static tagName="blockquote"}class Az extends Yr{static blotName="header";static tagName=["H1","H2","H3","H4","H5","H6"];static formats(e){return this.tagName.indexOf(e.tagName)+1}}class nf extends Nl{}nf.blotName="list-container";nf.tagName="OL";class rf extends Yr{static create(e){const t=super.create();return t.setAttribute("data-list",e),t}static formats(e){return e.getAttribute("data-list")||void 0}static register(){tt.register(nf)}constructor(e,t){super(e,t);const r=t.ownerDocument.createElement("span"),i=o=>{if(!e.isEnabled())return;const l=this.statics.formats(t,e);l==="checked"?(this.format("list","unchecked"),o.preventDefault()):l==="unchecked"&&(this.format("list","checked"),o.preventDefault())};r.addEventListener("mousedown",i),r.addEventListener("touchstart",i),this.attachUI(r)}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):super.format(e,t)}}rf.blotName="list";rf.tagName="LI";nf.allowedChildren=[rf];rf.requiredContainer=nf;class wb extends di{static blotName="bold";static tagName=["STRONG","B"];static create(){return super.create()}static formats(){return!0}optimize(e){super.optimize(e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}class Tz extends wb{static blotName="italic";static tagName=["EM","I"]}class lp extends di{static blotName="link";static tagName="A";static SANITIZED_URL="about:blank";static PROTOCOL_WHITELIST=["http","https","mailto","tel","sms"];static create(e){const t=super.create(e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}static formats(e){return e.getAttribute("href")}static sanitize(e){return BT(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}format(e,t){e!==this.statics.blotName||!t?super.format(e,t):this.domNode.setAttribute("href",this.constructor.sanitize(t))}}function BT(n,e){const t=document.createElement("a");t.href=n;const r=t.href.slice(0,t.href.indexOf(":"));return e.indexOf(r)>-1}class kz extends di{static blotName="script";static tagName=["SUB","SUP"];static create(e){return e==="super"?document.createElement("sup"):e==="sub"?document.createElement("sub"):super.create(e)}static formats(e){if(e.tagName==="SUB")return"sub";if(e.tagName==="SUP")return"super"}}class Cz extends wb{static blotName="strike";static tagName=["S","STRIKE"]}class Oz extends di{static blotName="underline";static tagName="U"}class Lz extends fb{static blotName="formula";static className="ql-formula";static tagName="SPAN";static create(e){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const t=super.create(e);return typeof e=="string"&&(window.katex.render(e,t,{throwOnError:!1,errorColor:"#f00"}),t.setAttribute("data-value",e)),t}static value(e){return e.getAttribute("data-value")}html(){const{formula:e}=this.value();return`<span>${e}</span>`}}const W_=["alt","height","width"];class Mz extends ts{static blotName="image";static tagName="IMG";static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("src",this.sanitize(e)),t}static formats(e){return W_.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static match(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}static sanitize(e){return BT(e,["http","https","data"])?e:"//:0"}static value(e){return e.getAttribute("src")}format(e,t){W_.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}}const V_=["height","width"];class Pz extends us{static blotName="video";static className="ql-video";static tagName="IFRAME";static create(e){const t=super.create(e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen","true"),t.setAttribute("src",this.sanitize(e)),t}static formats(e){return V_.reduce((t,r)=>(e.hasAttribute(r)&&(t[r]=e.getAttribute(r)),t),{})}static sanitize(e){return lp.sanitize(e)}static value(e){return e.getAttribute("src")}format(e,t){V_.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):super.format(e,t)}html(){const{video:e}=this.value();return`<a href="${e}">${e}</a>`}}const sh=new Us("code-token","hljs",{scope:It.INLINE});class $o extends di{static formats(e,t){for(;e!=null&&e!==t.domNode;){if(e.classList&&e.classList.contains(vi.className))return super.formats(e,t);e=e.parentNode}}constructor(e,t,r){super(e,t,r),sh.add(this.domNode,r)}format(e,t){e!==$o.blotName?super.format(e,t):t?sh.add(this.domNode,t):(sh.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),sh.value(this.domNode)||this.unwrap()}}$o.blotName="code-token";$o.className="ql-token";class ls extends vi{static create(e){const t=super.create(e);return typeof e=="string"&&t.setAttribute("data-language",e),t}static formats(e){return e.getAttribute("data-language")||"plain"}static register(){}format(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):super.format(e,t)}replaceWith(e,t){return this.formatAt(0,this.length(),$o.blotName,!1),super.replaceWith(e,t)}}class bh extends Il{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(e,t){e===ls.blotName&&(this.forceNext=!0,this.children.forEach(r=>{r.format(e,t)}))}formatAt(e,t,r,i){r===ls.blotName&&(this.forceNext=!0),super.formatAt(e,t,r,i)}highlight(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const i=`${Array.from(this.domNode.childNodes).filter(l=>l!==this.uiNode).map(l=>l.textContent).join(`
`)}
`,o=ls.formats(this.children.head.domNode);if(t||this.forceNext||this.cachedText!==i){if(i.trim().length>0||this.cachedText==null){const l=this.children.reduce((u,f)=>u.concat(ST(f,!1)),new Lt),h=e(i,o);l.diff(h).reduce((u,f)=>{let{retain:d,attributes:g}=f;return d?(g&&Object.keys(g).forEach(y=>{[ls.blotName,$o.blotName].includes(y)&&this.formatAt(u,d,y,g[y])}),u+d):u},0)}this.cachedText=i,this.forceNext=!1}}html(e,t){const[r]=this.children.find(e);return`<pre data-language="${r?ls.formats(r.domNode):"plain"}">
${jp(this.code(e,t))}
</pre>`}optimize(e){if(super.optimize(e),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const t=ls.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}bh.allowedChildren=[ls];ls.requiredContainer=bh;ls.allowedChildren=[$o,Rs,Hs,qs];const Nz=(n,e,t)=>{if(typeof n.versionString=="string"){const r=n.versionString.split(".")[0];if(parseInt(r,10)>=11)return n.highlight(t,{language:e}).value}return n.highlight(e,t).value};class jT extends vo{static register(){tt.register($o,!0),tt.register(ls,!0),tt.register(bh,!0)}constructor(e,t){if(super(e,t),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((r,i)=>{let{key:o}=i;return r[o]=!0,r},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(tt.events.SCROLL_BLOT_MOUNT,e=>{if(!(e instanceof bh))return;const t=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(r=>{let{key:i,label:o}=r;const l=t.ownerDocument.createElement("option");l.textContent=o,l.setAttribute("value",i),t.appendChild(l)}),t.addEventListener("change",()=>{e.format(ls.blotName,t.value),this.quill.root.focus(),this.highlight(e,!0)}),e.uiNode==null&&(e.attachUI(t),e.children.head&&(t.value=ls.formats(e.children.head.domNode)))})}initTimer(){let e=null;this.quill.on(tt.events.SCROLL_OPTIMIZE,()=>{e&&clearTimeout(e),e=setTimeout(()=>{this.highlight(),e=null},this.options.interval)})}highlight(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(tt.sources.USER);const r=this.quill.getSelection();(e==null?this.quill.scroll.descendants(bh):[e]).forEach(o=>{o.highlight(this.highlightBlot,t)}),this.quill.update(tt.sources.SILENT),r!=null&&this.quill.setSelection(r,tt.sources.SILENT)}highlightBlot(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(t=this.languages[t]?t:"plain",t==="plain")return jp(e).split(`
`).reduce((i,o,l)=>(l!==0&&i.insert(`
`,{[vi.blotName]:t}),i.insert(o)),new Lt);const r=this.quill.root.ownerDocument.createElement("div");return r.classList.add(vi.className),r.innerHTML=Nz(this.options.hljs,t,e),bb(this.quill.scroll,r,[(i,o)=>{const l=sh.value(i);return l?o.compose(new Lt().retain(o.length(),{[$o.blotName]:l})):o}],[(i,o)=>i.data.split(`
`).reduce((l,h,u)=>(u!==0&&l.insert(`
`,{[vi.blotName]:t}),l.insert(h)),o)],new WeakMap)}}jT.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};class Fs extends Yr{static blotName="table";static tagName="TD";static create(e){const t=super.create();return e?t.setAttribute("data-row",e):t.setAttribute("data-row",_b()),t}static formats(e){if(e.hasAttribute("data-row"))return e.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(e,t){e===Fs.blotName&&t?this.domNode.setAttribute("data-row",t):super.format(e,t)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}}class Al extends Nl{static blotName="table-row";static tagName="TR";checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const e=this.children.head.formats(),t=this.children.tail.formats(),r=this.next.children.head.formats(),i=this.next.children.tail.formats();return e.table===t.table&&e.table===r.table&&e.table===i.table}return!1}optimize(e){super.optimize(e),this.children.forEach(t=>{if(t.next==null)return;const r=t.formats(),i=t.next.formats();if(r.table!==i.table){const o=this.splitAfter(t);o&&o.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}class Sa extends Nl{static blotName="table-body";static tagName="TBODY"}class up extends Nl{static blotName="table-container";static tagName="TABLE";balanceCells(){const e=this.descendants(Al),t=e.reduce((r,i)=>Math.max(i.children.length,r),0);e.forEach(r=>{new Array(t-r.children.length).fill(0).forEach(()=>{let i;r.children.head!=null&&(i=Fs.formats(r.children.head.domNode));const o=this.scroll.create(Fs.blotName,i);r.appendChild(o),o.optimize()})})}cells(e){return this.rows().map(t=>t.children.at(e))}deleteColumn(e){const[t]=this.descendant(Sa);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e);i?.remove()})}insertColumn(e){const[t]=this.descendant(Sa);t==null||t.children.head==null||t.children.forEach(r=>{const i=r.children.at(e),o=Fs.formats(r.children.head.domNode),l=this.scroll.create(Fs.blotName,o);r.insertBefore(l,i)})}insertRow(e){const[t]=this.descendant(Sa);if(t==null||t.children.head==null)return;const r=_b(),i=this.scroll.create(Al.blotName);t.children.head.children.forEach(()=>{const l=this.scroll.create(Fs.blotName,r);i.appendChild(l)});const o=t.children.at(e);t.insertBefore(i,o)}rows(){const e=this.children.head;return e==null?[]:e.children.map(t=>t)}}up.allowedChildren=[Sa];Sa.requiredContainer=up;Sa.allowedChildren=[Al];Al.requiredContainer=Sa;Al.allowedChildren=[Fs];Fs.requiredContainer=Al;function _b(){return`row-${Math.random().toString(36).slice(2,6)}`}class Iz extends vo{static register(){tt.register(Fs),tt.register(Al),tt.register(Sa),tt.register(up)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(up).forEach(e=>{e.balanceCells()})}deleteColumn(){const[e,,t]=this.getTable();t!=null&&(e.deleteColumn(t.cellOffset()),this.quill.update(tt.sources.USER))}deleteRow(){const[,e]=this.getTable();e!=null&&(e.remove(),this.quill.update(tt.sources.USER))}deleteTable(){const[e]=this.getTable();if(e==null)return;const t=e.offset();e.remove(),this.quill.update(tt.sources.USER),this.quill.setSelection(t,tt.sources.SILENT)}getTable(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(e==null)return[null,null,null,-1];const[t,r]=this.quill.getLine(e.index);if(t==null||t.statics.blotName!==Fs.blotName)return[null,null,null,-1];const i=t.parent;return[i.parent.parent,i,t,r]}insertColumn(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const l=o.cellOffset();r.insertColumn(l+e),this.quill.update(tt.sources.USER);let h=i.rowOffset();e===0&&(h+=1),this.quill.setSelection(t.index+h,t.length,tt.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(e){const t=this.quill.getSelection();if(!t)return;const[r,i,o]=this.getTable(t);if(o==null)return;const l=i.rowOffset();r.insertRow(l+e),this.quill.update(tt.sources.USER),e>0?this.quill.setSelection(t,tt.sources.SILENT):this.quill.setSelection(t.index+i.children.length,t.length,tt.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(e,t){const r=this.quill.getSelection();if(r==null)return;const i=new Array(e).fill(0).reduce(o=>{const l=new Array(t).fill(`
`).join("");return o.insert(l,{table:_b()})},new Lt().retain(r.index));this.quill.updateContents(i,tt.sources.USER),this.quill.setSelection(r.index,tt.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(tt.events.SCROLL_OPTIMIZE,e=>{e.some(t=>["TD","TR","TBODY","TABLE"].includes(t.target.tagName)?(this.quill.once(tt.events.TEXT_CHANGE,(r,i,o)=>{o===tt.sources.USER&&this.balanceTables()}),!0):!1)})}}const G_=Vo("quill:toolbar");class xb extends vo{constructor(e,t){if(super(e,t),Array.isArray(this.options.container)){const r=document.createElement("div");r.setAttribute("role","toolbar"),Dz(r,this.options.container),e.container?.parentNode?.insertBefore(r,e.container),this.container=r}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){G_.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(r=>{const i=this.options.handlers?.[r];i&&this.addHandler(r,i)}),Array.from(this.container.querySelectorAll("button, select")).forEach(r=>{this.attach(r)}),this.quill.on(tt.events.EDITOR_CHANGE,()=>{const[r]=this.quill.selection.getRange();this.update(r)})}addHandler(e,t){this.handlers[e]=t}attach(e){let t=Array.from(e.classList).find(i=>i.indexOf("ql-")===0);if(!t)return;if(t=t.slice(3),e.tagName==="BUTTON"&&e.setAttribute("type","button"),this.handlers[t]==null&&this.quill.scroll.query(t)==null){G_.warn("ignoring attaching to nonexistent format",t,e);return}const r=e.tagName==="SELECT"?"change":"click";e.addEventListener(r,i=>{let o;if(e.tagName==="SELECT"){if(e.selectedIndex<0)return;const h=e.options[e.selectedIndex];h.hasAttribute("selected")?o=!1:o=h.value||!1}else e.classList.contains("ql-active")?o=!1:o=e.value||!e.hasAttribute("value"),i.preventDefault();this.quill.focus();const[l]=this.quill.selection.getRange();if(this.handlers[t]!=null)this.handlers[t].call(this,o);else if(this.quill.scroll.query(t).prototype instanceof ts){if(o=prompt(`Enter ${t}`),!o)return;this.quill.updateContents(new Lt().retain(l.index).delete(l.length).insert({[t]:o}),tt.sources.USER)}else this.quill.format(t,o,tt.sources.USER);this.update(l)}),this.controls.push([t,e])}update(e){const t=e==null?{}:this.quill.getFormat(e);this.controls.forEach(r=>{const[i,o]=r;if(o.tagName==="SELECT"){let l=null;if(e==null)l=null;else if(t[i]==null)l=o.querySelector("option[selected]");else if(!Array.isArray(t[i])){let h=t[i];typeof h=="string"&&(h=h.replace(/"/g,'\\"')),l=o.querySelector(`option[value="${h}"]`)}l==null?(o.value="",o.selectedIndex=-1):l.selected=!0}else if(e==null)o.classList.remove("ql-active"),o.setAttribute("aria-pressed","false");else if(o.hasAttribute("value")){const l=t[i],h=l===o.getAttribute("value")||l!=null&&l.toString()===o.getAttribute("value")||l==null&&!o.getAttribute("value");o.classList.toggle("ql-active",h),o.setAttribute("aria-pressed",h.toString())}else{const l=t[i]!=null;o.classList.toggle("ql-active",l),o.setAttribute("aria-pressed",l.toString())}})}}xb.DEFAULTS={};function Y_(n,e,t){const r=document.createElement("button");r.setAttribute("type","button"),r.classList.add(`ql-${e}`),r.setAttribute("aria-pressed","false"),t!=null?(r.value=t,r.setAttribute("aria-label",`${e}: ${t}`)):r.setAttribute("aria-label",e),n.appendChild(r)}function Dz(n,e){Array.isArray(e[0])||(e=[e]),e.forEach(t=>{const r=document.createElement("span");r.classList.add("ql-formats"),t.forEach(i=>{if(typeof i=="string")Y_(r,i);else{const o=Object.keys(i)[0],l=i[o];Array.isArray(l)?Rz(r,o,l):Y_(r,o,l)}}),n.appendChild(r)})}function Rz(n,e,t){const r=document.createElement("select");r.classList.add(`ql-${e}`),t.forEach(i=>{const o=document.createElement("option");i!==!1?o.setAttribute("value",String(i)):o.setAttribute("selected","selected"),r.appendChild(o)}),n.appendChild(r)}xb.DEFAULTS={container:null,handlers:{clean(){const n=this.quill.getSelection();if(n!=null)if(n.length===0){const e=this.quill.getFormat();Object.keys(e).forEach(t=>{this.quill.scroll.query(t,It.INLINE)!=null&&this.quill.format(t,!1,tt.sources.USER)})}else this.quill.removeFormat(n.index,n.length,tt.sources.USER)},direction(n){const{align:e}=this.quill.getFormat();n==="rtl"&&e==null?this.quill.format("align","right",tt.sources.USER):!n&&e==="right"&&this.quill.format("align",!1,tt.sources.USER),this.quill.format("direction",n,tt.sources.USER)},indent(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e),r=parseInt(t.indent||0,10);if(n==="+1"||n==="-1"){let i=n==="+1"?1:-1;t.direction==="rtl"&&(i*=-1),this.quill.format("indent",r+i,tt.sources.USER)}},link(n){n===!0&&(n=prompt("Enter link URL:")),this.quill.format("link",n,tt.sources.USER)},list(n){const e=this.quill.getSelection(),t=this.quill.getFormat(e);n==="check"?t.list==="checked"||t.list==="unchecked"?this.quill.format("list",!1,tt.sources.USER):this.quill.format("list","unchecked",tt.sources.USER):this.quill.format("list",n,tt.sources.USER)}}};const Fz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',Bz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',jz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',Hz='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',zz='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',$z='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',Uz='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',qz='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',K_='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',Wz='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Vz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Gz='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Yz='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',Kz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',Zz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Xz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Jz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',Qz='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',e$='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>',t$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',n$='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',r$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',i$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',s$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',o$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',a$='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',l$='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',u$='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',c$='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',h$='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',f$='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',d$='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',p$='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',Ph={align:{"":Fz,center:Bz,right:jz,justify:Hz},background:zz,blockquote:$z,bold:Uz,clean:qz,code:K_,"code-block":K_,color:Wz,direction:{"":Vz,rtl:Gz},formula:Yz,header:{1:Kz,2:Zz,3:Xz,4:Jz,5:Qz,6:e$},italic:t$,image:n$,indent:{"+1":r$,"-1":i$},link:s$,list:{bullet:o$,check:a$,ordered:l$},script:{sub:u$,super:c$},strike:h$,table:f$,underline:d$,video:p$},m$='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Z_=0;function X_(n,e){n.setAttribute(e,`${n.getAttribute(e)!=="true"}`)}class zp{constructor(e){this.select=e,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",t=>{switch(t.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),t.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),X_(this.label,"aria-expanded"),X_(this.options,"aria-hidden")}buildItem(e){const t=document.createElement("span");t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item");const r=e.getAttribute("value");return r&&t.setAttribute("data-value",r),e.textContent&&t.setAttribute("data-label",e.textContent),t.addEventListener("click",()=>{this.selectItem(t,!0)}),t.addEventListener("keydown",i=>{switch(i.key){case"Enter":this.selectItem(t,!0),i.preventDefault();break;case"Escape":this.escape(),i.preventDefault();break}}),t}buildLabel(){const e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=m$,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}buildOptions(){const e=document.createElement("span");e.classList.add("ql-picker-options"),e.setAttribute("aria-hidden","true"),e.tabIndex="-1",e.id=`ql-picker-options-${Z_}`,Z_+=1,this.label.setAttribute("aria-controls",e.id),this.options=e,Array.from(this.select.options).forEach(t=>{const r=this.buildItem(t);e.appendChild(r),t.selected===!0&&this.selectItem(r)}),this.container.appendChild(e)}buildPicker(){Array.from(this.select.attributes).forEach(e=>{this.container.setAttribute(e.name,e.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const r=this.container.querySelector(".ql-selected");e!==r&&(r?.classList.remove("ql-selected"),e!=null&&(e.classList.add("ql-selected"),this.select.selectedIndex=Array.from(e.parentNode.children).indexOf(e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let e;if(this.select.selectedIndex>-1){const r=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(r)}else this.selectItem(null);const t=e!=null&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}class HT extends zp{constructor(e,t){super(e),this.label.innerHTML=t,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(r=>{r.classList.add("ql-primary")})}buildItem(e){const t=super.buildItem(e);return t.style.backgroundColor=e.getAttribute("value")||"",t}selectItem(e,t){super.selectItem(e,t);const r=this.label.querySelector(".ql-color-label"),i=e&&e.getAttribute("data-value")||"";r&&(r.tagName==="line"?r.style.stroke=i:r.style.fill=i)}}class zT extends zp{constructor(e,t){super(e),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(r=>{r.innerHTML=t[r.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(e,t){super.selectItem(e,t);const r=e||this.defaultItem;if(r!=null){if(this.label.innerHTML===r.innerHTML)return;this.label.innerHTML=r.innerHTML}}}const g$=n=>{const{overflowY:e}=getComputedStyle(n,null);return e!=="visible"&&e!=="clip"};class $T{constructor(e,t){this.quill=e,this.boundsContainer=t||document.body,this.root=e.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,g$(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(e){const t=e.left+e.width/2-this.root.offsetWidth/2,r=e.bottom+this.quill.root.scrollTop;this.root.style.left=`${t}px`,this.root.style.top=`${r}px`,this.root.classList.remove("ql-flip");const i=this.boundsContainer.getBoundingClientRect(),o=this.root.getBoundingClientRect();let l=0;if(o.right>i.right&&(l=i.right-o.right,this.root.style.left=`${t+l}px`),o.left<i.left&&(l=i.left-o.left,this.root.style.left=`${t+l}px`),o.bottom>i.bottom){const h=o.bottom-o.top,u=e.bottom-e.top+h;this.root.style.top=`${r-u}px`,this.root.classList.add("ql-flip")}return l}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const v$=[!1,"center","right","justify"],y$=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],b$=[!1,"serif","monospace"],w$=["1","2","3",!1],_$=["small",!1,"large","huge"];class sf extends uc{constructor(e,t){super(e,t);const r=i=>{if(!document.body.contains(e.root)){document.body.removeEventListener("click",r);return}this.tooltip!=null&&!this.tooltip.root.contains(i.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(o=>{o.container.contains(i.target)||o.close()})};e.emitter.listenDOM("click",document.body,r)}addModule(e){const t=super.addModule(e);return e==="toolbar"&&this.extendToolbar(t),t}buildButtons(e,t){Array.from(e).forEach(r=>{(r.getAttribute("class")||"").split(/\s+/).forEach(o=>{if(o.startsWith("ql-")&&(o=o.slice(3),t[o]!=null))if(o==="direction")r.innerHTML=t[o][""]+t[o].rtl;else if(typeof t[o]=="string")r.innerHTML=t[o];else{const l=r.value||"";l!=null&&t[o][l]&&(r.innerHTML=t[o][l])}})})}buildPickers(e,t){this.pickers=Array.from(e).map(i=>{if(i.classList.contains("ql-align")&&(i.querySelector("option")==null&&Yc(i,v$),typeof t.align=="object"))return new zT(i,t.align);if(i.classList.contains("ql-background")||i.classList.contains("ql-color")){const o=i.classList.contains("ql-background")?"background":"color";return i.querySelector("option")==null&&Yc(i,y$,o==="background"?"#ffffff":"#000000"),new HT(i,t[o])}return i.querySelector("option")==null&&(i.classList.contains("ql-font")?Yc(i,b$):i.classList.contains("ql-header")?Yc(i,w$):i.classList.contains("ql-size")&&Yc(i,_$)),new zp(i)});const r=()=>{this.pickers.forEach(i=>{i.update()})};this.quill.on(Ct.events.EDITOR_CHANGE,r)}}sf.DEFAULTS=xa({},uc.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let n=this.container.querySelector("input.ql-image[type=file]");n==null&&(n=document.createElement("input"),n.setAttribute("type","file"),n.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),n.classList.add("ql-image"),n.addEventListener("change",()=>{const e=this.quill.getSelection(!0);this.quill.uploader.upload(e,n.files),n.value=""}),this.container.appendChild(n)),n.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class UT extends $T{constructor(e,t){super(e,t),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",e=>{e.key==="Enter"?(this.save(),e.preventDefault()):e.key==="Escape"&&(this.cancel(),e.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;t!=null?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const r=this.quill.getBounds(this.quill.selection.savedRange);r!=null&&this.position(r),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${e}`)||""),this.root.setAttribute("data-mode",e)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:e}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:t}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",e,Ct.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",e,Ct.sources.USER)),this.quill.root.scrollTop=t;break}case"video":e=x$(e);case"formula":{if(!e)break;const t=this.quill.getSelection(!0);if(t!=null){const r=t.index+t.length;this.quill.insertEmbed(r,this.root.getAttribute("data-mode"),e,Ct.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(r+1," ",Ct.sources.USER),this.quill.setSelection(r+2,Ct.sources.USER)}break}}this.textbox.value="",this.hide()}}function x$(n){let e=n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||n.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return e?`${e[1]||"https"}://www.youtube.com/embed/${e[2]}?showinfo=0`:(e=n.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${e[1]||"https"}://player.vimeo.com/video/${e[2]}/`:n}function Yc(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;e.forEach(r=>{const i=document.createElement("option");r===t?i.setAttribute("selected","selected"):i.setAttribute("value",String(r)),n.appendChild(i)})}const S$=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class E$ extends UT{static TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join("");constructor(e,t){super(e,t),this.quill.on(Ct.events.EDITOR_CHANGE,(r,i,o,l)=>{if(r===Ct.events.SELECTION_CHANGE)if(i!=null&&i.length>0&&l===Ct.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const h=this.quill.getLines(i.index,i.length);if(h.length===1){const u=this.quill.getBounds(i);u!=null&&this.position(u)}else{const u=h[h.length-1],f=this.quill.getIndex(u),d=Math.min(u.length()-1,i.index+i.length-f),g=this.quill.getBounds(new El(f,d));g!=null&&this.position(g)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ct.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const e=this.quill.getSelection();if(e!=null){const t=this.quill.getBounds(e);t!=null&&this.position(t)}},1)})}cancel(){this.show()}position(e){const t=super.position(e),r=this.root.querySelector(".ql-tooltip-arrow");return r.style.marginLeft="",t!==0&&(r.style.marginLeft=`${-1*t-r.offsetWidth/2}px`),t}}class qT extends sf{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=S$),super(e,t),this.quill.container.classList.add("ql-bubble")}extendToolbar(e){this.tooltip=new E$(this.quill,this.options.bounds),e.container!=null&&(this.tooltip.root.appendChild(e.container),this.buildButtons(e.container.querySelectorAll("button"),Ph),this.buildPickers(e.container.querySelectorAll("select"),Ph))}}qT.DEFAULTS=xa({},sf.DEFAULTS,{modules:{toolbar:{handlers:{link(n){n?this.quill.theme.tooltip.edit():this.quill.format("link",!1,tt.sources.USER)}}}}});const A$=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class T$ extends UT{static TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join("");preview=this.root.querySelector("a.ql-preview");listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const t=this.linkRange;this.restoreFocus(),this.quill.formatText(t,"link",!1,Ct.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(Ct.events.SELECTION_CHANGE,(e,t,r)=>{if(e!=null){if(e.length===0&&r===Ct.sources.USER){const[i,o]=this.quill.scroll.descendant(lp,e.index);if(i!=null){this.linkRange=new El(e.index-o,i.length());const l=lp.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const h=this.quill.getBounds(this.linkRange);h!=null&&this.position(h);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}class WT extends sf{constructor(e,t){t.modules.toolbar!=null&&t.modules.toolbar.container==null&&(t.modules.toolbar.container=A$),super(e,t),this.quill.container.classList.add("ql-snow")}extendToolbar(e){e.container!=null&&(e.container.classList.add("ql-snow"),this.buildButtons(e.container.querySelectorAll("button"),Ph),this.buildPickers(e.container.querySelectorAll("select"),Ph),this.tooltip=new T$(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(t,r)=>{e.handlers.link.call(e,!r.format.link)}))}}WT.DEFAULTS=xa({},sf.DEFAULTS,{modules:{toolbar:{handlers:{link(n){if(n){const e=this.quill.getSelection();if(e==null||e.length===0)return;let t=this.quill.getText(e);/^\S+@\S+\.\S+$/.test(t)&&t.indexOf("mailto:")!==0&&(t=`mailto:${t}`);const{tooltip:r}=this.quill.theme;r.edit("link",t)}else this.quill.format("link",!1,tt.sources.USER)}}}}});tt.register({"attributors/attribute/direction":CT,"attributors/class/align":AT,"attributors/class/background":M9,"attributors/class/color":L9,"attributors/class/direction":OT,"attributors/class/font":PT,"attributors/class/size":IT,"attributors/style/align":TT,"attributors/style/background":mb,"attributors/style/color":pb,"attributors/style/direction":LT,"attributors/style/font":NT,"attributors/style/size":DT},!0);tt.register({"formats/align":AT,"formats/direction":OT,"formats/indent":Sz,"formats/background":mb,"formats/color":pb,"formats/font":PT,"formats/size":IT,"formats/blockquote":Ez,"formats/code-block":vi,"formats/header":Az,"formats/list":rf,"formats/bold":wb,"formats/code":gb,"formats/italic":Tz,"formats/link":lp,"formats/script":kz,"formats/strike":Cz,"formats/underline":Oz,"formats/formula":Lz,"formats/image":Mz,"formats/video":Pz,"modules/syntax":jT,"modules/table":Iz,"modules/toolbar":xb,"themes/bubble":qT,"themes/snow":WT,"ui/icons":Ph,"ui/picker":zp,"ui/icon-picker":zT,"ui/color-picker":HT,"ui/tooltip":$T},!0);class k$ extends dn{connect(){const e=tt,t=this.element.querySelector(".quill").id,r=this.element.querySelector("textarea"),i={placeholder:r.placeholder,readOnly:r.readOnly||r.disabled,theme:"snow",modules:{toolbar:{container:this.containerToolbar()}}};document.dispatchEvent(new CustomEvent("orchid:quill",{detail:{quill:e,options:i}})),this.editor=new e(`#${t}`,i),JSON.parse(this.data.get("base64"))||this.editor.getModule("toolbar").addHandler("image",()=>{this.selectLocalImage()});let l=JSON.parse(this.data.get("value"));this.editor.root.innerHTML=r.value=l,this.editor.on("text-change",()=>{r.value=this.element.querySelector(".ql-editor").innerHTML||"",r.dispatchEvent(new Event("change"))}),this.editor.getModule("toolbar").addHandler("color",h=>{this.editor.format("color",this.customColor(h))}),this.editor.getModule("toolbar").addHandler("background",h=>{this.editor.format("background",this.customColor(h))})}customColor=e=>e==="custom-color"?window.prompt("Enter Color Code (#c0ffee or rgba(255, 0, 0, 0.5))"):e;colors(){return["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466","custom-color"]}containerToolbar(){const e={text:["bold","italic","underline","strike","link","clean"],quote:["blockquote","code-block"],color:[{color:this.colors()},{background:this.colors()}],header:[{header:"1"},{header:"2"}],list:[{list:"ordered"},{list:"bullet"}],format:[{indent:"-1"},{indent:"+1"},{align:[]}],media:["image","video"]};return JSON.parse(this.data.get("toolbar")).map(t=>e[t])}selectLocalImage(){const e=document.createElement("input");e.setAttribute("type","file"),e.click(),e.onchange=()=>{const t=e.files[0];/^image\//.test(t.type)?this.saveToServer(t):(this.alert("Validation error","You could only upload images.","danger"),console.warn("You could only upload images."))}}saveToServer(e){const t=new FormData;t.append("image",e),this.data.get("groups")&&t.append("group",this.data.get("groups")),axios.post(this.prefix("/systems/files"),t).then(r=>{this.insertToEditor(r.data.url)}).catch(r=>{this.alert("Validation error","Quill image upload failed"),console.warn("quill image upload failed"),console.warn(r)})}insertToEditor(e){const t=this.editor.getSelection();this.editor.insertEmbed(t.index,"image",e)}}const C$=Object.freeze(Object.defineProperty({__proto__:null,default:k$},Symbol.toStringTag,{value:"Module"}));class O$ extends dn{checked(e){e.target.offsetParent.querySelectorAll("input").forEach(t=>{t.removeAttribute("checked")}),e.target.offsetParent.querySelectorAll("label").forEach(t=>{t.classList.remove("active")}),e.target.classList.add("active"),e.target.setAttribute("checked","checked"),e.target.dispatchEvent(new Event("change"))}}const L$=Object.freeze(Object.defineProperty({__proto__:null,default:O$},Symbol.toStringTag,{value:"Module"}));function ov(n,e){n.split(/\s+/).forEach(t=>{e(t)})}class M${constructor(){this._events={}}on(e,t){ov(e,r=>{const i=this._events[r]||[];i.push(t),this._events[r]=i})}off(e,t){var r=arguments.length;if(r===0){this._events={};return}ov(e,i=>{if(r===1){delete this._events[i];return}const o=this._events[i];o!==void 0&&(o.splice(o.indexOf(t),1),this._events[i]=o)})}trigger(e,...t){var r=this;ov(e,i=>{const o=r._events[i];o!==void 0&&o.forEach(l=>{l.apply(r,t)})})}}function P$(n){return n.plugins={},class extends n{constructor(){super(...arguments),this.plugins={names:[],settings:{},requested:{},loaded:{}}}static define(e,t){n.plugins[e]={name:e,fn:t}}initializePlugins(e){var t,r;const i=this,o=[];if(Array.isArray(e))e.forEach(l=>{typeof l=="string"?o.push(l):(i.plugins.settings[l.name]=l.options,o.push(l.name))});else if(e)for(t in e)e.hasOwnProperty(t)&&(i.plugins.settings[t]=e[t],o.push(t));for(;r=o.shift();)i.require(r)}loadPlugin(e){var t=this,r=t.plugins,i=n.plugins[e];if(!n.plugins.hasOwnProperty(e))throw new Error('Unable to find "'+e+'" plugin');r.requested[e]=!0,r.loaded[e]=i.fn.apply(t,[t.plugins.settings[e]||{}]),r.names.push(e)}require(e){var t=this,r=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(r.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return r.loaded[e]}}}const $p=n=>(n=n.filter(Boolean),n.length<2?n[0]||"":I$(n)==1?"["+n.join("")+"]":"(?:"+n.join("|")+")"),VT=n=>{if(!N$(n))return n.join("");let e="",t=0;const r=()=>{t>1&&(e+="{"+t+"}")};return n.forEach((i,o)=>{if(i===n[o-1]){t++;return}r(),e+=i,t=1}),r(),e},GT=n=>{let e=Array.from(n);return $p(e)},N$=n=>new Set(n).size!==n.length,Nh=n=>(n+"").replace(/([\$\(\)\*\+\.\?\[\]\^\{\|\}\\])/gu,"\\$1"),I$=n=>n.reduce((e,t)=>Math.max(e,D$(t)),0),D$=n=>Array.from(n).length,YT=n=>{if(n.length===1)return[[n]];let e=[];const t=n.substring(1);return YT(t).forEach(function(i){let o=i.slice(0);o[0]=n.charAt(0)+o[0],e.push(o),o=i.slice(0),o.unshift(n.charAt(0)),e.push(o)}),e},R$=[[0,65535]],F$="[-]";let cp,KT;const B$=3,Sb={},J_={"/":"",0:"",a:"",aa:"",ae:"",ao:"",au:"",av:"",ay:"",b:"",c:"",d:"",e:"",f:"",g:"",h:"",i:"",j:"",k:"",l:"",m:"",n:"",o:"",oe:"",oi:"",oo:"",ou:"",p:"",q:"",r:"",s:"",t:"",th:"",tz:"",u:"",v:"",vy:"",w:"",y:"",z:"",hv:""};for(let n in J_){let e=J_[n]||"";for(let t=0;t<e.length;t++){let r=e.substring(t,t+1);Sb[r]=n}}const j$=new RegExp(Object.keys(Sb).join("|")+"|"+F$,"gu"),H$=n=>{cp===void 0&&(cp=q$(R$))},Q_=(n,e="NFKD")=>n.normalize(e),hp=n=>Array.from(n).reduce((e,t)=>e+z$(t),""),z$=n=>(n=Q_(n).toLowerCase().replace(j$,e=>Sb[e]||""),Q_(n,"NFC"));function*$$(n){for(const[e,t]of n)for(let r=e;r<=t;r++){let i=String.fromCharCode(r),o=hp(i);o!=i.toLowerCase()&&(o.length>B$||o.length!=0&&(yield{folded:o,composed:i,code_point:r}))}}const U$=n=>{const e={},t=(r,i)=>{const o=e[r]||new Set,l=new RegExp("^"+GT(o)+"$","iu");i.match(l)||(o.add(Nh(i)),e[r]=o)};for(let r of $$(n))t(r.folded,r.folded),t(r.folded,r.composed);return e},q$=n=>{const e=U$(n),t={};let r=[];for(let o in e){let l=e[o];l&&(t[o]=GT(l)),o.length>1&&r.push(Nh(o))}r.sort((o,l)=>l.length-o.length);const i=$p(r);return KT=new RegExp("^"+i,"u"),t},W$=(n,e=1)=>{let t=0;return n=n.map(r=>(cp[r]&&(t+=r.length),cp[r]||r)),t>=e?VT(n):""},V$=(n,e=1)=>(e=Math.max(e,n.length-1),$p(YT(n).map(t=>W$(t,e)))),ex=(n,e=!0)=>{let t=n.length>1?1:0;return $p(n.map(r=>{let i=[];const o=e?r.length():r.length()-1;for(let l=0;l<o;l++)i.push(V$(r.substrs[l]||"",t));return VT(i)}))},G$=(n,e)=>{for(const t of e){if(t.start!=n.start||t.end!=n.end||t.substrs.join("")!==n.substrs.join(""))continue;let r=n.parts;const i=l=>{for(const h of r){if(h.start===l.start&&h.substr===l.substr)return!1;if(!(l.length==1||h.length==1)&&(l.start<h.start&&l.end>h.start||h.start<l.start&&h.end>l.start))return!0}return!1};if(!(t.parts.filter(i).length>0))return!0}return!1};class fp{parts;substrs;start;end;constructor(){this.parts=[],this.substrs=[],this.start=0,this.end=0}add(e){e&&(this.parts.push(e),this.substrs.push(e.substr),this.start=Math.min(e.start,this.start),this.end=Math.max(e.end,this.end))}last(){return this.parts[this.parts.length-1]}length(){return this.parts.length}clone(e,t){let r=new fp,i=JSON.parse(JSON.stringify(this.parts)),o=i.pop();for(const u of i)r.add(u);let l=t.substr.substring(0,e-o.start),h=l.length;return r.add({start:o.start,end:o.start+h,length:h,substr:l}),r}}const Y$=n=>{H$(),n=hp(n);let e="",t=[new fp];for(let r=0;r<n.length;r++){let o=n.substring(r).match(KT);const l=n.substring(r,r+1),h=o?o[0]:null;let u=[],f=new Set;for(const d of t){const g=d.last();if(!g||g.length==1||g.end<=r)if(h){const y=h.length;d.add({start:r,end:r+y,length:y,substr:h}),f.add("1")}else d.add({start:r,end:r+1,length:1,substr:l}),f.add("2");else if(h){let y=d.clone(r,g);const k=h.length;y.add({start:r,end:r+k,length:k,substr:h}),u.push(y)}else f.add("3")}if(u.length>0){u=u.sort((d,g)=>d.length()-g.length());for(let d of u)G$(d,t)||t.push(d);continue}if(r>0&&f.size==1&&!f.has("3")){e+=ex(t,!1);let d=new fp;const g=t[0];g&&d.add(g.last()),t=[d]}}return e+=ex(t,!0),e},K$=(n,e)=>{if(n)return n[e]},Z$=(n,e)=>{if(n){for(var t,r=e.split(".");(t=r.shift())&&(n=n[t]););return n}},av=(n,e,t)=>{var r,i;return!n||(n=n+"",e.regex==null)||(i=n.search(e.regex),i===-1)?0:(r=e.string.length/n.length,i===0&&(r+=.5),r*t)},lv=(n,e)=>{var t=n[e];if(typeof t=="function")return t;t&&!Array.isArray(t)&&(n[e]=[t])},pd=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},X$=(n,e)=>typeof n=="number"&&typeof e=="number"?n>e?1:n<e?-1:0:(n=hp(n+"").toLowerCase(),e=hp(e+"").toLowerCase(),n>e?1:e>n?-1:0);class J${items;settings;constructor(e,t){this.items=e,this.settings=t||{diacritics:!0}}tokenize(e,t,r){if(!e||!e.length)return[];const i=[],o=e.split(/\s+/);var l;return r&&(l=new RegExp("^("+Object.keys(r).map(Nh).join("|")+"):(.*)$")),o.forEach(h=>{let u,f=null,d=null;l&&(u=h.match(l))&&(f=u[1],h=u[2]),h.length>0&&(this.settings.diacritics?d=Y$(h)||null:d=Nh(h),d&&t&&(d="\\b"+d)),i.push({string:h,regex:d?new RegExp(d,"iu"):null,field:f})}),i}getScoreFunction(e,t){var r=this.prepareSearch(e,t);return this._getScoreFunction(r)}_getScoreFunction(e){const t=e.tokens,r=t.length;if(!r)return function(){return 0};const i=e.options.fields,o=e.weights,l=i.length,h=e.getAttrFn;if(!l)return function(){return 1};const u=(function(){return l===1?function(f,d){const g=i[0].field;return av(h(d,g),f,o[g]||1)}:function(f,d){var g=0;if(f.field){const y=h(d,f.field);!f.regex&&y?g+=1/l:g+=av(y,f,1)}else pd(o,(y,k)=>{g+=av(h(d,k),f,y)});return g/l}})();return r===1?function(f){return u(t[0],f)}:e.options.conjunction==="and"?function(f){var d,g=0;for(let y of t){if(d=u(y,f),d<=0)return 0;g+=d}return g/r}:function(f){var d=0;return pd(t,g=>{d+=u(g,f)}),d/r}}getSortFunction(e,t){var r=this.prepareSearch(e,t);return this._getSortFunction(r)}_getSortFunction(e){var t,r=[];const i=this,o=e.options,l=!e.query&&o.sort_empty?o.sort_empty:o.sort;if(typeof l=="function")return l.bind(this);const h=function(f,d){return f==="$score"?d.score:e.getAttrFn(i.items[d.id],f)};if(l)for(let f of l)(e.query||f.field!=="$score")&&r.push(f);if(e.query){t=!0;for(let f of r)if(f.field==="$score"){t=!1;break}t&&r.unshift({field:"$score",direction:"desc"})}else r=r.filter(f=>f.field!=="$score");return r.length?function(f,d){var g,y;for(let k of r)if(y=k.field,g=(k.direction==="desc"?-1:1)*X$(h(y,f),h(y,d)),g)return g;return 0}:null}prepareSearch(e,t){const r={};var i=Object.assign({},t);if(lv(i,"sort"),lv(i,"sort_empty"),i.fields){lv(i,"fields");const o=[];i.fields.forEach(l=>{typeof l=="string"&&(l={field:l,weight:1}),o.push(l),r[l.field]="weight"in l?l.weight:1}),i.fields=o}return{options:i,query:e.toLowerCase().trim(),tokens:this.tokenize(e,i.respect_word_boundaries,r),total:0,items:[],weights:r,getAttrFn:i.nesting?Z$:K$}}search(e,t){var r=this,i,o;o=this.prepareSearch(e,t),t=o.options,e=o.query;const l=t.score||r._getScoreFunction(o);e.length?pd(r.items,(u,f)=>{i=l(u),(t.filter===!1||i>0)&&o.items.push({score:i,id:f})}):pd(r.items,(u,f)=>{o.items.push({score:1,id:f})});const h=r._getSortFunction(o);return h&&o.items.sort(h),o.total=o.items.length,typeof t.limit=="number"&&(o.items=o.items.slice(0,t.limit)),o}}const Ns=n=>typeof n>"u"||n===null?null:Dd(n),Dd=n=>typeof n=="boolean"?n?"1":"0":n+"",uv=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),Q$=(n,e)=>e>0?window.setTimeout(n,e):(n.call(null),null),e7=(n,e)=>{var t;return function(r,i){var o=this;t&&(o.loading=Math.max(o.loading-1,0),clearTimeout(t)),t=setTimeout(function(){t=null,o.loadedSearches[r]=!0,n.call(o,r,i)},e)}},tx=(n,e,t)=>{var r,i=n.trigger,o={};n.trigger=function(){var l=arguments[0];if(e.indexOf(l)!==-1)o[l]=arguments;else return i.apply(n,arguments)},t.apply(n,[]),n.trigger=i;for(r of e)r in o&&i.apply(n,o[r])},t7=n=>({start:n.selectionStart||0,length:(n.selectionEnd||0)-(n.selectionStart||0)}),or=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},ci=(n,e,t,r)=>{n.addEventListener(e,t,r)},sl=(n,e)=>{if(!e||!e[n])return!1;var t=(e.altKey?1:0)+(e.ctrlKey?1:0)+(e.shiftKey?1:0)+(e.metaKey?1:0);return t===1},cv=(n,e)=>{const t=n.getAttribute("id");return t||(n.setAttribute("id",e),e)},nx=n=>n.replace(/[\\"']/g,"\\$&"),ol=(n,e)=>{e&&n.append(e)},Vr=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},so=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(ZT(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},ZT=n=>typeof n=="string"&&n.indexOf("<")>-1,n7=n=>n.replace(/['"\\]/g,"\\$&"),hv=(n,e)=>{var t=document.createEvent("HTMLEvents");t.initEvent(e,!0,!1),n.dispatchEvent(t)},md=(n,e)=>{Object.assign(n.style,e)},qi=(n,...e)=>{var t=XT(e);n=JT(n),n.map(r=>{t.map(i=>{r.classList.add(i)})})},ca=(n,...e)=>{var t=XT(e);n=JT(n),n.map(r=>{t.map(i=>{r.classList.remove(i)})})},XT=n=>{var e=[];return Vr(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},JT=n=>(Array.isArray(n)||(n=[n]),n),fv=(n,e,t)=>{if(!(t&&!t.contains(n)))for(;n&&n.matches;){if(n.matches(e))return n;n=n.parentNode}},rx=(n,e=0)=>e>0?n[n.length-1]:n[0],r7=n=>Object.keys(n).length===0,ix=(n,e)=>{if(!n)return-1;e=e||n.nodeName;for(var t=0;n=n.previousElementSibling;)n.matches(e)&&t++;return t},Kn=(n,e)=>{Vr(e,(t,r)=>{t==null?n.removeAttribute(r):n.setAttribute(r,""+t)})},cy=(n,e)=>{n.parentNode&&n.parentNode.replaceChild(e,n)},i7=(n,e)=>{if(e===null)return;if(typeof e=="string"){if(!e.length)return;e=new RegExp(e,"i")}const t=o=>{var l=o.data.match(e);if(l&&o.data.length>0){var h=document.createElement("span");h.className="highlight";var u=o.splitText(l.index);u.splitText(l[0].length);var f=u.cloneNode(!0);return h.appendChild(f),cy(u,h),1}return 0},r=o=>{o.nodeType===1&&o.childNodes&&!/(script|style)/i.test(o.tagName)&&(o.className!=="highlight"||o.tagName!=="SPAN")&&Array.from(o.childNodes).forEach(l=>{i(l)})},i=o=>o.nodeType===3?t(o):(r(o),0);i(n)},s7=n=>{var e=n.querySelectorAll("span.highlight");Array.prototype.forEach.call(e,function(t){var r=t.parentNode;r.replaceChild(t.firstChild,t),r.normalize()})},o7=65,a7=13,l7=27,u7=37,c7=38,h7=39,f7=40,sx=8,d7=46,ox=9,p7=typeof navigator>"u"?!1:/Mac/.test(navigator.userAgent),gd=p7?"metaKey":"ctrlKey",ax={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:null,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,shouldOpen:null,maxOptions:50,maxItems:null,hideSelected:null,duplicates:!1,addPrecedence:!1,selectOnTab:!1,preload:null,allowEmptyOption:!1,refreshThrottle:300,loadThrottle:300,loadingClass:"loading",dataAttr:null,optgroupField:"optgroup",valueField:"value",labelField:"text",disabledField:"disabled",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"ts-wrapper",controlClass:"ts-control",dropdownClass:"ts-dropdown",dropdownContentClass:"ts-dropdown-content",itemClass:"item",optionClass:"option",dropdownParent:null,controlInput:'<input type="text" autocomplete="off" size="1" />',copyClassesToDropdown:!1,placeholder:null,hidePlaceholder:null,shouldLoad:function(n){return n.length>0},render:{}};function lx(n,e){var t=Object.assign({},ax,e),r=t.dataAttr,i=t.labelField,o=t.valueField,l=t.disabledField,h=t.optgroupField,u=t.optgroupLabelField,f=t.optgroupValueField,d=n.tagName.toLowerCase(),g=n.getAttribute("placeholder")||n.getAttribute("data-placeholder");if(!g&&!t.allowEmptyOption){let _=n.querySelector('option[value=""]');_&&(g=_.textContent)}var y={placeholder:g,options:[],optgroups:[],items:[],maxItems:null},k=()=>{var _,A=y.options,N={},b=1;let M=0;var E=C=>{var R=Object.assign({},C.dataset),B=r&&R[r];return typeof B=="string"&&B.length&&(R=Object.assign(R,JSON.parse(B))),R},D=(C,R)=>{var B=Ns(C.value);if(B!=null&&!(!B&&!t.allowEmptyOption)){if(N.hasOwnProperty(B)){if(R){var I=N[B][h];I?Array.isArray(I)?I.push(R):N[B][h]=[I,R]:N[B][h]=R}}else{var P=E(C);P[i]=P[i]||C.textContent,P[o]=P[o]||B,P[l]=P[l]||C.disabled,P[h]=P[h]||R,P.$option=C,P.$order=P.$order||++M,N[B]=P,A.push(P)}C.selected&&y.items.push(B)}},T=C=>{var R,B;B=E(C),B[u]=B[u]||C.getAttribute("label")||"",B[f]=B[f]||b++,B[l]=B[l]||C.disabled,B.$order=B.$order||++M,y.optgroups.push(B),R=B[f],Vr(C.children,I=>{D(I,R)})};y.maxItems=n.hasAttribute("multiple")?null:1,Vr(n.children,C=>{_=C.tagName.toLowerCase(),_==="optgroup"?T(C):_==="option"&&D(C)})},w=()=>{const _=n.getAttribute(r);if(_)y.options=JSON.parse(_),Vr(y.options,N=>{y.items.push(N[o])});else{var A=n.value.trim()||"";if(!t.allowEmptyOption&&!A.length)return;const N=A.split(t.delimiter);Vr(N,b=>{const M={};M[i]=b,M[o]=b,y.options.push(M)}),y.items=N}};return d==="select"?k():w(),Object.assign({},ax,y,e)}var ux=0;class oi extends P$(M$){constructor(e,t){super(),this.order=0,this.isOpen=!1,this.isDisabled=!1,this.isReadOnly=!1,this.isInvalid=!1,this.isValid=!0,this.isLocked=!1,this.isFocused=!1,this.isInputHidden=!1,this.isSetup=!1,this.ignoreFocus=!1,this.ignoreHover=!1,this.hasOptions=!1,this.lastValue="",this.caretPos=0,this.loading=0,this.loadedSearches={},this.activeOption=null,this.activeItems=[],this.optgroups={},this.options={},this.userOptions={},this.items=[],this.refreshTimeout=null,ux++;var r,i=so(e);if(i.tomselect)throw new Error("Tom Select already initialized on this element");i.tomselect=this;var o=window.getComputedStyle&&window.getComputedStyle(i,null);r=o.getPropertyValue("direction");const l=lx(i,t);this.settings=l,this.input=i,this.tabIndex=i.tabIndex||0,this.is_select_tag=i.tagName.toLowerCase()==="select",this.rtl=/rtl/i.test(r),this.inputId=cv(i,"tomselect-"+ux),this.isRequired=i.required,this.sifter=new J$(this.options,{diacritics:l.diacritics}),l.mode=l.mode||(l.maxItems===1?"single":"multi"),typeof l.hideSelected!="boolean"&&(l.hideSelected=l.mode==="multi"),typeof l.hidePlaceholder!="boolean"&&(l.hidePlaceholder=l.mode!=="multi");var h=l.createFilter;typeof h!="function"&&(typeof h=="string"&&(h=new RegExp(h)),h instanceof RegExp?l.createFilter=A=>h.test(A):l.createFilter=A=>this.settings.duplicates||!this.options[A]),this.initializePlugins(l.plugins),this.setupCallbacks(),this.setupTemplates();const u=so("<div>"),f=so("<div>"),d=this._render("dropdown"),g=so('<div role="listbox" tabindex="-1">'),y=this.input.getAttribute("class")||"",k=l.mode;var w;if(qi(u,l.wrapperClass,y,k),qi(f,l.controlClass),ol(u,f),qi(d,l.dropdownClass,k),l.copyClassesToDropdown&&qi(d,y),qi(g,l.dropdownContentClass),ol(d,g),so(l.dropdownParent||u).appendChild(d),ZT(l.controlInput)){w=so(l.controlInput);var _=["autocorrect","autocapitalize","autocomplete","spellcheck"];Vr(_,A=>{i.getAttribute(A)&&Kn(w,{[A]:i.getAttribute(A)})}),w.tabIndex=-1,f.appendChild(w),this.focus_node=w}else l.controlInput?(w=so(l.controlInput),this.focus_node=w):(w=so("<input/>"),this.focus_node=f);this.wrapper=u,this.dropdown=d,this.dropdown_content=g,this.control=f,this.control_input=w,this.setup()}setup(){const e=this,t=e.settings,r=e.control_input,i=e.dropdown,o=e.dropdown_content,l=e.wrapper,h=e.control,u=e.input,f=e.focus_node,d={passive:!0},g=e.inputId+"-ts-dropdown";Kn(o,{id:g}),Kn(f,{role:"combobox","aria-haspopup":"listbox","aria-expanded":"false","aria-controls":g});const y=cv(f,e.inputId+"-ts-control"),k="label[for='"+n7(e.inputId)+"']",w=document.querySelector(k),_=e.focus.bind(e);if(w){ci(w,"click",_),Kn(w,{for:y});const b=cv(w,e.inputId+"-ts-label");Kn(f,{"aria-labelledby":b}),Kn(o,{"aria-labelledby":b})}if(l.style.width=u.style.width,e.plugins.names.length){const b="plugin-"+e.plugins.names.join(" plugin-");qi([l,i],b)}(t.maxItems===null||t.maxItems>1)&&e.is_select_tag&&Kn(u,{multiple:"multiple"}),t.placeholder&&Kn(r,{placeholder:t.placeholder}),!t.splitOn&&t.delimiter&&(t.splitOn=new RegExp("\\s*"+Nh(t.delimiter)+"+\\s*")),t.load&&t.loadThrottle&&(t.load=e7(t.load,t.loadThrottle)),ci(i,"mousemove",()=>{e.ignoreHover=!1}),ci(i,"mouseenter",b=>{var M=fv(b.target,"[data-selectable]",i);M&&e.onOptionHover(b,M)},{capture:!0}),ci(i,"click",b=>{const M=fv(b.target,"[data-selectable]");M&&(e.onOptionSelect(b,M),or(b,!0))}),ci(h,"click",b=>{var M=fv(b.target,"[data-ts-item]",h);if(M&&e.onItemSelect(b,M)){or(b,!0);return}r.value==""&&(e.onClick(),or(b,!0))}),ci(f,"keydown",b=>e.onKeyDown(b)),ci(r,"keypress",b=>e.onKeyPress(b)),ci(r,"input",b=>e.onInput(b)),ci(f,"blur",b=>e.onBlur(b)),ci(f,"focus",b=>e.onFocus(b)),ci(r,"paste",b=>e.onPaste(b));const A=b=>{const M=b.composedPath()[0];if(!l.contains(M)&&!i.contains(M)){e.isFocused&&e.blur(),e.inputState();return}M==r&&e.isOpen?b.stopPropagation():or(b,!0)},N=()=>{e.isOpen&&e.positionDropdown()};ci(document,"mousedown",A),ci(window,"scroll",N,d),ci(window,"resize",N,d),this._destroy=()=>{document.removeEventListener("mousedown",A),window.removeEventListener("scroll",N),window.removeEventListener("resize",N),w&&w.removeEventListener("click",_)},this.revertSettings={innerHTML:u.innerHTML,tabIndex:u.tabIndex},u.tabIndex=-1,u.insertAdjacentElement("afterend",e.wrapper),e.sync(!1),t.items=[],delete t.optgroups,delete t.options,ci(u,"invalid",()=>{e.isValid&&(e.isValid=!1,e.isInvalid=!0,e.refreshState())}),e.updateOriginalInput(),e.refreshItems(),e.close(!1),e.inputState(),e.isSetup=!0,u.disabled?e.disable():u.readOnly?e.setReadOnly(!0):e.enable(),e.on("change",this.onChange),qi(u,"tomselected","ts-hidden-accessible"),e.trigger("initialize"),t.preload===!0&&e.preload()}setupOptions(e=[],t=[]){this.addOptions(e),Vr(t,r=>{this.registerOptionGroup(r)})}setupTemplates(){var e=this,t=e.settings.labelField,r=e.settings.optgroupLabelField,i={optgroup:o=>{let l=document.createElement("div");return l.className="optgroup",l.appendChild(o.options),l},optgroup_header:(o,l)=>'<div class="optgroup-header">'+l(o[r])+"</div>",option:(o,l)=>"<div>"+l(o[t])+"</div>",item:(o,l)=>"<div>"+l(o[t])+"</div>",option_create:(o,l)=>'<div class="create">Add <strong>'+l(o.input)+"</strong>&hellip;</div>",no_results:()=>'<div class="no-results">No results found</div>',loading:()=>'<div class="spinner"></div>',not_loading:()=>{},dropdown:()=>"<div></div>"};e.settings.render=Object.assign({},i,e.settings.render)}setupCallbacks(){var e,t,r={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",item_select:"onItemSelect",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in r)t=this.settings[r[e]],t&&this.on(e,t)}sync(e=!0){const t=this,r=e?lx(t.input,{delimiter:t.settings.delimiter}):t.settings;t.setupOptions(r.options,r.optgroups),t.setValue(r.items||[],!0),t.lastQuery=null}onClick(){var e=this;if(e.activeItems.length>0){e.clearActiveItems(),e.focus();return}e.isFocused&&e.isOpen?e.blur():e.focus()}onMouseDown(){}onChange(){hv(this.input,"input"),hv(this.input,"change")}onPaste(e){var t=this;if(t.isInputHidden||t.isLocked){or(e);return}t.settings.splitOn&&setTimeout(()=>{var r=t.inputValue();if(r.match(t.settings.splitOn)){var i=r.trim().split(t.settings.splitOn);Vr(i,o=>{Ns(o)&&(this.options[o]?t.addItem(o):t.createItem(o))})}},0)}onKeyPress(e){var t=this;if(t.isLocked){or(e);return}var r=String.fromCharCode(e.keyCode||e.which);if(t.settings.create&&t.settings.mode==="multi"&&r===t.settings.delimiter){t.createItem(),or(e);return}}onKeyDown(e){var t=this;if(t.ignoreHover=!0,t.isLocked){e.keyCode!==ox&&or(e);return}switch(e.keyCode){case o7:if(sl(gd,e)&&t.control_input.value==""){or(e),t.selectAll();return}break;case l7:t.isOpen&&(or(e,!0),t.close()),t.clearActiveItems();return;case f7:if(!t.isOpen&&t.hasOptions)t.open();else if(t.activeOption){let r=t.getAdjacent(t.activeOption,1);r&&t.setActiveOption(r)}or(e);return;case c7:if(t.activeOption){let r=t.getAdjacent(t.activeOption,-1);r&&t.setActiveOption(r)}or(e);return;case a7:t.canSelect(t.activeOption)?(t.onOptionSelect(e,t.activeOption),or(e)):(t.settings.create&&t.createItem()||document.activeElement==t.control_input&&t.isOpen)&&or(e);return;case u7:t.advanceSelection(-1,e);return;case h7:t.advanceSelection(1,e);return;case ox:t.settings.selectOnTab&&(t.canSelect(t.activeOption)&&(t.onOptionSelect(e,t.activeOption),or(e)),t.settings.create&&t.createItem()&&or(e));return;case sx:case d7:t.deleteSelection(e);return}t.isInputHidden&&!sl(gd,e)&&or(e)}onInput(e){if(this.isLocked)return;const t=this.inputValue();if(this.lastValue!==t){if(this.lastValue=t,t==""){this._onInput();return}this.refreshTimeout&&window.clearTimeout(this.refreshTimeout),this.refreshTimeout=Q$(()=>{this.refreshTimeout=null,this._onInput()},this.settings.refreshThrottle)}}_onInput(){const e=this.lastValue;this.settings.shouldLoad.call(this,e)&&this.load(e),this.refreshOptions(),this.trigger("type",e)}onOptionHover(e,t){this.ignoreHover||this.setActiveOption(t,!1)}onFocus(e){var t=this,r=t.isFocused;if(t.isDisabled||t.isReadOnly){t.blur(),or(e);return}t.ignoreFocus||(t.isFocused=!0,t.settings.preload==="focus"&&t.preload(),r||t.trigger("focus"),t.activeItems.length||(t.inputState(),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState())}onBlur(e){if(document.hasFocus()!==!1){var t=this;if(t.isFocused){t.isFocused=!1,t.ignoreFocus=!1;var r=()=>{t.close(),t.setActiveItem(),t.setCaret(t.items.length),t.trigger("blur")};t.settings.create&&t.settings.createOnBlur?t.createItem(null,r):r()}}}onOptionSelect(e,t){var r,i=this;t.parentElement&&t.parentElement.matches("[data-disabled]")||(t.classList.contains("create")?i.createItem(null,()=>{i.settings.closeAfterSelect&&i.close()}):(r=t.dataset.value,typeof r<"u"&&(i.lastQuery=null,i.addItem(r),i.settings.closeAfterSelect&&i.close(),!i.settings.hideSelected&&e.type&&/click/.test(e.type)&&i.setActiveOption(t))))}canSelect(e){return!!(this.isOpen&&e&&this.dropdown_content.contains(e))}onItemSelect(e,t){var r=this;return!r.isLocked&&r.settings.mode==="multi"?(or(e),r.setActiveItem(t,e),!0):!1}canLoad(e){return!(!this.settings.load||this.loadedSearches.hasOwnProperty(e))}load(e){const t=this;if(!t.canLoad(e))return;qi(t.wrapper,t.settings.loadingClass),t.loading++;const r=t.loadCallback.bind(t);t.settings.load.call(t,e,r)}loadCallback(e,t){const r=this;r.loading=Math.max(r.loading-1,0),r.lastQuery=null,r.clearActiveOption(),r.setupOptions(e,t),r.refreshOptions(r.isFocused&&!r.isInputHidden),r.loading||ca(r.wrapper,r.settings.loadingClass),r.trigger("load",e,t)}preload(){var e=this.wrapper.classList;e.contains("preloaded")||(e.add("preloaded"),this.load(""))}setTextboxValue(e=""){var t=this.control_input,r=t.value!==e;r&&(t.value=e,hv(t,"update"),this.lastValue=e)}getValue(){return this.is_select_tag&&this.input.hasAttribute("multiple")?this.items:this.items.join(this.settings.delimiter)}setValue(e,t){var r=t?[]:["change"];tx(this,r,()=>{this.clear(t),this.addItems(e,t)})}setMaxItems(e){e===0&&(e=null),this.settings.maxItems=e,this.refreshState()}setActiveItem(e,t){var r=this,i,o,l,h,u,f;if(r.settings.mode!=="single"){if(!e){r.clearActiveItems(),r.isFocused&&r.inputState();return}if(i=t&&t.type.toLowerCase(),i==="click"&&sl("shiftKey",t)&&r.activeItems.length){for(f=r.getLastActive(),l=Array.prototype.indexOf.call(r.control.children,f),h=Array.prototype.indexOf.call(r.control.children,e),l>h&&(u=l,l=h,h=u),o=l;o<=h;o++)e=r.control.children[o],r.activeItems.indexOf(e)===-1&&r.setActiveItemClass(e);or(t)}else i==="click"&&sl(gd,t)||i==="keydown"&&sl("shiftKey",t)?e.classList.contains("active")?r.removeActiveItem(e):r.setActiveItemClass(e):(r.clearActiveItems(),r.setActiveItemClass(e));r.inputState(),r.isFocused||r.focus()}}setActiveItemClass(e){const t=this,r=t.control.querySelector(".last-active");r&&ca(r,"last-active"),qi(e,"active last-active"),t.trigger("item_select",e),t.activeItems.indexOf(e)==-1&&t.activeItems.push(e)}removeActiveItem(e){var t=this.activeItems.indexOf(e);this.activeItems.splice(t,1),ca(e,"active")}clearActiveItems(){ca(this.activeItems,"active"),this.activeItems=[]}setActiveOption(e,t=!0){e!==this.activeOption&&(this.clearActiveOption(),e&&(this.activeOption=e,Kn(this.focus_node,{"aria-activedescendant":e.getAttribute("id")}),Kn(e,{"aria-selected":"true"}),qi(e,"active"),t&&this.scrollToOption(e)))}scrollToOption(e,t){if(!e)return;const r=this.dropdown_content,i=r.clientHeight,o=r.scrollTop||0,l=e.offsetHeight,h=e.getBoundingClientRect().top-r.getBoundingClientRect().top+o;h+l>i+o?this.scroll(h-i+l,t):h<o&&this.scroll(h,t)}scroll(e,t){const r=this.dropdown_content;t&&(r.style.scrollBehavior=t),r.scrollTop=e,r.style.scrollBehavior=""}clearActiveOption(){this.activeOption&&(ca(this.activeOption,"active"),Kn(this.activeOption,{"aria-selected":null})),this.activeOption=null,Kn(this.focus_node,{"aria-activedescendant":null})}selectAll(){const e=this;if(e.settings.mode==="single")return;const t=e.controlChildren();t.length&&(e.inputState(),e.close(),e.activeItems=t,Vr(t,r=>{e.setActiveItemClass(r)}))}inputState(){var e=this;e.control.contains(e.control_input)&&(Kn(e.control_input,{placeholder:e.settings.placeholder}),e.activeItems.length>0||!e.isFocused&&e.settings.hidePlaceholder&&e.items.length>0?(e.setTextboxValue(),e.isInputHidden=!0):(e.settings.hidePlaceholder&&e.items.length>0&&Kn(e.control_input,{placeholder:""}),e.isInputHidden=!1),e.wrapper.classList.toggle("input-hidden",e.isInputHidden))}inputValue(){return this.control_input.value.trim()}focus(){var e=this;e.isDisabled||e.isReadOnly||(e.ignoreFocus=!0,e.control_input.offsetWidth?e.control_input.focus():e.focus_node.focus(),setTimeout(()=>{e.ignoreFocus=!1,e.onFocus()},0))}blur(){this.focus_node.blur(),this.onBlur()}getScoreFunction(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())}getSearchOptions(){var e=this.settings,t=e.sortField;return typeof e.sortField=="string"&&(t=[{field:e.sortField}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t,nesting:e.nesting}}search(e){var t,r,i=this,o=this.getSearchOptions();if(i.settings.score&&(r=i.settings.score.call(i,e),typeof r!="function"))throw new Error('Tom Select "score" setting must be a function that returns a function');return e!==i.lastQuery?(i.lastQuery=e,t=i.sifter.search(e,Object.assign(o,{score:r})),i.currentResults=t):t=Object.assign({},i.currentResults),i.settings.hideSelected&&(t.items=t.items.filter(l=>{let h=Ns(l.id);return!(h&&i.items.indexOf(h)!==-1)})),t}refreshOptions(e=!0){var t,r,i,o,l,h,u,f,d,g;const y={},k=[];var w=this,_=w.inputValue();const A=_===w.lastQuery||_==""&&w.lastQuery==null;var N=w.search(_),b=null,M=w.settings.shouldOpen||!1,E=w.dropdown_content;A&&(b=w.activeOption,b&&(d=b.closest("[data-group]"))),o=N.items.length,typeof w.settings.maxOptions=="number"&&(o=Math.min(o,w.settings.maxOptions)),o>0&&(M=!0);const D=(C,R)=>{let B=y[C];if(B!==void 0){let P=k[B];if(P!==void 0)return[B,P.fragment]}let I=document.createDocumentFragment();return B=k.length,k.push({fragment:I,order:R,optgroup:C}),[B,I]};for(t=0;t<o;t++){let C=N.items[t];if(!C)continue;let R=C.id,B=w.options[R];if(B===void 0)continue;let I=Dd(R),P=w.getOption(I,!0);for(w.settings.hideSelected||P.classList.toggle("selected",w.items.includes(I)),l=B[w.settings.optgroupField]||"",h=Array.isArray(l)?l:[l],r=0,i=h&&h.length;r<i;r++){l=h[r];let j=B.$order,$=w.optgroups[l];$===void 0?l="":j=$.$order;const[Z,se]=D(l,j);r>0&&(P=P.cloneNode(!0),Kn(P,{id:B.$id+"-clone-"+r,"aria-selected":null}),P.classList.add("ts-cloned"),ca(P,"active"),w.activeOption&&w.activeOption.dataset.value==R&&d&&d.dataset.group===l.toString()&&(b=P)),se.appendChild(P),l!=""&&(y[l]=Z)}}w.settings.lockOptgroupOrder&&k.sort((C,R)=>C.order-R.order),u=document.createDocumentFragment(),Vr(k,C=>{let R=C.fragment,B=C.optgroup;if(!R||!R.children.length)return;let I=w.optgroups[B];if(I!==void 0){let P=document.createDocumentFragment(),j=w.render("optgroup_header",I);ol(P,j),ol(P,R);let $=w.render("optgroup",{group:I,options:P});ol(u,$)}else ol(u,R)}),E.innerHTML="",ol(E,u),w.settings.highlight&&(s7(E),N.query.length&&N.tokens.length&&Vr(N.tokens,C=>{i7(E,C.regex)}));var T=C=>{let R=w.render(C,{input:_});return R&&(M=!0,E.insertBefore(R,E.firstChild)),R};if(w.loading?T("loading"):w.settings.shouldLoad.call(w,_)?N.items.length===0&&T("no_results"):T("not_loading"),f=w.canCreate(_),f&&(g=T("option_create")),w.hasOptions=N.items.length>0||f,M){if(N.items.length>0){if(!b&&w.settings.mode==="single"&&w.items[0]!=null&&(b=w.getOption(w.items[0])),!E.contains(b)){let C=0;g&&!w.settings.addPrecedence&&(C=1),b=w.selectable()[C]}}else g&&(b=g);e&&!w.isOpen&&(w.open(),w.scrollToOption(b,"auto")),w.setActiveOption(b)}else w.clearActiveOption(),e&&w.isOpen&&w.close(!1)}selectable(){return this.dropdown_content.querySelectorAll("[data-selectable]")}addOption(e,t=!1){const r=this;if(Array.isArray(e))return r.addOptions(e,t),!1;const i=Ns(e[r.settings.valueField]);return i===null||r.options.hasOwnProperty(i)?!1:(e.$order=e.$order||++r.order,e.$id=r.inputId+"-opt-"+e.$order,r.options[i]=e,r.lastQuery=null,t&&(r.userOptions[i]=t,r.trigger("option_add",i,e)),i)}addOptions(e,t=!1){Vr(e,r=>{this.addOption(r,t)})}registerOption(e){return this.addOption(e)}registerOptionGroup(e){var t=Ns(e[this.settings.optgroupValueField]);return t===null?!1:(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)}addOptionGroup(e,t){var r;t[this.settings.optgroupValueField]=e,(r=this.registerOptionGroup(t))&&this.trigger("optgroup_add",r,t)}removeOptionGroup(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.clearCache(),this.trigger("optgroup_remove",e))}clearOptionGroups(){this.optgroups={},this.clearCache(),this.trigger("optgroup_clear")}updateOption(e,t){const r=this;var i,o;const l=Ns(e),h=Ns(t[r.settings.valueField]);if(l===null)return;const u=r.options[l];if(u==null)return;if(typeof h!="string")throw new Error("Value must be set in option data");const f=r.getOption(l),d=r.getItem(l);if(t.$order=t.$order||u.$order,delete r.options[l],r.uncacheValue(h),r.options[h]=t,f){if(r.dropdown_content.contains(f)){const g=r._render("option",t);cy(f,g),r.activeOption===f&&r.setActiveOption(g)}f.remove()}d&&(o=r.items.indexOf(l),o!==-1&&r.items.splice(o,1,h),i=r._render("item",t),d.classList.contains("active")&&qi(i,"active"),cy(d,i)),r.lastQuery=null}removeOption(e,t){const r=this;e=Dd(e),r.uncacheValue(e),delete r.userOptions[e],delete r.options[e],r.lastQuery=null,r.trigger("option_remove",e),r.removeItem(e,t)}clearOptions(e){const t=(e||this.clearFilter).bind(this);this.loadedSearches={},this.userOptions={},this.clearCache();const r={};Vr(this.options,(i,o)=>{t(i,o)&&(r[o]=i)}),this.options=this.sifter.items=r,this.lastQuery=null,this.trigger("option_clear")}clearFilter(e,t){return this.items.indexOf(t)>=0}getOption(e,t=!1){const r=Ns(e);if(r===null)return null;const i=this.options[r];if(i!=null){if(i.$div)return i.$div;if(t)return this._render("option",i)}return null}getAdjacent(e,t,r="option"){var i=this,o;if(!e)return null;r=="item"?o=i.controlChildren():o=i.dropdown_content.querySelectorAll("[data-selectable]");for(let l=0;l<o.length;l++)if(o[l]==e)return t>0?o[l+1]:o[l-1];return null}getItem(e){if(typeof e=="object")return e;var t=Ns(e);return t!==null?this.control.querySelector(`[data-value="${nx(t)}"]`):null}addItems(e,t){var r=this,i=Array.isArray(e)?e:[e];i=i.filter(l=>r.items.indexOf(l)===-1);const o=i[i.length-1];i.forEach(l=>{r.isPending=l!==o,r.addItem(l,t)})}addItem(e,t){var r=t?[]:["change","dropdown_close"];tx(this,r,()=>{var i,o;const l=this,h=l.settings.mode,u=Ns(e);if(!(u&&l.items.indexOf(u)!==-1&&(h==="single"&&l.close(),h==="single"||!l.settings.duplicates))&&!(u===null||!l.options.hasOwnProperty(u))&&(h==="single"&&l.clear(t),!(h==="multi"&&l.isFull()))){if(i=l._render("item",l.options[u]),l.control.contains(i)&&(i=i.cloneNode(!0)),o=l.isFull(),l.items.splice(l.caretPos,0,u),l.insertAtCaret(i),l.isSetup){if(!l.isPending&&l.settings.hideSelected){let f=l.getOption(u),d=l.getAdjacent(f,1);d&&l.setActiveOption(d)}!l.isPending&&!l.settings.closeAfterSelect&&l.refreshOptions(l.isFocused&&h!=="single"),l.settings.closeAfterSelect!=!1&&l.isFull()?l.close():l.isPending||l.positionDropdown(),l.trigger("item_add",u,i),l.isPending||l.updateOriginalInput({silent:t})}(!l.isPending||!o&&l.isFull())&&(l.inputState(),l.refreshState())}})}removeItem(e=null,t){const r=this;if(e=r.getItem(e),!e)return;var i,o;const l=e.dataset.value;i=ix(e),e.remove(),e.classList.contains("active")&&(o=r.activeItems.indexOf(e),r.activeItems.splice(o,1),ca(e,"active")),r.items.splice(i,1),r.lastQuery=null,!r.settings.persist&&r.userOptions.hasOwnProperty(l)&&r.removeOption(l,t),i<r.caretPos&&r.setCaret(r.caretPos-1),r.updateOriginalInput({silent:t}),r.refreshState(),r.positionDropdown(),r.trigger("item_remove",l,e)}createItem(e=null,t=()=>{}){arguments.length===3&&(t=arguments[2]),typeof t!="function"&&(t=()=>{});var r=this,i=r.caretPos,o;if(e=e||r.inputValue(),!r.canCreate(e))return t(),!1;r.lock();var l=!1,h=u=>{if(r.unlock(),!u||typeof u!="object")return t();var f=Ns(u[r.settings.valueField]);if(typeof f!="string")return t();r.setTextboxValue(),r.addOption(u,!0),r.setCaret(i),r.addItem(f),t(u),l=!0};return typeof r.settings.create=="function"?o=r.settings.create.call(this,e,h):o={[r.settings.labelField]:e,[r.settings.valueField]:e},l||h(o),!0}refreshItems(){var e=this;e.lastQuery=null,e.isSetup&&e.addItems(e.items),e.updateOriginalInput(),e.refreshState()}refreshState(){const e=this;e.refreshValidityState();const t=e.isFull(),r=e.isLocked;e.wrapper.classList.toggle("rtl",e.rtl);const i=e.wrapper.classList;i.toggle("focus",e.isFocused),i.toggle("disabled",e.isDisabled),i.toggle("readonly",e.isReadOnly),i.toggle("required",e.isRequired),i.toggle("invalid",!e.isValid),i.toggle("locked",r),i.toggle("full",t),i.toggle("input-active",e.isFocused&&!e.isInputHidden),i.toggle("dropdown-active",e.isOpen),i.toggle("has-options",r7(e.options)),i.toggle("has-items",e.items.length>0)}refreshValidityState(){var e=this;e.input.validity&&(e.isValid=e.input.validity.valid,e.isInvalid=!e.isValid)}isFull(){return this.settings.maxItems!==null&&this.items.length>=this.settings.maxItems}updateOriginalInput(e={}){const t=this;var r,i;const o=t.input.querySelector('option[value=""]');if(t.is_select_tag){let f=function(d,g,y){return d||(d=so('<option value="'+uv(g)+'">'+uv(y)+"</option>")),d!=o&&t.input.append(d),h.push(d),(d!=o||u>0)&&(d.selected=!0),d};var l=f;const h=[],u=t.input.querySelectorAll("option:checked").length;t.input.querySelectorAll("option:checked").forEach(d=>{d.selected=!1}),t.items.length==0&&t.settings.mode=="single"?f(o,"",""):t.items.forEach(d=>{if(r=t.options[d],i=r[t.settings.labelField]||"",h.includes(r.$option)){const g=t.input.querySelector(`option[value="${nx(d)}"]:not(:checked)`);f(g,d,i)}else r.$option=f(r.$option,d,i)})}else t.input.value=t.getValue();t.isSetup&&(e.silent||t.trigger("change",t.getValue()))}open(){var e=this;e.isLocked||e.isOpen||e.settings.mode==="multi"&&e.isFull()||(e.isOpen=!0,Kn(e.focus_node,{"aria-expanded":"true"}),e.refreshState(),md(e.dropdown,{visibility:"hidden",display:"block"}),e.positionDropdown(),md(e.dropdown,{visibility:"visible",display:"block"}),e.focus(),e.trigger("dropdown_open",e.dropdown))}close(e=!0){var t=this,r=t.isOpen;e&&(t.setTextboxValue(),t.settings.mode==="single"&&t.items.length&&t.inputState()),t.isOpen=!1,Kn(t.focus_node,{"aria-expanded":"false"}),md(t.dropdown,{display:"none"}),t.settings.hideSelected&&t.clearActiveOption(),t.refreshState(),r&&t.trigger("dropdown_close",t.dropdown)}positionDropdown(){if(this.settings.dropdownParent==="body"){var e=this.control,t=e.getBoundingClientRect(),r=e.offsetHeight+t.top+window.scrollY,i=t.left+window.scrollX;md(this.dropdown,{width:t.width+"px",top:r+"px",left:i+"px"})}}clear(e){var t=this;if(t.items.length){var r=t.controlChildren();Vr(r,i=>{t.removeItem(i,!0)}),t.inputState(),e||t.updateOriginalInput(),t.trigger("clear")}}insertAtCaret(e){const t=this,r=t.caretPos,i=t.control;i.insertBefore(e,i.children[r]||null),t.setCaret(r+1)}deleteSelection(e){var t,r,i,o,l=this;t=e&&e.keyCode===sx?-1:1,r=t7(l.control_input);const h=[];if(l.activeItems.length)o=rx(l.activeItems,t),i=ix(o),t>0&&i++,Vr(l.activeItems,u=>h.push(u));else if((l.isFocused||l.settings.mode==="single")&&l.items.length){const u=l.controlChildren();let f;t<0&&r.start===0&&r.length===0?f=u[l.caretPos-1]:t>0&&r.start===l.inputValue().length&&(f=u[l.caretPos]),f!==void 0&&h.push(f)}if(!l.shouldDelete(h,e))return!1;for(or(e,!0),typeof i<"u"&&l.setCaret(i);h.length;)l.removeItem(h.pop());return l.inputState(),l.positionDropdown(),l.refreshOptions(!1),!0}shouldDelete(e,t){const r=e.map(i=>i.dataset.value);return!(!r.length||typeof this.settings.onDelete=="function"&&this.settings.onDelete(r,t)===!1)}advanceSelection(e,t){var r,i,o=this;o.rtl&&(e*=-1),!o.inputValue().length&&(sl(gd,t)||sl("shiftKey",t)?(r=o.getLastActive(e),r?r.classList.contains("active")?i=o.getAdjacent(r,e,"item"):i=r:e>0?i=o.control_input.nextElementSibling:i=o.control_input.previousElementSibling,i&&(i.classList.contains("active")&&o.removeActiveItem(r),o.setActiveItemClass(i))):o.moveCaret(e))}moveCaret(e){}getLastActive(e){let t=this.control.querySelector(".last-active");if(t)return t;var r=this.control.querySelectorAll(".active");if(r)return rx(r,e)}setCaret(e){this.caretPos=this.items.length}controlChildren(){return Array.from(this.control.querySelectorAll("[data-ts-item]"))}lock(){this.setLocked(!0)}unlock(){this.setLocked(!1)}setLocked(e=this.isReadOnly||this.isDisabled){this.isLocked=e,this.refreshState()}disable(){this.setDisabled(!0),this.close()}enable(){this.setDisabled(!1)}setDisabled(e){this.focus_node.tabIndex=e?-1:this.tabIndex,this.isDisabled=e,this.input.disabled=e,this.control_input.disabled=e,this.setLocked()}setReadOnly(e){this.isReadOnly=e,this.input.readOnly=e,this.control_input.readOnly=e,this.setLocked()}destroy(){var e=this,t=e.revertSettings;e.trigger("destroy"),e.off(),e.wrapper.remove(),e.dropdown.remove(),e.input.innerHTML=t.innerHTML,e.input.tabIndex=t.tabIndex,ca(e.input,"tomselected","ts-hidden-accessible"),e._destroy(),delete e.input.tomselect}render(e,t){var r,i;const o=this;if(typeof this.settings.render[e]!="function"||(i=o.settings.render[e].call(this,t,uv),!i))return null;if(i=so(i),e==="option"||e==="option_create"?t[o.settings.disabledField]?Kn(i,{"aria-disabled":"true"}):Kn(i,{"data-selectable":""}):e==="optgroup"&&(r=t.group[o.settings.optgroupValueField],Kn(i,{"data-group":r}),t.group[o.settings.disabledField]&&Kn(i,{"data-disabled":""})),e==="option"||e==="item"){const l=Dd(t[o.settings.valueField]);Kn(i,{"data-value":l}),e==="item"?(qi(i,o.settings.itemClass),Kn(i,{"data-ts-item":""})):(qi(i,o.settings.optionClass),Kn(i,{role:"option",id:t.$id}),t.$div=i,o.options[l]=t)}return i}_render(e,t){const r=this.render(e,t);if(r==null)throw"HTMLElement expected";return r}clearCache(){Vr(this.options,e=>{e.$div&&(e.$div.remove(),delete e.$div)})}uncacheValue(e){const t=this.getOption(e);t&&t.remove()}canCreate(e){return this.settings.create&&e.length>0&&this.settings.createFilter.call(this,e)}hook(e,t,r){var i=this,o=i[t];i[t]=function(){var l,h;return e==="after"&&(l=o.apply(i,arguments)),h=r.apply(i,arguments),e==="instead"?h:(e==="before"&&(l=o.apply(i,arguments)),l)}}}const m7=(n,e,t,r)=>{n.addEventListener(e,t,r)};function g7(){m7(this.input,"change",()=>{this.sync()})}const v7=n=>typeof n>"u"||n===null?null:y7(n),y7=n=>typeof n=="boolean"?n?"1":"0":n+"",cx=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},b7=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(w7(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},w7=n=>typeof n=="string"&&n.indexOf("<")>-1;function _7(n){var e=this,t=e.onOptionSelect;e.settings.hideSelected=!1;const r=Object.assign({className:"tomselect-checkbox",checkedClassNames:void 0,uncheckedClassNames:void 0},n);var i=function(h,u){u?(h.checked=!0,r.uncheckedClassNames&&h.classList.remove(...r.uncheckedClassNames),r.checkedClassNames&&h.classList.add(...r.checkedClassNames)):(h.checked=!1,r.checkedClassNames&&h.classList.remove(...r.checkedClassNames),r.uncheckedClassNames&&h.classList.add(...r.uncheckedClassNames))},o=function(h){setTimeout(()=>{var u=h.querySelector("input."+r.className);u instanceof HTMLInputElement&&i(u,h.classList.contains("selected"))},1)};e.hook("after","setupTemplates",()=>{var l=e.settings.render.option;e.settings.render.option=(h,u)=>{var f=b7(l.call(e,h,u)),d=document.createElement("input");r.className&&d.classList.add(r.className),d.addEventListener("click",function(y){cx(y)}),d.type="checkbox";const g=v7(h[e.settings.valueField]);return i(d,!!(g&&e.items.indexOf(g)>-1)),f.prepend(d),f}}),e.on("item_remove",l=>{var h=e.getOption(l);h&&(h.classList.remove("selected"),o(h))}),e.on("item_add",l=>{var h=e.getOption(l);h&&o(h)}),e.hook("instead","onOptionSelect",(l,h)=>{if(h.classList.contains("selected")){h.classList.remove("selected"),e.removeItem(h.dataset.value),e.refreshOptions(),cx(l,!0);return}t.call(e,l,h),o(h)})}const x7=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(S7(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},S7=n=>typeof n=="string"&&n.indexOf("<")>-1;function E7(n){const e=this,t=Object.assign({className:"clear-button",title:"Clear All",html:r=>`<div class="${r.className}" title="${r.title}">&#10799;</div>`},n);e.on("initialize",()=>{var r=x7(t.html(t));r.addEventListener("click",i=>{e.isLocked||(e.clear(),e.settings.mode==="single"&&e.settings.allowEmptyOption&&e.addItem(""),i.preventDefault(),i.stopPropagation())}),e.control.appendChild(r)})}const A7=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},cu=(n,e,t,r)=>{n.addEventListener(e,t,r)},T7=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},k7=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(C7(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},C7=n=>typeof n=="string"&&n.indexOf("<")>-1,O7=(n,e)=>{T7(e,(t,r)=>{t==null?n.removeAttribute(r):n.setAttribute(r,""+t)})},L7=(n,e)=>{var t;(t=n.parentNode)==null||t.insertBefore(e,n.nextSibling)},M7=(n,e)=>{var t;(t=n.parentNode)==null||t.insertBefore(e,n)},P7=(n,e)=>{do{var t;if(e=(t=e)==null?void 0:t.previousElementSibling,n==e)return!0}while(e&&e.previousElementSibling);return!1};function N7(){var n=this;if(n.settings.mode!=="multi")return;var e=n.lock,t=n.unlock;let r=!0,i;n.hook("after","setupTemplates",()=>{var o=n.settings.render.item;n.settings.render.item=(l,h)=>{const u=k7(o.call(n,l,h));O7(u,{draggable:"true"});const f=_=>{r||A7(_),_.stopPropagation()},d=_=>{i=u,setTimeout(()=>{u.classList.add("ts-dragging")},0)},g=_=>{_.preventDefault(),u.classList.add("ts-drag-over"),k(u,i)},y=()=>{u.classList.remove("ts-drag-over")},k=(_,A)=>{A!==void 0&&(P7(A,u)?L7(_,A):M7(_,A))},w=()=>{var _;document.querySelectorAll(".ts-drag-over").forEach(N=>N.classList.remove("ts-drag-over")),(_=i)==null||_.classList.remove("ts-dragging"),i=void 0;var A=[];n.control.querySelectorAll("[data-value]").forEach(N=>{if(N.dataset.value){let b=N.dataset.value;b&&A.push(b)}}),n.setValue(A)};return cu(u,"mousedown",f),cu(u,"dragstart",d),cu(u,"dragenter",g),cu(u,"dragover",g),cu(u,"dragleave",y),cu(u,"dragend",w),u}}),n.hook("instead","lock",()=>(r=!1,e.call(n))),n.hook("instead","unlock",()=>(r=!0,t.call(n)))}const I7=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},D7=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(R7(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},R7=n=>typeof n=="string"&&n.indexOf("<")>-1;function F7(n){const e=this,t=Object.assign({title:"Untitled",headerClass:"dropdown-header",titleRowClass:"dropdown-header-title",labelClass:"dropdown-header-label",closeClass:"dropdown-header-close",html:r=>'<div class="'+r.headerClass+'"><div class="'+r.titleRowClass+'"><span class="'+r.labelClass+'">'+r.title+'</span><a class="'+r.closeClass+'">&times;</a></div></div>'},n);e.on("initialize",()=>{var r=D7(t.html(t)),i=r.querySelector("."+t.closeClass);i&&i.addEventListener("click",o=>{I7(o,!0),e.close()}),e.dropdown.insertBefore(r,e.dropdown.firstChild)})}const B7=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},j7=(n,...e)=>{var t=H7(e);n=z7(n),n.map(r=>{t.map(i=>{r.classList.remove(i)})})},H7=n=>{var e=[];return B7(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},z7=n=>(Array.isArray(n)||(n=[n]),n),$7=(n,e)=>{if(!n)return-1;e=e||n.nodeName;for(var t=0;n=n.previousElementSibling;)n.matches(e)&&t++;return t};function U7(){var n=this;n.hook("instead","setCaret",e=>{n.settings.mode==="single"||!n.control.contains(n.control_input)?e=n.items.length:(e=Math.max(0,Math.min(n.items.length,e)),e!=n.caretPos&&!n.isPending&&n.controlChildren().forEach((t,r)=>{r<e?n.control_input.insertAdjacentElement("beforebegin",t):n.control.appendChild(t)})),n.caretPos=e}),n.hook("instead","moveCaret",e=>{if(!n.isFocused)return;const t=n.getLastActive(e);if(t){const r=$7(t);n.setCaret(e>0?r+1:r),n.setActiveItem(),j7(t,"last-active")}else n.setCaret(n.caretPos+e)})}const q7=27,W7=9,V7=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},G7=(n,e,t,r)=>{n.addEventListener(e,t,r)},Y7=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},hx=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(K7(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},K7=n=>typeof n=="string"&&n.indexOf("<")>-1,Z7=(n,...e)=>{var t=X7(e);n=J7(n),n.map(r=>{t.map(i=>{r.classList.add(i)})})},X7=n=>{var e=[];return Y7(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},J7=n=>(Array.isArray(n)||(n=[n]),n);function Q7(){const n=this;n.settings.shouldOpen=!0,n.hook("before","setup",()=>{n.focus_node=n.control,Z7(n.control_input,"dropdown-input");const e=hx('<div class="dropdown-input-wrap">');e.append(n.control_input),n.dropdown.insertBefore(e,n.dropdown.firstChild);const t=hx('<input class="items-placeholder" tabindex="-1" />');t.placeholder=n.settings.placeholder||"",n.control.append(t)}),n.on("initialize",()=>{n.control_input.addEventListener("keydown",t=>{switch(t.keyCode){case q7:n.isOpen&&(V7(t,!0),n.close()),n.clearActiveItems();return;case W7:n.focus_node.tabIndex=-1;break}return n.onKeyDown.call(n,t)}),n.on("blur",()=>{n.focus_node.tabIndex=n.isDisabled?-1:n.tabIndex}),n.on("dropdown_open",()=>{n.control_input.focus()});const e=n.onBlur;n.hook("instead","onBlur",t=>{if(!(t&&t.relatedTarget==n.control_input))return e.call(n)}),G7(n.control_input,"blur",()=>n.onBlur()),n.hook("before","close",()=>{n.isOpen&&n.focus_node.focus({preventScroll:!0})})})}const vd=(n,e,t,r)=>{n.addEventListener(e,t,r)};function eU(){var n=this;n.on("initialize",()=>{var e=document.createElement("span"),t=n.control_input;e.style.cssText="position:absolute; top:-99999px; left:-99999px; width:auto; padding:0; white-space:pre; ",n.wrapper.appendChild(e);var r=["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"];for(const o of r)e.style[o]=t.style[o];var i=()=>{e.textContent=t.value,t.style.width=e.clientWidth+"px"};i(),n.on("update item_add item_remove",i),vd(t,"input",i),vd(t,"keyup",i),vd(t,"blur",i),vd(t,"update",i)})}function tU(){var n=this,e=n.deleteSelection;this.hook("instead","deleteSelection",t=>n.activeItems.length?e.call(n,t):!1)}function nU(){this.hook("instead","setActiveItem",()=>{}),this.hook("instead","selectAll",()=>{})}const fx=37,rU=39,iU=(n,e,t)=>{for(;n&&n.matches;){if(n.matches(e))return n;n=n.parentNode}},sU=(n,e)=>{if(!n)return-1;e=e||n.nodeName;for(var t=0;n=n.previousElementSibling;)n.matches(e)&&t++;return t};function oU(){var n=this,e=n.onKeyDown;n.hook("instead","onKeyDown",t=>{var r,i,o,l;if(!n.isOpen||!(t.keyCode===fx||t.keyCode===rU))return e.call(n,t);n.ignoreHover=!0,l=iU(n.activeOption,"[data-group]"),r=sU(n.activeOption,"[data-selectable]"),l&&(t.keyCode===fx?l=l.previousSibling:l=l.nextSibling,l&&(o=l.querySelectorAll("[data-selectable]"),i=o[Math.min(o.length-1,r)],i&&n.setActiveOption(i)))})}const aU=n=>(n+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"),dx=(n,e=!1)=>{n&&(n.preventDefault(),e&&n.stopPropagation())},px=(n,e,t,r)=>{n.addEventListener(e,t,r)},mx=n=>{if(n.jquery)return n[0];if(n instanceof HTMLElement)return n;if(lU(n)){var e=document.createElement("template");return e.innerHTML=n.trim(),e.content.firstChild}return document.querySelector(n)},lU=n=>typeof n=="string"&&n.indexOf("<")>-1;function uU(n){const e=Object.assign({label:"&times;",title:"Remove",className:"remove",append:!0},n);var t=this;if(e.append){var r='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+aU(e.title)+'">'+e.label+"</a>";t.hook("after","setupTemplates",()=>{var i=t.settings.render.item;t.settings.render.item=(o,l)=>{var h=mx(i.call(t,o,l)),u=mx(r);return h.appendChild(u),px(u,"mousedown",f=>{dx(f,!0)}),px(u,"click",f=>{t.isLocked||(dx(f,!0),!t.isLocked&&t.shouldDelete([h],f)&&(t.removeItem(h),t.refreshOptions(!1),t.inputState()))}),h}})}}function cU(n){const e=this,t=Object.assign({text:r=>r[e.settings.labelField]},n);e.on("item_remove",function(r){if(e.isFocused&&e.control_input.value.trim()===""){var i=e.options[r];i&&e.setTextboxValue(t.text.call(e,i))}})}const hU=(n,e)=>{if(Array.isArray(n))n.forEach(e);else for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)},fU=(n,...e)=>{var t=dU(e);n=pU(n),n.map(r=>{t.map(i=>{r.classList.add(i)})})},dU=n=>{var e=[];return hU(n,t=>{typeof t=="string"&&(t=t.trim().split(/[\t\n\f\r\s]/)),Array.isArray(t)&&(e=e.concat(t))}),e.filter(Boolean)},pU=n=>(Array.isArray(n)||(n=[n]),n);function mU(){const n=this,e=n.canLoad,t=n.clearActiveOption,r=n.loadCallback;var i={},o,l=!1,h,u=[];if(n.settings.shouldLoadMore||(n.settings.shouldLoadMore=()=>{if(o.clientHeight/(o.scrollHeight-o.scrollTop)>.9)return!0;if(n.activeOption){var y=n.selectable(),k=Array.from(y).indexOf(n.activeOption);if(k>=y.length-2)return!0}return!1}),!n.settings.firstUrl)throw"virtual_scroll plugin requires a firstUrl() method";n.settings.sortField=[{field:"$order"},{field:"$score"}];const f=g=>typeof n.settings.maxOptions=="number"&&o.children.length>=n.settings.maxOptions?!1:!!(g in i&&i[g]),d=(g,y)=>n.items.indexOf(y)>=0||u.indexOf(y)>=0;n.setNextUrl=(g,y)=>{i[g]=y},n.getUrl=g=>{if(g in i){const y=i[g];return i[g]=!1,y}return n.clearPagination(),n.settings.firstUrl.call(n,g)},n.clearPagination=()=>{i={}},n.hook("instead","clearActiveOption",()=>{if(!l)return t.call(n)}),n.hook("instead","canLoad",g=>g in i?f(g):e.call(n,g)),n.hook("instead","loadCallback",(g,y)=>{if(!l)n.clearOptions(d);else if(h){const k=g[0];k!==void 0&&(h.dataset.value=k[n.settings.valueField])}r.call(n,g,y),l=!1}),n.hook("after","refreshOptions",()=>{const g=n.lastValue;var y;f(g)?(y=n.render("loading_more",{query:g}),y&&(y.setAttribute("data-selectable",""),h=y)):g in i&&!o.querySelector(".no-results")&&(y=n.render("no_more_results",{query:g})),y&&(fU(y,n.settings.optionClass),o.append(y))}),n.on("initialize",()=>{u=Object.keys(n.options),o=n.dropdown_content,n.settings.render=Object.assign({},{loading_more:()=>'<div class="loading-more-results">Loading more results ... </div>',no_more_results:()=>'<div class="no-more-results">No more results</div>'},n.settings.render),o.addEventListener("scroll",()=>{n.settings.shouldLoadMore.call(n)&&f(n.lastValue)&&(l||(l=!0,n.load.call(n,n.lastValue)))})})}oi.define("change_listener",g7);oi.define("checkbox_options",_7);oi.define("clear_button",E7);oi.define("drag_drop",N7);oi.define("dropdown_header",F7);oi.define("caret_position",U7);oi.define("dropdown_input",Q7);oi.define("input_autogrow",eU);oi.define("no_backspace_delete",tU);oi.define("no_active_items",nU);oi.define("optgroup_columns",oU);oi.define("remove_button",uU);oi.define("restore_on_backspace",cU);oi.define("virtual_scroll",mU);class gU extends dn{static get targets(){return["select"]}connect(){const e=this.selectTarget,t=["change_listener"];e.hasAttribute("multiple")&&(t.push("remove_button"),t.push("clear_button")),this.choices=new oi(e,{create:this.data.get("allow-add")==="true",allowEmptyOption:!0,placeholder:e.getAttribute("placeholder")==="false"?"":e.getAttribute("placeholder"),preload:"focus",plugins:t,maxOptions:this.data.get("chunk"),maxItems:e.getAttribute("maximumSelectionLength")||e.hasAttribute("multiple")?null:1,valueField:"value",labelField:"label",searchField:[],sortField:[{field:"$order"},{field:"$score"}],render:{option_create:(r,i)=>`<div class="create">${this.data.get("message-add")} <strong>${i(r.input)}</strong>&hellip;</div>`,no_results:()=>`<div class="no-results">${this.data.get("message-notfound")}</div>`},onDelete:()=>!!this.data.get("allow-empty"),load:(r,i)=>this.search(r,i),onItemAdd:function(){this.setTextboxValue(""),this.refreshOptions(!1)}})}search(e,t){const r=this.data.get("model"),i=this.data.get("name"),o=this.data.get("key"),l=this.data.get("scope"),h=this.data.get("append"),u=this.data.get("search-columns"),f=this.data.get("chunk");axios.post(this.data.get("route"),{search:e,model:r,name:i,key:o,scope:l,append:h,searchColumns:u,chunk:f}).then(d=>{this.choices.clearOptions(),t(d.data)})}disconnect(){this.choices?.destroy()}}const vU=Object.freeze(Object.defineProperty({__proto__:null,default:gU},Symbol.toStringTag,{value:"Module"}));class yU extends dn{connect(){const e=this.data.get("url"),t=this.data.get("method")||"get",r=this.data.get("interval")||1e3;setInterval(()=>{axios({method:t,url:e}).then(i=>{this.element.innerHTML=i.data})},r)}}const bU=Object.freeze(Object.defineProperty({__proto__:null,default:yU},Symbol.toStringTag,{value:"Module"}));class wU extends dn{static targets=["query","result"];connect(){this.index=-1}query(e){const t=e.target.value.trim();t!==""&&this.fetchResults(t)}fetchResults(e){fetch(this.prefix(`/search/${encodeURIComponent(e)}`),{method:"POST",headers:{"X-CSRF-Token":document.head.querySelector('meta[name="csrf_token"]').content}}).then(t=>t.text()).then(t=>{e===this.queryTarget.value.trim()&&(this.resultTarget.innerHTML=t,this.resultTarget.classList.remove("d-none"))}).catch(()=>{this.toast("Error fetching search results")})}keydown(e){if(this.items.length)switch(e.key){case"ArrowDown":e.preventDefault(),this.move(1);break;case"ArrowUp":e.preventDefault(),this.move(-1);break;case"Enter":this.open();break}}move(e){this.index+=e,this.index<0&&(this.index=this.items.length-1),this.index>=this.items.length&&(this.index=0),this.items[this.index].focus()}open(){this.items[this.index]?.querySelector("a")?.click()}get items(){return Array.from(this.resultTarget.querySelectorAll("[data-search-item]"))}}const _U=Object.freeze(Object.defineProperty({__proto__:null,default:wU},Symbol.toStringTag,{value:"Module"}));class xU extends dn{connect(){const e=this.element.querySelector("select"),t=["change_listener"];e.hasAttribute("multiple")&&(t.push("remove_button"),t.push("clear_button")),this.choices=new oi(e,{create:this.data.get("allow-add")==="true",allowEmptyOption:!0,maxOptions:"null",placeholder:e.getAttribute("placeholder")==="false"?"":e.getAttribute("placeholder"),preload:!0,plugins:t,maxItems:e.getAttribute("maximumSelectionLength")||(e.hasAttribute("multiple")?null:1),render:{option_create:(r,i)=>`<div class="create">${this.data.get("message-add")} <strong>${i(r.input)}</strong>&hellip;</div>`,no_results:()=>`<div class="no-results">${this.data.get("message-notfound")}</div>`},onDelete:()=>!!this.data.get("allow-empty"),onItemAdd:function(){this.setTextboxValue(""),this.refreshOptions(!1)}})}disconnect(){this.choices?.destroy()}}const SU=Object.freeze(Object.defineProperty({__proto__:null,default:xU},Symbol.toStringTag,{value:"Module"}));function yd(n){throw new Error('Could not dynamically require "'+n+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var dv={exports:{}};var gx;function EU(){return gx||(gx=1,(function(n,e){(function(t){n.exports=t()})(function(){return(function t(r,i,o){function l(f,d){if(!i[f]){if(!r[f]){var g=typeof yd=="function"&&yd;if(!d&&g)return g(f,!0);if(h)return h(f,!0);var y=new Error("Cannot find module '"+f+"'");throw y.code="MODULE_NOT_FOUND",y}var k=i[f]={exports:{}};r[f][0].call(k.exports,function(w){var _=r[f][1][w];return l(_||w)},k,k.exports,t,r,i,o)}return i[f].exports}for(var h=typeof yd=="function"&&yd,u=0;u<o.length;u++)l(o[u]);return l})({1:[function(t,r,i){function o(){for(var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0,_=k.length;_>w;++w)d[w]=k[w],g[k.charCodeAt(w)]=w;g[45]=62,g[95]=63}function l(k){var w,_,A,N,b,M,E=k.length;if(E%4>0)throw new Error("Invalid string. Length must be a multiple of 4");b=k[E-2]==="="?2:k[E-1]==="="?1:0,M=new y(3*E/4-b),A=b>0?E-4:E;var D=0;for(w=0,_=0;A>w;w+=4,_+=3)N=g[k.charCodeAt(w)]<<18|g[k.charCodeAt(w+1)]<<12|g[k.charCodeAt(w+2)]<<6|g[k.charCodeAt(w+3)],M[D++]=N>>16&255,M[D++]=N>>8&255,M[D++]=255&N;return b===2?(N=g[k.charCodeAt(w)]<<2|g[k.charCodeAt(w+1)]>>4,M[D++]=255&N):b===1&&(N=g[k.charCodeAt(w)]<<10|g[k.charCodeAt(w+1)]<<4|g[k.charCodeAt(w+2)]>>2,M[D++]=N>>8&255,M[D++]=255&N),M}function h(k){return d[k>>18&63]+d[k>>12&63]+d[k>>6&63]+d[63&k]}function u(k,w,_){for(var A,N=[],b=w;_>b;b+=3)A=(k[b]<<16)+(k[b+1]<<8)+k[b+2],N.push(h(A));return N.join("")}function f(k){for(var w,_=k.length,A=_%3,N="",b=[],M=16383,E=0,D=_-A;D>E;E+=M)b.push(u(k,E,E+M>D?D:E+M));return A===1?(w=k[_-1],N+=d[w>>2],N+=d[w<<4&63],N+="=="):A===2&&(w=(k[_-2]<<8)+k[_-1],N+=d[w>>10],N+=d[w>>4&63],N+=d[w<<2&63],N+="="),b.push(N),b.join("")}i.toByteArray=l,i.fromByteArray=f;var d=[],g=[],y=typeof Uint8Array<"u"?Uint8Array:Array;o()},{}],2:[function(t,r,i){},{}],3:[function(t,r,i){(function(o){function l(){try{var O=new Uint8Array(1);return O.foo=function(){return 42},O.foo()===42&&typeof O.subarray=="function"&&O.subarray(1,1).byteLength===0}catch{return!1}}function h(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(O,H){if(h()<H)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(O=new Uint8Array(H),O.__proto__=f.prototype):(O===null&&(O=new f(H)),O.length=H),O}function f(O,H,U){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(O,H,U);if(typeof O=="number"){if(typeof H=="string")throw new Error("If encoding is specified then the first argument must be a string");return k(this,O)}return d(this,O,H,U)}function d(O,H,U,le){if(typeof H=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&H instanceof ArrayBuffer?A(O,H,U,le):typeof H=="string"?w(O,H,U):N(O,H)}function g(O){if(typeof O!="number")throw new TypeError('"size" argument must be a number')}function y(O,H,U,le){return g(H),0>=H?u(O,H):U!==void 0?typeof le=="string"?u(O,H).fill(U,le):u(O,H).fill(U):u(O,H)}function k(O,H){if(g(H),O=u(O,0>H?0:0|b(H)),!f.TYPED_ARRAY_SUPPORT)for(var U=0;H>U;U++)O[U]=0;return O}function w(O,H,U){if(typeof U=="string"&&U!==""||(U="utf8"),!f.isEncoding(U))throw new TypeError('"encoding" must be a valid string encoding');var le=0|E(H,U);return O=u(O,le),O.write(H,U),O}function _(O,H){var U=0|b(H.length);O=u(O,U);for(var le=0;U>le;le+=1)O[le]=255&H[le];return O}function A(O,H,U,le){if(H.byteLength,0>U||H.byteLength<U)throw new RangeError("'offset' is out of bounds");if(H.byteLength<U+(le||0))throw new RangeError("'length' is out of bounds");return H=le===void 0?new Uint8Array(H,U):new Uint8Array(H,U,le),f.TYPED_ARRAY_SUPPORT?(O=H,O.__proto__=f.prototype):O=_(O,H),O}function N(O,H){if(f.isBuffer(H)){var U=0|b(H.length);return O=u(O,U),O.length===0||H.copy(O,0,0,U),O}if(H){if(typeof ArrayBuffer<"u"&&H.buffer instanceof ArrayBuffer||"length"in H)return typeof H.length!="number"||Ae(H.length)?u(O,0):_(O,H);if(H.type==="Buffer"&&ae(H.data))return _(O,H.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function b(O){if(O>=h())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+h().toString(16)+" bytes");return 0|O}function M(O){return+O!=O&&(O=0),f.alloc(+O)}function E(O,H){if(f.isBuffer(O))return O.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(O)||O instanceof ArrayBuffer))return O.byteLength;typeof O!="string"&&(O=""+O);var U=O.length;if(U===0)return 0;for(var le=!1;;)switch(H){case"ascii":case"binary":case"raw":case"raws":return U;case"utf8":case"utf-8":case void 0:return ce(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*U;case"hex":return U>>>1;case"base64":return pe(O).length;default:if(le)return ce(O).length;H=(""+H).toLowerCase(),le=!0}}function D(O,H,U){var le=!1;if((H===void 0||0>H)&&(H=0),H>this.length||((U===void 0||U>this.length)&&(U=this.length),0>=U)||(U>>>=0,H>>>=0,H>=U))return"";for(O||(O="utf8");;)switch(O){case"hex":return de(this,H,U);case"utf8":case"utf-8":return se(this,H,U);case"ascii":return X(this,H,U);case"binary":return V(this,H,U);case"base64":return Z(this,H,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,H,U);default:if(le)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),le=!0}}function T(O,H,U){var le=O[H];O[H]=O[U],O[U]=le}function C(O,H,U,le){function Se(ct,$t){return Le===1?ct[$t]:ct.readUInt16BE($t*Le)}var Le=1,Pe=O.length,$e=H.length;if(le!==void 0&&(le=String(le).toLowerCase(),le==="ucs2"||le==="ucs-2"||le==="utf16le"||le==="utf-16le")){if(O.length<2||H.length<2)return-1;Le=2,Pe/=2,$e/=2,U/=2}for(var Ze=-1,pt=0;Pe>U+pt;pt++)if(Se(O,U+pt)===Se(H,Ze===-1?0:pt-Ze)){if(Ze===-1&&(Ze=pt),pt-Ze+1===$e)return(U+Ze)*Le}else Ze!==-1&&(pt-=pt-Ze),Ze=-1;return-1}function R(O,H,U,le){U=Number(U)||0;var Se=O.length-U;le?(le=Number(le),le>Se&&(le=Se)):le=Se;var Le=H.length;if(Le%2!==0)throw new Error("Invalid hex string");le>Le/2&&(le=Le/2);for(var Pe=0;le>Pe;Pe++){var $e=parseInt(H.substr(2*Pe,2),16);if(isNaN($e))return Pe;O[U+Pe]=$e}return Pe}function B(O,H,U,le){return ve(ce(H,O.length-U),O,U,le)}function I(O,H,U,le){return ve(W(H),O,U,le)}function P(O,H,U,le){return I(O,H,U,le)}function j(O,H,U,le){return ve(pe(H),O,U,le)}function $(O,H,U,le){return ve(ee(H,O.length-U),O,U,le)}function Z(O,H,U){return H===0&&U===O.length?ke.fromByteArray(O):ke.fromByteArray(O.slice(H,U))}function se(O,H,U){U=Math.min(O.length,U);for(var le=[],Se=H;U>Se;){var Le=O[Se],Pe=null,$e=Le>239?4:Le>223?3:Le>191?2:1;if(U>=Se+$e){var Ze,pt,ct,$t;switch($e){case 1:128>Le&&(Pe=Le);break;case 2:Ze=O[Se+1],(192&Ze)===128&&($t=(31&Le)<<6|63&Ze,$t>127&&(Pe=$t));break;case 3:Ze=O[Se+1],pt=O[Se+2],(192&Ze)===128&&(192&pt)===128&&($t=(15&Le)<<12|(63&Ze)<<6|63&pt,$t>2047&&(55296>$t||$t>57343)&&(Pe=$t));break;case 4:Ze=O[Se+1],pt=O[Se+2],ct=O[Se+3],(192&Ze)===128&&(192&pt)===128&&(192&ct)===128&&($t=(15&Le)<<18|(63&Ze)<<12|(63&pt)<<6|63&ct,$t>65535&&1114112>$t&&(Pe=$t))}}Pe===null?(Pe=65533,$e=1):Pe>65535&&(Pe-=65536,le.push(Pe>>>10&1023|55296),Pe=56320|1023&Pe),le.push(Pe),Se+=$e}return te(le)}function te(O){var H=O.length;if(fe>=H)return String.fromCharCode.apply(String,O);for(var U="",le=0;H>le;)U+=String.fromCharCode.apply(String,O.slice(le,le+=fe));return U}function X(O,H,U){var le="";U=Math.min(O.length,U);for(var Se=H;U>Se;Se++)le+=String.fromCharCode(127&O[Se]);return le}function V(O,H,U){var le="";U=Math.min(O.length,U);for(var Se=H;U>Se;Se++)le+=String.fromCharCode(O[Se]);return le}function de(O,H,U){var le=O.length;(!H||0>H)&&(H=0),(!U||0>U||U>le)&&(U=le);for(var Se="",Le=H;U>Le;Le++)Se+=oe(O[Le]);return Se}function Y(O,H,U){for(var le=O.slice(H,U),Se="",Le=0;Le<le.length;Le+=2)Se+=String.fromCharCode(le[Le]+256*le[Le+1]);return Se}function ue(O,H,U){if(O%1!==0||0>O)throw new RangeError("offset is not uint");if(O+H>U)throw new RangeError("Trying to access beyond buffer length")}function xe(O,H,U,le,Se,Le){if(!f.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(H>Se||Le>H)throw new RangeError('"value" argument is out of bounds');if(U+le>O.length)throw new RangeError("Index out of range")}function we(O,H,U,le){0>H&&(H=65535+H+1);for(var Se=0,Le=Math.min(O.length-U,2);Le>Se;Se++)O[U+Se]=(H&255<<8*(le?Se:1-Se))>>>8*(le?Se:1-Se)}function Q(O,H,U,le){0>H&&(H=4294967295+H+1);for(var Se=0,Le=Math.min(O.length-U,4);Le>Se;Se++)O[U+Se]=H>>>8*(le?Se:3-Se)&255}function K(O,H,U,le,Se,Le){if(U+le>O.length)throw new RangeError("Index out of range");if(0>U)throw new RangeError("Index out of range")}function Ce(O,H,U,le,Se){return Se||K(O,H,U,4),Fe.write(O,H,U,le,23,4),U+4}function Me(O,H,U,le,Se){return Se||K(O,H,U,8),Fe.write(O,H,U,le,52,8),U+8}function ne(O){if(O=ie(O).replace(me,""),O.length<2)return"";for(;O.length%4!==0;)O+="=";return O}function ie(O){return O.trim?O.trim():O.replace(/^\s+|\s+$/g,"")}function oe(O){return 16>O?"0"+O.toString(16):O.toString(16)}function ce(O,H){H=H||1/0;for(var U,le=O.length,Se=null,Le=[],Pe=0;le>Pe;Pe++){if(U=O.charCodeAt(Pe),U>55295&&57344>U){if(!Se){if(U>56319){(H-=3)>-1&&Le.push(239,191,189);continue}if(Pe+1===le){(H-=3)>-1&&Le.push(239,191,189);continue}Se=U;continue}if(56320>U){(H-=3)>-1&&Le.push(239,191,189),Se=U;continue}U=(Se-55296<<10|U-56320)+65536}else Se&&(H-=3)>-1&&Le.push(239,191,189);if(Se=null,128>U){if((H-=1)<0)break;Le.push(U)}else if(2048>U){if((H-=2)<0)break;Le.push(U>>6|192,63&U|128)}else if(65536>U){if((H-=3)<0)break;Le.push(U>>12|224,U>>6&63|128,63&U|128)}else{if(!(1114112>U))throw new Error("Invalid code point");if((H-=4)<0)break;Le.push(U>>18|240,U>>12&63|128,U>>6&63|128,63&U|128)}}return Le}function W(O){for(var H=[],U=0;U<O.length;U++)H.push(255&O.charCodeAt(U));return H}function ee(O,H){for(var U,le,Se,Le=[],Pe=0;Pe<O.length&&!((H-=2)<0);Pe++)U=O.charCodeAt(Pe),le=U>>8,Se=U%256,Le.push(Se),Le.push(le);return Le}function pe(O){return ke.toByteArray(ne(O))}function ve(O,H,U,le){for(var Se=0;le>Se&&!(Se+U>=H.length||Se>=O.length);Se++)H[Se+U]=O[Se];return Se}function Ae(O){return O!==O}var ke=t("base64-js"),Fe=t("ieee754"),ae=t("isarray");i.Buffer=f,i.SlowBuffer=M,i.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=o.TYPED_ARRAY_SUPPORT!==void 0?o.TYPED_ARRAY_SUPPORT:l(),i.kMaxLength=h(),f.poolSize=8192,f._augment=function(O){return O.__proto__=f.prototype,O},f.from=function(O,H,U){return d(null,O,H,U)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(O,H,U){return y(null,O,H,U)},f.allocUnsafe=function(O){return k(null,O)},f.allocUnsafeSlow=function(O){return k(null,O)},f.isBuffer=function(O){return!(O==null||!O._isBuffer)},f.compare=function(O,H){if(!f.isBuffer(O)||!f.isBuffer(H))throw new TypeError("Arguments must be Buffers");if(O===H)return 0;for(var U=O.length,le=H.length,Se=0,Le=Math.min(U,le);Le>Se;++Se)if(O[Se]!==H[Se]){U=O[Se],le=H[Se];break}return le>U?-1:U>le?1:0},f.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(O,H){if(!ae(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return f.alloc(0);var U;if(H===void 0)for(H=0,U=0;U<O.length;U++)H+=O[U].length;var le=f.allocUnsafe(H),Se=0;for(U=0;U<O.length;U++){var Le=O[U];if(!f.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(le,Se),Se+=Le.length}return le},f.byteLength=E,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var H=0;O>H;H+=2)T(this,H,H+1);return this},f.prototype.swap32=function(){var O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var H=0;O>H;H+=4)T(this,H,H+3),T(this,H+1,H+2);return this},f.prototype.toString=function(){var O=0|this.length;return O===0?"":arguments.length===0?se(this,0,O):D.apply(this,arguments)},f.prototype.equals=function(O){if(!f.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:f.compare(this,O)===0},f.prototype.inspect=function(){var O="",H=i.INSPECT_MAX_BYTES;return this.length>0&&(O=this.toString("hex",0,H).match(/.{2}/g).join(" "),this.length>H&&(O+=" ... ")),"<Buffer "+O+">"},f.prototype.compare=function(O,H,U,le,Se){if(!f.isBuffer(O))throw new TypeError("Argument must be a Buffer");if(H===void 0&&(H=0),U===void 0&&(U=O?O.length:0),le===void 0&&(le=0),Se===void 0&&(Se=this.length),0>H||U>O.length||0>le||Se>this.length)throw new RangeError("out of range index");if(le>=Se&&H>=U)return 0;if(le>=Se)return-1;if(H>=U)return 1;if(H>>>=0,U>>>=0,le>>>=0,Se>>>=0,this===O)return 0;for(var Le=Se-le,Pe=U-H,$e=Math.min(Le,Pe),Ze=this.slice(le,Se),pt=O.slice(H,U),ct=0;$e>ct;++ct)if(Ze[ct]!==pt[ct]){Le=Ze[ct],Pe=pt[ct];break}return Pe>Le?-1:Le>Pe?1:0},f.prototype.indexOf=function(O,H,U){if(typeof H=="string"?(U=H,H=0):H>2147483647?H=2147483647:-2147483648>H&&(H=-2147483648),H>>=0,this.length===0||H>=this.length)return-1;if(0>H&&(H=Math.max(this.length+H,0)),typeof O=="string"&&(O=f.from(O,U)),f.isBuffer(O))return O.length===0?-1:C(this,O,H,U);if(typeof O=="number")return f.TYPED_ARRAY_SUPPORT&&Uint8Array.prototype.indexOf==="function"?Uint8Array.prototype.indexOf.call(this,O,H):C(this,[O],H,U);throw new TypeError("val must be string, number or Buffer")},f.prototype.includes=function(O,H,U){return this.indexOf(O,H,U)!==-1},f.prototype.write=function(O,H,U,le){if(H===void 0)le="utf8",U=this.length,H=0;else if(U===void 0&&typeof H=="string")le=H,U=this.length,H=0;else{if(!isFinite(H))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");H=0|H,isFinite(U)?(U=0|U,le===void 0&&(le="utf8")):(le=U,U=void 0)}var Se=this.length-H;if((U===void 0||U>Se)&&(U=Se),O.length>0&&(0>U||0>H)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");le||(le="utf8");for(var Le=!1;;)switch(le){case"hex":return R(this,O,H,U);case"utf8":case"utf-8":return B(this,O,H,U);case"ascii":return I(this,O,H,U);case"binary":return P(this,O,H,U);case"base64":return j(this,O,H,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,O,H,U);default:if(Le)throw new TypeError("Unknown encoding: "+le);le=(""+le).toLowerCase(),Le=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var fe=4096;f.prototype.slice=function(O,H){var U=this.length;O=~~O,H=H===void 0?U:~~H,0>O?(O+=U,0>O&&(O=0)):O>U&&(O=U),0>H?(H+=U,0>H&&(H=0)):H>U&&(H=U),O>H&&(H=O);var le;if(f.TYPED_ARRAY_SUPPORT)le=this.subarray(O,H),le.__proto__=f.prototype;else{var Se=H-O;le=new f(Se,void 0);for(var Le=0;Se>Le;Le++)le[Le]=this[Le+O]}return le},f.prototype.readUIntLE=function(O,H,U){O=0|O,H=0|H,U||ue(O,H,this.length);for(var le=this[O],Se=1,Le=0;++Le<H&&(Se*=256);)le+=this[O+Le]*Se;return le},f.prototype.readUIntBE=function(O,H,U){O=0|O,H=0|H,U||ue(O,H,this.length);for(var le=this[O+--H],Se=1;H>0&&(Se*=256);)le+=this[O+--H]*Se;return le},f.prototype.readUInt8=function(O,H){return H||ue(O,1,this.length),this[O]},f.prototype.readUInt16LE=function(O,H){return H||ue(O,2,this.length),this[O]|this[O+1]<<8},f.prototype.readUInt16BE=function(O,H){return H||ue(O,2,this.length),this[O]<<8|this[O+1]},f.prototype.readUInt32LE=function(O,H){return H||ue(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},f.prototype.readUInt32BE=function(O,H){return H||ue(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},f.prototype.readIntLE=function(O,H,U){O=0|O,H=0|H,U||ue(O,H,this.length);for(var le=this[O],Se=1,Le=0;++Le<H&&(Se*=256);)le+=this[O+Le]*Se;return Se*=128,le>=Se&&(le-=Math.pow(2,8*H)),le},f.prototype.readIntBE=function(O,H,U){O=0|O,H=0|H,U||ue(O,H,this.length);for(var le=H,Se=1,Le=this[O+--le];le>0&&(Se*=256);)Le+=this[O+--le]*Se;return Se*=128,Le>=Se&&(Le-=Math.pow(2,8*H)),Le},f.prototype.readInt8=function(O,H){return H||ue(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},f.prototype.readInt16LE=function(O,H){H||ue(O,2,this.length);var U=this[O]|this[O+1]<<8;return 32768&U?4294901760|U:U},f.prototype.readInt16BE=function(O,H){H||ue(O,2,this.length);var U=this[O+1]|this[O]<<8;return 32768&U?4294901760|U:U},f.prototype.readInt32LE=function(O,H){return H||ue(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},f.prototype.readInt32BE=function(O,H){return H||ue(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},f.prototype.readFloatLE=function(O,H){return H||ue(O,4,this.length),Fe.read(this,O,!0,23,4)},f.prototype.readFloatBE=function(O,H){return H||ue(O,4,this.length),Fe.read(this,O,!1,23,4)},f.prototype.readDoubleLE=function(O,H){return H||ue(O,8,this.length),Fe.read(this,O,!0,52,8)},f.prototype.readDoubleBE=function(O,H){return H||ue(O,8,this.length),Fe.read(this,O,!1,52,8)},f.prototype.writeUIntLE=function(O,H,U,le){if(O=+O,H=0|H,U=0|U,!le){var Se=Math.pow(2,8*U)-1;xe(this,O,H,U,Se,0)}var Le=1,Pe=0;for(this[H]=255&O;++Pe<U&&(Le*=256);)this[H+Pe]=O/Le&255;return H+U},f.prototype.writeUIntBE=function(O,H,U,le){if(O=+O,H=0|H,U=0|U,!le){var Se=Math.pow(2,8*U)-1;xe(this,O,H,U,Se,0)}var Le=U-1,Pe=1;for(this[H+Le]=255&O;--Le>=0&&(Pe*=256);)this[H+Le]=O/Pe&255;return H+U},f.prototype.writeUInt8=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,1,255,0),f.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),this[H]=255&O,H+1},f.prototype.writeUInt16LE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[H]=255&O,this[H+1]=O>>>8):we(this,O,H,!0),H+2},f.prototype.writeUInt16BE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[H]=O>>>8,this[H+1]=255&O):we(this,O,H,!1),H+2},f.prototype.writeUInt32LE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[H+3]=O>>>24,this[H+2]=O>>>16,this[H+1]=O>>>8,this[H]=255&O):Q(this,O,H,!0),H+4},f.prototype.writeUInt32BE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[H]=O>>>24,this[H+1]=O>>>16,this[H+2]=O>>>8,this[H+3]=255&O):Q(this,O,H,!1),H+4},f.prototype.writeIntLE=function(O,H,U,le){if(O=+O,H=0|H,!le){var Se=Math.pow(2,8*U-1);xe(this,O,H,U,Se-1,-Se)}var Le=0,Pe=1,$e=0;for(this[H]=255&O;++Le<U&&(Pe*=256);)0>O&&$e===0&&this[H+Le-1]!==0&&($e=1),this[H+Le]=(O/Pe>>0)-$e&255;return H+U},f.prototype.writeIntBE=function(O,H,U,le){if(O=+O,H=0|H,!le){var Se=Math.pow(2,8*U-1);xe(this,O,H,U,Se-1,-Se)}var Le=U-1,Pe=1,$e=0;for(this[H+Le]=255&O;--Le>=0&&(Pe*=256);)0>O&&$e===0&&this[H+Le+1]!==0&&($e=1),this[H+Le]=(O/Pe>>0)-$e&255;return H+U},f.prototype.writeInt8=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,1,127,-128),f.TYPED_ARRAY_SUPPORT||(O=Math.floor(O)),0>O&&(O=255+O+1),this[H]=255&O,H+1},f.prototype.writeInt16LE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[H]=255&O,this[H+1]=O>>>8):we(this,O,H,!0),H+2},f.prototype.writeInt16BE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[H]=O>>>8,this[H+1]=255&O):we(this,O,H,!1),H+2},f.prototype.writeInt32LE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[H]=255&O,this[H+1]=O>>>8,this[H+2]=O>>>16,this[H+3]=O>>>24):Q(this,O,H,!0),H+4},f.prototype.writeInt32BE=function(O,H,U){return O=+O,H=0|H,U||xe(this,O,H,4,2147483647,-2147483648),0>O&&(O=4294967295+O+1),f.TYPED_ARRAY_SUPPORT?(this[H]=O>>>24,this[H+1]=O>>>16,this[H+2]=O>>>8,this[H+3]=255&O):Q(this,O,H,!1),H+4},f.prototype.writeFloatLE=function(O,H,U){return Ce(this,O,H,!0,U)},f.prototype.writeFloatBE=function(O,H,U){return Ce(this,O,H,!1,U)},f.prototype.writeDoubleLE=function(O,H,U){return Me(this,O,H,!0,U)},f.prototype.writeDoubleBE=function(O,H,U){return Me(this,O,H,!1,U)},f.prototype.copy=function(O,H,U,le){if(U||(U=0),le||le===0||(le=this.length),H>=O.length&&(H=O.length),H||(H=0),le>0&&U>le&&(le=U),le===U||O.length===0||this.length===0)return 0;if(0>H)throw new RangeError("targetStart out of bounds");if(0>U||U>=this.length)throw new RangeError("sourceStart out of bounds");if(0>le)throw new RangeError("sourceEnd out of bounds");le>this.length&&(le=this.length),O.length-H<le-U&&(le=O.length-H+U);var Se,Le=le-U;if(this===O&&H>U&&le>H)for(Se=Le-1;Se>=0;Se--)O[Se+H]=this[Se+U];else if(1e3>Le||!f.TYPED_ARRAY_SUPPORT)for(Se=0;Le>Se;Se++)O[Se+H]=this[Se+U];else Uint8Array.prototype.set.call(O,this.subarray(U,U+Le),H);return Le},f.prototype.fill=function(O,H,U,le){if(typeof O=="string"){if(typeof H=="string"?(le=H,H=0,U=this.length):typeof U=="string"&&(le=U,U=this.length),O.length===1){var Se=O.charCodeAt(0);256>Se&&(O=Se)}if(le!==void 0&&typeof le!="string")throw new TypeError("encoding must be a string");if(typeof le=="string"&&!f.isEncoding(le))throw new TypeError("Unknown encoding: "+le)}else typeof O=="number"&&(O=255&O);if(0>H||this.length<H||this.length<U)throw new RangeError("Out of range index");if(H>=U)return this;H>>>=0,U=U===void 0?this.length:U>>>0,O||(O=0);var Le;if(typeof O=="number")for(Le=H;U>Le;Le++)this[Le]=O;else{var Pe=f.isBuffer(O)?O:ce(new f(O,le).toString()),$e=Pe.length;for(Le=0;U-H>Le;Le++)this[Le+H]=Pe[Le%$e]}return this};var me=/[^+\/0-9A-Za-z-_]/g}).call(this,typeof Oi<"u"?Oi:typeof self<"u"?self:typeof window<"u"?window:{})},{"base64-js":1,ieee754:15,isarray:16}],4:[function(t,r,i){function o(h){return h=h||{},typeof h.codeMirrorInstance!="function"||typeof h.codeMirrorInstance.defineMode!="function"?void console.log("CodeMirror Spell Checker: You must provide an instance of CodeMirror via the option `codeMirrorInstance`"):(String.prototype.includes||(String.prototype.includes=function(){return String.prototype.indexOf.apply(this,arguments)!==-1}),void h.codeMirrorInstance.defineMode("spell-checker",function(u){if(!o.aff_loading){o.aff_loading=!0;var f=new XMLHttpRequest;f.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.aff",!0),f.onload=function(){f.readyState===4&&f.status===200&&(o.aff_data=f.responseText,o.num_loaded++,o.num_loaded==2&&(o.typo=new l("en_US",o.aff_data,o.dic_data,{platform:"any"})))},f.send(null)}if(!o.dic_loading){o.dic_loading=!0;var d=new XMLHttpRequest;d.open("GET","https://cdn.jsdelivr.net/codemirror.spell-checker/latest/en_US.dic",!0),d.onload=function(){d.readyState===4&&d.status===200&&(o.dic_data=d.responseText,o.num_loaded++,o.num_loaded==2&&(o.typo=new l("en_US",o.aff_data,o.dic_data,{platform:"any"})))},d.send(null)}var g='!"#$%&()*+,-./:;<=>?@[\\]^_`{|}~ ',y={token:function(w){var _=w.peek(),A="";if(g.includes(_))return w.next(),null;for(;(_=w.peek())!=null&&!g.includes(_);)A+=_,w.next();return o.typo&&!o.typo.check(A)?"spell-error":null}},k=h.codeMirrorInstance.getMode(u,u.backdrop||"text/plain");return h.codeMirrorInstance.overlayMode(k,y,!0)}))}var l=t("typo-js");o.num_loaded=0,o.aff_loading=!1,o.dic_loading=!1,o.aff_data="",o.dic_data="",o.typo,r.exports=o},{"typo-js":18}],5:[function(t,r,i){(function(o){o(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(o){function l(u){var f=u.getWrapperElement();u.state.fullScreenRestore={scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,width:f.style.width,height:f.style.height},f.style.width="",f.style.height="auto",f.className+=" CodeMirror-fullscreen",document.documentElement.style.overflow="hidden",u.refresh()}function h(u){var f=u.getWrapperElement();f.className=f.className.replace(/\s*CodeMirror-fullscreen\b/,""),document.documentElement.style.overflow="";var d=u.state.fullScreenRestore;f.style.width=d.width,f.style.height=d.height,window.scrollTo(d.scrollLeft,d.scrollTop),u.refresh()}o.defineOption("fullScreen",!1,function(u,f,d){d==o.Init&&(d=!1),!d!=!f&&(f?l(u):h(u))})})},{"../../lib/codemirror":10}],6:[function(t,r,i){(function(o){o(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(o){function l(g){g.state.placeholder&&(g.state.placeholder.parentNode.removeChild(g.state.placeholder),g.state.placeholder=null)}function h(g){l(g);var y=g.state.placeholder=document.createElement("pre");y.style.cssText="height: 0; overflow: visible",y.className="CodeMirror-placeholder";var k=g.getOption("placeholder");typeof k=="string"&&(k=document.createTextNode(k)),y.appendChild(k),g.display.lineSpace.insertBefore(y,g.display.lineSpace.firstChild)}function u(g){d(g)&&h(g)}function f(g){var y=g.getWrapperElement(),k=d(g);y.className=y.className.replace(" CodeMirror-empty","")+(k?" CodeMirror-empty":""),k?h(g):l(g)}function d(g){return g.lineCount()===1&&g.getLine(0)===""}o.defineOption("placeholder","",function(g,y,k){var w=k&&k!=o.Init;if(y&&!w)g.on("blur",u),g.on("change",f),g.on("swapDoc",f),f(g);else if(!y&&w){g.off("blur",u),g.off("change",f),g.off("swapDoc",f),l(g);var _=g.getWrapperElement();_.className=_.className.replace(" CodeMirror-empty","")}y&&!g.hasFocus()&&u(g)})})},{"../../lib/codemirror":10}],7:[function(t,r,i){(function(o){o(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(o){var l=/^(\s*)(>[> ]*|[*+-]\s|(\d+)([.)]))(\s*)/,h=/^(\s*)(>[> ]*|[*+-]|(\d+)[.)])(\s*)$/,u=/[*+-]\s/;o.commands.newlineAndIndentContinueMarkdownList=function(f){if(f.getOption("disableInput"))return o.Pass;for(var d=f.listSelections(),g=[],y=0;y<d.length;y++){var k=d[y].head,w=f.getStateAfter(k.line),_=w.list!==!1,A=w.quote!==0,N=f.getLine(k.line),b=l.exec(N);if(!d[y].empty()||!_&&!A||!b)return void f.execCommand("newlineAndIndent");if(h.test(N))f.replaceRange("",{line:k.line,ch:0},{line:k.line,ch:k.ch+1}),g[y]=`
`;else{var M=b[1],E=b[5],D=u.test(b[2])||b[2].indexOf(">")>=0?b[2]:parseInt(b[3],10)+1+b[4];g[y]=`
`+M+D+E}}f.replaceSelections(g)}})},{"../../lib/codemirror":10}],8:[function(t,r,i){(function(o){o(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(o){o.overlayMode=function(l,h,u){return{startState:function(){return{base:o.startState(l),overlay:o.startState(h),basePos:0,baseCur:null,overlayPos:0,overlayCur:null,streamSeen:null}},copyState:function(f){return{base:o.copyState(l,f.base),overlay:o.copyState(h,f.overlay),basePos:f.basePos,baseCur:null,overlayPos:f.overlayPos,overlayCur:null}},token:function(f,d){return(f!=d.streamSeen||Math.min(d.basePos,d.overlayPos)<f.start)&&(d.streamSeen=f,d.basePos=d.overlayPos=f.start),f.start==d.basePos&&(d.baseCur=l.token(f,d.base),d.basePos=f.pos),f.start==d.overlayPos&&(f.pos=f.start,d.overlayCur=h.token(f,d.overlay),d.overlayPos=f.pos),f.pos=Math.min(d.basePos,d.overlayPos),d.overlayCur==null?d.baseCur:d.baseCur!=null&&d.overlay.combineTokens||u&&d.overlay.combineTokens==null?d.baseCur+" "+d.overlayCur:d.overlayCur},indent:l.indent&&function(f,d){return l.indent(f.base,d)},electricChars:l.electricChars,innerMode:function(f){return{state:f.base,mode:l}},blankLine:function(f){l.blankLine&&l.blankLine(f.base),h.blankLine&&h.blankLine(f.overlay)}}}})},{"../../lib/codemirror":10}],9:[function(t,r,i){(function(o){o(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(o){function l(_){_.operation(function(){g(_)})}function h(_){_.state.markedSelection.length&&_.operation(function(){f(_)})}function u(_,A,N,b){if(w(A,N)!=0)for(var M=_.state.markedSelection,E=_.state.markedSelectionStyle,D=A.line;;){var T=D==A.line?A:k(D,0),C=D+y,R=C>=N.line,B=R?N:k(C,0),I=_.markText(T,B,{className:E});if(b==null?M.push(I):M.splice(b++,0,I),R)break;D=C}}function f(_){for(var A=_.state.markedSelection,N=0;N<A.length;++N)A[N].clear();A.length=0}function d(_){f(_);for(var A=_.listSelections(),N=0;N<A.length;N++)u(_,A[N].from(),A[N].to())}function g(_){if(!_.somethingSelected())return f(_);if(_.listSelections().length>1)return d(_);var A=_.getCursor("start"),N=_.getCursor("end"),b=_.state.markedSelection;if(!b.length)return u(_,A,N);var M=b[0].find(),E=b[b.length-1].find();if(!M||!E||N.line-A.line<y||w(A,E.to)>=0||w(N,M.from)<=0)return d(_);for(;w(A,M.from)>0;)b.shift().clear(),M=b[0].find();for(w(A,M.from)<0&&(M.to.line-A.line<y?(b.shift().clear(),u(_,A,M.to,0)):u(_,A,M.from,0));w(N,E.to)<0;)b.pop().clear(),E=b[b.length-1].find();w(N,E.to)>0&&(N.line-E.from.line<y?(b.pop().clear(),u(_,E.from,N)):u(_,E.to,N))}o.defineOption("styleSelectedText",!1,function(_,A,N){var b=N&&N!=o.Init;A&&!b?(_.state.markedSelection=[],_.state.markedSelectionStyle=typeof A=="string"?A:"CodeMirror-selectedtext",d(_),_.on("cursorActivity",l),_.on("change",h)):!A&&b&&(_.off("cursorActivity",l),_.off("change",h),f(_),_.state.markedSelection=_.state.markedSelectionStyle=null)});var y=8,k=o.Pos,w=o.cmpPos})},{"../../lib/codemirror":10}],10:[function(t,r,i){(function(o){typeof i=="object"&&typeof r=="object"?r.exports=o():(this||window).CodeMirror=o()})(function(){function o(s,c){if(!(this instanceof o))return new o(s,c);this.options=c=c?As(c):{},As(mk,c,!1),b(c);var m=c.value;typeof m=="string"&&(m=new _i(m,c.mode,null,c.lineSeparator)),this.doc=m;var v=new o.inputStyles[c.inputStyle](this),x=this.display=new l(s,m,v);x.wrapper.CodeMirror=this,w(this),y(this),c.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),c.autofocus&&!Cc&&x.input.focus(),T(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new Oo,keySeq:null,specialChars:null};var F=this;vn&&11>jn&&setTimeout(function(){F.display.input.reset(!0)},20),Ii(this),QT(),Mn(this),this.curOp.forceUpdate=!0,xc(this,m),c.autofocus&&!Cc||F.hasFocus()?setTimeout(Ac(Rl,this),20):xo(this);for(var q in Xl)Xl.hasOwnProperty(q)&&Xl[q](this,c[q],Bb);P(this),c.finishInit&&c.finishInit(this);for(var re=0;re<sm.length;++re)sm[re](this);Vn(this),jr&&c.lineWrapping&&getComputedStyle(x.lineDiv).textRendering=="optimizelegibility"&&(x.lineDiv.style.textRendering="auto")}function l(s,c,m){var v=this;this.input=m,v.scrollbarFiller=Rt("div",null,"CodeMirror-scrollbar-filler"),v.scrollbarFiller.setAttribute("cm-not-content","true"),v.gutterFiller=Rt("div",null,"CodeMirror-gutter-filler"),v.gutterFiller.setAttribute("cm-not-content","true"),v.lineDiv=Rt("div",null,"CodeMirror-code"),v.selectionDiv=Rt("div",null,null,"position: relative; z-index: 1"),v.cursorDiv=Rt("div",null,"CodeMirror-cursors"),v.measure=Rt("div",null,"CodeMirror-measure"),v.lineMeasure=Rt("div",null,"CodeMirror-measure"),v.lineSpace=Rt("div",[v.measure,v.lineMeasure,v.selectionDiv,v.cursorDiv,v.lineDiv],null,"position: relative; outline: none"),v.mover=Rt("div",[Rt("div",[v.lineSpace],"CodeMirror-lines")],null,"position: relative"),v.sizer=Rt("div",[v.mover],"CodeMirror-sizer"),v.sizerWidth=null,v.heightForcer=Rt("div",null,null,"position: absolute; height: "+zb+"px; width: 1px;"),v.gutters=Rt("div",null,"CodeMirror-gutters"),v.lineGutter=null,v.scroller=Rt("div",[v.sizer,v.heightForcer,v.gutters],"CodeMirror-scroll"),v.scroller.setAttribute("tabIndex","-1"),v.wrapper=Rt("div",[v.scrollbarFiller,v.gutterFiller,v.scroller],"CodeMirror"),vn&&8>jn&&(v.gutters.style.zIndex=-1,v.scroller.style.paddingRight=0),jr||ra&&Cc||(v.scroller.draggable=!0),s&&(s.appendChild?s.appendChild(v.wrapper):s(v.wrapper)),v.viewFrom=v.viewTo=c.first,v.reportedViewFrom=v.reportedViewTo=c.first,v.view=[],v.renderedView=null,v.externalMeasured=null,v.viewOffset=0,v.lastWrapHeight=v.lastWrapWidth=0,v.updateLineNumbers=null,v.nativeBarWidth=v.barHeight=v.barWidth=0,v.scrollbarsClipped=!1,v.lineNumWidth=v.lineNumInnerWidth=v.lineNumChars=null,v.alignWidgets=!1,v.cachedCharWidth=v.cachedTextHeight=v.cachedPaddingH=null,v.maxLine=null,v.maxLineLength=0,v.maxLineChanged=!1,v.wheelDX=v.wheelDY=v.wheelStartX=v.wheelStartY=null,v.shift=!1,v.selForContextMenu=null,v.activeTouch=null,m.init(v)}function h(s){s.doc.mode=o.getMode(s.options,s.doc.modeOption),u(s)}function u(s){s.doc.iter(function(c){c.stateAfter&&(c.stateAfter=null),c.styles&&(c.styles=null)}),s.doc.frontier=s.doc.first,fn(s,100),s.state.modeGen++,s.curOp&&Zt(s)}function f(s){s.options.lineWrapping?(Rc(s.display.wrapper,"CodeMirror-wrap"),s.display.sizer.style.minWidth="",s.display.sizerWidth=null):(Dc(s.display.wrapper,"CodeMirror-wrap"),N(s)),g(s),Zt(s),$n(s),setTimeout(function(){C(s)},100)}function d(s){var c=hn(s.display),m=s.options.lineWrapping,v=m&&Math.max(5,s.display.scroller.clientWidth/Fn(s.display)-3);return function(x){if(Zs(s.doc,x))return 0;var F=0;if(x.widgets)for(var q=0;q<x.widgets.length;q++)x.widgets[q].height&&(F+=x.widgets[q].height);return m?F+(Math.ceil(x.text.length/v)||1)*c:F+c}}function g(s){var c=s.doc,m=d(s);c.iter(function(v){var x=m(v);x!=v.height&&rs(v,x)})}function y(s){s.display.wrapper.className=s.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+s.options.theme.replace(/(^|\s)\s*/g," cm-s-"),$n(s)}function k(s){w(s),Zt(s),setTimeout(function(){I(s)},20)}function w(s){var c=s.display.gutters,m=s.options.gutters;Ga(c);for(var v=0;v<m.length;++v){var x=m[v],F=c.appendChild(Rt("div",null,"CodeMirror-gutter "+x));x=="CodeMirror-linenumbers"&&(s.display.lineGutter=F,F.style.width=(s.display.lineNumWidth||1)+"px")}c.style.display=v?"":"none",_(s)}function _(s){var c=s.display.gutters.offsetWidth;s.display.sizer.style.marginLeft=c+"px"}function A(s){if(s.height==0)return 0;for(var c,m=s.text.length,v=s;c=ko(v);){var x=c.find(0,!0);v=x.from.line,m+=x.from.ch-x.to.ch}for(v=s;c=Ks(v);){var x=c.find(0,!0);m-=v.text.length-x.from.ch,v=x.to.line,m+=v.text.length-x.to.ch}return m}function N(s){var c=s.display,m=s.doc;c.maxLine=Dt(m,m.first),c.maxLineLength=A(c.maxLine),c.maxLineChanged=!0,m.iter(function(v){var x=A(v);x>c.maxLineLength&&(c.maxLineLength=x,c.maxLine=v)})}function b(s){var c=pr(s.gutters,"CodeMirror-linenumbers");c==-1&&s.lineNumbers?s.gutters=s.gutters.concat(["CodeMirror-linenumbers"]):c>-1&&!s.lineNumbers&&(s.gutters=s.gutters.slice(0),s.gutters.splice(c,1))}function M(s){var c=s.display,m=c.gutters.offsetWidth,v=Math.round(s.doc.height+Tr(s.display));return{clientHeight:c.scroller.clientHeight,viewHeight:c.wrapper.clientHeight,scrollWidth:c.scroller.scrollWidth,clientWidth:c.scroller.clientWidth,viewWidth:c.wrapper.clientWidth,barLeft:s.options.fixedGutter?m:0,docHeight:v,scrollHeight:v+Te(s)+c.barHeight,nativeBarWidth:c.nativeBarWidth,gutterWidth:m}}function E(s,c,m){this.cm=m;var v=this.vert=Rt("div",[Rt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),x=this.horiz=Rt("div",[Rt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");s(v),s(x),Jt(v,"scroll",function(){v.clientHeight&&c(v.scrollTop,"vertical")}),Jt(x,"scroll",function(){x.clientWidth&&c(x.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,vn&&8>jn&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}function D(){}function T(s){s.display.scrollbars&&(s.display.scrollbars.clear(),s.display.scrollbars.addClass&&Dc(s.display.wrapper,s.display.scrollbars.addClass)),s.display.scrollbars=new o.scrollbarModel[s.options.scrollbarStyle](function(c){s.display.wrapper.insertBefore(c,s.display.scrollbarFiller),Jt(c,"mousedown",function(){s.state.focused&&setTimeout(function(){s.display.input.focus()},0)}),c.setAttribute("cm-not-content","true")},function(c,m){m=="horizontal"?Nn(s,c):Pn(s,c)},s),s.display.scrollbars.addClass&&Rc(s.display.wrapper,s.display.scrollbars.addClass)}function C(s,c){c||(c=M(s));var m=s.display.barWidth,v=s.display.barHeight;R(s,c);for(var x=0;4>x&&m!=s.display.barWidth||v!=s.display.barHeight;x++)m!=s.display.barWidth&&s.options.lineWrapping&&Y(s),R(s,M(s)),m=s.display.barWidth,v=s.display.barHeight}function R(s,c){var m=s.display,v=m.scrollbars.update(c);m.sizer.style.paddingRight=(m.barWidth=v.right)+"px",m.sizer.style.paddingBottom=(m.barHeight=v.bottom)+"px",m.heightForcer.style.borderBottom=v.bottom+"px solid transparent",v.right&&v.bottom?(m.scrollbarFiller.style.display="block",m.scrollbarFiller.style.height=v.bottom+"px",m.scrollbarFiller.style.width=v.right+"px"):m.scrollbarFiller.style.display="",v.bottom&&s.options.coverGutterNextToScrollbar&&s.options.fixedGutter?(m.gutterFiller.style.display="block",m.gutterFiller.style.height=v.bottom+"px",m.gutterFiller.style.width=c.gutterWidth+"px"):m.gutterFiller.style.display=""}function B(s,c,m){var v=m&&m.top!=null?Math.max(0,m.top):s.scroller.scrollTop;v=Math.floor(v-En(s));var x=m&&m.bottom!=null?m.bottom:v+s.wrapper.clientHeight,F=Qs(c,v),q=Qs(c,x);if(m&&m.ensure){var re=m.ensure.from.line,he=m.ensure.to.line;F>re?(F=re,q=Qs(c,Ss(Dt(c,re))+s.wrapper.clientHeight)):Math.min(he,c.lastLine())>=q&&(F=Qs(c,Ss(Dt(c,he))-s.wrapper.clientHeight),q=he)}return{from:F,to:Math.max(q,F+1)}}function I(s){var c=s.display,m=c.view;if(c.alignWidgets||c.gutters.firstChild&&s.options.fixedGutter){for(var v=$(c)-c.scroller.scrollLeft+s.doc.scrollLeft,x=c.gutters.offsetWidth,F=v+"px",q=0;q<m.length;q++)if(!m[q].hidden){s.options.fixedGutter&&m[q].gutter&&(m[q].gutter.style.left=F);var re=m[q].alignable;if(re)for(var he=0;he<re.length;he++)re[he].style.left=F}s.options.fixedGutter&&(c.gutters.style.left=v+x+"px")}}function P(s){if(!s.options.lineNumbers)return!1;var c=s.doc,m=j(s.options,c.first+c.size-1),v=s.display;if(m.length!=v.lineNumChars){var x=v.measure.appendChild(Rt("div",[Rt("div",m)],"CodeMirror-linenumber CodeMirror-gutter-elt")),F=x.firstChild.offsetWidth,q=x.offsetWidth-F;return v.lineGutter.style.width="",v.lineNumInnerWidth=Math.max(F,v.lineGutter.offsetWidth-q)+1,v.lineNumWidth=v.lineNumInnerWidth+q,v.lineNumChars=v.lineNumInnerWidth?m.length:-1,v.lineGutter.style.width=v.lineNumWidth+"px",_(s),!0}return!1}function j(s,c){return String(s.lineNumberFormatter(c+s.firstLineNumber))}function $(s){return s.scroller.getBoundingClientRect().left-s.sizer.getBoundingClientRect().left}function Z(s,c,m){var v=s.display;this.viewport=c,this.visible=B(v,s.doc,c),this.editorIsHidden=!v.wrapper.offsetWidth,this.wrapperHeight=v.wrapper.clientHeight,this.wrapperWidth=v.wrapper.clientWidth,this.oldDisplayWidth=Ye(s),this.force=m,this.dims=xe(s),this.events=[]}function se(s){var c=s.display;!c.scrollbarsClipped&&c.scroller.offsetWidth&&(c.nativeBarWidth=c.scroller.offsetWidth-c.scroller.clientWidth,c.heightForcer.style.height=Te(s)+"px",c.sizer.style.marginBottom=-c.nativeBarWidth+"px",c.sizer.style.borderRightWidth=Te(s)+"px",c.scrollbarsClipped=!0)}function te(s,c){var m=s.display,v=s.doc;if(c.editorIsHidden)return Ur(s),!1;if(!c.force&&c.visible.from>=m.viewFrom&&c.visible.to<=m.viewTo&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo)&&m.renderedView==m.view&&vs(s)==0)return!1;P(s)&&(Ur(s),c.dims=xe(s));var x=v.first+v.size,F=Math.max(c.visible.from-s.options.viewportMargin,v.first),q=Math.min(x,c.visible.to+s.options.viewportMargin);m.viewFrom<F&&F-m.viewFrom<20&&(F=Math.max(v.first,m.viewFrom)),m.viewTo>q&&m.viewTo-q<20&&(q=Math.min(x,m.viewTo)),ia&&(F=Qo(s.doc,F),q=mf(s.doc,q));var re=F!=m.viewFrom||q!=m.viewTo||m.lastWrapHeight!=c.wrapperHeight||m.lastWrapWidth!=c.wrapperWidth;yr(s,F,q),m.viewOffset=Ss(Dt(s.doc,m.viewFrom)),s.display.mover.style.top=m.viewOffset+"px";var he=vs(s);if(!re&&he==0&&!c.force&&m.renderedView==m.view&&(m.updateLineNumbers==null||m.updateLineNumbers>=m.viewTo))return!1;var _e=to();return he>4&&(m.lineDiv.style.display="none"),we(s,m.updateLineNumbers,c.dims),he>4&&(m.lineDiv.style.display=""),m.renderedView=m.view,_e&&to()!=_e&&_e.offsetHeight&&_e.focus(),Ga(m.cursorDiv),Ga(m.selectionDiv),m.gutters.style.height=m.sizer.style.minHeight=0,re&&(m.lastWrapHeight=c.wrapperHeight,m.lastWrapWidth=c.wrapperWidth,fn(s,400)),m.updateLineNumbers=null,!0}function X(s,c){for(var m=c.viewport,v=!0;(v&&s.options.lineWrapping&&c.oldDisplayWidth!=Ye(s)||(m&&m.top!=null&&(m={top:Math.min(s.doc.height+Tr(s.display)-Ke(s),m.top)}),c.visible=B(s.display,s.doc,m),!(c.visible.from>=s.display.viewFrom&&c.visible.to<=s.display.viewTo)))&&te(s,c);v=!1){Y(s);var x=M(s);mn(s),C(s,x),de(s,x)}c.signal(s,"update",s),s.display.viewFrom==s.display.reportedViewFrom&&s.display.viewTo==s.display.reportedViewTo||(c.signal(s,"viewportChange",s,s.display.viewFrom,s.display.viewTo),s.display.reportedViewFrom=s.display.viewFrom,s.display.reportedViewTo=s.display.viewTo)}function V(s,c){var m=new Z(s,c);if(te(s,m)){Y(s),X(s,m);var v=M(s);mn(s),C(s,v),de(s,v),m.finish()}}function de(s,c){s.display.sizer.style.minHeight=c.docHeight+"px",s.display.heightForcer.style.top=c.docHeight+"px",s.display.gutters.style.height=c.docHeight+s.display.barHeight+Te(s)+"px"}function Y(s){for(var c=s.display,m=c.lineDiv.offsetTop,v=0;v<c.view.length;v++){var x,F=c.view[v];if(!F.hidden){if(vn&&8>jn){var q=F.node.offsetTop+F.node.offsetHeight;x=q-m,m=q}else{var re=F.node.getBoundingClientRect();x=re.bottom-re.top}var he=F.line.height-x;if(2>x&&(x=hn(c)),(he>.001||-.001>he)&&(rs(F.line,x),ue(F.line),F.rest))for(var _e=0;_e<F.rest.length;_e++)ue(F.rest[_e])}}}function ue(s){if(s.widgets)for(var c=0;c<s.widgets.length;++c)s.widgets[c].height=s.widgets[c].node.parentNode.offsetHeight}function xe(s){for(var c=s.display,m={},v={},x=c.gutters.clientLeft,F=c.gutters.firstChild,q=0;F;F=F.nextSibling,++q)m[s.options.gutters[q]]=F.offsetLeft+F.clientLeft+x,v[s.options.gutters[q]]=F.clientWidth;return{fixedPos:$(c),gutterTotalWidth:c.gutters.offsetWidth,gutterLeft:m,gutterWidth:v,wrapperWidth:c.wrapper.clientWidth}}function we(s,c,m){function v(je){var ht=je.nextSibling;return jr&&ks&&s.display.currentWheelTarget==je?je.style.display="none":je.parentNode.removeChild(je),ht}for(var x=s.display,F=s.options.lineNumbers,q=x.lineDiv,re=q.firstChild,he=x.view,_e=x.viewFrom,Ie=0;Ie<he.length;Ie++){var Oe=he[Ie];if(!Oe.hidden)if(Oe.node&&Oe.node.parentNode==q){for(;re!=Oe.node;)re=v(re);var He=F&&c!=null&&_e>=c&&Oe.lineNumber;Oe.changes&&(pr(Oe.changes,"gutter")>-1&&(He=!1),Q(s,Oe,_e,m)),He&&(Ga(Oe.lineNumber),Oe.lineNumber.appendChild(document.createTextNode(j(s.options,_e)))),re=Oe.node.nextSibling}else{var We=W(s,Oe,_e,m);q.insertBefore(We,re)}_e+=Oe.size}for(;re;)re=v(re)}function Q(s,c,m,v){for(var x=0;x<c.changes.length;x++){var F=c.changes[x];F=="text"?ne(s,c):F=="gutter"?oe(s,c,m,v):F=="class"?ie(c):F=="widget"&&ce(s,c,v)}c.changes=null}function K(s){return s.node==s.text&&(s.node=Rt("div",null,null,"position: relative"),s.text.parentNode&&s.text.parentNode.replaceChild(s.node,s.text),s.node.appendChild(s.text),vn&&8>jn&&(s.node.style.zIndex=2)),s.node}function Ce(s){var c=s.bgClass?s.bgClass+" "+(s.line.bgClass||""):s.line.bgClass;if(c&&(c+=" CodeMirror-linebackground"),s.background)c?s.background.className=c:(s.background.parentNode.removeChild(s.background),s.background=null);else if(c){var m=K(s);s.background=m.insertBefore(Rt("div",null,c),m.firstChild)}}function Me(s,c){var m=s.display.externalMeasured;return m&&m.line==c.line?(s.display.externalMeasured=null,c.measure=m.measure,m.built):bf(s,c)}function ne(s,c){var m=c.text.className,v=Me(s,c);c.text==c.node&&(c.node=v.pre),c.text.parentNode.replaceChild(v.pre,c.text),c.text=v.pre,v.bgClass!=c.bgClass||v.textClass!=c.textClass?(c.bgClass=v.bgClass,c.textClass=v.textClass,ie(c)):m&&(c.text.className=m)}function ie(s){Ce(s),s.line.wrapClass?K(s).className=s.line.wrapClass:s.node!=s.text&&(s.node.className="");var c=s.textClass?s.textClass+" "+(s.line.textClass||""):s.line.textClass;s.text.className=c||""}function oe(s,c,m,v){if(c.gutter&&(c.node.removeChild(c.gutter),c.gutter=null),c.gutterBackground&&(c.node.removeChild(c.gutterBackground),c.gutterBackground=null),c.line.gutterClass){var x=K(c);c.gutterBackground=Rt("div",null,"CodeMirror-gutter-background "+c.line.gutterClass,"left: "+(s.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px; width: "+v.gutterTotalWidth+"px"),x.insertBefore(c.gutterBackground,c.text)}var F=c.line.gutterMarkers;if(s.options.lineNumbers||F){var x=K(c),q=c.gutter=Rt("div",null,"CodeMirror-gutter-wrapper","left: "+(s.options.fixedGutter?v.fixedPos:-v.gutterTotalWidth)+"px");if(s.display.input.setUneditable(q),x.insertBefore(q,c.text),c.line.gutterClass&&(q.className+=" "+c.line.gutterClass),!s.options.lineNumbers||F&&F["CodeMirror-linenumbers"]||(c.lineNumber=q.appendChild(Rt("div",j(s.options,m),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+v.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+s.display.lineNumInnerWidth+"px"))),F)for(var re=0;re<s.options.gutters.length;++re){var he=s.options.gutters[re],_e=F.hasOwnProperty(he)&&F[he];_e&&q.appendChild(Rt("div",[_e],"CodeMirror-gutter-elt","left: "+v.gutterLeft[he]+"px; width: "+v.gutterWidth[he]+"px"))}}}function ce(s,c,m){c.alignable&&(c.alignable=null);for(var v,x=c.node.firstChild;x;x=v){var v=x.nextSibling;x.className=="CodeMirror-linewidget"&&c.node.removeChild(x)}ee(s,c,m)}function W(s,c,m,v){var x=Me(s,c);return c.text=c.node=x.pre,x.bgClass&&(c.bgClass=x.bgClass),x.textClass&&(c.textClass=x.textClass),ie(c),oe(s,c,m,v),ee(s,c,v),c.node}function ee(s,c,m){if(pe(s,c.line,c,m,!0),c.rest)for(var v=0;v<c.rest.length;v++)pe(s,c.rest[v],c,m,!1)}function pe(s,c,m,v,x){if(c.widgets)for(var F=K(m),q=0,re=c.widgets;q<re.length;++q){var he=re[q],_e=Rt("div",[he.node],"CodeMirror-linewidget");he.handleMouseEvents||_e.setAttribute("cm-ignore-events","true"),ve(he,_e,m,v),s.display.input.setUneditable(_e),x&&he.above?F.insertBefore(_e,m.gutter||m.text):F.appendChild(_e),Qr(he,"redraw")}}function ve(s,c,m,v){if(s.noHScroll){(m.alignable||(m.alignable=[])).push(c);var x=v.wrapperWidth;c.style.left=v.fixedPos+"px",s.coverGutter||(x-=v.gutterTotalWidth,c.style.paddingLeft=v.gutterTotalWidth+"px"),c.style.width=x+"px"}s.coverGutter&&(c.style.zIndex=5,c.style.position="relative",s.noHScroll||(c.style.marginLeft=-v.gutterTotalWidth+"px"))}function Ae(s){return ut(s.line,s.ch)}function ke(s,c){return Qt(s,c)<0?c:s}function Fe(s,c){return Qt(s,c)<0?s:c}function ae(s){s.state.focused||(s.display.input.focus(),Rl(s))}function fe(s,c,m,v,x){var F=s.doc;s.display.shift=!1,v||(v=F.sel);var q=s.state.pasteIncoming||x=="paste",re=F.splitLines(c),he=null;if(q&&v.ranges.length>1)if(li&&li.text.join(`
`)==c){if(v.ranges.length%li.text.length==0){he=[];for(var _e=0;_e<li.text.length;_e++)he.push(F.splitLines(li.text[_e]))}}else re.length==v.ranges.length&&(he=Wa(re,function(ht){return[ht]}));for(var _e=v.ranges.length-1;_e>=0;_e--){var Ie=v.ranges[_e],Oe=Ie.from(),He=Ie.to();Ie.empty()&&(m&&m>0?Oe=ut(Oe.line,Oe.ch-m):s.state.overwrite&&!q?He=ut(He.line,Math.min(Dt(F,He.line).text.length,He.ch+Sn(re).length)):li&&li.lineWise&&li.text.join(`
`)==c&&(Oe=He=ut(Oe.line,0)));var We=s.curOp.updateInput,je={from:Oe,to:He,text:he?he[_e%he.length]:re,origin:x||(q?"paste":s.state.cutIncoming?"cut":"+input")};So(s.doc,je),Qr(s,"inputRead",s,je)}c&&!q&&O(s,c),Ko(s),s.curOp.updateInput=We,s.curOp.typing=!0,s.state.pasteIncoming=s.state.cutIncoming=!1}function me(s,c){var m=s.clipboardData&&s.clipboardData.getData("text/plain");return m?(s.preventDefault(),c.isReadOnly()||c.options.disableInput||Qn(c,function(){fe(c,m,0,null,"paste")}),!0):void 0}function O(s,c){if(s.options.electricChars&&s.options.smartIndent)for(var m=s.doc.sel,v=m.ranges.length-1;v>=0;v--){var x=m.ranges[v];if(!(x.head.ch>100||v&&m.ranges[v-1].head.line==x.head.line)){var F=s.getModeAt(x.head),q=!1;if(F.electricChars){for(var re=0;re<F.electricChars.length;re++)if(c.indexOf(F.electricChars.charAt(re))>-1){q=Zo(s,x.head.line,"smart");break}}else F.electricInput&&F.electricInput.test(Dt(s.doc,x.head.line).text.slice(0,x.head.ch))&&(q=Zo(s,x.head.line,"smart"));q&&Qr(s,"electricInput",s,x.head.line)}}}function H(s){for(var c=[],m=[],v=0;v<s.doc.sel.ranges.length;v++){var x=s.doc.sel.ranges[v].head.line,F={anchor:ut(x,0),head:ut(x+1,0)};m.push(F),c.push(s.getRange(F.anchor,F.head))}return{text:c,ranges:m}}function U(s){s.setAttribute("autocorrect","off"),s.setAttribute("autocapitalize","off"),s.setAttribute("spellcheck","false")}function le(s){this.cm=s,this.prevInput="",this.pollingFast=!1,this.polling=new Oo,this.inaccurateSelection=!1,this.hasSelection=!1,this.composing=null}function Se(){var s=Rt("textarea",null,null,"position: absolute; padding: 0; width: 1px; height: 1em; outline: none"),c=Rt("div",[s],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return jr?s.style.width="1000px":s.setAttribute("wrap","off"),Kl&&(s.style.border="1px solid black"),U(s),c}function Le(s){this.cm=s,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Oo,this.gracePeriod=!1}function Pe(s,c){var m=rn(s,c.line);if(!m||m.hidden)return null;var v=Dt(s.doc,c.line),x=ot(m,v,c.line),F=a(v),q="left";if(F){var re=Cf(F,c.ch);q=re%2?"right":"left"}var he=zn(x.map,c.ch,q);return he.offset=he.collapse=="right"?he.end:he.start,he}function $e(s,c){return c&&(s.bad=!0),s}function Ze(s,c,m){var v;if(c==s.display.lineDiv){if(v=s.display.lineDiv.childNodes[m],!v)return $e(s.clipPos(ut(s.display.viewTo-1)),!0);c=null,m=0}else for(v=c;;v=v.parentNode){if(!v||v==s.display.lineDiv)return null;if(v.parentNode&&v.parentNode==s.display.lineDiv)break}for(var x=0;x<s.display.view.length;x++){var F=s.display.view[x];if(F.node==v)return pt(F,c,m)}}function pt(s,c,m){function v(ht,gt,Tt){for(var Ft=-1;Ft<(Ie?Ie.length:0);Ft++)for(var Nt=0>Ft?_e.map:Ie[Ft],_n=0;_n<Nt.length;_n+=3){var kt=Nt[_n+2];if(kt==ht||kt==gt){var Ht=kn(0>Ft?s.line:s.rest[Ft]),Yt=Nt[_n]+Tt;return(0>Tt||kt!=ht)&&(Yt=Nt[_n+(Tt?1:0)]),ut(Ht,Yt)}}}var x=s.text.firstChild,F=!1;if(!c||!lm(x,c))return $e(ut(kn(s.line),0),!0);if(c==x&&(F=!0,c=x.childNodes[m],m=0,!c)){var q=s.rest?Sn(s.rest):s.line;return $e(ut(kn(q),q.text.length),F)}var re=c.nodeType==3?c:null,he=c;for(re||c.childNodes.length!=1||c.firstChild.nodeType!=3||(re=c.firstChild,m&&(m=re.nodeValue.length));he.parentNode!=x;)he=he.parentNode;var _e=s.measure,Ie=_e.maps,Oe=v(re,he,m);if(Oe)return $e(Oe,F);for(var He=he.nextSibling,We=re?re.nodeValue.length-m:0;He;He=He.nextSibling){if(Oe=v(He,He.firstChild,0))return $e(ut(Oe.line,Oe.ch-We),F);We+=He.textContent.length}for(var je=he.previousSibling,We=m;je;je=je.previousSibling){if(Oe=v(je,je.firstChild,-1))return $e(ut(Oe.line,Oe.ch+We),F);We+=He.textContent.length}}function ct(s,c,m,v,x){function F(Ie){return function(Oe){return Oe.id==Ie}}function q(Ie){if(Ie.nodeType==1){var Oe=Ie.getAttribute("cm-text");if(Oe!=null)return Oe==""&&(Oe=Ie.textContent.replace(/\u200b/g,"")),void(re+=Oe);var He,We=Ie.getAttribute("cm-marker");if(We){var je=s.findMarks(ut(v,0),ut(x+1,0),F(+We));return void(je.length&&(He=je[0].find())&&(re+=Js(s.doc,He.from,He.to).join(_e)))}if(Ie.getAttribute("contenteditable")=="false")return;for(var ht=0;ht<Ie.childNodes.length;ht++)q(Ie.childNodes[ht]);/^(pre|div|p)$/i.test(Ie.nodeName)&&(he=!0)}else if(Ie.nodeType==3){var gt=Ie.nodeValue;if(!gt)return;he&&(re+=_e,he=!1),re+=gt}}for(var re="",he=!1,_e=s.doc.lineSeparator();q(c),c!=m;)c=c.nextSibling;return re}function $t(s,c){this.ranges=s,this.primIndex=c}function Ot(s,c){this.anchor=s,this.head=c}function mt(s,c){var m=s[c];s.sort(function(_e,Ie){return Qt(_e.from(),Ie.from())}),c=pr(s,m);for(var v=1;v<s.length;v++){var x=s[v],F=s[v-1];if(Qt(F.to(),x.from())>=0){var q=Fe(F.from(),x.from()),re=ke(F.to(),x.to()),he=F.empty()?x.from()==x.head:F.from()==F.head;c>=v&&--c,s.splice(--v,2,new Ot(he?re:q,he?q:re))}}return new $t(s,c)}function De(s,c){return new $t([new Ot(s,c||s)],0)}function ze(s,c){return Math.max(s.first,Math.min(c,s.first+s.size-1))}function Qe(s,c){if(c.line<s.first)return ut(s.first,0);var m=s.first+s.size-1;return c.line>m?ut(m,Dt(s,m).text.length):Et(c,Dt(s,c.line).text.length)}function Et(s,c){var m=s.ch;return m==null||m>c?ut(s.line,c):0>m?ut(s.line,0):s}function wt(s,c){return c>=s.first&&c<s.first+s.size}function yt(s,c){for(var m=[],v=0;v<c.length;v++)m[v]=Qe(s,c[v]);return m}function Ut(s,c,m,v){if(s.cm&&s.cm.display.shift||s.extend){var x=c.anchor;if(v){var F=Qt(m,x)<0;F!=Qt(v,x)<0?(x=m,m=v):F!=Qt(m,v)<0&&(m=v)}return new Ot(x,m)}return new Ot(v||m,m)}function qt(s,c,m,v){Je(s,new $t([Ut(s,s.sel.primary(),c,m)],0),v)}function ye(s,c,m){for(var v=[],x=0;x<s.sel.ranges.length;x++)v[x]=Ut(s,s.sel.ranges[x],c[x],null);var F=mt(v,s.sel.primIndex);Je(s,F,m)}function Ee(s,c,m,v){var x=s.sel.ranges.slice(0);x[c]=m,Je(s,mt(x,s.sel.primIndex),v)}function Be(s,c,m,v){Je(s,De(c,m),v)}function Ue(s,c,m){var v={ranges:c.ranges,update:function(x){this.ranges=[];for(var F=0;F<x.length;F++)this.ranges[F]=new Ot(Qe(s,x[F].anchor),Qe(s,x[F].head))},origin:m&&m.origin};return Or(s,"beforeSelectionChange",s,v),s.cm&&Or(s.cm,"beforeSelectionChange",s.cm,v),v.ranges!=c.ranges?mt(v.ranges,v.ranges.length-1):c}function et(s,c,m){var v=s.history.done,x=Sn(v);x&&x.ranges?(v[v.length-1]=c,bt(s,c,m)):Je(s,c,m)}function Je(s,c,m){bt(s,c,m),qe(s,s.sel,s.cm?s.cm.curOp.id:NaN,m)}function bt(s,c,m){(An(s,"beforeSelectionChange")||s.cm&&An(s.cm,"beforeSelectionChange"))&&(c=Ue(s,c,m));var v=m&&m.bias||(Qt(c.primary().head,s.sel.primary().head)<0?-1:1);lt(s,ft(s,c,v,!0)),m&&m.scroll===!1||!s.cm||Ko(s.cm)}function lt(s,c){c.equals(s.sel)||(s.sel=c,s.cm&&(s.cm.curOp.updateInput=s.cm.curOp.selectionChanged=!0,Sc(s.cm)),Qr(s,"cursorActivity",s))}function xt(s){lt(s,ft(s,s.sel,null,!1))}function ft(s,c,m,v){for(var x,F=0;F<c.ranges.length;F++){var q=c.ranges[F],re=c.ranges.length==s.sel.ranges.length&&s.sel.ranges[F],he=it(s,q.anchor,re&&re.anchor,m,v),_e=it(s,q.head,re&&re.head,m,v);(x||he!=q.anchor||_e!=q.head)&&(x||(x=c.ranges.slice(0,F)),x[F]=new Ot(he,_e))}return x?mt(x,c.primIndex):c}function dt(s,c,m,v,x){var F=Dt(s,c.line);if(F.markedSpans)for(var q=0;q<F.markedSpans.length;++q){var re=F.markedSpans[q],he=re.marker;if((re.from==null||(he.inclusiveLeft?re.from<=c.ch:re.from<c.ch))&&(re.to==null||(he.inclusiveRight?re.to>=c.ch:re.to>c.ch))){if(x&&(Or(he,"beforeCursorEnter"),he.explicitlyCleared)){if(F.markedSpans){--q;continue}break}if(!he.atomic)continue;if(m){var _e,Ie=he.find(0>v?1:-1);if((0>v?he.inclusiveRight:he.inclusiveLeft)&&(Ie=nn(s,Ie,-v,Ie&&Ie.line==c.line?F:null)),Ie&&Ie.line==c.line&&(_e=Qt(Ie,m))&&(0>v?0>_e:_e>0))return dt(s,Ie,c,v,x)}var Oe=he.find(0>v?-1:1);return(0>v?he.inclusiveLeft:he.inclusiveRight)&&(Oe=nn(s,Oe,v,Oe.line==c.line?F:null)),Oe?dt(s,Oe,c,v,x):null}}return c}function it(s,c,m,v,x){var F=v||1,q=dt(s,c,m,F,x)||!x&&dt(s,c,m,F,!0)||dt(s,c,m,-F,x)||!x&&dt(s,c,m,-F,!0);return q||(s.cantEdit=!0,ut(s.first,0))}function nn(s,c,m,v){return 0>m&&c.ch==0?c.line>s.first?Qe(s,ut(c.line-1)):null:m>0&&c.ch==(v||Dt(s,c.line)).text.length?c.line<s.first+s.size-1?ut(c.line+1,0):null:new ut(c.line,c.ch+m)}function mn(s){s.display.input.showSelection(s.display.input.prepareSelection())}function qn(s,c){for(var m=s.doc,v={},x=v.cursors=document.createDocumentFragment(),F=v.selection=document.createDocumentFragment(),q=0;q<m.sel.ranges.length;q++)if(c!==!1||q!=m.sel.primIndex){var re=m.sel.ranges[q];if(!(re.from().line>=s.display.viewTo||re.to().line<s.display.viewFrom)){var he=re.empty();(he||s.options.showCursorWhenSelecting)&&Dn(s,re.head,x),he||vr(s,re,F)}}return v}function Dn(s,c,m){var v=cr(s,c,"div",null,null,!s.options.singleCursorHeightPerLine),x=m.appendChild(Rt("div","","CodeMirror-cursor"));if(x.style.left=v.left+"px",x.style.top=v.top+"px",x.style.height=Math.max(0,v.bottom-v.top)*s.options.cursorHeight+"px",v.other){var F=m.appendChild(Rt("div","","CodeMirror-cursor CodeMirror-secondarycursor"));F.style.display="",F.style.left=v.other.left+"px",F.style.top=v.other.top+"px",F.style.height=.85*(v.other.bottom-v.other.top)+"px"}}function vr(s,c,m){function v(Ft,Nt,_n,kt){0>Nt&&(Nt=0),Nt=Math.round(Nt),kt=Math.round(kt),re.appendChild(Rt("div",null,"CodeMirror-selected","position: absolute; left: "+Ft+"px; top: "+Nt+"px; width: "+(_n??Ie-Ft)+"px; height: "+(kt-Nt)+"px"))}function x(Ft,Nt,_n){function kt(Hr,ro){return yi(s,ut(Ft,Hr),"div",Lr,ro)}var Ht,Yt,Lr=Dt(q,Ft),wr=Lr.text.length;return ik(a(Lr),Nt||0,_n??wr,function(Hr,ro,Mo){var ti,xi,Po,zr=kt(Hr,"left");if(Hr==ro)ti=zr,xi=Po=zr.left;else{if(ti=kt(ro-1,"right"),Mo=="rtl"){var eu=zr;zr=ti,ti=eu}xi=zr.left,Po=ti.right}Nt==null&&Hr==0&&(xi=_e),ti.top-zr.top>3&&(v(xi,zr.top,null,zr.bottom),xi=_e,zr.bottom<ti.top&&v(xi,zr.bottom,null,ti.top)),_n==null&&ro==wr&&(Po=Ie),(!Ht||zr.top<Ht.top||zr.top==Ht.top&&zr.left<Ht.left)&&(Ht=zr),(!Yt||ti.bottom>Yt.bottom||ti.bottom==Yt.bottom&&ti.right>Yt.right)&&(Yt=ti),_e+1>xi&&(xi=_e),v(xi,ti.top,Po-xi,ti.bottom)}),{start:Ht,end:Yt}}var F=s.display,q=s.doc,re=document.createDocumentFragment(),he=Cn(s.display),_e=he.left,Ie=Math.max(F.sizerWidth,Ye(s)-F.sizer.offsetLeft)-he.right,Oe=c.from(),He=c.to();if(Oe.line==He.line)x(Oe.line,Oe.ch,He.ch);else{var We=Dt(q,Oe.line),je=Dt(q,He.line),ht=Bi(We)==Bi(je),gt=x(Oe.line,Oe.ch,ht?We.text.length+1:null).end,Tt=x(He.line,ht?0:null,He.ch).start;ht&&(gt.top<Tt.top-2?(v(gt.right,gt.top,null,gt.bottom),v(_e,Tt.top,Tt.left,Tt.bottom)):v(gt.right,gt.top,Tt.left-gt.right,gt.bottom)),gt.bottom<Tt.top&&v(_e,gt.bottom,null,Tt.top)}m.appendChild(re)}function Wn(s){if(s.state.focused){var c=s.display;clearInterval(c.blinker);var m=!0;c.cursorDiv.style.visibility="",s.options.cursorBlinkRate>0?c.blinker=setInterval(function(){c.cursorDiv.style.visibility=(m=!m)?"":"hidden"},s.options.cursorBlinkRate):s.options.cursorBlinkRate<0&&(c.cursorDiv.style.visibility="hidden")}}function fn(s,c){s.doc.mode.startState&&s.doc.frontier<s.display.viewTo&&s.state.highlight.set(c,Ac(Nr,s))}function Nr(s){var c=s.doc;if(c.frontier<c.first&&(c.frontier=c.first),!(c.frontier>=s.display.viewTo)){var m=+new Date+s.options.workTime,v=sa(c.mode,Rn(s,c.frontier)),x=[];c.iter(c.frontier,Math.min(c.first+c.size,s.display.viewTo+500),function(F){if(c.frontier>=s.display.viewFrom){var q=F.styles,re=F.text.length>s.options.maxHighlightLength,he=yf(s,F,re?sa(c.mode,v):v,!0);F.styles=he.styles;var _e=F.styleClasses,Ie=he.classes;Ie?F.styleClasses=Ie:_e&&(F.styleClasses=null);for(var Oe=!q||q.length!=F.styles.length||_e!=Ie&&(!_e||!Ie||_e.bgClass!=Ie.bgClass||_e.textClass!=Ie.textClass),He=0;!Oe&&He<q.length;++He)Oe=q[He]!=F.styles[He];Oe&&x.push(c.frontier),F.stateAfter=re?v:sa(c.mode,v)}else F.text.length<=s.options.maxHighlightLength&&ql(s,F.text,v),F.stateAfter=c.frontier%5==0?sa(c.mode,v):null;return++c.frontier,+new Date>m?(fn(s,s.options.workDelay),!0):void 0}),x.length&&Qn(s,function(){for(var F=0;F<x.length;F++)Xr(s,x[F],"text")})}}function Ar(s,c,m){for(var v,x,F=s.doc,q=m?-1:c-(s.doc.mode.innerMode?1e3:100),re=c;re>q;--re){if(re<=F.first)return F.first;var he=Dt(F,re-1);if(he.stateAfter&&(!m||re<=F.frontier))return re;var _e=Cs(he.text,null,s.options.tabSize);(x==null||v>_e)&&(x=re-1,v=_e)}return x}function Rn(s,c,m){var v=s.doc,x=s.display;if(!v.mode.startState)return!0;var F=Ar(s,c,m),q=F>v.first&&Dt(v,F-1).stateAfter;return q=q?sa(v.mode,q):gk(v.mode),v.iter(F,c,function(re){ql(s,re.text,q);var he=F==c-1||F%5==0||F>=x.viewFrom&&F<x.viewTo;re.stateAfter=he?sa(v.mode,q):null,++F}),m&&(v.frontier=F),q}function En(s){return s.lineSpace.offsetTop}function Tr(s){return s.mover.offsetHeight-s.lineSpace.offsetHeight}function Cn(s){if(s.cachedPaddingH)return s.cachedPaddingH;var c=ji(s.measure,Rt("pre","x")),m=window.getComputedStyle?window.getComputedStyle(c):c.currentStyle,v={left:parseInt(m.paddingLeft),right:parseInt(m.paddingRight)};return isNaN(v.left)||isNaN(v.right)||(s.cachedPaddingH=v),v}function Te(s){return zb-s.display.nativeBarWidth}function Ye(s){return s.display.scroller.clientWidth-Te(s)-s.display.barWidth}function Ke(s){return s.display.scroller.clientHeight-Te(s)-s.display.barHeight}function nt(s,c,m){var v=s.options.lineWrapping,x=v&&Ye(s);if(!c.measure.heights||v&&c.measure.width!=x){var F=c.measure.heights=[];if(v){c.measure.width=x;for(var q=c.text.firstChild.getClientRects(),re=0;re<q.length-1;re++){var he=q[re],_e=q[re+1];Math.abs(he.bottom-_e.bottom)>2&&F.push((he.bottom+_e.top)/2-m.top)}}F.push(m.bottom-m.top)}}function ot(s,c,m){if(s.line==c)return{map:s.measure.map,cache:s.measure.cache};for(var v=0;v<s.rest.length;v++)if(s.rest[v]==c)return{map:s.measure.maps[v],cache:s.measure.caches[v]};for(var v=0;v<s.rest.length;v++)if(kn(s.rest[v])>m)return{map:s.measure.maps[v],cache:s.measure.caches[v],before:!0}}function jt(s,c){c=Bi(c);var m=kn(c),v=s.display.externalMeasured=new Vt(s.doc,c,m);v.lineN=m;var x=v.built=bf(s,v);return v.text=x.pre,ji(s.display.lineMeasure,x.pre),v}function _t(s,c,m,v){return wn(s,sn(s,c),m,v)}function rn(s,c){if(c>=s.display.viewFrom&&c<s.display.viewTo)return s.display.view[qr(s,c)];var m=s.display.externalMeasured;return m&&c>=m.lineN&&c<m.lineN+m.size?m:void 0}function sn(s,c){var m=kn(c),v=rn(s,m);v&&!v.text?v=null:v&&v.changes&&(Q(s,v,m,xe(s)),s.curOp.forceUpdate=!0),v||(v=jt(s,c));var x=ot(v,c,m);return{line:c,view:v,rect:null,map:x.map,cache:x.cache,before:x.before,hasHeights:!1}}function wn(s,c,m,v,x){c.before&&(m=-1);var F,q=m+(v||"");return c.cache.hasOwnProperty(q)?F=c.cache[q]:(c.rect||(c.rect=c.view.text.getBoundingClientRect()),c.hasHeights||(nt(s,c.view,c.rect),c.hasHeights=!0),F=rt(s,c,m,v),F.bogus||(c.cache[q]=F)),{left:F.left,right:F.right,top:x?F.rtop:F.top,bottom:x?F.rbottom:F.bottom}}function zn(s,c,m){for(var v,x,F,q,re=0;re<s.length;re+=3){var he=s[re],_e=s[re+1];if(he>c?(x=0,F=1,q="left"):_e>c?(x=c-he,F=x+1):(re==s.length-3||c==_e&&s[re+3]>c)&&(F=_e-he,x=F-1,c>=_e&&(q="right")),x!=null){if(v=s[re+2],he==_e&&m==(v.insertLeft?"left":"right")&&(q=m),m=="left"&&x==0)for(;re&&s[re-2]==s[re-3]&&s[re-1].insertLeft;)v=s[(re-=3)+2],q="left";if(m=="right"&&x==_e-he)for(;re<s.length-3&&s[re+3]==s[re+4]&&!s[re+5].insertLeft;)v=s[(re+=3)+2],q="right";break}}return{node:v,start:x,end:F,collapse:q,coverStart:he,coverEnd:_e}}function rt(s,c,m,v){var x,F=zn(c.map,m,v),q=F.node,re=F.start,he=F.end,_e=F.collapse;if(q.nodeType==3){for(var Ie=0;4>Ie;Ie++){for(;re&&Tc(c.line.text.charAt(F.coverStart+re));)--re;for(;F.coverStart+he<F.coverEnd&&Tc(c.line.text.charAt(F.coverStart+he));)++he;if(vn&&9>jn&&re==0&&he==F.coverEnd-F.coverStart)x=q.parentNode.getBoundingClientRect();else if(vn&&s.options.lineWrapping){var Oe=Ja(q,re,he).getClientRects();x=Oe.length?Oe[v=="right"?Oe.length-1:0]:rm}else x=Ja(q,re,he).getBoundingClientRect()||rm;if(x.left||x.right||re==0)break;he=re,re-=1,_e="right"}vn&&11>jn&&(x=Mt(s.display.measure,x))}else{re>0&&(_e=v="right");var Oe;x=s.options.lineWrapping&&(Oe=q.getClientRects()).length>1?Oe[v=="right"?Oe.length-1:0]:q.getBoundingClientRect()}if(vn&&9>jn&&!re&&(!x||!x.left&&!x.right)){var He=q.parentNode.getClientRects()[0];x=He?{left:He.left,right:He.left+Fn(s.display),top:He.top,bottom:He.bottom}:rm}for(var We=x.top-c.rect.top,je=x.bottom-c.rect.top,ht=(We+je)/2,gt=c.view.measure.heights,Ie=0;Ie<gt.length-1&&!(ht<gt[Ie]);Ie++);var Tt=Ie?gt[Ie-1]:0,Ft=gt[Ie],Nt={left:(_e=="right"?x.right:x.left)-c.rect.left,right:(_e=="left"?x.left:x.right)-c.rect.left,top:Tt,bottom:Ft};return x.left||x.right||(Nt.bogus=!0),s.options.singleCursorHeightPerLine||(Nt.rtop=We,Nt.rbottom=je),Nt}function Mt(s,c){if(!window.screen||screen.logicalXDPI==null||screen.logicalXDPI==screen.deviceXDPI||!rk(s))return c;var m=screen.logicalXDPI/screen.deviceXDPI,v=screen.logicalYDPI/screen.deviceYDPI;return{left:c.left*m,right:c.right*m,top:c.top*v,bottom:c.bottom*v}}function cn(s){if(s.measure&&(s.measure.cache={},s.measure.heights=null,s.rest))for(var c=0;c<s.rest.length;c++)s.measure.caches[c]={}}function Ir(s){s.display.externalMeasure=null,Ga(s.display.lineMeasure);for(var c=0;c<s.display.view.length;c++)cn(s.display.view[c])}function $n(s){Ir(s),s.display.cachedCharWidth=s.display.cachedTextHeight=s.display.cachedPaddingH=null,s.options.lineWrapping||(s.display.maxLineChanged=!0),s.display.lineNumChars=null}function lr(){return window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ur(){return window.pageYOffset||(document.documentElement||document.body).scrollTop}function Wt(s,c,m,v){if(c.widgets){for(var x=0;x<c.widgets.length;++x)if(c.widgets[x].above){var F=za(c.widgets[x]);m.top+=F,m.bottom+=F}}if(v=="line")return m;v||(v="local");var q=Ss(c);if(v=="local"?q+=En(s.display):q-=s.display.viewOffset,v=="page"||v=="window"){var re=s.display.lineSpace.getBoundingClientRect();q+=re.top+(v=="window"?0:ur());var he=re.left+(v=="window"?0:lr());m.left+=he,m.right+=he}return m.top+=q,m.bottom+=q,m}function Tn(s,c,m){if(m=="div")return c;var v=c.left,x=c.top;if(m=="page")v-=lr(),x-=ur();else if(m=="local"||!m){var F=s.display.sizer.getBoundingClientRect();v+=F.left,x+=F.top}var q=s.display.lineSpace.getBoundingClientRect();return{left:v-q.left,top:x-q.top}}function yi(s,c,m,v,x){return v||(v=Dt(s.doc,c.line)),Wt(s,v,_t(s,v,c.ch,x),m)}function cr(s,c,m,v,x,F){function q(He,We){var je=wn(s,x,He,We?"right":"left",F);return We?je.left=je.right:je.right=je.left,Wt(s,v,je,m)}function re(He,We){var je=he[We],ht=je.level%2;return He==Jp(je)&&We&&je.level<he[We-1].level?(je=he[--We],He=Qp(je)-(je.level%2?0:1),ht=!0):He==Qp(je)&&We<he.length-1&&je.level<he[We+1].level&&(je=he[++We],He=Jp(je)-je.level%2,ht=!1),ht&&He==je.to&&He>je.from?q(He-1):q(He,ht)}v=v||Dt(s.doc,c.line),x||(x=sn(s,v));var he=a(v),_e=c.ch;if(!he)return q(_e);var Ie=Cf(he,_e),Oe=re(_e,Ie);return Fc!=null&&(Oe.other=re(_e,Fc)),Oe}function ir(s,v){var m=0,v=Qe(s.doc,v);s.options.lineWrapping||(m=Fn(s.display)*v.ch);var x=Dt(s.doc,v.line),F=Ss(x)+En(s.display);return{left:m,right:m,top:F,bottom:F+x.height}}function Pi(s,c,m,v){var x=ut(s,c);return x.xRel=v,m&&(x.outside=!0),x}function Kr(s,c,m){var v=s.doc;if(m+=s.display.viewOffset,0>m)return Pi(v.first,0,!0,-1);var x=Qs(v,m),F=v.first+v.size-1;if(x>F)return Pi(v.first+v.size-1,Dt(v,F).text.length,!0,1);0>c&&(c=0);for(var q=Dt(v,x);;){var re=on(s,q,x,c,m),he=Ks(q),_e=he&&he.find(0,!0);if(!he||!(re.ch>_e.from.ch||re.ch==_e.from.ch&&re.xRel>0))return re;x=kn(q=_e.to.line)}}function on(s,c,m,v,x){function F(wr){var Hr=cr(s,ut(m,wr),"line",c,_e);return re=!0,q>Hr.bottom?Hr.left-he:q<Hr.top?Hr.left+he:(re=!1,Hr.left)}var q=x-Ss(c),re=!1,he=2*s.display.wrapper.clientWidth,_e=sn(s,c),Ie=a(c),Oe=c.text.length,He=Tf(c),We=kf(c),je=F(He),ht=re,gt=F(We),Tt=re;if(v>gt)return Pi(m,We,Tt,1);for(;;){if(Ie?We==He||We==tm(c,He,1):1>=We-He){for(var Ft=je>v||gt-v>=v-je?He:We,Nt=v-(Ft==He?je:gt);Tc(c.text.charAt(Ft));)++Ft;var _n=Pi(m,Ft,Ft==He?ht:Tt,-1>Nt?-1:Nt>1?1:0);return _n}var kt=Math.ceil(Oe/2),Ht=He+kt;if(Ie){Ht=He;for(var Yt=0;kt>Yt;++Yt)Ht=tm(c,Ht,1)}var Lr=F(Ht);Lr>v?(We=Ht,gt=Lr,(Tt=re)&&(gt+=1e3),Oe=kt):(He=Ht,je=Lr,ht=re,Oe-=kt)}}function hn(s){if(s.cachedTextHeight!=null)return s.cachedTextHeight;if(Ka==null){Ka=Rt("pre");for(var c=0;49>c;++c)Ka.appendChild(document.createTextNode("x")),Ka.appendChild(Rt("br"));Ka.appendChild(document.createTextNode("x"))}ji(s.measure,Ka);var m=Ka.offsetHeight/50;return m>3&&(s.cachedTextHeight=m),Ga(s.measure),m||1}function Fn(s){if(s.cachedCharWidth!=null)return s.cachedCharWidth;var c=Rt("span","xxxxxxxxxx"),m=Rt("pre",[c]);ji(s.measure,m);var v=c.getBoundingClientRect(),x=(v.right-v.left)/10;return x>2&&(s.cachedCharWidth=x),x||10}function Mn(s){s.curOp={cm:s,viewChanged:!1,startHeight:s.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++dk},Zl?Zl.ops.push(s.curOp):s.curOp.ownsGroup=Zl={ops:[s.curOp],delayedCallbacks:[]}}function kr(s){var c=s.delayedCallbacks,m=0;do{for(;m<c.length;m++)c[m].call(null);for(var v=0;v<s.ops.length;v++){var x=s.ops[v];if(x.cursorActivityHandlers)for(;x.cursorActivityCalled<x.cursorActivityHandlers.length;)x.cursorActivityHandlers[x.cursorActivityCalled++].call(null,x.cm)}}while(m<c.length)}function Vn(s){var c=s.curOp,m=c.ownsGroup;if(m)try{kr(m)}finally{Zl=null;for(var v=0;v<m.ops.length;v++)m.ops[v].cm.curOp=null;gs(m)}}function gs(s){for(var c=s.ops,m=0;m<c.length;m++)Zr(c[m]);for(var m=0;m<c.length;m++)yo(c[m]);for(var m=0;m<c.length;m++)Ws(c[m]);for(var m=0;m<c.length;m++)bo(c[m]);for(var m=0;m<c.length;m++)wo(c[m])}function Zr(s){var c=s.cm,m=c.display;se(c),s.updateMaxLine&&N(c),s.mustUpdate=s.viewChanged||s.forceUpdate||s.scrollTop!=null||s.scrollToPos&&(s.scrollToPos.from.line<m.viewFrom||s.scrollToPos.to.line>=m.viewTo)||m.maxLineChanged&&c.options.lineWrapping,s.update=s.mustUpdate&&new Z(c,s.mustUpdate&&{top:s.scrollTop,ensure:s.scrollToPos},s.forceUpdate)}function yo(s){s.updatedDisplay=s.mustUpdate&&te(s.cm,s.update)}function Ws(s){var c=s.cm,m=c.display;s.updatedDisplay&&Y(c),s.barMeasure=M(c),m.maxLineChanged&&!c.options.lineWrapping&&(s.adjustWidthTo=_t(c,m.maxLine,m.maxLine.text.length).left+3,c.display.sizerWidth=s.adjustWidthTo,s.barMeasure.scrollWidth=Math.max(m.scroller.clientWidth,m.sizer.offsetLeft+s.adjustWidthTo+Te(c)+c.display.barWidth),s.maxScrollLeft=Math.max(0,m.sizer.offsetLeft+s.adjustWidthTo-Ye(c))),(s.updatedDisplay||s.selectionChanged)&&(s.preparedSelection=m.input.prepareSelection(s.focus))}function bo(s){var c=s.cm;s.adjustWidthTo!=null&&(c.display.sizer.style.minWidth=s.adjustWidthTo+"px",s.maxScrollLeft<c.doc.scrollLeft&&Nn(c,Math.min(c.display.scroller.scrollLeft,s.maxScrollLeft),!0),c.display.maxLineChanged=!1);var m=s.focus&&s.focus==to()&&(!document.hasFocus||document.hasFocus());s.preparedSelection&&c.display.input.showSelection(s.preparedSelection,m),(s.updatedDisplay||s.startHeight!=c.doc.height)&&C(c,s.barMeasure),s.updatedDisplay&&de(c,s.barMeasure),s.selectionChanged&&Wn(c),c.state.focused&&s.updateInput&&c.display.input.reset(s.typing),m&&ae(s.cm)}function wo(s){var c=s.cm,m=c.display,v=c.doc;if(s.updatedDisplay&&X(c,s.update),m.wheelStartX==null||s.scrollTop==null&&s.scrollLeft==null&&!s.scrollToPos||(m.wheelStartX=m.wheelStartY=null),s.scrollTop==null||m.scroller.scrollTop==s.scrollTop&&!s.forceScroll||(v.scrollTop=Math.max(0,Math.min(m.scroller.scrollHeight-m.scroller.clientHeight,s.scrollTop)),m.scrollbars.setScrollTop(v.scrollTop),m.scroller.scrollTop=v.scrollTop),s.scrollLeft==null||m.scroller.scrollLeft==s.scrollLeft&&!s.forceScroll||(v.scrollLeft=Math.max(0,Math.min(m.scroller.scrollWidth-m.scroller.clientWidth,s.scrollLeft)),m.scrollbars.setScrollLeft(v.scrollLeft),m.scroller.scrollLeft=v.scrollLeft,I(c)),s.scrollToPos){var x=ff(c,Qe(v,s.scrollToPos.from),Qe(v,s.scrollToPos.to),s.scrollToPos.margin);s.scrollToPos.isCursor&&c.state.focused&&hf(c,x)}var F=s.maybeHiddenMarkers,q=s.maybeUnhiddenMarkers;if(F)for(var re=0;re<F.length;++re)F[re].lines.length||Or(F[re],"hide");if(q)for(var re=0;re<q.length;++re)q[re].lines.length&&Or(q[re],"unhide");m.wrapper.offsetHeight&&(v.scrollTop=c.display.scroller.scrollTop),s.changeObjs&&Or(c,"changes",c,s.changeObjs),s.update&&s.update.finish()}function Qn(s,c){if(s.curOp)return c();Mn(s);try{return c()}finally{Vn(s)}}function pn(s,c){return function(){if(s.curOp)return c.apply(s,arguments);Mn(s);try{return c.apply(s,arguments)}finally{Vn(s)}}}function Bn(s){return function(){if(this.curOp)return s.apply(this,arguments);Mn(this);try{return s.apply(this,arguments)}finally{Vn(this)}}}function er(s){return function(){var c=this.cm;if(!c||c.curOp)return s.apply(this,arguments);Mn(c);try{return s.apply(this,arguments)}finally{Vn(c)}}}function Vt(s,c,m){this.line=c,this.rest=Kp(c),this.size=this.rest?kn(Sn(this.rest))-m+1:1,this.node=this.text=null,this.hidden=Zs(s,c)}function hr(s,c,m){for(var v,x=[],F=c;m>F;F=v){var q=new Vt(s.doc,Dt(s.doc,F),F);v=F+q.size,x.push(q)}return x}function Zt(s,c,m,v){c==null&&(c=s.doc.first),m==null&&(m=s.doc.first+s.doc.size),v||(v=0);var x=s.display;if(v&&m<x.viewTo&&(x.updateLineNumbers==null||x.updateLineNumbers>c)&&(x.updateLineNumbers=c),s.curOp.viewChanged=!0,c>=x.viewTo)ia&&Qo(s.doc,c)<x.viewTo&&Ur(s);else if(m<=x.viewFrom)ia&&mf(s.doc,m+v)>x.viewFrom?Ur(s):(x.viewFrom+=v,x.viewTo+=v);else if(c<=x.viewFrom&&m>=x.viewTo)Ur(s);else if(c<=x.viewFrom){var F=Ni(s,m,m+v,1);F?(x.view=x.view.slice(F.index),x.viewFrom=F.lineN,x.viewTo+=v):Ur(s)}else if(m>=x.viewTo){var F=Ni(s,c,c,-1);F?(x.view=x.view.slice(0,F.index),x.viewTo=F.lineN):Ur(s)}else{var q=Ni(s,c,c,-1),re=Ni(s,m,m+v,1);q&&re?(x.view=x.view.slice(0,q.index).concat(hr(s,q.lineN,re.lineN)).concat(x.view.slice(re.index)),x.viewTo+=v):Ur(s)}var he=x.externalMeasured;he&&(m<he.lineN?he.lineN+=v:c<he.lineN+he.size&&(x.externalMeasured=null))}function Xr(s,c,m){s.curOp.viewChanged=!0;var v=s.display,x=s.display.externalMeasured;if(x&&c>=x.lineN&&c<x.lineN+x.size&&(v.externalMeasured=null),!(c<v.viewFrom||c>=v.viewTo)){var F=v.view[qr(s,c)];if(F.node!=null){var q=F.changes||(F.changes=[]);pr(q,m)==-1&&q.push(m)}}}function Ur(s){s.display.viewFrom=s.display.viewTo=s.doc.first,s.display.view=[],s.display.viewOffset=0}function qr(s,c){if(c>=s.display.viewTo||(c-=s.display.viewFrom,0>c))return null;for(var m=s.display.view,v=0;v<m.length;v++)if(c-=m[v].size,0>c)return v}function Ni(s,c,m,v){var x,F=qr(s,c),q=s.display.view;if(!ia||m==s.doc.first+s.doc.size)return{index:F,lineN:m};for(var re=0,he=s.display.viewFrom;F>re;re++)he+=q[re].size;if(he!=c){if(v>0){if(F==q.length-1)return null;x=he+q[F].size-c,F++}else x=he-c;c+=x,m+=x}for(;Qo(s.doc,m)!=m;){if(F==(0>v?0:q.length-1))return null;m+=v*q[F-(0>v?1:0)].size,F+=v}return{index:F,lineN:m}}function yr(s,c,m){var v=s.display,x=v.view;x.length==0||c>=v.viewTo||m<=v.viewFrom?(v.view=hr(s,c,m),v.viewFrom=c):(v.viewFrom>c?v.view=hr(s,c,v.viewFrom).concat(v.view):v.viewFrom<c&&(v.view=v.view.slice(qr(s,c))),v.viewFrom=c,v.viewTo<m?v.view=v.view.concat(hr(s,v.viewTo,m)):v.viewTo>m&&(v.view=v.view.slice(0,qr(s,m)))),v.viewTo=m}function vs(s){for(var c=s.display.view,m=0,v=0;v<c.length;v++){var x=c[v];x.hidden||x.node&&!x.changes||++m}return m}function Ii(s){function c(){x.activeTouch&&(F=setTimeout(function(){x.activeTouch=null},1e3),q=x.activeTouch,q.end=+new Date)}function m(he){if(he.touches.length!=1)return!1;var _e=he.touches[0];return _e.radiusX<=1&&_e.radiusY<=1}function v(he,_e){if(_e.left==null)return!0;var Ie=_e.left-he.left,Oe=_e.top-he.top;return Ie*Ie+Oe*Oe>400}var x=s.display;Jt(x.scroller,"mousedown",pn(s,Re)),vn&&11>jn?Jt(x.scroller,"dblclick",pn(s,function(he){if(!dr(s,he)){var _e=be(s,he);if(_e&&!At(s,he)&&!G(s.display,he)){ei(he);var Ie=s.findWordAt(_e);qt(s.doc,Ie.anchor,Ie.head)}}})):Jt(x.scroller,"dblclick",function(he){dr(s,he)||ei(he)}),nm||Jt(x.scroller,"contextmenu",function(he){af(s,he)});var F,q={end:0};Jt(x.scroller,"touchstart",function(he){if(!dr(s,he)&&!m(he)){clearTimeout(F);var _e=+new Date;x.activeTouch={start:_e,moved:!1,prev:_e-q.end<=300?q:null},he.touches.length==1&&(x.activeTouch.left=he.touches[0].pageX,x.activeTouch.top=he.touches[0].pageY)}}),Jt(x.scroller,"touchmove",function(){x.activeTouch&&(x.activeTouch.moved=!0)}),Jt(x.scroller,"touchend",function(he){var _e=x.activeTouch;if(_e&&!G(x,he)&&_e.left!=null&&!_e.moved&&new Date-_e.start<300){var Ie,Oe=s.coordsChar(x.activeTouch,"page");Ie=!_e.prev||v(_e,_e.prev)?new Ot(Oe,Oe):!_e.prev.prev||v(_e,_e.prev.prev)?s.findWordAt(Oe):new Ot(ut(Oe.line,0),Qe(s.doc,ut(Oe.line+1,0))),s.setSelection(Ie.anchor,Ie.head),s.focus(),ei(he)}c()}),Jt(x.scroller,"touchcancel",c),Jt(x.scroller,"scroll",function(){x.scroller.clientHeight&&(Pn(s,x.scroller.scrollTop),Nn(s,x.scroller.scrollLeft,!0),Or(s,"scroll",s))}),Jt(x.scroller,"mousewheel",function(he){sr(s,he)}),Jt(x.scroller,"DOMMouseScroll",function(he){sr(s,he)}),Jt(x.wrapper,"scroll",function(){x.wrapper.scrollTop=x.wrapper.scrollLeft=0}),x.dragFunctions={enter:function(he){dr(s,he)||Ff(he)},over:function(he){dr(s,he)||(Yn(s,he),Ff(he))},start:function(he){ln(s,he)},drop:pn(s,Gn),leave:function(he){dr(s,he)||br(s)}};var re=x.input.getField();Jt(re,"keyup",function(he){cc.call(s,he)}),Jt(re,"keydown",pn(s,Dr)),Jt(re,"keypress",pn(s,ys)),Jt(re,"focus",Ac(Rl,s)),Jt(re,"blur",Ac(xo,s))}function tr(s,c,m){var v=m&&m!=o.Init;if(!c!=!v){var x=s.display.dragFunctions,F=c?Jt:no;F(s.display.scroller,"dragstart",x.start),F(s.display.scroller,"dragenter",x.enter),F(s.display.scroller,"dragover",x.over),F(s.display.scroller,"dragleave",x.leave),F(s.display.scroller,"drop",x.drop)}}function Di(s){var c=s.display;c.lastWrapHeight==c.wrapper.clientHeight&&c.lastWrapWidth==c.wrapper.clientWidth||(c.cachedCharWidth=c.cachedTextHeight=c.cachedPaddingH=null,c.scrollbarsClipped=!1,s.setSize())}function G(s,c){for(var m=eo(c);m!=s.wrapper;m=m.parentNode)if(!m||m.nodeType==1&&m.getAttribute("cm-ignore-events")=="true"||m.parentNode==s.sizer&&m!=s.mover)return!0}function be(s,c,m,v){var x=s.display;if(!m&&eo(c).getAttribute("cm-not-content")=="true")return null;var F,q,re=x.lineSpace.getBoundingClientRect();try{F=c.clientX-re.left,q=c.clientY-re.top}catch{return null}var he,_e=Kr(s,F,q);if(v&&_e.xRel==1&&(he=Dt(s.doc,_e.line).text).length==_e.ch){var Ie=Cs(he,he.length,s.options.tabSize)-he.length;_e=ut(_e.line,Math.max(0,Math.round((F-Cn(s.display).left)/Fn(s.display))-Ie))}return _e}function Re(s){var c=this,m=c.display;if(!(dr(c,s)||m.activeTouch&&m.input.supportsTouch())){if(m.shift=s.shiftKey,G(m,s))return void(jr||(m.scroller.draggable=!1,setTimeout(function(){m.scroller.draggable=!0},100)));if(!At(c,s)){var v=be(c,s);switch(window.focus(),Sf(s)){case 1:c.state.selectingText?c.state.selectingText(s):v?Xe(c,s,v):eo(s)==m.scroller&&ei(s);break;case 2:jr&&(c.state.lastMiddleDown=+new Date),v&&qt(c.doc,v),setTimeout(function(){m.input.focus()},20),ei(s);break;case 3:nm?af(c,s):of(c)}}}}function Xe(s,c,m){vn?setTimeout(Ac(ae,s),0):s.curOp.focus=to();var v,x=+new Date;Lf&&Lf.time>x-400&&Qt(Lf.pos,m)==0?v="triple":Of&&Of.time>x-400&&Qt(Of.pos,m)==0?(v="double",Lf={time:x,pos:m}):(v="single",Of={time:x,pos:m});var F,q=s.doc.sel,re=ks?c.metaKey:c.ctrlKey;s.options.dragDrop&&Tk&&!s.isReadOnly()&&v=="single"&&(F=q.contains(m))>-1&&(Qt((F=q.ranges[F]).from(),m)<0||m.xRel>0)&&(Qt(F.to(),m)>0||m.xRel<0)?Xt(s,c,m,re):Pt(s,c,m,v,re)}function Xt(s,c,m,v){var x=s.display,F=+new Date,q=pn(s,function(re){jr&&(x.scroller.draggable=!1),s.state.draggingText=!1,no(document,"mouseup",q),no(x.scroller,"drop",q),Math.abs(c.clientX-re.clientX)+Math.abs(c.clientY-re.clientY)<10&&(ei(re),!v&&+new Date-200<F&&qt(s.doc,m),jr||vn&&jn==9?setTimeout(function(){document.body.focus(),x.input.focus()},20):x.input.focus())});jr&&(x.scroller.draggable=!0),s.state.draggingText=q,x.scroller.dragDrop&&x.scroller.dragDrop(),Jt(document,"mouseup",q),Jt(x.scroller,"drop",q)}function Pt(s,c,m,v,x){function F(kt){if(Qt(gt,kt)!=0)if(gt=kt,v=="rect"){for(var Ht=[],Yt=s.options.tabSize,Lr=Cs(Dt(_e,m.line).text,m.ch,Yt),wr=Cs(Dt(_e,kt.line).text,kt.ch,Yt),Hr=Math.min(Lr,wr),ro=Math.max(Lr,wr),Mo=Math.min(m.line,kt.line),ti=Math.min(s.lastLine(),Math.max(m.line,kt.line));ti>=Mo;Mo++){var xi=Dt(_e,Mo).text,Po=Ub(xi,Hr,Yt);Hr==ro?Ht.push(new Ot(ut(Mo,Po),ut(Mo,Po))):xi.length>Po&&Ht.push(new Ot(ut(Mo,Po),ut(Mo,Ub(xi,ro,Yt))))}Ht.length||Ht.push(new Ot(m,m)),Je(_e,mt(He.ranges.slice(0,Oe).concat(Ht),Oe),{origin:"*mouse",scroll:!1}),s.scrollIntoView(kt)}else{var zr=Ie,eu=zr.anchor,fm=kt;if(v!="single"){if(v=="double")var tu=s.findWordAt(kt);else var tu=new Ot(ut(kt.line,0),Qe(_e,ut(kt.line+1,0)));Qt(tu.anchor,eu)>0?(fm=tu.head,eu=Fe(zr.from(),tu.anchor)):(fm=tu.anchor,eu=ke(zr.to(),tu.head))}var Ht=He.ranges.slice(0);Ht[Oe]=new Ot(Qe(_e,eu),fm),Je(_e,mt(Ht,Oe),am)}}function q(kt){var Ht=++Ft,Yt=be(s,kt,!0,v=="rect");if(Yt)if(Qt(Yt,gt)!=0){s.curOp.focus=to(),F(Yt);var Lr=B(he,_e);(Yt.line>=Lr.to||Yt.line<Lr.from)&&setTimeout(pn(s,function(){Ft==Ht&&q(kt)}),150)}else{var wr=kt.clientY<Tt.top?-20:kt.clientY>Tt.bottom?20:0;wr&&setTimeout(pn(s,function(){Ft==Ht&&(he.scroller.scrollTop+=wr,q(kt))}),50)}}function re(kt){s.state.selectingText=!1,Ft=1/0,ei(kt),he.input.focus(),no(document,"mousemove",Nt),no(document,"mouseup",_n),_e.history.lastSelOrigin=null}var he=s.display,_e=s.doc;ei(c);var Ie,Oe,He=_e.sel,We=He.ranges;if(x&&!c.shiftKey?(Oe=_e.sel.contains(m),Ie=Oe>-1?We[Oe]:new Ot(m,m)):(Ie=_e.sel.primary(),Oe=_e.sel.primIndex),hk?c.shiftKey&&c.metaKey:c.altKey)v="rect",x||(Ie=new Ot(m,m)),m=be(s,c,!0,!0),Oe=-1;else if(v=="double"){var je=s.findWordAt(m);Ie=s.display.shift||_e.extend?Ut(_e,Ie,je.anchor,je.head):je}else if(v=="triple"){var ht=new Ot(ut(m.line,0),Qe(_e,ut(m.line+1,0)));Ie=s.display.shift||_e.extend?Ut(_e,Ie,ht.anchor,ht.head):ht}else Ie=Ut(_e,Ie,m);x?Oe==-1?(Oe=We.length,Je(_e,mt(We.concat([Ie]),Oe),{scroll:!1,origin:"*mouse"})):We.length>1&&We[Oe].empty()&&v=="single"&&!c.shiftKey?(Je(_e,mt(We.slice(0,Oe).concat(We.slice(Oe+1)),0),{scroll:!1,origin:"*mouse"}),He=_e.sel):Ee(_e,Oe,Ie,am):(Oe=0,Je(_e,new $t([Ie],0),am),He=_e.sel);var gt=m,Tt=he.wrapper.getBoundingClientRect(),Ft=0,Nt=pn(s,function(kt){Sf(kt)?q(kt):re(kt)}),_n=pn(s,re);s.state.selectingText=_n,Jt(document,"mousemove",Nt),Jt(document,"mouseup",_n)}function gn(s,c,m,v){try{var x=c.clientX,F=c.clientY}catch{return!1}if(x>=Math.floor(s.display.gutters.getBoundingClientRect().right))return!1;v&&ei(c);var q=s.display,re=q.lineDiv.getBoundingClientRect();if(F>re.bottom||!An(s,m))return Br(c);F-=re.top-q.viewOffset;for(var he=0;he<s.options.gutters.length;++he){var _e=q.gutters.childNodes[he];if(_e&&_e.getBoundingClientRect().right>=x){var Ie=Qs(s.doc,F),Oe=s.options.gutters[he];return Or(s,m,s,Ie,Oe,c),Br(c)}}}function At(s,c){return gn(s,c,"gutterClick",!0)}function Gn(s){var c=this;if(br(c),!dr(c,s)&&!G(c.display,s)){ei(s),vn&&(Rb=+new Date);var m=be(c,s,!0),v=s.dataTransfer.files;if(m&&!c.isReadOnly())if(v&&v.length&&window.FileReader&&window.File)for(var x=v.length,F=Array(x),q=0,re=function(Ie,Oe){if(!c.options.allowDropFileTypes||pr(c.options.allowDropFileTypes,Ie.type)!=-1){var He=new FileReader;He.onload=pn(c,function(){var We=He.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(We)&&(We=""),F[Oe]=We,++q==x){m=Qe(c.doc,m);var je={from:m,to:m,text:c.doc.splitLines(F.join(c.doc.lineSeparator())),origin:"paste"};So(c.doc,je),et(c.doc,De(m,Za(je)))}}),He.readAsText(Ie)}},he=0;x>he;++he)re(v[he],he);else{if(c.state.draggingText&&c.doc.sel.contains(m)>-1)return c.state.draggingText(s),void setTimeout(function(){c.display.input.focus()},20);try{var F=s.dataTransfer.getData("Text");if(F){if(c.state.draggingText&&!(ks?s.altKey:s.ctrlKey))var _e=c.listSelections();if(bt(c.doc,De(m,m)),_e)for(var he=0;he<_e.length;++he)Cr(c.doc,"",_e[he].anchor,_e[he].head,"drag");c.replaceSelection(F,"around","paste"),c.display.input.focus()}}catch{}}}}function ln(s,c){if(vn&&(!s.state.draggingText||+new Date-Rb<100))return void Ff(c);if(!dr(s,c)&&!G(s.display,c)&&(c.dataTransfer.setData("Text",s.getSelection()),c.dataTransfer.effectAllowed="copyMove",c.dataTransfer.setDragImage&&!Nb)){var m=Rt("img",null,null,"position: fixed; left: 0; top: 0;");m.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ts&&(m.width=m.height=1,s.display.wrapper.appendChild(m),m._top=m.offsetTop),c.dataTransfer.setDragImage(m,0,0),Ts&&m.parentNode.removeChild(m)}}function Yn(s,c){var m=be(s,c);if(m){var v=document.createDocumentFragment();Dn(s,m,v),s.display.dragCursor||(s.display.dragCursor=Rt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),s.display.lineSpace.insertBefore(s.display.dragCursor,s.display.cursorDiv)),ji(s.display.dragCursor,v)}}function br(s){s.display.dragCursor&&(s.display.lineSpace.removeChild(s.display.dragCursor),s.display.dragCursor=null)}function Pn(s,c){Math.abs(s.doc.scrollTop-c)<2||(s.doc.scrollTop=c,ra||V(s,{top:c}),s.display.scroller.scrollTop!=c&&(s.display.scroller.scrollTop=c),s.display.scrollbars.setScrollTop(c),ra&&V(s),fn(s,100))}function Nn(s,c,m){(m?c==s.doc.scrollLeft:Math.abs(s.doc.scrollLeft-c)<2)||(c=Math.min(c,s.display.scroller.scrollWidth-s.display.scroller.clientWidth),s.doc.scrollLeft=c,I(s),s.display.scroller.scrollLeft!=c&&(s.display.scroller.scrollLeft=c),s.display.scrollbars.setScrollLeft(c))}function sr(s,c){var m=Fb(c),v=m.x,x=m.y,F=s.display,q=F.scroller,re=q.scrollWidth>q.clientWidth,he=q.scrollHeight>q.clientHeight;if(v&&re||x&&he){if(x&&ks&&jr){e:for(var _e=c.target,Ie=F.view;_e!=q;_e=_e.parentNode)for(var Oe=0;Oe<Ie.length;Oe++)if(Ie[Oe].node==_e){s.display.currentWheelTarget=_e;break e}}if(v&&!ra&&!Ts&&Hi!=null)return x&&he&&Pn(s,Math.max(0,Math.min(q.scrollTop+x*Hi,q.scrollHeight-q.clientHeight))),Nn(s,Math.max(0,Math.min(q.scrollLeft+v*Hi,q.scrollWidth-q.clientWidth))),(!x||x&&he)&&ei(c),void(F.wheelStartX=null);if(x&&Hi!=null){var He=x*Hi,We=s.doc.scrollTop,je=We+F.wrapper.clientHeight;0>He?We=Math.max(0,We+He-50):je=Math.min(s.doc.height,je+He+50),V(s,{top:We,bottom:je})}20>Mf&&(F.wheelStartX==null?(F.wheelStartX=q.scrollLeft,F.wheelStartY=q.scrollTop,F.wheelDX=v,F.wheelDY=x,setTimeout(function(){if(F.wheelStartX!=null){var ht=q.scrollLeft-F.wheelStartX,gt=q.scrollTop-F.wheelStartY,Tt=gt&&F.wheelDY&&gt/F.wheelDY||ht&&F.wheelDX&&ht/F.wheelDX;F.wheelStartX=F.wheelStartY=null,Tt&&(Hi=(Hi*Mf+Tt)/(Mf+1),++Mf)}},200)):(F.wheelDX+=v,F.wheelDY+=x))}}function Jr(s,c,m){if(typeof c=="string"&&(c=Pf[c],!c))return!1;s.display.input.ensurePolled();var v=s.display.shift,x=!1;try{s.isReadOnly()&&(s.state.suppressEdits=!0),m&&(s.display.shift=!1),x=c(s)!=$b}finally{s.display.shift=v,s.state.suppressEdits=!1}return x}function Ri(s,c,m){for(var v=0;v<s.state.keyMaps.length;v++){var x=Mc(c,s.state.keyMaps[v],m,s);if(x)return x}return s.options.extraKeys&&Mc(c,s.options.extraKeys,m,s)||Mc(c,s.options.keyMap,m,s)}function bi(s,c,m,v){var x=s.state.keySeq;if(x){if(vk(c))return"handled";pk.set(50,function(){s.state.keySeq==x&&(s.state.keySeq=null,s.display.input.reset())}),c=x+" "+c}var F=Ri(s,c,v);return F=="multi"&&(s.state.keySeq=c),F=="handled"&&Qr(s,"keyHandled",s,c,m),F!="handled"&&F!="multi"||(ei(m),Wn(s)),x&&!F&&/\'$/.test(c)?(ei(m),!0):!!F}function _o(s,c){var m=yk(c,!0);return m?c.shiftKey&&!s.state.keySeq?bi(s,"Shift-"+m,c,function(v){return Jr(s,v,!0)})||bi(s,m,c,function(v){return(typeof v=="string"?/^go[A-Z]/.test(v):v.motion)?Jr(s,v):void 0}):bi(s,m,c,function(v){return Jr(s,v)}):!1}function Go(s,c,m){return bi(s,"'"+m+"'",c,function(v){return Jr(s,v,!0)})}function Dr(s){var c=this;if(c.curOp.focus=to(),!dr(c,s)){vn&&11>jn&&s.keyCode==27&&(s.returnValue=!1);var m=s.keyCode;c.display.shift=m==16||s.shiftKey;var v=_o(c,s);Ts&&(im=v?m:null,!v&&m==88&&!Vb&&(ks?s.metaKey:s.ctrlKey)&&c.replaceSelection("",null,"cut")),m!=18||/\bCodeMirror-crosshair\b/.test(c.display.lineDiv.className)||Up(c)}}function Up(s){function c(v){v.keyCode!=18&&v.altKey||(Dc(m,"CodeMirror-crosshair"),no(document,"keyup",c),no(document,"mouseover",c))}var m=s.display.lineDiv;Rc(m,"CodeMirror-crosshair"),Jt(document,"keyup",c),Jt(document,"mouseover",c)}function cc(s){s.keyCode==16&&(this.doc.sel.shift=!1),dr(this,s)}function ys(s){var c=this;if(!(G(c.display,s)||dr(c,s)||s.ctrlKey&&!s.altKey||ks&&s.metaKey)){var m=s.keyCode,v=s.charCode;if(Ts&&m==im)return im=null,void ei(s);if(!Ts||s.which&&!(s.which<10)||!_o(c,s)){var x=String.fromCharCode(v??m);Go(c,s,x)||c.display.input.onKeyPress(s)}}}function of(s){s.state.delayingBlurEvent=!0,setTimeout(function(){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1,xo(s))},100)}function Rl(s){s.state.delayingBlurEvent&&(s.state.delayingBlurEvent=!1),s.options.readOnly!="nocursor"&&(s.state.focused||(Or(s,"focus",s),s.state.focused=!0,Rc(s.display.wrapper,"CodeMirror-focused"),s.curOp||s.display.selForContextMenu==s.doc.sel||(s.display.input.reset(),jr&&setTimeout(function(){s.display.input.reset(!0)},20)),s.display.input.receivedFocus()),Wn(s))}function xo(s){s.state.delayingBlurEvent||(s.state.focused&&(Or(s,"blur",s),s.state.focused=!1,Dc(s.display.wrapper,"CodeMirror-focused")),clearInterval(s.display.blinker),setTimeout(function(){s.state.focused||(s.display.shift=!1)},150))}function af(s,c){G(s.display,c)||lf(s,c)||dr(s,c,"contextmenu")||s.display.input.onContextMenu(c)}function lf(s,c){return An(s,"gutterContextMenu")?gn(s,c,"gutterContextMenu",!1):!1}function hc(s,c){if(Qt(s,c.from)<0)return s;if(Qt(s,c.to)<=0)return Za(c);var m=s.line+c.text.length-(c.to.line-c.from.line)-1,v=s.ch;return s.line==c.to.line&&(v+=Za(c).ch-c.to.ch),ut(m,v)}function fc(s,c){for(var m=[],v=0;v<s.sel.ranges.length;v++){var x=s.sel.ranges[v];m.push(new Ot(hc(x.anchor,c),hc(x.head,c)))}return mt(m,s.sel.primIndex)}function uf(s,c,m){return s.line==c.line?ut(m.line,s.ch-c.ch+m.ch):ut(m.line+(s.line-c.line),s.ch)}function dc(s,c,m){for(var v=[],x=ut(s.first,0),F=x,q=0;q<c.length;q++){var re=c[q],he=uf(re.from,x,F),_e=uf(Za(re),x,F);if(x=re.to,F=_e,m=="around"){var Ie=s.sel.ranges[q],Oe=Qt(Ie.head,Ie.anchor)<0;v[q]=new Ot(Oe?_e:he,Oe?he:_e)}else v[q]=new Ot(he,he)}return new $t(v,s.sel.primIndex)}function cf(s,c,m){var v={canceled:!1,from:c.from,to:c.to,text:c.text,origin:c.origin,cancel:function(){this.canceled=!0}};return m&&(v.update=function(x,F,q,re){x&&(this.from=Qe(s,x)),F&&(this.to=Qe(s,F)),q&&(this.text=q),re!==void 0&&(this.origin=re)}),Or(s,"beforeChange",s,v),s.cm&&Or(s.cm,"beforeChange",s.cm,v),v.canceled?null:{from:v.from,to:v.to,text:v.text,origin:v.origin}}function So(s,c,m){if(s.cm){if(!s.cm.curOp)return pn(s.cm,So)(s,c,m);if(s.cm.state.suppressEdits)return}if(!(An(s,"beforeChange")||s.cm&&An(s.cm,"beforeChange"))||(c=cf(s,c,!0))){var v=Db&&!m&&_s(s,c.from,c.to);if(v)for(var x=v.length-1;x>=0;--x)pc(s,{from:v[x].from,to:v[x].to,text:x?[""]:c.text});else pc(s,c)}}function pc(s,c){if(c.text.length!=1||c.text[0]!=""||Qt(c.from,c.to)!=0){var m=fc(s,c);ge(s,c,m,s.cm?s.cm.curOp.id:NaN),Da(s,c,m,vc(s,c));var v=[];Xs(s,function(x,F){F||pr(v,x.history)!=-1||(ai(x.history,c),v.push(x.history)),Da(x,c,null,vc(x,c))})}}function Eo(s,c,m){if(!s.cm||!s.cm.state.suppressEdits){for(var v,x=s.history,F=s.sel,q=c=="undo"?x.done:x.undone,re=c=="undo"?x.undone:x.done,he=0;he<q.length&&(v=q[he],m?!v.ranges||v.equals(s.sel):v.ranges);he++);if(he!=q.length){for(x.lastOrigin=x.lastSelOrigin=null;v=q.pop(),v.ranges;){if(Ve(v,re),m&&!v.equals(s.sel))return void Je(s,v,{clearRedo:!1});F=v}var _e=[];Ve(F,re),re.push({changes:_e,generation:x.generation}),x.generation=v.generation||++x.maxGeneration;for(var Ie=An(s,"beforeChange")||s.cm&&An(s.cm,"beforeChange"),he=v.changes.length-1;he>=0;--he){var Oe=v.changes[he];if(Oe.origin=c,Ie&&!cf(s,Oe,!1))return void(q.length=0);_e.push(S(s,Oe));var He=he?fc(s,Oe):Sn(q);Da(s,Oe,He,pf(s,Oe)),!he&&s.cm&&s.cm.scrollIntoView({from:Oe.from,to:Za(Oe)});var We=[];Xs(s,function(ht,gt){gt||pr(We,ht.history)!=-1||(ai(ht.history,Oe),We.push(ht.history)),Da(ht,Oe,null,pf(ht,Oe))})}}}}function Vs(s,c){if(c!=0&&(s.first+=c,s.sel=new $t(Wa(s.sel.ranges,function(x){return new Ot(ut(x.anchor.line+c,x.anchor.ch),ut(x.head.line+c,x.head.ch))}),s.sel.primIndex),s.cm)){Zt(s.cm,s.first,s.first-c,c);for(var m=s.cm.display,v=m.viewFrom;v<m.viewTo;v++)Xr(s.cm,v,"gutter")}}function Da(s,c,m,v){if(s.cm&&!s.cm.curOp)return pn(s.cm,Da)(s,c,m,v);if(c.to.line<s.first)return void Vs(s,c.text.length-1-(c.to.line-c.from.line));if(!(c.from.line>s.lastLine())){if(c.from.line<s.first){var x=c.text.length-1-(s.first-c.from.line);Vs(s,x),c={from:ut(s.first,0),to:ut(c.to.line+x,c.to.ch),text:[Sn(c.text)],origin:c.origin}}var F=s.lastLine();c.to.line>F&&(c={from:c.from,to:ut(F,Dt(s,F).text.length),text:[c.text[0]],origin:c.origin}),c.removed=Js(s,c.from,c.to),m||(m=fc(s,c)),s.cm?Ra(s.cm,c,v):Vl(s,c,v),bt(s,m,Lo)}}function Ra(s,c,m){var v=s.doc,x=s.display,F=c.from,q=c.to,re=!1,he=F.line;s.options.lineWrapping||(he=kn(Bi(Dt(v,F.line))),v.iter(he,q.line+1,function(We){return We==x.maxLine?(re=!0,!0):void 0})),v.sel.contains(c.from,c.to)>-1&&Sc(s),Vl(v,c,m,d(s)),s.options.lineWrapping||(v.iter(he,F.line+c.text.length,function(We){var je=A(We);je>x.maxLineLength&&(x.maxLine=We,x.maxLineLength=je,x.maxLineChanged=!0,re=!1)}),re&&(s.curOp.updateMaxLine=!0)),v.frontier=Math.min(v.frontier,F.line),fn(s,400);var _e=c.text.length-(q.line-F.line)-1;c.full?Zt(s):F.line!=q.line||c.text.length!=1||ta(s.doc,c)?Zt(s,F.line,q.line+1,_e):Xr(s,F.line,"text");var Ie=An(s,"changes"),Oe=An(s,"change");if(Oe||Ie){var He={from:F,to:q,text:c.text,removed:c.removed,origin:c.origin};Oe&&Qr(s,"change",s,He),Ie&&(s.curOp.changeObjs||(s.curOp.changeObjs=[])).push(He)}s.display.selForContextMenu=null}function Cr(s,c,m,v,x){if(v||(v=m),Qt(v,m)<0){var F=v;v=m,m=F}typeof c=="string"&&(c=s.splitLines(c)),So(s,{from:m,to:v,text:c,origin:x})}function hf(s,c){if(!dr(s,"scrollCursorIntoView")){var m=s.display,v=m.sizer.getBoundingClientRect(),x=null;if(c.top+v.top<0?x=!0:c.bottom+v.top>(window.innerHeight||document.documentElement.clientHeight)&&(x=!1),x!=null&&!ck){var F=Rt("div","",null,"position: absolute; top: "+(c.top-m.viewOffset-En(s.display))+"px; height: "+(c.bottom-c.top+Te(s)+m.barHeight)+"px; left: "+c.left+"px; width: 2px;");s.display.lineSpace.appendChild(F),F.scrollIntoView(x),s.display.lineSpace.removeChild(F)}}}function ff(s,c,m,v){v==null&&(v=0);for(var x=0;5>x;x++){var F=!1,q=cr(s,c),re=m&&m!=c?cr(s,m):q,he=Yo(s,Math.min(q.left,re.left),Math.min(q.top,re.top)-v,Math.max(q.left,re.left),Math.max(q.bottom,re.bottom)+v),_e=s.doc.scrollTop,Ie=s.doc.scrollLeft;if(he.scrollTop!=null&&(Pn(s,he.scrollTop),Math.abs(s.doc.scrollTop-_e)>1&&(F=!0)),he.scrollLeft!=null&&(Nn(s,he.scrollLeft),Math.abs(s.doc.scrollLeft-Ie)>1&&(F=!0)),!F)break}return q}function qp(s,c,m,v,x){var F=Yo(s,c,m,v,x);F.scrollTop!=null&&Pn(s,F.scrollTop),F.scrollLeft!=null&&Nn(s,F.scrollLeft)}function Yo(s,c,m,v,x){var F=s.display,q=hn(s.display);0>m&&(m=0);var re=s.curOp&&s.curOp.scrollTop!=null?s.curOp.scrollTop:F.scroller.scrollTop,he=Ke(s),_e={};x-m>he&&(x=m+he);var Ie=s.doc.height+Tr(F),Oe=q>m,He=x>Ie-q;if(re>m)_e.scrollTop=Oe?0:m;else if(x>re+he){var We=Math.min(m,(He?Ie:x)-he);We!=re&&(_e.scrollTop=We)}var je=s.curOp&&s.curOp.scrollLeft!=null?s.curOp.scrollLeft:F.scroller.scrollLeft,ht=Ye(s)-(s.options.fixedGutter?F.gutters.offsetWidth:0),gt=v-c>ht;return gt&&(v=c+ht),10>c?_e.scrollLeft=0:je>c?_e.scrollLeft=Math.max(0,c-(gt?0:10)):v>ht+je-3&&(_e.scrollLeft=v+(gt?0:10)-ht),_e}function Fa(s,c,m){m==null||Fl(s),m!=null&&(s.curOp.scrollTop=(s.curOp.scrollTop==null?s.doc.scrollTop:s.curOp.scrollTop)+m)}function Ko(s){Fl(s);var c=s.getCursor(),m=c,v=c;s.options.lineWrapping||(m=c.ch?ut(c.line,c.ch-1):c,v=ut(c.line,c.ch+1)),s.curOp.scrollToPos={from:m,to:v,margin:s.options.cursorScrollMargin,isCursor:!0}}function Fl(s){var c=s.curOp.scrollToPos;if(c){s.curOp.scrollToPos=null;var m=ir(s,c.from),v=ir(s,c.to),x=Yo(s,Math.min(m.left,v.left),Math.min(m.top,v.top)-c.margin,Math.max(m.right,v.right),Math.max(m.bottom,v.bottom)+c.margin);s.scrollTo(x.scrollLeft,x.scrollTop)}}function Zo(s,c,m,v){var x,F=s.doc;m==null&&(m="add"),m=="smart"&&(F.mode.indent?x=Rn(s,c):m="prev");var q=s.options.tabSize,re=Dt(F,c),he=Cs(re.text,null,q);re.stateAfter&&(re.stateAfter=null);var _e,Ie=re.text.match(/^\s*/)[0];if(v||/\S/.test(re.text)){if(m=="smart"&&(_e=F.mode.indent(x,re.text.slice(Ie.length),re.text),_e==$b||_e>150)){if(!v)return;m="prev"}}else _e=0,m="not";m=="prev"?_e=c>F.first?Cs(Dt(F,c-1).text,null,q):0:m=="add"?_e=he+s.options.indentUnit:m=="subtract"?_e=he-s.options.indentUnit:typeof m=="number"&&(_e=he+m),_e=Math.max(0,_e);var Oe="",He=0;if(s.options.indentWithTabs)for(var We=Math.floor(_e/q);We;--We)He+=q,Oe+="	";if(_e>He&&(Oe+=Ec(_e-He)),Oe!=Ie)return Cr(F,Oe,ut(c,0),ut(c,Ie.length),"+input"),re.stateAfter=null,!0;for(var We=0;We<F.sel.ranges.length;We++){var je=F.sel.ranges[We];if(je.head.line==c&&je.head.ch<Ie.length){var He=ut(c,Ie.length);Ee(F,We,new Ot(He,He));break}}}function Bl(s,c,m,v){var x=c,F=c;return typeof c=="number"?F=Dt(s,ze(s,c)):x=kn(c),x==null?null:(v(F,x)&&s.cm&&Xr(s.cm,x,m),F)}function Rr(s,c){for(var m=s.doc.sel.ranges,v=[],x=0;x<m.length;x++){for(var F=c(m[x]);v.length&&Qt(F.from,Sn(v).to)<=0;){var q=v.pop();if(Qt(q.from,F.from)<0){F.from=q.from;break}}v.push(F)}Qn(s,function(){for(var re=v.length-1;re>=0;re--)Cr(s.doc,"",v[re].from,v[re].to,"+delete");Ko(s)})}function Gs(s,c,m,v,x){function F(){var Ft=re+m;return Ft<s.first||Ft>=s.first+s.size?!1:(re=Ft,Ie=Dt(s,Ft))}function q(Ft){var Nt=(x?tm:Ob)(Ie,he,m,!0);if(Nt==null){if(Ft||!F())return!1;he=x?(0>m?kf:Tf)(Ie):0>m?Ie.text.length:0}else he=Nt;return!0}var re=c.line,he=c.ch,_e=m,Ie=Dt(s,re);if(v=="char")q();else if(v=="column")q(!0);else if(v=="word"||v=="group")for(var Oe=null,He=v=="group",We=s.cm&&s.cm.getHelper(c,"wordChars"),je=!0;!(0>m)||q(!je);je=!1){var ht=Ie.text.charAt(he)||`
`,gt=Af(ht,We)?"w":He&&ht==`
`?"n":!He||/\s/.test(ht)?null:"p";if(!He||je||gt||(gt="s"),Oe&&Oe!=gt){0>m&&(m=1,q());break}if(gt&&(Oe=gt),m>0&&!q(!je))break}var Tt=it(s,ut(re,he),c,_e,!0);return Qt(c,Tt)||(Tt.hitSide=!0),Tt}function df(s,c,m,v){var x,F=s.doc,q=c.left;if(v=="page"){var re=Math.min(s.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight);x=c.top+m*(re-(0>m?1.5:.5)*hn(s.display))}else v=="line"&&(x=m>0?c.bottom+3:c.top-3);for(;;){var he=Kr(s,q,x);if(!he.outside)break;if(0>m?0>=x:x>=F.height){he.hitSide=!0;break}x+=5*m}return he}function Bt(s,c,m,v){o.defaults[s]=c,m&&(Xl[s]=v?function(x,F,q){q!=Bb&&m(x,F,q)}:m)}function Wp(s){for(var c,m,v,x,F=s.split(/-(?!$)/),s=F[F.length-1],q=0;q<F.length-1;q++){var re=F[q];if(/^(cmd|meta|m)$/i.test(re))x=!0;else if(/^a(lt)?$/i.test(re))c=!0;else if(/^(c|ctrl|control)$/i.test(re))m=!0;else{if(!/^s(hift)$/i.test(re))throw new Error("Unrecognized modifier name: "+re);v=!0}}return c&&(s="Alt-"+s),m&&(s="Ctrl-"+s),x&&(s="Cmd-"+s),v&&(s="Shift-"+s),s}function bs(s){return typeof s=="string"?oa[s]:s}function Xo(s,c,m,v,x){if(v&&v.shared)return Ba(s,c,m,v,x);if(s.cm&&!s.cm.curOp)return pn(s.cm,Xo)(s,c,m,v,x);var F=new Xa(s,x),q=Qt(c,m);if(v&&As(v,F,!1),q>0||q==0&&F.clearWhenEmpty!==!1)return F;if(F.replacedWith&&(F.collapsed=!0,F.widgetNode=Rt("span",[F.replacedWith],"CodeMirror-widget"),v.handleMouseEvents||F.widgetNode.setAttribute("cm-ignore-events","true"),v.insertLeft&&(F.widgetNode.insertLeft=!0)),F.collapsed){if(zl(s,c.line,c,m,F)||c.line!=m.line&&zl(s,m.line,c,m,F))throw new Error("Inserting collapsed marker partially overlapping an existing one");ia=!0}F.addToHistory&&ge(s,{from:c,to:m,origin:"markText"},s.sel,NaN);var re,he=c.line,_e=s.cm;if(s.iter(he,m.line+1,function(Oe){_e&&F.collapsed&&!_e.options.lineWrapping&&Bi(Oe)==_e.display.maxLine&&(re=!0),F.collapsed&&he!=c.line&&rs(Oe,0),gc(Oe,new Fi(F,he==c.line?c.ch:null,he==m.line?m.ch:null)),++he}),F.collapsed&&s.iter(c.line,m.line+1,function(Oe){Zs(s,Oe)&&rs(Oe,0)}),F.clearOnEnter&&Jt(F,"beforeCursorEnter",function(){F.clear()}),F.readOnly&&(Db=!0,(s.history.done.length||s.history.undone.length)&&s.clearHistory()),F.collapsed&&(F.id=++om,F.atomic=!0),_e){if(re&&(_e.curOp.updateMaxLine=!0),F.collapsed)Zt(_e,c.line,m.line+1);else if(F.className||F.title||F.startStyle||F.endStyle||F.css)for(var Ie=c.line;Ie<=m.line;Ie++)Xr(_e,Ie,"text");F.atomic&&xt(_e.doc),Qr(_e,"markerAdded",_e,F)}return F}function Ba(s,c,m,v,x){v=As(v),v.shared=!1;var F=[Xo(s,c,m,v,x)],q=F[0],re=v.widgetNode;return Xs(s,function(he){re&&(v.widgetNode=re.cloneNode(!0)),F.push(Xo(he,Qe(he,c),Qe(he,m),v,x));for(var _e=0;_e<he.linked.length;++_e)if(he.linked[_e].isParent)return;q=Sn(F)}),new If(F,q)}function mc(s){return s.findMarks(ut(s.first,0),s.clipPos(ut(s.lastLine())),function(c){return c.parent})}function jl(s,c){for(var m=0;m<c.length;m++){var v=c[m],x=v.find(),F=s.clipPos(x.from),q=s.clipPos(x.to);if(Qt(F,q)){var re=Xo(s,F,q,v.primary,v.primary.type);v.markers.push(re),re.parent=v}}}function Vp(s){for(var c=0;c<s.length;c++){var m=s[c],v=[m.primary.doc];Xs(m.primary.doc,function(q){v.push(q)});for(var x=0;x<m.markers.length;x++){var F=m.markers[x];pr(v,F.doc)==-1&&(F.parent=null,m.markers.splice(x--,1))}}}function Fi(s,c,m){this.marker=s,this.from=c,this.to=m}function Ys(s,c){if(s)for(var m=0;m<s.length;++m){var v=s[m];if(v.marker==c)return v}}function Gp(s,c){for(var m,v=0;v<s.length;++v)s[v]!=c&&(m||(m=[])).push(s[v]);return m}function gc(s,c){s.markedSpans=s.markedSpans?s.markedSpans.concat([c]):[c],c.marker.attachLine(s)}function Yp(s,c,m){if(s)for(var v,x=0;x<s.length;++x){var F=s[x],q=F.marker,re=F.from==null||(q.inclusiveLeft?F.from<=c:F.from<c);if(re||F.from==c&&q.type=="bookmark"&&(!m||!F.marker.insertLeft)){var he=F.to==null||(q.inclusiveRight?F.to>=c:F.to>c);(v||(v=[])).push(new Fi(q,F.from,he?null:F.to))}}return v}function ws(s,c,m){if(s)for(var v,x=0;x<s.length;++x){var F=s[x],q=F.marker,re=F.to==null||(q.inclusiveRight?F.to>=c:F.to>c);if(re||F.from==c&&q.type=="bookmark"&&(!m||F.marker.insertLeft)){var he=F.from==null||(q.inclusiveLeft?F.from<=c:F.from<c);(v||(v=[])).push(new Fi(q,he?null:F.from-c,F.to==null?null:F.to-c))}}return v}function vc(s,c){if(c.full)return null;var m=wt(s,c.from.line)&&Dt(s,c.from.line).markedSpans,v=wt(s,c.to.line)&&Dt(s,c.to.line).markedSpans;if(!m&&!v)return null;var x=c.from.ch,F=c.to.ch,q=Qt(c.from,c.to)==0,re=Yp(m,x,q),he=ws(v,F,q),_e=c.text.length==1,Ie=Sn(c.text).length+(_e?x:0);if(re)for(var Oe=0;Oe<re.length;++Oe){var He=re[Oe];if(He.to==null){var We=Ys(he,He.marker);We?_e&&(He.to=We.to==null?null:We.to+Ie):He.to=x}}if(he)for(var Oe=0;Oe<he.length;++Oe){var He=he[Oe];if(He.to!=null&&(He.to+=Ie),He.from==null){var We=Ys(re,He.marker);We||(He.from=Ie,_e&&(re||(re=[])).push(He))}else He.from+=Ie,_e&&(re||(re=[])).push(He)}re&&(re=Ao(re)),he&&he!=re&&(he=Ao(he));var je=[re];if(!_e){var ht,gt=c.text.length-2;if(gt>0&&re)for(var Oe=0;Oe<re.length;++Oe)re[Oe].to==null&&(ht||(ht=[])).push(new Fi(re[Oe].marker,null,null));for(var Oe=0;gt>Oe;++Oe)je.push(ht);je.push(he)}return je}function Ao(s){for(var c=0;c<s.length;++c){var m=s[c];m.from!=null&&m.from==m.to&&m.marker.clearWhenEmpty!==!1&&s.splice(c--,1)}return s.length?s:null}function pf(s,c){var m=Gt(s,c),v=vc(s,c);if(!m)return v;if(!v)return m;for(var x=0;x<m.length;++x){var F=m[x],q=v[x];if(F&&q)e:for(var re=0;re<q.length;++re){for(var he=q[re],_e=0;_e<F.length;++_e)if(F[_e].marker==he.marker)continue e;F.push(he)}else q&&(m[x]=q)}return m}function _s(s,c,m){var v=null;if(s.iter(c.line,m.line+1,function(We){if(We.markedSpans)for(var je=0;je<We.markedSpans.length;++je){var ht=We.markedSpans[je].marker;!ht.readOnly||v&&pr(v,ht)!=-1||(v||(v=[])).push(ht)}}),!v)return null;for(var x=[{from:c,to:m}],F=0;F<v.length;++F)for(var q=v[F],re=q.find(0),he=0;he<x.length;++he){var _e=x[he];if(!(Qt(_e.to,re.from)<0||Qt(_e.from,re.to)>0)){var Ie=[he,1],Oe=Qt(_e.from,re.from),He=Qt(_e.to,re.to);(0>Oe||!q.inclusiveLeft&&!Oe)&&Ie.push({from:_e.from,to:re.from}),(He>0||!q.inclusiveRight&&!He)&&Ie.push({from:re.to,to:_e.to}),x.splice.apply(x,Ie),he+=Ie.length-1}}return x}function ja(s){var c=s.markedSpans;if(c){for(var m=0;m<c.length;++m)c[m].marker.detachLine(s);s.markedSpans=null}}function yc(s,c){if(c){for(var m=0;m<c.length;++m)c[m].marker.attachLine(s);s.markedSpans=c}}function Jo(s){return s.inclusiveLeft?-1:0}function To(s){return s.inclusiveRight?1:0}function Hl(s,c){var m=s.lines.length-c.lines.length;if(m!=0)return m;var v=s.find(),x=c.find(),F=Qt(v.from,x.from)||Jo(s)-Jo(c);if(F)return-F;var q=Qt(v.to,x.to)||To(s)-To(c);return q||c.id-s.id}function Ha(s,c){var m,v=ia&&s.markedSpans;if(v)for(var x,F=0;F<v.length;++F)x=v[F],x.marker.collapsed&&(c?x.from:x.to)==null&&(!m||Hl(m,x.marker)<0)&&(m=x.marker);return m}function ko(s){return Ha(s,!0)}function Ks(s){return Ha(s,!1)}function zl(s,c,m,v,x){var F=Dt(s,c),q=ia&&F.markedSpans;if(q)for(var re=0;re<q.length;++re){var he=q[re];if(he.marker.collapsed){var _e=he.marker.find(0),Ie=Qt(_e.from,m)||Jo(he.marker)-Jo(x),Oe=Qt(_e.to,v)||To(he.marker)-To(x);if(!(Ie>=0&&0>=Oe||0>=Ie&&Oe>=0)&&(0>=Ie&&(he.marker.inclusiveRight&&x.inclusiveLeft?Qt(_e.to,m)>=0:Qt(_e.to,m)>0)||Ie>=0&&(he.marker.inclusiveRight&&x.inclusiveLeft?Qt(_e.from,v)<=0:Qt(_e.from,v)<0)))return!0}}}function Bi(s){for(var c;c=ko(s);)s=c.find(-1,!0).line;return s}function Kp(s){for(var c,m;c=Ks(s);)s=c.find(1,!0).line,(m||(m=[])).push(s);return m}function Qo(s,c){var m=Dt(s,c),v=Bi(m);return m==v?c:kn(v)}function mf(s,c){if(c>s.lastLine())return c;var m,v=Dt(s,c);if(!Zs(s,v))return c;for(;m=Ks(v);)v=m.find(1,!0).line;return kn(v)+1}function Zs(s,c){var m=ia&&c.markedSpans;if(m){for(var v,x=0;x<m.length;++x)if(v=m[x],v.marker.collapsed&&(v.from==null||!v.marker.widgetNode&&v.from==0&&v.marker.inclusiveLeft&&bc(s,c,v)))return!0}}function bc(s,c,m){if(m.to==null){var v=m.marker.find(1,!0);return bc(s,v.line,Ys(v.line.markedSpans,m.marker))}if(m.marker.inclusiveRight&&m.to==c.text.length)return!0;for(var x,F=0;F<c.markedSpans.length;++F)if(x=c.markedSpans[F],x.marker.collapsed&&!x.marker.widgetNode&&x.from==m.to&&(x.to==null||x.to!=m.from)&&(x.marker.inclusiveLeft||m.marker.inclusiveRight)&&bc(s,c,x))return!0}function wc(s,c,m){Ss(c)<(s.curOp&&s.curOp.scrollTop||s.doc.scrollTop)&&Fa(s,null,m)}function za(s){if(s.height!=null)return s.height;var c=s.doc.cm;if(!c)return 0;if(!lm(document.body,s.node)){var m="position: relative;";s.coverGutter&&(m+="margin-left: -"+c.display.gutters.offsetWidth+"px;"),s.noHScroll&&(m+="width: "+c.display.wrapper.clientWidth+"px;"),ji(c.display.measure,Rt("div",[s.node],null,m))}return s.height=s.node.parentNode.offsetHeight}function ns(s,c,m,v){var x=new Df(s,m,v),F=s.cm;return F&&x.noHScroll&&(F.display.alignWidgets=!0),Bl(s,c,"widget",function(q){var re=q.widgets||(q.widgets=[]);if(x.insertAt==null?re.push(x):re.splice(Math.min(re.length-1,Math.max(0,x.insertAt)),0,x),x.line=q,F&&!Zs(s,q)){var he=Ss(q)<s.scrollTop;rs(q,q.height+za(x)),he&&Fa(F,null,x.height),F.curOp.forceUpdate=!0}return!0}),x}function $l(s,c,m,v){s.text=c,s.stateAfter&&(s.stateAfter=null),s.styles&&(s.styles=null),s.order!=null&&(s.order=null),ja(s),yc(s,m);var x=v?v(s):1;x!=s.height&&rs(s,x)}function Zp(s){s.parent=null,ja(s)}function $a(s,c){if(s)for(;;){var m=s.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!m)break;s=s.slice(0,m.index)+s.slice(m.index+m[0].length);var v=m[1]?"bgClass":"textClass";c[v]==null?c[v]=m[2]:new RegExp("(?:^|s)"+m[2]+"(?:$|s)").test(c[v])||(c[v]+=" "+m[2])}return s}function gf(s,c){if(s.blankLine)return s.blankLine(c);if(s.innerMode){var m=o.innerMode(s,c);return m.mode.blankLine?m.mode.blankLine(m.state):void 0}}function Ul(s,c,m,v){for(var x=0;10>x;x++){v&&(v[0]=o.innerMode(s,m).mode);var F=s.token(c,m);if(c.pos>c.start)return F}throw new Error("Mode "+s.name+" failed to advance stream.")}function vf(s,c,m,v){function x(He){return{start:Oe.start,end:Oe.pos,string:Oe.current(),type:F||null,state:He?sa(q.mode,Ie):Ie}}var F,q=s.doc,re=q.mode;c=Qe(q,c);var he,_e=Dt(q,c.line),Ie=Rn(s,c.line,m),Oe=new Nf(_e.text,s.options.tabSize);for(v&&(he=[]);(v||Oe.pos<c.ch)&&!Oe.eol();)Oe.start=Oe.pos,F=Ul(re,Oe,Ie),v&&he.push(x(!0));return v?he:x()}function ea(s,c,m,v,x,F,q){var re=m.flattenSpans;re==null&&(re=s.options.flattenSpans);var he,_e=0,Ie=null,Oe=new Nf(c,s.options.tabSize),He=s.options.addModeClass&&[null];for(c==""&&$a(gf(m,v),F);!Oe.eol();){if(Oe.pos>s.options.maxHighlightLength?(re=!1,q&&ql(s,c,v,Oe.pos),Oe.pos=c.length,he=null):he=$a(Ul(m,Oe,v,He),F),He){var We=He[0].name;We&&(he="m-"+(he?We+" "+he:We))}if(!re||Ie!=he){for(;_e<Oe.start;)_e=Math.min(Oe.start,_e+5e4),x(_e,Ie);Ie=he}Oe.start=Oe.pos}for(;_e<Oe.pos;){var je=Math.min(Oe.pos,_e+5e4);x(je,Ie),_e=je}}function yf(s,c,m,v){var x=[s.state.modeGen],F={};ea(s,c.text,s.doc.mode,m,function(Ie,Oe){x.push(Ie,Oe)},F,v);for(var q=0;q<s.state.overlays.length;++q){var re=s.state.overlays[q],he=1,_e=0;ea(s,c.text,re.mode,!0,function(Ie,Oe){for(var He=he;Ie>_e;){var We=x[he];We>Ie&&x.splice(he,1,Ie,x[he+1],We),he+=2,_e=Math.min(Ie,We)}if(Oe)if(re.opaque)x.splice(He,he-He,Ie,"cm-overlay "+Oe),he=He+2;else for(;he>He;He+=2){var je=x[He+1];x[He+1]=(je?je+" ":"")+"cm-overlay "+Oe}},F)}return{styles:x,classes:F.bgClass||F.textClass?F:null}}function Co(s,c,m){if(!c.styles||c.styles[0]!=s.state.modeGen){var v=Rn(s,kn(c)),x=yf(s,c,c.text.length>s.options.maxHighlightLength?sa(s.doc.mode,v):v);c.stateAfter=v,c.styles=x.styles,x.classes?c.styleClasses=x.classes:c.styleClasses&&(c.styleClasses=null),m===s.doc.frontier&&s.doc.frontier++}return c.styles}function ql(s,c,m,v){var x=s.doc.mode,F=new Nf(c,s.options.tabSize);for(F.start=F.pos=v||0,c==""&&gf(x,m);!F.eol();)Ul(x,F,m),F.start=F.pos}function _c(s,c){if(!s||/^\s*$/.test(s))return null;var m=c.addModeClass?wk:bk;return m[s]||(m[s]=s.replace(/\S+/g,"cm-$&"))}function bf(s,c){var m=Rt("span",null,null,jr?"padding-right: .1px":null),v={pre:Rt("pre",[m],"CodeMirror-line"),content:m,col:0,pos:0,cm:s,splitSpaces:(vn||jr)&&s.getOption("lineWrapping")};c.measure={};for(var x=0;x<=(c.rest?c.rest.length:0);x++){var F,q=x?c.rest[x-1]:c.line;v.pos=0,v.addToken=wf,nk(s.display.measure)&&(F=a(q))&&(v.addToken=Ua(v.addToken,F)),v.map=[];var re=c!=s.display.externalMeasured&&kn(q);Wl(q,v,Co(s,q,re)),q.styleClasses&&(q.styleClasses.bgClass&&(v.bgClass=Xp(q.styleClasses.bgClass,v.bgClass||"")),q.styleClasses.textClass&&(v.textClass=Xp(q.styleClasses.textClass,v.textClass||""))),v.map.length==0&&v.map.push(0,0,v.content.appendChild(tk(s.display.measure))),x==0?(c.measure.map=v.map,c.measure.cache={}):((c.measure.maps||(c.measure.maps=[])).push(v.map),(c.measure.caches||(c.measure.caches=[])).push({}))}if(jr){var he=v.content.lastChild;(/\bcm-tab\b/.test(he.className)||he.querySelector&&he.querySelector(".cm-tab"))&&(v.content.className="cm-tab-wrap-hack")}return Or(s,"renderLine",s,c.line,v.pre),v.pre.className&&(v.textClass=Xp(v.pre.className,v.textClass||"")),v}function xs(s){var c=Rt("span","","cm-invalidchar");return c.title="\\u"+s.charCodeAt(0).toString(16),c.setAttribute("aria-label",c.title),c}function wf(s,c,m,v,x,F,q){if(c){var re=s.splitSpaces?c.replace(/ {3,}/g,_f):c,he=s.cm.state.specialChars,_e=!1;if(he.test(c))for(var Ie=document.createDocumentFragment(),Oe=0;;){he.lastIndex=Oe;var He=he.exec(c),We=He?He.index-Oe:c.length-Oe;if(We){var je=document.createTextNode(re.slice(Oe,Oe+We));vn&&9>jn?Ie.appendChild(Rt("span",[je])):Ie.appendChild(je),s.map.push(s.pos,s.pos+We,je),s.col+=We,s.pos+=We}if(!He)break;if(Oe+=We+1,He[0]=="	"){var ht=s.cm.options.tabSize,gt=ht-s.col%ht,je=Ie.appendChild(Rt("span",Ec(gt),"cm-tab"));je.setAttribute("role","presentation"),je.setAttribute("cm-text","	"),s.col+=gt}else if(He[0]=="\r"||He[0]==`
`){var je=Ie.appendChild(Rt("span",He[0]=="\r"?"":"","cm-invalidchar"));je.setAttribute("cm-text",He[0]),s.col+=1}else{var je=s.cm.options.specialCharPlaceholder(He[0]);je.setAttribute("cm-text",He[0]),vn&&9>jn?Ie.appendChild(Rt("span",[je])):Ie.appendChild(je),s.col+=1}s.map.push(s.pos,s.pos+1,je),s.pos++}else{s.col+=c.length;var Ie=document.createTextNode(re);s.map.push(s.pos,s.pos+c.length,Ie),vn&&9>jn&&(_e=!0),s.pos+=c.length}if(m||v||x||_e||q){var Tt=m||"";v&&(Tt+=v),x&&(Tt+=x);var Ft=Rt("span",[Ie],Tt,q);return F&&(Ft.title=F),s.content.appendChild(Ft)}s.content.appendChild(Ie)}}function _f(s){for(var c=" ",m=0;m<s.length-2;++m)c+=m%2?" ":"";return c+=" "}function Ua(s,c){return function(m,v,x,F,q,re,he){x=x?x+" cm-force-border":"cm-force-border";for(var _e=m.pos,Ie=_e+v.length;;){for(var Oe=0;Oe<c.length;Oe++){var He=c[Oe];if(He.to>_e&&He.from<=_e)break}if(He.to>=Ie)return s(m,v,x,F,q,re,he);s(m,v.slice(0,He.to-_e),x,F,null,re,he),F=null,v=v.slice(He.to-_e),_e=He.to}}}function xf(s,c,m,v){var x=!v&&m.widgetNode;x&&s.map.push(s.pos,s.pos+c,x),!v&&s.cm.display.input.needsContentAttribute&&(x||(x=s.content.appendChild(document.createElement("span"))),x.setAttribute("cm-marker",m.id)),x&&(s.cm.display.input.setUneditable(x),s.content.appendChild(x)),s.pos+=c}function Wl(s,c,m){var v=s.markedSpans,x=s.text,F=0;if(v)for(var q,re,he,_e,Ie,Oe,He,We=x.length,je=0,ht=1,gt="",Tt=0;;){if(Tt==je){he=_e=Ie=Oe=re="",He=null,Tt=1/0;for(var Ft,Nt=[],_n=0;_n<v.length;++_n){var kt=v[_n],Ht=kt.marker;Ht.type=="bookmark"&&kt.from==je&&Ht.widgetNode?Nt.push(Ht):kt.from<=je&&(kt.to==null||kt.to>je||Ht.collapsed&&kt.to==je&&kt.from==je)?(kt.to!=null&&kt.to!=je&&Tt>kt.to&&(Tt=kt.to,_e=""),Ht.className&&(he+=" "+Ht.className),Ht.css&&(re=(re?re+";":"")+Ht.css),Ht.startStyle&&kt.from==je&&(Ie+=" "+Ht.startStyle),Ht.endStyle&&kt.to==Tt&&(Ft||(Ft=[])).push(Ht.endStyle,kt.to),Ht.title&&!Oe&&(Oe=Ht.title),Ht.collapsed&&(!He||Hl(He.marker,Ht)<0)&&(He=kt)):kt.from>je&&Tt>kt.from&&(Tt=kt.from)}if(Ft)for(var _n=0;_n<Ft.length;_n+=2)Ft[_n+1]==Tt&&(_e+=" "+Ft[_n]);if(!He||He.from==je)for(var _n=0;_n<Nt.length;++_n)xf(c,0,Nt[_n]);if(He&&(He.from||0)==je){if(xf(c,(He.to==null?We+1:He.to)-je,He.marker,He.from==null),He.to==null)return;He.to==je&&(He=!1)}}if(je>=We)break;for(var Yt=Math.min(We,Tt);;){if(gt){var Lr=je+gt.length;if(!He){var wr=Lr>Yt?gt.slice(0,Yt-je):gt;c.addToken(c,wr,q?q+he:he,Ie,je+wr.length==Tt?_e:"",Oe,re)}if(Lr>=Yt){gt=gt.slice(Yt-je),je=Yt;break}je=Lr,Ie=""}gt=x.slice(F,F=m[ht++]),q=_c(m[ht++],c.cm.options)}}else for(var ht=1;ht<m.length;ht+=2)c.addToken(c,x.slice(F,F=m[ht]),_c(m[ht+1],c.cm.options))}function ta(s,c){return c.from.ch==0&&c.to.ch==0&&Sn(c.text)==""&&(!s.cm||s.cm.options.wholeLineUpdateBefore)}function Vl(s,c,m,v){function x(gt){return m?m[gt]:null}function F(gt,Tt,Ft){$l(gt,Tt,Ft,v),Qr(gt,"change",gt,c)}function q(gt,Tt){for(var Ft=gt,Nt=[];Tt>Ft;++Ft)Nt.push(new Pc(_e[Ft],x(Ft),v));return Nt}var re=c.from,he=c.to,_e=c.text,Ie=Dt(s,re.line),Oe=Dt(s,he.line),He=Sn(_e),We=x(_e.length-1),je=he.line-re.line;if(c.full)s.insert(0,q(0,_e.length)),s.remove(_e.length,s.size-_e.length);else if(ta(s,c)){var ht=q(0,_e.length-1);F(Oe,Oe.text,We),je&&s.remove(re.line,je),ht.length&&s.insert(re.line,ht)}else if(Ie==Oe)if(_e.length==1)F(Ie,Ie.text.slice(0,re.ch)+He+Ie.text.slice(he.ch),We);else{var ht=q(1,_e.length-1);ht.push(new Pc(He+Ie.text.slice(he.ch),We,v)),F(Ie,Ie.text.slice(0,re.ch)+_e[0],x(0)),s.insert(re.line+1,ht)}else if(_e.length==1)F(Ie,Ie.text.slice(0,re.ch)+_e[0]+Oe.text.slice(he.ch),x(0)),s.remove(re.line+1,je);else{F(Ie,Ie.text.slice(0,re.ch)+_e[0],x(0)),F(Oe,He+Oe.text.slice(he.ch),We);var ht=q(1,_e.length-1);je>1&&s.remove(re.line+1,je-1),s.insert(re.line+1,ht)}Qr(s,"change",s,c)}function na(s){this.lines=s,this.parent=null;for(var c=0,m=0;c<s.length;++c)s[c].parent=this,m+=s[c].height;this.height=m}function qa(s){this.children=s;for(var c=0,m=0,v=0;v<s.length;++v){var x=s[v];c+=x.chunkSize(),m+=x.height,x.parent=this}this.size=c,this.height=m,this.parent=null}function Xs(s,c,m){function v(x,F,q){if(x.linked)for(var re=0;re<x.linked.length;++re){var he=x.linked[re];if(he.doc!=F){var _e=q&&he.sharedHist;m&&!_e||(c(he.doc,_e),v(he.doc,x,_e))}}}v(s,null,!0)}function xc(s,c){if(c.cm)throw new Error("This document is already in use.");s.doc=c,c.cm=s,g(s),h(s),s.options.lineWrapping||N(s),s.options.mode=c.modeOption,Zt(s)}function Dt(s,c){if(c-=s.first,0>c||c>=s.size)throw new Error("There is no line "+(c+s.first)+" in the document.");for(var m=s;!m.lines;)for(var v=0;;++v){var x=m.children[v],F=x.chunkSize();if(F>c){m=x;break}c-=F}return m.lines[c]}function Js(s,c,m){var v=[],x=c.line;return s.iter(c.line,m.line+1,function(F){var q=F.text;x==m.line&&(q=q.slice(0,m.ch)),x==c.line&&(q=q.slice(c.ch)),v.push(q),++x}),v}function Gl(s,c,m){var v=[];return s.iter(c,m,function(x){v.push(x.text)}),v}function rs(s,c){var m=c-s.height;if(m)for(var v=s;v;v=v.parent)v.height+=m}function kn(s){if(s.parent==null)return null;for(var c=s.parent,m=pr(c.lines,s),v=c.parent;v;c=v,v=v.parent)for(var x=0;v.children[x]!=c;++x)m+=v.children[x].chunkSize();return m+c.first}function Qs(s,c){var m=s.first;e:do{for(var v=0;v<s.children.length;++v){var x=s.children[v],F=x.height;if(F>c){s=x;continue e}c-=F,m+=x.chunkSize()}return m}while(!s.lines);for(var v=0;v<s.lines.length;++v){var q=s.lines[v],re=q.height;if(re>c)break;c-=re}return m+v}function Ss(s){s=Bi(s);for(var c=0,m=s.parent,v=0;v<m.lines.length;++v){var x=m.lines[v];if(x==s)break;c+=x.height}for(var F=m.parent;F;m=F,F=m.parent)for(var v=0;v<F.children.length;++v){var q=F.children[v];if(q==m)break;c+=q.height}return c}function a(s){var c=s.order;return c==null&&(c=s.order=Ok(s.text)),c}function p(s){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=s||1}function S(s,c){var m={from:Ae(c.from),to:Za(c),text:Js(s,c.from,c.to)};return st(s,m,c.from.line,c.to.line+1),Xs(s,function(v){st(v,m,c.from.line,c.to.line+1)},!0),m}function z(s){for(;s.length;){var c=Sn(s);if(!c.ranges)break;s.pop()}}function J(s,c){return c?(z(s.done),Sn(s.done)):s.done.length&&!Sn(s.done).ranges?Sn(s.done):s.done.length>1&&!s.done[s.done.length-2].ranges?(s.done.pop(),Sn(s.done)):void 0}function ge(s,c,m,v){var x=s.history;x.undone.length=0;var F,q=+new Date;if((x.lastOp==v||x.lastOrigin==c.origin&&c.origin&&(c.origin.charAt(0)=="+"&&s.cm&&x.lastModTime>q-s.cm.options.historyEventDelay||c.origin.charAt(0)=="*"))&&(F=J(x,x.lastOp==v))){var re=Sn(F.changes);Qt(c.from,c.to)==0&&Qt(c.from,re.to)==0?re.to=Za(c):F.changes.push(S(s,c))}else{var he=Sn(x.done);for(he&&he.ranges||Ve(s.sel,x.done),F={changes:[S(s,c)],generation:x.generation},x.done.push(F);x.done.length>x.undoDepth;)x.done.shift(),x.done[0].ranges||x.done.shift()}x.done.push(m),x.generation=++x.maxGeneration,x.lastModTime=x.lastSelTime=q,x.lastOp=x.lastSelOp=v,x.lastOrigin=x.lastSelOrigin=c.origin,re||Or(s,"historyAdded")}function Ne(s,c,m,v){var x=c.charAt(0);return x=="*"||x=="+"&&m.ranges.length==v.ranges.length&&m.somethingSelected()==v.somethingSelected()&&new Date-s.history.lastSelTime<=(s.cm?s.cm.options.historyEventDelay:500)}function qe(s,c,m,v){var x=s.history,F=v&&v.origin;m==x.lastSelOp||F&&x.lastSelOrigin==F&&(x.lastModTime==x.lastSelTime&&x.lastOrigin==F||Ne(s,F,Sn(x.done),c))?x.done[x.done.length-1]=c:Ve(c,x.done),x.lastSelTime=+new Date,x.lastSelOrigin=F,x.lastSelOp=m,v&&v.clearRedo!==!1&&z(x.undone)}function Ve(s,c){var m=Sn(c);m&&m.ranges&&m.equals(s)||c.push(s)}function st(s,c,m,v){var x=c["spans_"+s.id],F=0;s.iter(Math.max(s.first,m),Math.min(s.first+s.size,v),function(q){q.markedSpans&&((x||(x=c["spans_"+s.id]={}))[F]=q.markedSpans),++F})}function St(s){if(!s)return null;for(var c,m=0;m<s.length;++m)s[m].marker.explicitlyCleared?c||(c=s.slice(0,m)):c&&c.push(s[m]);return c?c.length?c:null:s}function Gt(s,c){var m=c["spans_"+s.id];if(!m)return null;for(var v=0,x=[];v<c.text.length;++v)x.push(St(m[v]));return x}function an(s,c,m){for(var v=0,x=[];v<s.length;++v){var F=s[v];if(F.ranges)x.push(m?$t.prototype.deepCopy.call(F):F);else{var q=F.changes,re=[];x.push({changes:re});for(var he=0;he<q.length;++he){var _e,Ie=q[he];if(re.push({from:Ie.from,to:Ie.to,text:Ie.text}),c)for(var Oe in Ie)(_e=Oe.match(/^spans_(\d+)$/))&&pr(c,Number(_e[1]))>-1&&(Sn(re)[Oe]=Ie[Oe],delete Ie[Oe])}}}return x}function Fr(s,c,m,v){m<s.line?s.line+=v:c<s.line&&(s.line=c,s.ch=0)}function fr(s,c,m,v){for(var x=0;x<s.length;++x){var F=s[x],q=!0;if(F.ranges){F.copied||(F=s[x]=F.deepCopy(),F.copied=!0);for(var re=0;re<F.ranges.length;re++)Fr(F.ranges[re].anchor,c,m,v),Fr(F.ranges[re].head,c,m,v)}else{for(var re=0;re<F.changes.length;++re){var he=F.changes[re];if(m<he.from.line)he.from=ut(he.from.line+v,he.from.ch),he.to=ut(he.to.line+v,he.to.ch);else if(c<=he.to.line){q=!1;break}}q||(s.splice(0,x+1),x=0)}}}function ai(s,c){var m=c.from.line,v=c.to.line,x=c.text.length-(v-m)-1;fr(s.done,m,v,x),fr(s.undone,m,v,x)}function Br(s){return s.defaultPrevented!=null?s.defaultPrevented:s.returnValue==0}function eo(s){return s.target||s.srcElement}function Sf(s){var c=s.which;return c==null&&(1&s.button?c=1:2&s.button?c=3:4&s.button&&(c=2)),ks&&s.ctrlKey&&c==1&&(c=3),c}function Yl(s,c,m){var v=s._handlers&&s._handlers[c];return m?v&&v.length>0?v.slice():Hb:v||Hb}function Qr(s,c){function m(re){return function(){re.apply(null,F)}}var v=Yl(s,c,!1);if(v.length){var x,F=Array.prototype.slice.call(arguments,2);Zl?x=Zl.delayedCallbacks:Nc?x=Nc:(x=Nc=[],setTimeout(Ef,0));for(var q=0;q<v.length;++q)x.push(m(v[q]))}}function Ef(){var s=Nc;Nc=null;for(var c=0;c<s.length;++c)s[c]()}function dr(s,c,m){return typeof c=="string"&&(c={type:c,preventDefault:function(){this.defaultPrevented=!0}}),Or(s,m||c.type,s,c),Br(c)||c.codemirrorIgnore}function Sc(s){var c=s._handlers&&s._handlers.cursorActivity;if(c)for(var m=s.curOp.cursorActivityHandlers||(s.curOp.cursorActivityHandlers=[]),v=0;v<c.length;++v)pr(m,c[v])==-1&&m.push(c[v])}function An(s,c){return Yl(s,c).length>0}function Es(s){s.prototype.on=function(c,m){Jt(this,c,m)},s.prototype.off=function(c,m){no(this,c,m)}}function Oo(){this.id=null}function Ec(s){for(;Bf.length<=s;)Bf.push(Sn(Bf)+" ");return Bf[s]}function Sn(s){return s[s.length-1]}function pr(s,c){for(var m=0;m<s.length;++m)if(s[m]==c)return m;return-1}function Wa(s,c){for(var m=[],v=0;v<s.length;v++)m[v]=c(s[v],v);return m}function Va(){}function Eb(s,c){var m;return Object.create?m=Object.create(s):(Va.prototype=s,m=new Va),c&&As(c,m),m}function As(s,c,m){c||(c={});for(var v in s)!s.hasOwnProperty(v)||m===!1&&c.hasOwnProperty(v)||(c[v]=s[v]);return c}function Ac(s){var c=Array.prototype.slice.call(arguments,1);return function(){return s.apply(null,c)}}function Af(s,c){return c?c.source.indexOf("\\w")>-1&&qb(s)?!0:c.test(s):qb(s)}function Ab(s){for(var c in s)if(s.hasOwnProperty(c)&&s[c])return!1;return!0}function Tc(s){return s.charCodeAt(0)>=768&&Ak.test(s)}function Rt(s,c,m,v){var x=document.createElement(s);if(m&&(x.className=m),v&&(x.style.cssText=v),typeof c=="string")x.appendChild(document.createTextNode(c));else if(c)for(var F=0;F<c.length;++F)x.appendChild(c[F]);return x}function Ga(s){for(var c=s.childNodes.length;c>0;--c)s.removeChild(s.firstChild);return s}function ji(s,c){return Ga(s).appendChild(c)}function to(){for(var s=document.activeElement;s&&s.root&&s.root.activeElement;)s=s.root.activeElement;return s}function kc(s){return new RegExp("(^|\\s)"+s+"(?:$|\\s)\\s*")}function Xp(s,c){for(var m=s.split(" "),v=0;v<m.length;v++)m[v]&&!kc(m[v]).test(c)&&(c+=" "+m[v]);return c}function Tb(s){if(document.body.getElementsByClassName)for(var c=document.body.getElementsByClassName("CodeMirror"),m=0;m<c.length;m++){var v=c[m].CodeMirror;v&&s(v)}}function QT(){Wb||(ek(),Wb=!0)}function ek(){var s;Jt(window,"resize",function(){s==null&&(s=setTimeout(function(){s=null,Tb(Di)},100))}),Jt(window,"blur",function(){Tb(xo)})}function tk(s){if(um==null){var c=Rt("span","");ji(s,Rt("span",[c,document.createTextNode("x")])),s.firstChild.offsetHeight!=0&&(um=c.offsetWidth<=1&&c.offsetHeight>2&&!(vn&&8>jn))}var m=um?Rt("span",""):Rt("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return m.setAttribute("cm-text",""),m}function nk(s){if(cm!=null)return cm;var c=ji(s,document.createTextNode("AA")),m=Ja(c,0,1).getBoundingClientRect();if(!m||m.left==m.right)return!1;var v=Ja(c,1,2).getBoundingClientRect();return cm=v.right-m.right<3}function rk(s){if(hm!=null)return hm;var c=ji(s,Rt("span","x")),m=c.getBoundingClientRect(),v=Ja(c,0,1).getBoundingClientRect();return hm=Math.abs(m.left-v.left)>1}function ik(s,c,m,v){if(!s)return v(c,m,"ltr");for(var x=!1,F=0;F<s.length;++F){var q=s[F];(q.from<m&&q.to>c||c==m&&q.to==c)&&(v(Math.max(q.from,c),Math.min(q.to,m),q.level==1?"rtl":"ltr"),x=!0)}x||v(c,m,"ltr")}function Jp(s){return s.level%2?s.to:s.from}function Qp(s){return s.level%2?s.from:s.to}function Tf(s){var c=a(s);return c?Jp(c[0]):0}function kf(s){var c=a(s);return c?Qp(Sn(c)):s.text.length}function kb(s,c){var m=Dt(s.doc,c),v=Bi(m);v!=m&&(c=kn(v));var x=a(v),F=x?x[0].level%2?kf(v):Tf(v):0;return ut(c,F)}function sk(s,c){for(var m,v=Dt(s.doc,c);m=Ks(v);)v=m.find(1,!0).line,c=null;var x=a(v),F=x?x[0].level%2?Tf(v):kf(v):v.text.length;return ut(c??kn(v),F)}function Cb(s,c){var m=kb(s,c.line),v=Dt(s.doc,m.line),x=a(v);if(!x||x[0].level==0){var F=Math.max(0,v.text.search(/\S/)),q=c.line==m.line&&c.ch<=F&&c.ch;return ut(m.line,q?0:F)}return m}function ok(s,c,m){var v=s[0].level;return c==v?!0:m==v?!1:m>c}function Cf(s,c){Fc=null;for(var m,v=0;v<s.length;++v){var x=s[v];if(x.from<c&&x.to>c)return v;if(x.from==c||x.to==c){if(m!=null)return ok(s,x.level,s[m].level)?(x.from!=x.to&&(Fc=m),v):(x.from!=x.to&&(Fc=v),m);m=v}}return m}function em(s,c,m,v){if(!v)return c+m;do c+=m;while(c>0&&Tc(s.text.charAt(c)));return c}function tm(s,c,m,v){var x=a(s);if(!x)return Ob(s,c,m,v);for(var F=Cf(x,c),q=x[F],re=em(s,c,q.level%2?-m:m,v);;){if(re>q.from&&re<q.to)return re;if(re==q.from||re==q.to)return Cf(x,re)==F?re:(q=x[F+=m],m>0==q.level%2?q.to:q.from);if(q=x[F+=m],!q)return null;re=m>0==q.level%2?em(s,q.to,-1,v):em(s,q.from,1,v)}}function Ob(s,c,m,v){var x=c+m;if(v)for(;x>0&&Tc(s.text.charAt(x));)x+=m;return 0>x||x>s.text.length?null:x}var wi=navigator.userAgent,Lb=navigator.platform,ra=/gecko\/\d/i.test(wi),Mb=/MSIE \d/.test(wi),Pb=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(wi),vn=Mb||Pb,jn=vn&&(Mb?document.documentMode||6:Pb[1]),jr=/WebKit\//.test(wi),ak=jr&&/Qt\/\d+\.\d+/.test(wi),lk=/Chrome\//.test(wi),Ts=/Opera\//.test(wi),Nb=/Apple Computer/.test(navigator.vendor),uk=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(wi),ck=/PhantomJS/.test(wi),Kl=/AppleWebKit/.test(wi)&&/Mobile\/\w+/.test(wi),Cc=Kl||/Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(wi),ks=Kl||/Mac/.test(Lb),hk=/\bCrOS\b/.test(wi),fk=/win/i.test(Lb),Ya=Ts&&wi.match(/Version\/(\d*\.\d*)/);Ya&&(Ya=Number(Ya[1])),Ya&&Ya>=15&&(Ts=!1,jr=!0);var Ib=ks&&(ak||Ts&&(Ya==null||12.11>Ya)),nm=ra||vn&&jn>=9,Db=!1,ia=!1;E.prototype=As({update:function(s){var c=s.scrollWidth>s.clientWidth+1,m=s.scrollHeight>s.clientHeight+1,v=s.nativeBarWidth;if(m){this.vert.style.display="block",this.vert.style.bottom=c?v+"px":"0";var x=s.viewHeight-(c?v:0);this.vert.firstChild.style.height=Math.max(0,s.scrollHeight-s.clientHeight+x)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(c){this.horiz.style.display="block",this.horiz.style.right=m?v+"px":"0",this.horiz.style.left=s.barLeft+"px";var F=s.viewWidth-s.barLeft-(m?v:0);this.horiz.firstChild.style.width=s.scrollWidth-s.clientWidth+F+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&s.clientHeight>0&&(v==0&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:m?v:0,bottom:c?v:0}},setScrollLeft:function(s){this.horiz.scrollLeft!=s&&(this.horiz.scrollLeft=s),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz)},setScrollTop:function(s){this.vert.scrollTop!=s&&(this.vert.scrollTop=s),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert)},zeroWidthHack:function(){var s=ks&&!uk?"12px":"18px";this.horiz.style.height=this.vert.style.width=s,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Oo,this.disableVert=new Oo},enableZeroWidthBar:function(s,c){function m(){var v=s.getBoundingClientRect(),x=document.elementFromPoint(v.left+1,v.bottom-1);x!=s?s.style.pointerEvents="none":c.set(1e3,m)}s.style.pointerEvents="auto",c.set(1e3,m)},clear:function(){var s=this.horiz.parentNode;s.removeChild(this.horiz),s.removeChild(this.vert)}},E.prototype),D.prototype=As({update:function(){return{bottom:0,right:0}},setScrollLeft:function(){},setScrollTop:function(){},clear:function(){}},D.prototype),o.scrollbarModel={native:E,null:D},Z.prototype.signal=function(s,c){An(s,c)&&this.events.push(arguments)},Z.prototype.finish=function(){for(var s=0;s<this.events.length;s++)Or.apply(null,this.events[s])};var ut=o.Pos=function(s,c){return this instanceof ut?(this.line=s,void(this.ch=c)):new ut(s,c)},Qt=o.cmpPos=function(s,c){return s.line-c.line||s.ch-c.ch},li=null;le.prototype=As({init:function(s){function c(q){if(!dr(v,q)){if(v.somethingSelected())li={lineWise:!1,text:v.getSelections()},m.inaccurateSelection&&(m.prevInput="",m.inaccurateSelection=!1,F.value=li.text.join(`
`),Ql(F));else{if(!v.options.lineWiseCopyCut)return;var re=H(v);li={lineWise:!0,text:re.text},q.type=="cut"?v.setSelections(re.ranges,null,Lo):(m.prevInput="",F.value=re.text.join(`
`),Ql(F))}q.type=="cut"&&(v.state.cutIncoming=!0)}}var m=this,v=this.cm,x=this.wrapper=Se(),F=this.textarea=x.firstChild;s.wrapper.insertBefore(x,s.wrapper.firstChild),Kl&&(F.style.width="0px"),Jt(F,"input",function(){vn&&jn>=9&&m.hasSelection&&(m.hasSelection=null),m.poll()}),Jt(F,"paste",function(q){dr(v,q)||me(q,v)||(v.state.pasteIncoming=!0,m.fastPoll())}),Jt(F,"cut",c),Jt(F,"copy",c),Jt(s.scroller,"paste",function(q){G(s,q)||dr(v,q)||(v.state.pasteIncoming=!0,m.focus())}),Jt(s.lineSpace,"selectstart",function(q){G(s,q)||ei(q)}),Jt(F,"compositionstart",function(){var q=v.getCursor("from");m.composing&&m.composing.range.clear(),m.composing={start:q,range:v.markText(q,v.getCursor("to"),{className:"CodeMirror-composing"})}}),Jt(F,"compositionend",function(){m.composing&&(m.poll(),m.composing.range.clear(),m.composing=null)})},prepareSelection:function(){var s=this.cm,c=s.display,m=s.doc,v=qn(s);if(s.options.moveInputWithCursor){var x=cr(s,m.sel.primary().head,"div"),F=c.wrapper.getBoundingClientRect(),q=c.lineDiv.getBoundingClientRect();v.teTop=Math.max(0,Math.min(c.wrapper.clientHeight-10,x.top+q.top-F.top)),v.teLeft=Math.max(0,Math.min(c.wrapper.clientWidth-10,x.left+q.left-F.left))}return v},showSelection:function(s){var c=this.cm,m=c.display;ji(m.cursorDiv,s.cursors),ji(m.selectionDiv,s.selection),s.teTop!=null&&(this.wrapper.style.top=s.teTop+"px",this.wrapper.style.left=s.teLeft+"px")},reset:function(s){if(!this.contextMenuPending){var c,m,v=this.cm,x=v.doc;if(v.somethingSelected()){this.prevInput="";var F=x.sel.primary();c=Vb&&(F.to().line-F.from().line>100||(m=v.getSelection()).length>1e3);var q=c?"-":m||v.getSelection();this.textarea.value=q,v.state.focused&&Ql(this.textarea),vn&&jn>=9&&(this.hasSelection=q)}else s||(this.prevInput=this.textarea.value="",vn&&jn>=9&&(this.hasSelection=null));this.inaccurateSelection=c}},getField:function(){return this.textarea},supportsTouch:function(){return!1},focus:function(){if(this.cm.options.readOnly!="nocursor"&&(!Cc||to()!=this.textarea))try{this.textarea.focus()}catch{}},blur:function(){this.textarea.blur()},resetPosition:function(){this.wrapper.style.top=this.wrapper.style.left=0},receivedFocus:function(){this.slowPoll()},slowPoll:function(){var s=this;s.pollingFast||s.polling.set(this.cm.options.pollInterval,function(){s.poll(),s.cm.state.focused&&s.slowPoll()})},fastPoll:function(){function s(){var v=m.poll();v||c?(m.pollingFast=!1,m.slowPoll()):(c=!0,m.polling.set(60,s))}var c=!1,m=this;m.pollingFast=!0,m.polling.set(20,s)},poll:function(){var s=this.cm,c=this.textarea,m=this.prevInput;if(this.contextMenuPending||!s.state.focused||Ck(c)&&!m&&!this.composing||s.isReadOnly()||s.options.disableInput||s.state.keySeq)return!1;var v=c.value;if(v==m&&!s.somethingSelected())return!1;if(vn&&jn>=9&&this.hasSelection===v||ks&&/[\uf700-\uf7ff]/.test(v))return s.display.input.reset(),!1;if(s.doc.sel==s.display.selForContextMenu){var x=v.charCodeAt(0);if(x!=8203||m||(m=""),x==8666)return this.reset(),this.cm.execCommand("undo")}for(var F=0,q=Math.min(m.length,v.length);q>F&&m.charCodeAt(F)==v.charCodeAt(F);)++F;var re=this;return Qn(s,function(){fe(s,v.slice(F),m.length-F,null,re.composing?"*compose":null),v.length>1e3||v.indexOf(`
`)>-1?c.value=re.prevInput="":re.prevInput=v,re.composing&&(re.composing.range.clear(),re.composing.range=s.markText(re.composing.start,s.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},ensurePolled:function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},onKeyPress:function(){vn&&jn>=9&&(this.hasSelection=null),this.fastPoll()},onContextMenu:function(s){function c(){if(q.selectionStart!=null){var ht=x.somethingSelected(),gt=""+(ht?q.value:"");q.value="",q.value=gt,v.prevInput=ht?"":"",q.selectionStart=1,q.selectionEnd=gt.length,F.selForContextMenu=x.doc.sel}}function m(){if(v.contextMenuPending=!1,v.wrapper.style.cssText=Oe,q.style.cssText=Ie,vn&&9>jn&&F.scrollbars.setScrollTop(F.scroller.scrollTop=he),q.selectionStart!=null){(!vn||vn&&9>jn)&&c();var ht=0,gt=function(){F.selForContextMenu==x.doc.sel&&q.selectionStart==0&&q.selectionEnd>0&&v.prevInput==""?pn(x,Pf.selectAll)(x):ht++<10?F.detectingSelectAll=setTimeout(gt,500):F.input.reset()};F.detectingSelectAll=setTimeout(gt,200)}}var v=this,x=v.cm,F=x.display,q=v.textarea,re=be(x,s),he=F.scroller.scrollTop;if(re&&!Ts){var _e=x.options.resetSelectionOnContextMenu;_e&&x.doc.sel.contains(re)==-1&&pn(x,Je)(x.doc,De(re),Lo);var Ie=q.style.cssText,Oe=v.wrapper.style.cssText;v.wrapper.style.cssText="position: absolute";var He=v.wrapper.getBoundingClientRect();if(q.style.cssText="position: absolute; width: 30px; height: 30px; top: "+(s.clientY-He.top-5)+"px; left: "+(s.clientX-He.left-5)+"px; z-index: 1000; background: "+(vn?"rgba(255, 255, 255, .05)":"transparent")+"; outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",jr)var We=window.scrollY;if(F.input.focus(),jr&&window.scrollTo(null,We),F.input.reset(),x.somethingSelected()||(q.value=v.prevInput=" "),v.contextMenuPending=!0,F.selForContextMenu=x.doc.sel,clearTimeout(F.detectingSelectAll),vn&&jn>=9&&c(),nm){Ff(s);var je=function(){no(window,"mouseup",je),setTimeout(m,20)};Jt(window,"mouseup",je)}else setTimeout(m,50)}},readOnlyChanged:function(s){s||this.reset()},setUneditable:Va,needsContentAttribute:!1},le.prototype),Le.prototype=As({init:function(s){function c(F){if(!dr(v,F)){if(v.somethingSelected())li={lineWise:!1,text:v.getSelections()},F.type=="cut"&&v.replaceSelection("",null,"cut");else{if(!v.options.lineWiseCopyCut)return;var q=H(v);li={lineWise:!0,text:q.text},F.type=="cut"&&v.operation(function(){v.setSelections(q.ranges,0,Lo),v.replaceSelection("",null,"cut")})}if(F.clipboardData&&!Kl)F.preventDefault(),F.clipboardData.clearData(),F.clipboardData.setData("text/plain",li.text.join(`
`));else{var re=Se(),he=re.firstChild;v.display.lineSpace.insertBefore(re,v.display.lineSpace.firstChild),he.value=li.text.join(`
`);var _e=document.activeElement;Ql(he),setTimeout(function(){v.display.lineSpace.removeChild(re),_e.focus()},50)}}}var m=this,v=m.cm,x=m.div=s.lineDiv;U(x),Jt(x,"paste",function(F){dr(v,F)||me(F,v)}),Jt(x,"compositionstart",function(F){var q=F.data;if(m.composing={sel:v.doc.sel,data:q,startData:q},q){var re=v.doc.sel.primary(),he=v.getLine(re.head.line),_e=he.indexOf(q,Math.max(0,re.head.ch-q.length));_e>-1&&_e<=re.head.ch&&(m.composing.sel=De(ut(re.head.line,_e),ut(re.head.line,_e+q.length)))}}),Jt(x,"compositionupdate",function(F){m.composing.data=F.data}),Jt(x,"compositionend",function(F){var q=m.composing;q&&(F.data==q.startData||/\u200b/.test(F.data)||(q.data=F.data),setTimeout(function(){q.handled||m.applyComposition(q),m.composing==q&&(m.composing=null)},50))}),Jt(x,"touchstart",function(){m.forceCompositionEnd()}),Jt(x,"input",function(){m.composing||!v.isReadOnly()&&m.pollContent()||Qn(m.cm,function(){Zt(v)})}),Jt(x,"copy",c),Jt(x,"cut",c)},prepareSelection:function(){var s=qn(this.cm,!1);return s.focus=this.cm.state.focused,s},showSelection:function(s,c){s&&this.cm.display.view.length&&((s.focus||c)&&this.showPrimarySelection(),this.showMultipleSelections(s))},showPrimarySelection:function(){var s=window.getSelection(),c=this.cm.doc.sel.primary(),m=Ze(this.cm,s.anchorNode,s.anchorOffset),v=Ze(this.cm,s.focusNode,s.focusOffset);if(!m||m.bad||!v||v.bad||Qt(Fe(m,v),c.from())!=0||Qt(ke(m,v),c.to())!=0){var x=Pe(this.cm,c.from()),F=Pe(this.cm,c.to());if(x||F){var q=this.cm.display.view,re=s.rangeCount&&s.getRangeAt(0);if(x){if(!F){var he=q[q.length-1].measure,_e=he.maps?he.maps[he.maps.length-1]:he.map;F={node:_e[_e.length-1],offset:_e[_e.length-2]-_e[_e.length-3]}}}else x={node:q[0].measure.map[2],offset:0};try{var Ie=Ja(x.node,x.offset,F.offset,F.node)}catch{}Ie&&(!ra&&this.cm.state.focused?(s.collapse(x.node,x.offset),Ie.collapsed||s.addRange(Ie)):(s.removeAllRanges(),s.addRange(Ie)),re&&s.anchorNode==null?s.addRange(re):ra&&this.startGracePeriod()),this.rememberSelection()}}},startGracePeriod:function(){var s=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){s.gracePeriod=!1,s.selectionChanged()&&s.cm.operation(function(){s.cm.curOp.selectionChanged=!0})},20)},showMultipleSelections:function(s){ji(this.cm.display.cursorDiv,s.cursors),ji(this.cm.display.selectionDiv,s.selection)},rememberSelection:function(){var s=window.getSelection();this.lastAnchorNode=s.anchorNode,this.lastAnchorOffset=s.anchorOffset,this.lastFocusNode=s.focusNode,this.lastFocusOffset=s.focusOffset},selectionInEditor:function(){var s=window.getSelection();if(!s.rangeCount)return!1;var c=s.getRangeAt(0).commonAncestorContainer;return lm(this.div,c)},focus:function(){this.cm.options.readOnly!="nocursor"&&this.div.focus()},blur:function(){this.div.blur()},getField:function(){return this.div},supportsTouch:function(){return!0},receivedFocus:function(){function s(){c.cm.state.focused&&(c.pollSelection(),c.polling.set(c.cm.options.pollInterval,s))}var c=this;this.selectionInEditor()?this.pollSelection():Qn(this.cm,function(){c.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,s)},selectionChanged:function(){var s=window.getSelection();return s.anchorNode!=this.lastAnchorNode||s.anchorOffset!=this.lastAnchorOffset||s.focusNode!=this.lastFocusNode||s.focusOffset!=this.lastFocusOffset},pollSelection:function(){if(!this.composing&&!this.gracePeriod&&this.selectionChanged()){var s=window.getSelection(),c=this.cm;this.rememberSelection();var m=Ze(c,s.anchorNode,s.anchorOffset),v=Ze(c,s.focusNode,s.focusOffset);m&&v&&Qn(c,function(){Je(c.doc,De(m,v),Lo),(m.bad||v.bad)&&(c.curOp.selectionChanged=!0)})}},pollContent:function(){var s=this.cm,c=s.display,m=s.doc.sel.primary(),v=m.from(),x=m.to();if(v.line<c.viewFrom||x.line>c.viewTo-1)return!1;var F;if(v.line==c.viewFrom||(F=qr(s,v.line))==0)var q=kn(c.view[0].line),re=c.view[0].node;else var q=kn(c.view[F].line),re=c.view[F-1].node.nextSibling;var he=qr(s,x.line);if(he==c.view.length-1)var _e=c.viewTo-1,Ie=c.lineDiv.lastChild;else var _e=kn(c.view[he+1].line)-1,Ie=c.view[he+1].node.previousSibling;for(var Oe=s.doc.splitLines(ct(s,re,Ie,q,_e)),He=Js(s.doc,ut(q,0),ut(_e,Dt(s.doc,_e).text.length));Oe.length>1&&He.length>1;)if(Sn(Oe)==Sn(He))Oe.pop(),He.pop(),_e--;else{if(Oe[0]!=He[0])break;Oe.shift(),He.shift(),q++}for(var We=0,je=0,ht=Oe[0],gt=He[0],Tt=Math.min(ht.length,gt.length);Tt>We&&ht.charCodeAt(We)==gt.charCodeAt(We);)++We;for(var Ft=Sn(Oe),Nt=Sn(He),_n=Math.min(Ft.length-(Oe.length==1?We:0),Nt.length-(He.length==1?We:0));_n>je&&Ft.charCodeAt(Ft.length-je-1)==Nt.charCodeAt(Nt.length-je-1);)++je;Oe[Oe.length-1]=Ft.slice(0,Ft.length-je),Oe[0]=Oe[0].slice(We);var kt=ut(q,We),Ht=ut(_e,He.length?Sn(He).length-je:0);return Oe.length>1||Oe[0]||Qt(kt,Ht)?(Cr(s.doc,Oe,kt,Ht,"+input"),!0):void 0},ensurePolled:function(){this.forceCompositionEnd()},reset:function(){this.forceCompositionEnd()},forceCompositionEnd:function(){this.composing&&!this.composing.handled&&(this.applyComposition(this.composing),this.composing.handled=!0,this.div.blur(),this.div.focus())},applyComposition:function(s){this.cm.isReadOnly()?pn(this.cm,Zt)(this.cm):s.data&&s.data!=s.startData&&pn(this.cm,fe)(this.cm,s.data,0,s.sel)},setUneditable:function(s){s.contentEditable="false"},onKeyPress:function(s){s.preventDefault(),this.cm.isReadOnly()||pn(this.cm,fe)(this.cm,String.fromCharCode(s.charCode==null?s.keyCode:s.charCode),0)},readOnlyChanged:function(s){this.div.contentEditable=String(s!="nocursor")},onContextMenu:Va,resetPosition:Va,needsContentAttribute:!0},Le.prototype),o.inputStyles={textarea:le,contenteditable:Le},$t.prototype={primary:function(){return this.ranges[this.primIndex]},equals:function(s){if(s==this)return!0;if(s.primIndex!=this.primIndex||s.ranges.length!=this.ranges.length)return!1;for(var c=0;c<this.ranges.length;c++){var m=this.ranges[c],v=s.ranges[c];if(Qt(m.anchor,v.anchor)!=0||Qt(m.head,v.head)!=0)return!1}return!0},deepCopy:function(){for(var s=[],c=0;c<this.ranges.length;c++)s[c]=new Ot(Ae(this.ranges[c].anchor),Ae(this.ranges[c].head));return new $t(s,this.primIndex)},somethingSelected:function(){for(var s=0;s<this.ranges.length;s++)if(!this.ranges[s].empty())return!0;return!1},contains:function(s,c){c||(c=s);for(var m=0;m<this.ranges.length;m++){var v=this.ranges[m];if(Qt(c,v.from())>=0&&Qt(s,v.to())<=0)return m}return-1}},Ot.prototype={from:function(){return Fe(this.anchor,this.head)},to:function(){return ke(this.anchor,this.head)},empty:function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch}};var Ka,Of,Lf,rm={left:0,right:0,top:0,bottom:0},Zl=null,dk=0,Rb=0,Mf=0,Hi=null;vn?Hi=-.53:ra?Hi=15:lk?Hi=-.7:Nb&&(Hi=-1/3);var Fb=function(s){var c=s.wheelDeltaX,m=s.wheelDeltaY;return c==null&&s.detail&&s.axis==s.HORIZONTAL_AXIS&&(c=s.detail),m==null&&s.detail&&s.axis==s.VERTICAL_AXIS?m=s.detail:m==null&&(m=s.wheelDelta),{x:c,y:m}};o.wheelEventPixels=function(s){var c=Fb(s);return c.x*=Hi,c.y*=Hi,c};var pk=new Oo,im=null,Za=o.changeEnd=function(s){return s.text?ut(s.from.line+s.text.length-1,Sn(s.text).length+(s.text.length==1?s.from.ch:0)):s.to};o.prototype={constructor:o,focus:function(){window.focus(),this.display.input.focus()},setOption:function(s,c){var m=this.options,v=m[s];m[s]==c&&s!="mode"||(m[s]=c,Xl.hasOwnProperty(s)&&pn(this,Xl[s])(this,c,v))},getOption:function(s){return this.options[s]},getDoc:function(){return this.doc},addKeyMap:function(s,c){this.state.keyMaps[c?"push":"unshift"](bs(s))},removeKeyMap:function(s){for(var c=this.state.keyMaps,m=0;m<c.length;++m)if(c[m]==s||c[m].name==s)return c.splice(m,1),!0},addOverlay:Bn(function(s,c){var m=s.token?s:o.getMode(this.options,s);if(m.startState)throw new Error("Overlays may not be stateful.");this.state.overlays.push({mode:m,modeSpec:s,opaque:c&&c.opaque}),this.state.modeGen++,Zt(this)}),removeOverlay:Bn(function(s){for(var c=this.state.overlays,m=0;m<c.length;++m){var v=c[m].modeSpec;if(v==s||typeof s=="string"&&v.name==s)return c.splice(m,1),this.state.modeGen++,void Zt(this)}}),indentLine:Bn(function(s,c,m){typeof c!="string"&&typeof c!="number"&&(c=c==null?this.options.smartIndent?"smart":"prev":c?"add":"subtract"),wt(this.doc,s)&&Zo(this,s,c,m)}),indentSelection:Bn(function(s){for(var c=this.doc.sel.ranges,m=-1,v=0;v<c.length;v++){var x=c[v];if(x.empty())x.head.line>m&&(Zo(this,x.head.line,s,!0),m=x.head.line,v==this.doc.sel.primIndex&&Ko(this));else{var F=x.from(),q=x.to(),re=Math.max(m,F.line);m=Math.min(this.lastLine(),q.line-(q.ch?0:1))+1;for(var he=re;m>he;++he)Zo(this,he,s);var _e=this.doc.sel.ranges;F.ch==0&&c.length==_e.length&&_e[v].from().ch>0&&Ee(this.doc,v,new Ot(F,_e[v].to()),Lo)}}}),getTokenAt:function(s,c){return vf(this,s,c)},getLineTokens:function(s,c){return vf(this,ut(s),c,!0)},getTokenTypeAt:function(s){s=Qe(this.doc,s);var c,m=Co(this,Dt(this.doc,s.line)),v=0,x=(m.length-1)/2,F=s.ch;if(F==0)c=m[2];else for(;;){var q=v+x>>1;if((q?m[2*q-1]:0)>=F)x=q;else{if(!(m[2*q+1]<F)){c=m[2*q+2];break}v=q+1}}var re=c?c.indexOf("cm-overlay "):-1;return 0>re?c:re==0?null:c.slice(0,re-1)},getModeAt:function(s){var c=this.doc.mode;return c.innerMode?o.innerMode(c,this.getTokenAt(s).state).mode:c},getHelper:function(s,c){return this.getHelpers(s,c)[0]},getHelpers:function(s,c){var m=[];if(!Jl.hasOwnProperty(c))return m;var v=Jl[c],x=this.getModeAt(s);if(typeof x[c]=="string")v[x[c]]&&m.push(v[x[c]]);else if(x[c])for(var F=0;F<x[c].length;F++){var q=v[x[c][F]];q&&m.push(q)}else x.helperType&&v[x.helperType]?m.push(v[x.helperType]):v[x.name]&&m.push(v[x.name]);for(var F=0;F<v._global.length;F++){var re=v._global[F];re.pred(x,this)&&pr(m,re.val)==-1&&m.push(re.val)}return m},getStateAfter:function(s,c){var m=this.doc;return s=ze(m,s??m.first+m.size-1),Rn(this,s+1,c)},cursorCoords:function(s,c){var m,v=this.doc.sel.primary();return m=s==null?v.head:typeof s=="object"?Qe(this.doc,s):s?v.from():v.to(),cr(this,m,c||"page")},charCoords:function(s,c){return yi(this,Qe(this.doc,s),c||"page")},coordsChar:function(s,c){return s=Tn(this,s,c||"page"),Kr(this,s.left,s.top)},lineAtHeight:function(s,c){return s=Tn(this,{top:s,left:0},c||"page").top,Qs(this.doc,s+this.display.viewOffset)},heightAtLine:function(s,c){var m,v=!1;if(typeof s=="number"){var x=this.doc.first+this.doc.size-1;s<this.doc.first?s=this.doc.first:s>x&&(s=x,v=!0),m=Dt(this.doc,s)}else m=s;return Wt(this,m,{top:0,left:0},c||"page").top+(v?this.doc.height-Ss(m):0)},defaultTextHeight:function(){return hn(this.display)},defaultCharWidth:function(){return Fn(this.display)},setGutterMarker:Bn(function(s,c,m){return Bl(this.doc,s,"gutter",function(v){var x=v.gutterMarkers||(v.gutterMarkers={});return x[c]=m,!m&&Ab(x)&&(v.gutterMarkers=null),!0})}),clearGutter:Bn(function(s){var c=this,m=c.doc,v=m.first;m.iter(function(x){x.gutterMarkers&&x.gutterMarkers[s]&&(x.gutterMarkers[s]=null,Xr(c,v,"gutter"),Ab(x.gutterMarkers)&&(x.gutterMarkers=null)),++v})}),lineInfo:function(s){if(typeof s=="number"){if(!wt(this.doc,s))return null;var c=s;if(s=Dt(this.doc,s),!s)return null}else{var c=kn(s);if(c==null)return null}return{line:c,handle:s,text:s.text,gutterMarkers:s.gutterMarkers,textClass:s.textClass,bgClass:s.bgClass,wrapClass:s.wrapClass,widgets:s.widgets}},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(s,c,m,v,x){var F=this.display;s=cr(this,Qe(this.doc,s));var q=s.bottom,re=s.left;if(c.style.position="absolute",c.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(c),F.sizer.appendChild(c),v=="over")q=s.top;else if(v=="above"||v=="near"){var he=Math.max(F.wrapper.clientHeight,this.doc.height),_e=Math.max(F.sizer.clientWidth,F.lineSpace.clientWidth);(v=="above"||s.bottom+c.offsetHeight>he)&&s.top>c.offsetHeight?q=s.top-c.offsetHeight:s.bottom+c.offsetHeight<=he&&(q=s.bottom),re+c.offsetWidth>_e&&(re=_e-c.offsetWidth)}c.style.top=q+"px",c.style.left=c.style.right="",x=="right"?(re=F.sizer.clientWidth-c.offsetWidth,c.style.right="0px"):(x=="left"?re=0:x=="middle"&&(re=(F.sizer.clientWidth-c.offsetWidth)/2),c.style.left=re+"px"),m&&qp(this,re,q,re+c.offsetWidth,q+c.offsetHeight)},triggerOnKeyDown:Bn(Dr),triggerOnKeyPress:Bn(ys),triggerOnKeyUp:cc,execCommand:function(s){return Pf.hasOwnProperty(s)?Pf[s].call(null,this):void 0},triggerElectric:Bn(function(s){O(this,s)}),findPosH:function(s,c,m,v){var x=1;0>c&&(x=-1,c=-c);for(var F=0,q=Qe(this.doc,s);c>F&&(q=Gs(this.doc,q,x,m,v),!q.hitSide);++F);return q},moveH:Bn(function(s,c){var m=this;m.extendSelectionsBy(function(v){return m.display.shift||m.doc.extend||v.empty()?Gs(m.doc,v.head,s,c,m.options.rtlMoveVisually):0>s?v.from():v.to()},Ic)}),deleteH:Bn(function(s,c){var m=this.doc.sel,v=this.doc;m.somethingSelected()?v.replaceSelection("",null,"+delete"):Rr(this,function(x){var F=Gs(v,x.head,s,c,!1);return 0>s?{from:F,to:x.head}:{from:x.head,to:F}})}),findPosV:function(s,c,m,v){var x=1,F=v;0>c&&(x=-1,c=-c);for(var q=0,re=Qe(this.doc,s);c>q;++q){var he=cr(this,re,"div");if(F==null?F=he.left:he.left=F,re=df(this,he,x,m),re.hitSide)break}return re},moveV:Bn(function(s,c){var m=this,v=this.doc,x=[],F=!m.display.shift&&!v.extend&&v.sel.somethingSelected();if(v.extendSelectionsBy(function(re){if(F)return 0>s?re.from():re.to();var he=cr(m,re.head,"div");re.goalColumn!=null&&(he.left=re.goalColumn),x.push(he.left);var _e=df(m,he,s,c);return c=="page"&&re==v.sel.primary()&&Fa(m,null,yi(m,_e,"div").top-he.top),_e},Ic),x.length)for(var q=0;q<v.sel.ranges.length;q++)v.sel.ranges[q].goalColumn=x[q]}),findWordAt:function(s){var c=this.doc,m=Dt(c,s.line).text,v=s.ch,x=s.ch;if(m){var F=this.getHelper(s,"wordChars");(s.xRel<0||x==m.length)&&v?--v:++x;for(var q=m.charAt(v),re=Af(q,F)?function(he){return Af(he,F)}:/\s/.test(q)?function(he){return/\s/.test(he)}:function(he){return!/\s/.test(he)&&!Af(he)};v>0&&re(m.charAt(v-1));)--v;for(;x<m.length&&re(m.charAt(x));)++x}return new Ot(ut(s.line,v),ut(s.line,x))},toggleOverwrite:function(s){s!=null&&s==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Rc(this.display.cursorDiv,"CodeMirror-overwrite"):Dc(this.display.cursorDiv,"CodeMirror-overwrite"),Or(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==to()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Bn(function(s,c){s==null&&c==null||Fl(this),s!=null&&(this.curOp.scrollLeft=s),c!=null&&(this.curOp.scrollTop=c)}),getScrollInfo:function(){var s=this.display.scroller;return{left:s.scrollLeft,top:s.scrollTop,height:s.scrollHeight-Te(this)-this.display.barHeight,width:s.scrollWidth-Te(this)-this.display.barWidth,clientHeight:Ke(this),clientWidth:Ye(this)}},scrollIntoView:Bn(function(s,c){if(s==null?(s={from:this.doc.sel.primary().head,to:null},c==null&&(c=this.options.cursorScrollMargin)):typeof s=="number"?s={from:ut(s,0),to:null}:s.from==null&&(s={from:s,to:null}),s.to||(s.to=s.from),s.margin=c||0,s.from.line!=null)Fl(this),this.curOp.scrollToPos=s;else{var m=Yo(this,Math.min(s.from.left,s.to.left),Math.min(s.from.top,s.to.top)-s.margin,Math.max(s.from.right,s.to.right),Math.max(s.from.bottom,s.to.bottom)+s.margin);this.scrollTo(m.scrollLeft,m.scrollTop)}}),setSize:Bn(function(s,c){function m(F){return typeof F=="number"||/^\d+$/.test(String(F))?F+"px":F}var v=this;s!=null&&(v.display.wrapper.style.width=m(s)),c!=null&&(v.display.wrapper.style.height=m(c)),v.options.lineWrapping&&Ir(this);var x=v.display.viewFrom;v.doc.iter(x,v.display.viewTo,function(F){if(F.widgets){for(var q=0;q<F.widgets.length;q++)if(F.widgets[q].noHScroll){Xr(v,x,"widget");break}}++x}),v.curOp.forceUpdate=!0,Or(v,"refresh",this)}),operation:function(s){return Qn(this,s)},refresh:Bn(function(){var s=this.display.cachedTextHeight;Zt(this),this.curOp.forceUpdate=!0,$n(this),this.scrollTo(this.doc.scrollLeft,this.doc.scrollTop),_(this),(s==null||Math.abs(s-hn(this.display))>.5)&&g(this),Or(this,"refresh",this)}),swapDoc:Bn(function(s){var c=this.doc;return c.cm=null,xc(this,s),$n(this),this.display.input.reset(),this.scrollTo(s.scrollLeft,s.scrollTop),this.curOp.forceScroll=!0,Qr(this,"swapDoc",this,c),c}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Es(o);var mk=o.defaults={},Xl=o.optionHandlers={},Bb=o.Init={toString:function(){return"CodeMirror.Init"}};Bt("value","",function(s,c){s.setValue(c)},!0),Bt("mode",null,function(s,c){s.doc.modeOption=c,h(s)},!0),Bt("indentUnit",2,h,!0),Bt("indentWithTabs",!1),Bt("smartIndent",!0),Bt("tabSize",4,function(s){u(s),$n(s),Zt(s)},!0),Bt("lineSeparator",null,function(s,c){if(s.doc.lineSep=c,c){var m=[],v=s.doc.first;s.doc.iter(function(F){for(var q=0;;){var re=F.text.indexOf(c,q);if(re==-1)break;q=re+c.length,m.push(ut(v,re))}v++});for(var x=m.length-1;x>=0;x--)Cr(s.doc,c,m[x],ut(m[x].line,m[x].ch+c.length))}}),Bt("specialChars",/[\u0000-\u001f\u007f\u00ad\u200b-\u200f\u2028\u2029\ufeff]/g,function(s,c,m){s.state.specialChars=new RegExp(c.source+(c.test("	")?"":"|	"),"g"),m!=o.Init&&s.refresh()}),Bt("specialCharPlaceholder",xs,function(s){s.refresh()},!0),Bt("electricChars",!0),Bt("inputStyle",Cc?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),Bt("rtlMoveVisually",!fk),Bt("wholeLineUpdateBefore",!0),Bt("theme","default",function(s){y(s),k(s)},!0),Bt("keyMap","default",function(s,c,m){var v=bs(c),x=m!=o.Init&&bs(m);x&&x.detach&&x.detach(s,v),v.attach&&v.attach(s,x||null)}),Bt("extraKeys",null),Bt("lineWrapping",!1,f,!0),Bt("gutters",[],function(s){b(s.options),k(s)},!0),Bt("fixedGutter",!0,function(s,c){s.display.gutters.style.left=c?$(s.display)+"px":"0",s.refresh()},!0),Bt("coverGutterNextToScrollbar",!1,function(s){C(s)},!0),Bt("scrollbarStyle","native",function(s){T(s),C(s),s.display.scrollbars.setScrollTop(s.doc.scrollTop),s.display.scrollbars.setScrollLeft(s.doc.scrollLeft)},!0),Bt("lineNumbers",!1,function(s){b(s.options),k(s)},!0),Bt("firstLineNumber",1,k,!0),Bt("lineNumberFormatter",function(s){return s},k,!0),Bt("showCursorWhenSelecting",!1,mn,!0),Bt("resetSelectionOnContextMenu",!0),Bt("lineWiseCopyCut",!0),Bt("readOnly",!1,function(s,c){c=="nocursor"?(xo(s),s.display.input.blur(),s.display.disabled=!0):s.display.disabled=!1,s.display.input.readOnlyChanged(c)}),Bt("disableInput",!1,function(s,c){c||s.display.input.reset()},!0),Bt("dragDrop",!0,tr),Bt("allowDropFileTypes",null),Bt("cursorBlinkRate",530),Bt("cursorScrollMargin",0),Bt("cursorHeight",1,mn,!0),Bt("singleCursorHeightPerLine",!0,mn,!0),Bt("workTime",100),Bt("workDelay",100),Bt("flattenSpans",!0,u,!0),Bt("addModeClass",!1,u,!0),Bt("pollInterval",100),Bt("undoDepth",200,function(s,c){s.doc.history.undoDepth=c}),Bt("historyEventDelay",1250),Bt("viewportMargin",10,function(s){s.refresh()},!0),Bt("maxHighlightLength",1e4,u,!0),Bt("moveInputWithCursor",!0,function(s,c){c||s.display.input.resetPosition()}),Bt("tabindex",null,function(s,c){s.display.input.getField().tabIndex=c||""}),Bt("autofocus",null);var jb=o.modes={},Oc=o.mimeModes={};o.defineMode=function(s,c){o.defaults.mode||s=="null"||(o.defaults.mode=s),arguments.length>2&&(c.dependencies=Array.prototype.slice.call(arguments,2)),jb[s]=c},o.defineMIME=function(s,c){Oc[s]=c},o.resolveMode=function(s){if(typeof s=="string"&&Oc.hasOwnProperty(s))s=Oc[s];else if(s&&typeof s.name=="string"&&Oc.hasOwnProperty(s.name)){var c=Oc[s.name];typeof c=="string"&&(c={name:c}),s=Eb(c,s),s.name=c.name}else if(typeof s=="string"&&/^[\w\-]+\/[\w\-]+\+xml$/.test(s))return o.resolveMode("application/xml");return typeof s=="string"?{name:s}:s||{name:"null"}},o.getMode=function(s,m){var m=o.resolveMode(m),v=jb[m.name];if(!v)return o.getMode(s,"text/plain");var x=v(s,m);if(Lc.hasOwnProperty(m.name)){var F=Lc[m.name];for(var q in F)F.hasOwnProperty(q)&&(x.hasOwnProperty(q)&&(x["_"+q]=x[q]),x[q]=F[q])}if(x.name=m.name,m.helperType&&(x.helperType=m.helperType),m.modeProps)for(var q in m.modeProps)x[q]=m.modeProps[q];return x},o.defineMode("null",function(){return{token:function(s){s.skipToEnd()}}}),o.defineMIME("text/plain","null");var Lc=o.modeExtensions={};o.extendMode=function(s,c){var m=Lc.hasOwnProperty(s)?Lc[s]:Lc[s]={};As(c,m)},o.defineExtension=function(s,c){o.prototype[s]=c},o.defineDocExtension=function(s,c){_i.prototype[s]=c},o.defineOption=Bt;var sm=[];o.defineInitHook=function(s){sm.push(s)};var Jl=o.helpers={};o.registerHelper=function(s,c,m){Jl.hasOwnProperty(s)||(Jl[s]=o[s]={_global:[]}),Jl[s][c]=m},o.registerGlobalHelper=function(s,c,m,v){o.registerHelper(s,c,v),Jl[s]._global.push({pred:m,val:v})};var sa=o.copyState=function(s,c){if(c===!0)return c;if(s.copyState)return s.copyState(c);var m={};for(var v in c){var x=c[v];x instanceof Array&&(x=x.concat([])),m[v]=x}return m},gk=o.startState=function(s,c,m){return s.startState?s.startState(c,m):!0};o.innerMode=function(s,c){for(;s.innerMode;){var m=s.innerMode(c);if(!m||m.mode==s)break;c=m.state,s=m.mode}return m||{mode:s,state:c}};var Pf=o.commands={selectAll:function(s){s.setSelection(ut(s.firstLine(),0),ut(s.lastLine()),Lo)},singleSelection:function(s){s.setSelection(s.getCursor("anchor"),s.getCursor("head"),Lo)},killLine:function(s){Rr(s,function(c){if(c.empty()){var m=Dt(s.doc,c.head.line).text.length;return c.head.ch==m&&c.head.line<s.lastLine()?{from:c.head,to:ut(c.head.line+1,0)}:{from:c.head,to:ut(c.head.line,m)}}return{from:c.from(),to:c.to()}})},deleteLine:function(s){Rr(s,function(c){return{from:ut(c.from().line,0),to:Qe(s.doc,ut(c.to().line+1,0))}})},delLineLeft:function(s){Rr(s,function(c){return{from:ut(c.from().line,0),to:c.from()}})},delWrappedLineLeft:function(s){Rr(s,function(c){var m=s.charCoords(c.head,"div").top+5,v=s.coordsChar({left:0,top:m},"div");return{from:v,to:c.from()}})},delWrappedLineRight:function(s){Rr(s,function(c){var m=s.charCoords(c.head,"div").top+5,v=s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:m},"div");return{from:c.from(),to:v}})},undo:function(s){s.undo()},redo:function(s){s.redo()},undoSelection:function(s){s.undoSelection()},redoSelection:function(s){s.redoSelection()},goDocStart:function(s){s.extendSelection(ut(s.firstLine(),0))},goDocEnd:function(s){s.extendSelection(ut(s.lastLine()))},goLineStart:function(s){s.extendSelectionsBy(function(c){return kb(s,c.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(s){s.extendSelectionsBy(function(c){return Cb(s,c.head)},{origin:"+move",bias:1})},goLineEnd:function(s){s.extendSelectionsBy(function(c){return sk(s,c.head.line)},{origin:"+move",bias:-1})},goLineRight:function(s){s.extendSelectionsBy(function(c){var m=s.charCoords(c.head,"div").top+5;return s.coordsChar({left:s.display.lineDiv.offsetWidth+100,top:m},"div")},Ic)},goLineLeft:function(s){s.extendSelectionsBy(function(c){var m=s.charCoords(c.head,"div").top+5;return s.coordsChar({left:0,top:m},"div")},Ic)},goLineLeftSmart:function(s){s.extendSelectionsBy(function(c){var m=s.charCoords(c.head,"div").top+5,v=s.coordsChar({left:0,top:m},"div");return v.ch<s.getLine(v.line).search(/\S/)?Cb(s,c.head):v},Ic)},goLineUp:function(s){s.moveV(-1,"line")},goLineDown:function(s){s.moveV(1,"line")},goPageUp:function(s){s.moveV(-1,"page")},goPageDown:function(s){s.moveV(1,"page")},goCharLeft:function(s){s.moveH(-1,"char")},goCharRight:function(s){s.moveH(1,"char")},goColumnLeft:function(s){s.moveH(-1,"column")},goColumnRight:function(s){s.moveH(1,"column")},goWordLeft:function(s){s.moveH(-1,"word")},goGroupRight:function(s){s.moveH(1,"group")},goGroupLeft:function(s){s.moveH(-1,"group")},goWordRight:function(s){s.moveH(1,"word")},delCharBefore:function(s){s.deleteH(-1,"char")},delCharAfter:function(s){s.deleteH(1,"char")},delWordBefore:function(s){s.deleteH(-1,"word")},delWordAfter:function(s){s.deleteH(1,"word")},delGroupBefore:function(s){s.deleteH(-1,"group")},delGroupAfter:function(s){s.deleteH(1,"group")},indentAuto:function(s){s.indentSelection("smart")},indentMore:function(s){s.indentSelection("add")},indentLess:function(s){s.indentSelection("subtract")},insertTab:function(s){s.replaceSelection("	")},insertSoftTab:function(s){for(var c=[],m=s.listSelections(),v=s.options.tabSize,x=0;x<m.length;x++){var F=m[x].from(),q=Cs(s.getLine(F.line),F.ch,v);c.push(Ec(v-q%v))}s.replaceSelections(c)},defaultTab:function(s){s.somethingSelected()?s.indentSelection("add"):s.execCommand("insertTab")},transposeChars:function(s){Qn(s,function(){for(var c=s.listSelections(),m=[],v=0;v<c.length;v++){var x=c[v].head,F=Dt(s.doc,x.line).text;if(F){if(x.ch==F.length&&(x=new ut(x.line,x.ch-1)),x.ch>0)x=new ut(x.line,x.ch+1),s.replaceRange(F.charAt(x.ch-1)+F.charAt(x.ch-2),ut(x.line,x.ch-2),x,"+transpose");else if(x.line>s.doc.first){var q=Dt(s.doc,x.line-1).text;q&&s.replaceRange(F.charAt(0)+s.doc.lineSeparator()+q.charAt(q.length-1),ut(x.line-1,q.length-1),ut(x.line,1),"+transpose")}}m.push(new Ot(x,x))}s.setSelections(m)})},newlineAndIndent:function(s){Qn(s,function(){for(var c=s.listSelections().length,m=0;c>m;m++){var v=s.listSelections()[m];s.replaceRange(s.doc.lineSeparator(),v.anchor,v.head,"+input"),s.indentLine(v.from().line+1,null,!0)}Ko(s)})},openLine:function(s){s.replaceSelection(`
`,"start")},toggleOverwrite:function(s){s.toggleOverwrite()}},oa=o.keyMap={};oa.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},oa.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},oa.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},oa.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},oa.default=ks?oa.macDefault:oa.pcDefault,o.normalizeKeyMap=function(s){var c={};for(var m in s)if(s.hasOwnProperty(m)){var v=s[m];if(/^(name|fallthrough|(de|at)tach)$/.test(m))continue;if(v=="..."){delete s[m];continue}for(var x=Wa(m.split(" "),Wp),F=0;F<x.length;F++){var q,re;F==x.length-1?(re=x.join(" "),q=v):(re=x.slice(0,F+1).join(" "),q="...");var he=c[re];if(he){if(he!=q)throw new Error("Inconsistent bindings for "+re)}else c[re]=q}delete s[m]}for(var _e in c)s[_e]=c[_e];return s};var Mc=o.lookupKey=function(s,c,m,v){c=bs(c);var x=c.call?c.call(s,v):c[s];if(x===!1)return"nothing";if(x==="...")return"multi";if(x!=null&&m(x))return"handled";if(c.fallthrough){if(Object.prototype.toString.call(c.fallthrough)!="[object Array]")return Mc(s,c.fallthrough,m,v);for(var F=0;F<c.fallthrough.length;F++){var q=Mc(s,c.fallthrough[F],m,v);if(q)return q}}},vk=o.isModifierKey=function(s){var c=typeof s=="string"?s:Qa[s.keyCode];return c=="Ctrl"||c=="Alt"||c=="Shift"||c=="Mod"},yk=o.keyName=function(s,c){if(Ts&&s.keyCode==34&&s.char)return!1;var m=Qa[s.keyCode],v=m;return v==null||s.altGraphKey?!1:(s.altKey&&m!="Alt"&&(v="Alt-"+v),(Ib?s.metaKey:s.ctrlKey)&&m!="Ctrl"&&(v="Ctrl-"+v),(Ib?s.ctrlKey:s.metaKey)&&m!="Cmd"&&(v="Cmd-"+v),!c&&s.shiftKey&&m!="Shift"&&(v="Shift-"+v),v)};o.fromTextArea=function(s,c){function m(){s.value=re.getValue()}if(c=c?As(c):{},c.value=s.value,!c.tabindex&&s.tabIndex&&(c.tabindex=s.tabIndex),!c.placeholder&&s.placeholder&&(c.placeholder=s.placeholder),c.autofocus==null){var v=to();c.autofocus=v==s||s.getAttribute("autofocus")!=null&&v==document.body}if(s.form&&(Jt(s.form,"submit",m),!c.leaveSubmitMethodAlone)){var x=s.form,F=x.submit;try{var q=x.submit=function(){m(),x.submit=F,x.submit(),x.submit=q}}catch{}}c.finishInit=function(he){he.save=m,he.getTextArea=function(){return s},he.toTextArea=function(){he.toTextArea=isNaN,m(),s.parentNode.removeChild(he.getWrapperElement()),s.style.display="",s.form&&(no(s.form,"submit",m),typeof s.form.submit=="function"&&(s.form.submit=F))}},s.style.display="none";var re=o(function(he){s.parentNode.insertBefore(he,s.nextSibling)},c);return re};var Nf=o.StringStream=function(s,c){this.pos=this.start=0,this.string=s,this.tabSize=c||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0};Nf.prototype={eol:function(){return this.pos>=this.string.length},sol:function(){return this.pos==this.lineStart},peek:function(){return this.string.charAt(this.pos)||void 0},next:function(){return this.pos<this.string.length?this.string.charAt(this.pos++):void 0},eat:function(s){var c=this.string.charAt(this.pos);if(typeof s=="string")var m=c==s;else var m=c&&(s.test?s.test(c):s(c));return m?(++this.pos,c):void 0},eatWhile:function(s){for(var c=this.pos;this.eat(s););return this.pos>c},eatSpace:function(){for(var s=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>s},skipToEnd:function(){this.pos=this.string.length},skipTo:function(s){var c=this.string.indexOf(s,this.pos);return c>-1?(this.pos=c,!0):void 0},backUp:function(s){this.pos-=s},column:function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Cs(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Cs(this.string,this.lineStart,this.tabSize):0)},indentation:function(){return Cs(this.string,null,this.tabSize)-(this.lineStart?Cs(this.string,this.lineStart,this.tabSize):0)},match:function(s,c,m){if(typeof s!="string"){var v=this.string.slice(this.pos).match(s);return v&&v.index>0?null:(v&&c!==!1&&(this.pos+=v[0].length),v)}var x=function(q){return m?q.toLowerCase():q},F=this.string.substr(this.pos,s.length);return x(F)==x(s)?(c!==!1&&(this.pos+=s.length),!0):void 0},current:function(){return this.string.slice(this.start,this.pos)},hideFirstChars:function(s,c){this.lineStart+=s;try{return c()}finally{this.lineStart-=s}}};var om=0,Xa=o.TextMarker=function(s,c){this.lines=[],this.type=c,this.doc=s,this.id=++om};Es(Xa),Xa.prototype.clear=function(){if(!this.explicitlyCleared){var s=this.doc.cm,c=s&&!s.curOp;if(c&&Mn(s),An(this,"clear")){var m=this.find();m&&Qr(this,"clear",m.from,m.to)}for(var v=null,x=null,F=0;F<this.lines.length;++F){var q=this.lines[F],re=Ys(q.markedSpans,this);s&&!this.collapsed?Xr(s,kn(q),"text"):s&&(re.to!=null&&(x=kn(q)),re.from!=null&&(v=kn(q))),q.markedSpans=Gp(q.markedSpans,re),re.from==null&&this.collapsed&&!Zs(this.doc,q)&&s&&rs(q,hn(s.display))}if(s&&this.collapsed&&!s.options.lineWrapping)for(var F=0;F<this.lines.length;++F){var he=Bi(this.lines[F]),_e=A(he);_e>s.display.maxLineLength&&(s.display.maxLine=he,s.display.maxLineLength=_e,s.display.maxLineChanged=!0)}v!=null&&s&&this.collapsed&&Zt(s,v,x+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,s&&xt(s.doc)),s&&Qr(s,"markerCleared",s,this),c&&Vn(s),this.parent&&this.parent.clear()}},Xa.prototype.find=function(s,c){s==null&&this.type=="bookmark"&&(s=1);for(var m,v,x=0;x<this.lines.length;++x){var F=this.lines[x],q=Ys(F.markedSpans,this);if(q.from!=null&&(m=ut(c?F:kn(F),q.from),s==-1))return m;if(q.to!=null&&(v=ut(c?F:kn(F),q.to),s==1))return v}return m&&{from:m,to:v}},Xa.prototype.changed=function(){var s=this.find(-1,!0),c=this,m=this.doc.cm;s&&m&&Qn(m,function(){var v=s.line,x=kn(s.line),F=rn(m,x);if(F&&(cn(F),m.curOp.selectionChanged=m.curOp.forceUpdate=!0),m.curOp.updateMaxLine=!0,!Zs(c.doc,v)&&c.height!=null){var q=c.height;c.height=null;var re=za(c)-q;re&&rs(v,v.height+re)}})},Xa.prototype.attachLine=function(s){if(!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;c.maybeHiddenMarkers&&pr(c.maybeHiddenMarkers,this)!=-1||(c.maybeUnhiddenMarkers||(c.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(s)},Xa.prototype.detachLine=function(s){if(this.lines.splice(pr(this.lines,s),1),!this.lines.length&&this.doc.cm){var c=this.doc.cm.curOp;(c.maybeHiddenMarkers||(c.maybeHiddenMarkers=[])).push(this)}};var om=0,If=o.SharedTextMarker=function(s,c){this.markers=s,this.primary=c;for(var m=0;m<s.length;++m)s[m].parent=this};Es(If),If.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var s=0;s<this.markers.length;++s)this.markers[s].clear();Qr(this,"clear")}},If.prototype.find=function(s,c){return this.primary.find(s,c)};var Df=o.LineWidget=function(s,c,m){if(m)for(var v in m)m.hasOwnProperty(v)&&(this[v]=m[v]);this.doc=s,this.node=c};Es(Df),Df.prototype.clear=function(){var s=this.doc.cm,c=this.line.widgets,m=this.line,v=kn(m);if(v!=null&&c){for(var x=0;x<c.length;++x)c[x]==this&&c.splice(x--,1);c.length||(m.widgets=null);var F=za(this);rs(m,Math.max(0,m.height-F)),s&&Qn(s,function(){wc(s,m,-F),Xr(s,v,"widget")})}},Df.prototype.changed=function(){var s=this.height,c=this.doc.cm,m=this.line;this.height=null;var v=za(this)-s;v&&(rs(m,m.height+v),c&&Qn(c,function(){c.curOp.forceUpdate=!0,wc(c,m,v)}))};var Pc=o.Line=function(s,c,m){this.text=s,yc(this,c),this.height=m?m(this):1};Es(Pc),Pc.prototype.lineNo=function(){return kn(this)};var bk={},wk={};na.prototype={chunkSize:function(){return this.lines.length},removeInner:function(s,c){for(var m=s,v=s+c;v>m;++m){var x=this.lines[m];this.height-=x.height,Zp(x),Qr(x,"delete")}this.lines.splice(s,c)},collapse:function(s){s.push.apply(s,this.lines)},insertInner:function(s,c,m){this.height+=m,this.lines=this.lines.slice(0,s).concat(c).concat(this.lines.slice(s));for(var v=0;v<c.length;++v)c[v].parent=this},iterN:function(s,c,m){for(var v=s+c;v>s;++s)if(m(this.lines[s]))return!0}},qa.prototype={chunkSize:function(){return this.size},removeInner:function(s,c){this.size-=c;for(var m=0;m<this.children.length;++m){var v=this.children[m],x=v.chunkSize();if(x>s){var F=Math.min(c,x-s),q=v.height;if(v.removeInner(s,F),this.height-=q-v.height,x==F&&(this.children.splice(m--,1),v.parent=null),(c-=F)==0)break;s=0}else s-=x}if(this.size-c<25&&(this.children.length>1||!(this.children[0]instanceof na))){var re=[];this.collapse(re),this.children=[new na(re)],this.children[0].parent=this}},collapse:function(s){for(var c=0;c<this.children.length;++c)this.children[c].collapse(s)},insertInner:function(s,c,m){this.size+=c.length,this.height+=m;for(var v=0;v<this.children.length;++v){var x=this.children[v],F=x.chunkSize();if(F>=s){if(x.insertInner(s,c,m),x.lines&&x.lines.length>50){for(var q=x.lines.length%25+25,re=q;re<x.lines.length;){var he=new na(x.lines.slice(re,re+=25));x.height-=he.height,this.children.splice(++v,0,he),he.parent=this}x.lines=x.lines.slice(0,q),this.maybeSpill()}break}s-=F}},maybeSpill:function(){if(!(this.children.length<=10)){var s=this;do{var c=s.children.splice(s.children.length-5,5),m=new qa(c);if(s.parent){s.size-=m.size,s.height-=m.height;var v=pr(s.parent.children,s);s.parent.children.splice(v+1,0,m)}else{var x=new qa(s.children);x.parent=s,s.children=[x,m],s=x}m.parent=s.parent}while(s.children.length>10);s.parent.maybeSpill()}},iterN:function(s,c,m){for(var v=0;v<this.children.length;++v){var x=this.children[v],F=x.chunkSize();if(F>s){var q=Math.min(c,F-s);if(x.iterN(s,q,m))return!0;if((c-=q)==0)break;s=0}else s-=F}}};var _k=0,_i=o.Doc=function(s,c,m,v){if(!(this instanceof _i))return new _i(s,c,m,v);m==null&&(m=0),qa.call(this,[new na([new Pc("",null)])]),this.first=m,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.frontier=m;var x=ut(m,0);this.sel=De(x),this.history=new p(null),this.id=++_k,this.modeOption=c,this.lineSep=v,this.extend=!1,typeof s=="string"&&(s=this.splitLines(s)),Vl(this,{from:x,to:x,text:s}),Je(this,De(x),Lo)};_i.prototype=Eb(qa.prototype,{constructor:_i,iter:function(s,c,m){m?this.iterN(s-this.first,c-s,m):this.iterN(this.first,this.first+this.size,s)},insert:function(s,c){for(var m=0,v=0;v<c.length;++v)m+=c[v].height;this.insertInner(s-this.first,c,m)},remove:function(s,c){this.removeInner(s-this.first,c)},getValue:function(s){var c=Gl(this,this.first,this.first+this.size);return s===!1?c:c.join(s||this.lineSeparator())},setValue:er(function(s){var c=ut(this.first,0),m=this.first+this.size-1;So(this,{from:c,to:ut(m,Dt(this,m).text.length),text:this.splitLines(s),origin:"setValue",full:!0},!0),Je(this,De(c))}),replaceRange:function(s,c,m,v){c=Qe(this,c),m=m?Qe(this,m):c,Cr(this,s,c,m,v)},getRange:function(s,c,m){var v=Js(this,Qe(this,s),Qe(this,c));return m===!1?v:v.join(m||this.lineSeparator())},getLine:function(s){var c=this.getLineHandle(s);return c&&c.text},getLineHandle:function(s){return wt(this,s)?Dt(this,s):void 0},getLineNumber:function(s){return kn(s)},getLineHandleVisualStart:function(s){return typeof s=="number"&&(s=Dt(this,s)),Bi(s)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(s){return Qe(this,s)},getCursor:function(s){var c=this.sel.primary();return s==null||s=="head"?c.head:s=="anchor"?c.anchor:s=="end"||s=="to"||s===!1?c.to():c.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:er(function(s,c,m){Be(this,Qe(this,typeof s=="number"?ut(s,c||0):s),null,m)}),setSelection:er(function(s,c,m){Be(this,Qe(this,s),Qe(this,c||s),m)}),extendSelection:er(function(s,c,m){qt(this,Qe(this,s),c&&Qe(this,c),m)}),extendSelections:er(function(s,c){ye(this,yt(this,s),c)}),extendSelectionsBy:er(function(s,c){var m=Wa(this.sel.ranges,s);ye(this,yt(this,m),c)}),setSelections:er(function(s,c,m){if(s.length){for(var v=0,x=[];v<s.length;v++)x[v]=new Ot(Qe(this,s[v].anchor),Qe(this,s[v].head));c==null&&(c=Math.min(s.length-1,this.sel.primIndex)),Je(this,mt(x,c),m)}}),addSelection:er(function(s,c,m){var v=this.sel.ranges.slice(0);v.push(new Ot(Qe(this,s),Qe(this,c||s))),Je(this,mt(v,v.length-1),m)}),getSelection:function(s){for(var c,m=this.sel.ranges,v=0;v<m.length;v++){var x=Js(this,m[v].from(),m[v].to());c=c?c.concat(x):x}return s===!1?c:c.join(s||this.lineSeparator())},getSelections:function(s){for(var c=[],m=this.sel.ranges,v=0;v<m.length;v++){var x=Js(this,m[v].from(),m[v].to());s!==!1&&(x=x.join(s||this.lineSeparator())),c[v]=x}return c},replaceSelection:function(s,c,m){for(var v=[],x=0;x<this.sel.ranges.length;x++)v[x]=s;this.replaceSelections(v,c,m||"+input")},replaceSelections:er(function(s,c,m){for(var v=[],x=this.sel,F=0;F<x.ranges.length;F++){var q=x.ranges[F];v[F]={from:q.from(),to:q.to(),text:this.splitLines(s[F]),origin:m}}for(var re=c&&c!="end"&&dc(this,v,c),F=v.length-1;F>=0;F--)So(this,v[F]);re?et(this,re):this.cm&&Ko(this.cm)}),undo:er(function(){Eo(this,"undo")}),redo:er(function(){Eo(this,"redo")}),undoSelection:er(function(){Eo(this,"undo",!0)}),redoSelection:er(function(){Eo(this,"redo",!0)}),setExtending:function(s){this.extend=s},getExtending:function(){return this.extend},historySize:function(){for(var s=this.history,c=0,m=0,v=0;v<s.done.length;v++)s.done[v].ranges||++c;for(var v=0;v<s.undone.length;v++)s.undone[v].ranges||++m;return{undo:c,redo:m}},clearHistory:function(){this.history=new p(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(s){return s&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(s){return this.history.generation==(s||this.cleanGeneration)},getHistory:function(){return{done:an(this.history.done),undone:an(this.history.undone)}},setHistory:function(s){var c=this.history=new p(this.history.maxGeneration);c.done=an(s.done.slice(0),null,!0),c.undone=an(s.undone.slice(0),null,!0)},addLineClass:er(function(s,c,m){return Bl(this,s,c=="gutter"?"gutter":"class",function(v){var x=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass";if(v[x]){if(kc(m).test(v[x]))return!1;v[x]+=" "+m}else v[x]=m;return!0})}),removeLineClass:er(function(s,c,m){return Bl(this,s,c=="gutter"?"gutter":"class",function(v){var x=c=="text"?"textClass":c=="background"?"bgClass":c=="gutter"?"gutterClass":"wrapClass",F=v[x];if(!F)return!1;if(m==null)v[x]=null;else{var q=F.match(kc(m));if(!q)return!1;var re=q.index+q[0].length;v[x]=F.slice(0,q.index)+(q.index&&re!=F.length?" ":"")+F.slice(re)||null}return!0})}),addLineWidget:er(function(s,c,m){return ns(this,s,c,m)}),removeLineWidget:function(s){s.clear()},markText:function(s,c,m){return Xo(this,Qe(this,s),Qe(this,c),m,m&&m.type||"range")},setBookmark:function(s,c){var m={replacedWith:c&&(c.nodeType==null?c.widget:c),insertLeft:c&&c.insertLeft,clearWhenEmpty:!1,shared:c&&c.shared,handleMouseEvents:c&&c.handleMouseEvents};return s=Qe(this,s),Xo(this,s,s,m,"bookmark")},findMarksAt:function(s){s=Qe(this,s);var c=[],m=Dt(this,s.line).markedSpans;if(m)for(var v=0;v<m.length;++v){var x=m[v];(x.from==null||x.from<=s.ch)&&(x.to==null||x.to>=s.ch)&&c.push(x.marker.parent||x.marker)}return c},findMarks:function(s,c,m){s=Qe(this,s),c=Qe(this,c);var v=[],x=s.line;return this.iter(s.line,c.line+1,function(F){var q=F.markedSpans;if(q)for(var re=0;re<q.length;re++){var he=q[re];he.to!=null&&x==s.line&&s.ch>=he.to||he.from==null&&x!=s.line||he.from!=null&&x==c.line&&he.from>=c.ch||m&&!m(he.marker)||v.push(he.marker.parent||he.marker)}++x}),v},getAllMarks:function(){var s=[];return this.iter(function(c){var m=c.markedSpans;if(m)for(var v=0;v<m.length;++v)m[v].from!=null&&s.push(m[v].marker)}),s},posFromIndex:function(s){var c,m=this.first,v=this.lineSeparator().length;return this.iter(function(x){var F=x.text.length+v;return F>s?(c=s,!0):(s-=F,void++m)}),Qe(this,ut(m,c))},indexFromPos:function(s){s=Qe(this,s);var c=s.ch;if(s.line<this.first||s.ch<0)return 0;var m=this.lineSeparator().length;return this.iter(this.first,s.line,function(v){c+=v.text.length+m}),c},copy:function(s){var c=new _i(Gl(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep);return c.scrollTop=this.scrollTop,c.scrollLeft=this.scrollLeft,c.sel=this.sel,c.extend=!1,s&&(c.history.undoDepth=this.history.undoDepth,c.setHistory(this.getHistory())),c},linkedDoc:function(s){s||(s={});var c=this.first,m=this.first+this.size;s.from!=null&&s.from>c&&(c=s.from),s.to!=null&&s.to<m&&(m=s.to);var v=new _i(Gl(this,c,m),s.mode||this.modeOption,c,this.lineSep);return s.sharedHist&&(v.history=this.history),(this.linked||(this.linked=[])).push({doc:v,sharedHist:s.sharedHist}),v.linked=[{doc:this,isParent:!0,sharedHist:s.sharedHist}],jl(v,mc(this)),v},unlinkDoc:function(s){if(s instanceof o&&(s=s.doc),this.linked)for(var c=0;c<this.linked.length;++c){var m=this.linked[c];if(m.doc==s){this.linked.splice(c,1),s.unlinkDoc(this),Vp(mc(this));break}}if(s.history==this.history){var v=[s.id];Xs(s,function(x){v.push(x.id)},!0),s.history=new p(null),s.history.done=an(this.history.done,v),s.history.undone=an(this.history.undone,v)}},iterLinkedDocs:function(s){Xs(this,s)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(s){return this.lineSep?s.split(this.lineSep):kk(s)},lineSeparator:function(){return this.lineSep||`
`}}),_i.prototype.eachLine=_i.prototype.iter;var xk="iter insert remove copy getEditor constructor".split(" ");for(var Rf in _i.prototype)_i.prototype.hasOwnProperty(Rf)&&pr(xk,Rf)<0&&(o.prototype[Rf]=(function(s){return function(){return s.apply(this.doc,arguments)}})(_i.prototype[Rf]));Es(_i);var ei=o.e_preventDefault=function(s){s.preventDefault?s.preventDefault():s.returnValue=!1},Sk=o.e_stopPropagation=function(s){s.stopPropagation?s.stopPropagation():s.cancelBubble=!0},Ff=o.e_stop=function(s){ei(s),Sk(s)},Jt=o.on=function(s,c,m){if(s.addEventListener)s.addEventListener(c,m,!1);else if(s.attachEvent)s.attachEvent("on"+c,m);else{var v=s._handlers||(s._handlers={}),x=v[c]||(v[c]=[]);x.push(m)}},Hb=[],no=o.off=function(s,c,m){if(s.removeEventListener)s.removeEventListener(c,m,!1);else if(s.detachEvent)s.detachEvent("on"+c,m);else for(var v=Yl(s,c,!1),x=0;x<v.length;++x)if(v[x]==m){v.splice(x,1);break}},Or=o.signal=function(s,c){var m=Yl(s,c,!0);if(m.length)for(var v=Array.prototype.slice.call(arguments,2),x=0;x<m.length;++x)m[x].apply(null,v)},Nc=null,zb=30,$b=o.Pass={toString:function(){return"CodeMirror.Pass"}},Lo={scroll:!1},am={origin:"*mouse"},Ic={origin:"+move"};Oo.prototype.set=function(s,c){clearTimeout(this.id),this.id=setTimeout(c,s)};var Cs=o.countColumn=function(s,c,m,v,x){c==null&&(c=s.search(/[^\s\u00a0]/),c==-1&&(c=s.length));for(var F=v||0,q=x||0;;){var re=s.indexOf("	",F);if(0>re||re>=c)return q+(c-F);q+=re-F,q+=m-q%m,F=re+1}},Ub=o.findColumn=function(s,c,m){for(var v=0,x=0;;){var F=s.indexOf("	",v);F==-1&&(F=s.length);var q=F-v;if(F==s.length||x+q>=c)return v+Math.min(q,c-x);if(x+=F-v,x+=m-x%m,v=F+1,x>=c)return v}},Bf=[""],Ql=function(s){s.select()};Kl?Ql=function(s){s.selectionStart=0,s.selectionEnd=s.value.length}:vn&&(Ql=function(s){try{s.select()}catch{}});var Ja,Ek=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,qb=o.isWordChar=function(s){return/\w/.test(s)||s>""&&(s.toUpperCase()!=s.toLowerCase()||Ek.test(s))},Ak=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;Ja=document.createRange?function(s,c,m,v){var x=document.createRange();return x.setEnd(v||s,m),x.setStart(s,c),x}:function(s,c,m){var v=document.body.createTextRange();try{v.moveToElementText(s.parentNode)}catch{return v}return v.collapse(!0),v.moveEnd("character",m),v.moveStart("character",c),v};var lm=o.contains=function(s,c){if(c.nodeType==3&&(c=c.parentNode),s.contains)return s.contains(c);do if(c.nodeType==11&&(c=c.host),c==s)return!0;while(c=c.parentNode)};vn&&11>jn&&(to=function(){try{return document.activeElement}catch{return document.body}});var um,cm,Dc=o.rmClass=function(s,c){var m=s.className,v=kc(c).exec(m);if(v){var x=m.slice(v.index+v[0].length);s.className=m.slice(0,v.index)+(x?v[1]+x:"")}},Rc=o.addClass=function(s,c){var m=s.className;kc(c).test(m)||(s.className+=(m?" ":"")+c)},Wb=!1,Tk=(function(){if(vn&&9>jn)return!1;var s=Rt("div");return"draggable"in s||"dragDrop"in s})(),kk=o.splitLines=`

b`.split(/\n/).length!=3?function(s){for(var c=0,m=[],v=s.length;v>=c;){var x=s.indexOf(`
`,c);x==-1&&(x=s.length);var F=s.slice(c,s.charAt(x-1)=="\r"?x-1:x),q=F.indexOf("\r");q!=-1?(m.push(F.slice(0,q)),c+=q+1):(m.push(F),c=x+1)}return m}:function(s){return s.split(/\r\n?|\n/)},Ck=window.getSelection?function(s){try{return s.selectionStart!=s.selectionEnd}catch{return!1}}:function(s){try{var c=s.ownerDocument.selection.createRange()}catch{}return c&&c.parentElement()==s?c.compareEndPoints("StartToEnd",c)!=0:!1},Vb=(function(){var s=Rt("div");return"oncopy"in s?!0:(s.setAttribute("oncopy","return;"),typeof s.oncopy=="function")})(),hm=null,Qa=o.keyNames={3:"Enter",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"};(function(){for(var s=0;10>s;s++)Qa[s+48]=Qa[s+96]=String(s);for(var s=65;90>=s;s++)Qa[s]=String.fromCharCode(s);for(var s=1;12>=s;s++)Qa[s+111]=Qa[s+63235]="F"+s})();var Fc,Ok=(function(){function s(Ie){return 247>=Ie?m.charAt(Ie):Ie>=1424&&1524>=Ie?"R":Ie>=1536&&1773>=Ie?v.charAt(Ie-1536):Ie>=1774&&2220>=Ie?"r":Ie>=8192&&8203>=Ie?"w":Ie==8204?"b":"L"}function c(Ie,Oe,He){this.level=Ie,this.from=Oe,this.to=He}var m="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",v="rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmm",x=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,F=/[stwN]/,q=/[LRr]/,re=/[Lb1n]/,he=/[1n]/,_e="L";return function(Ie){if(!x.test(Ie))return!1;for(var Oe,He=Ie.length,We=[],je=0;He>je;++je)We.push(Oe=s(Ie.charCodeAt(je)));for(var je=0,ht=_e;He>je;++je){var Oe=We[je];Oe=="m"?We[je]=ht:ht=Oe}for(var je=0,gt=_e;He>je;++je){var Oe=We[je];Oe=="1"&&gt=="r"?We[je]="n":q.test(Oe)&&(gt=Oe,Oe=="r"&&(We[je]="R"))}for(var je=1,ht=We[0];He-1>je;++je){var Oe=We[je];Oe=="+"&&ht=="1"&&We[je+1]=="1"?We[je]="1":Oe!=","||ht!=We[je+1]||ht!="1"&&ht!="n"||(We[je]=ht),ht=Oe}for(var je=0;He>je;++je){var Oe=We[je];if(Oe==",")We[je]="N";else if(Oe=="%"){for(var Tt=je+1;He>Tt&&We[Tt]=="%";++Tt);for(var Ft=je&&We[je-1]=="!"||He>Tt&&We[Tt]=="1"?"1":"N",Nt=je;Tt>Nt;++Nt)We[Nt]=Ft;je=Tt-1}}for(var je=0,gt=_e;He>je;++je){var Oe=We[je];gt=="L"&&Oe=="1"?We[je]="L":q.test(Oe)&&(gt=Oe)}for(var je=0;He>je;++je)if(F.test(We[je])){for(var Tt=je+1;He>Tt&&F.test(We[Tt]);++Tt);for(var _n=(je?We[je-1]:_e)=="L",kt=(He>Tt?We[Tt]:_e)=="L",Ft=_n||kt?"L":"R",Nt=je;Tt>Nt;++Nt)We[Nt]=Ft;je=Tt-1}for(var Ht,Yt=[],je=0;He>je;)if(re.test(We[je])){var Lr=je;for(++je;He>je&&re.test(We[je]);++je);Yt.push(new c(0,Lr,je))}else{var wr=je,Hr=Yt.length;for(++je;He>je&&We[je]!="L";++je);for(var Nt=wr;je>Nt;)if(he.test(We[Nt])){Nt>wr&&Yt.splice(Hr,0,new c(1,wr,Nt));var ro=Nt;for(++Nt;je>Nt&&he.test(We[Nt]);++Nt);Yt.splice(Hr,0,new c(2,ro,Nt)),wr=Nt}else++Nt;je>wr&&Yt.splice(Hr,0,new c(1,wr,je))}return Yt[0].level==1&&(Ht=Ie.match(/^\s+/))&&(Yt[0].from=Ht[0].length,Yt.unshift(new c(0,0,Ht[0].length))),Sn(Yt).level==1&&(Ht=Ie.match(/\s+$/))&&(Sn(Yt).to-=Ht[0].length,Yt.push(new c(0,He-Ht[0].length,He))),Yt[0].level==2&&Yt.unshift(new c(1,Yt[0].to,Yt[0].to)),Yt[0].level!=Sn(Yt).level&&Yt.push(new c(Yt[0].level,He,He)),Yt}})();return o.version="5.15.2",o})},{}],11:[function(t,r,i){(function(o){typeof i=="object"&&typeof r=="object"?o(t("../../lib/codemirror"),t("../markdown/markdown"),t("../../addon/mode/overlay")):o(CodeMirror)})(function(o){var l=/^((?:(?:aaas?|about|acap|adiumxtra|af[ps]|aim|apt|attachment|aw|beshare|bitcoin|bolo|callto|cap|chrome(?:-extension)?|cid|coap|com-eventbrite-attendee|content|crid|cvs|data|dav|dict|dlna-(?:playcontainer|playsingle)|dns|doi|dtn|dvb|ed2k|facetime|feed|file|finger|fish|ftp|geo|gg|git|gizmoproject|go|gopher|gtalk|h323|hcp|https?|iax|icap|icon|im|imap|info|ipn|ipp|irc[6s]?|iris(?:\.beep|\.lwz|\.xpc|\.xpcs)?|itms|jar|javascript|jms|keyparc|lastfm|ldaps?|magnet|mailto|maps|market|message|mid|mms|ms-help|msnim|msrps?|mtqp|mumble|mupdate|mvn|news|nfs|nih?|nntp|notes|oid|opaquelocktoken|palm|paparazzi|platform|pop|pres|proxy|psyc|query|res(?:ource)?|rmi|rsync|rtmp|rtsp|secondlife|service|session|sftp|sgn|shttp|sieve|sips?|skype|sm[bs]|snmp|soap\.beeps?|soldat|spotify|ssh|steam|svn|tag|teamspeak|tel(?:net)?|tftp|things|thismessage|tip|tn3270|tv|udp|unreal|urn|ut2004|vemmi|ventrilo|view-source|webcal|wss?|wtai|wyciwyg|xcon(?:-userid)?|xfire|xmlrpc\.beeps?|xmpp|xri|ymsgr|z39\.50[rs]?):(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]|\([^\s()<>]*\))+(?:\([^\s()<>]*\)|[^\s`*!()\[\]{};:'".,<>?]))/i;o.defineMode("gfm",function(h,u){function f(w){return w.code=!1,null}var d=0,g={startState:function(){return{code:!1,codeBlock:!1,ateSpace:!1}},copyState:function(w){return{code:w.code,codeBlock:w.codeBlock,ateSpace:w.ateSpace}},token:function(w,_){if(_.combineTokens=null,_.codeBlock)return w.match(/^```+/)?(_.codeBlock=!1,null):(w.skipToEnd(),null);if(w.sol()&&(_.code=!1),w.sol()&&w.match(/^```+/))return w.skipToEnd(),_.codeBlock=!0,null;if(w.peek()==="`"){w.next();var A=w.pos;w.eatWhile("`");var N=1+w.pos-A;return _.code?N===d&&(_.code=!1):(d=N,_.code=!0),null}return _.code?(w.next(),null):w.eatSpace()?(_.ateSpace=!0,null):(w.sol()||_.ateSpace)&&(_.ateSpace=!1,u.gitHubSpice!==!1)&&(w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+@)?(?:[a-f0-9]{7,40}\b)/)||w.match(/^(?:[a-zA-Z0-9\-_]+\/)?(?:[a-zA-Z0-9\-_]+)?#[0-9]+\b/))||w.match(l)&&w.string.slice(w.start-2,w.start)!="]("&&(w.start==0||/\W/.test(w.string.charAt(w.start-1)))?(_.combineTokens=!0,"link"):(w.next(),null)},blankLine:f},y={underscoresBreakWords:!1,taskLists:!0,fencedCodeBlocks:"```",strikethrough:!0};for(var k in u)y[k]=u[k];return y.name="markdown",o.overlayMode(o.getMode(h,y),g)},"markdown"),o.defineMIME("text/x-gfm","gfm")})},{"../../addon/mode/overlay":8,"../../lib/codemirror":10,"../markdown/markdown":12}],12:[function(t,r,i){(function(o){typeof i=="object"&&typeof r=="object"?o(t("../../lib/codemirror"),t("../xml/xml"),t("../meta")):o(CodeMirror)})(function(o){o.defineMode("markdown",function(l,h){function u(Q){if(o.findModeByName){var K=o.findModeByName(Q);K&&(Q=K.mime||K.mimes[0])}var Ce=o.getMode(l,Q);return Ce.name=="null"?null:Ce}function f(Q,K,Ce){return K.f=K.inline=Ce,Ce(Q,K)}function d(Q,K,Ce){return K.f=K.block=Ce,Ce(Q,K)}function g(Q){return!Q||!/\S/.test(Q.string)}function y(Q){return Q.linkTitle=!1,Q.em=!1,Q.strong=!1,Q.strikethrough=!1,Q.quote=0,Q.indentedCode=!1,P&&Q.f==w&&(Q.f=M,Q.block=k),Q.trailingSpace=0,Q.trailingSpaceNewLine=!1,Q.prevLine=Q.thisLine,Q.thisLine=null,null}function k(Q,K){var Ce=Q.sol(),Me=K.list!==!1,ne=K.indentedCode;K.indentedCode=!1,Me&&(K.indentationDiff>=0?(K.indentationDiff<4&&(K.indentation-=K.indentationDiff),K.list=null):K.indentation>0?K.list=null:K.list=!1);var ie=null;if(K.indentationDiff>=4)return Q.skipToEnd(),ne||g(K.prevLine)?(K.indentation-=4,K.indentedCode=!0,j.code):null;if(Q.eatSpace())return null;if((ie=Q.match(V))&&ie[1].length<=6)return K.header=ie[1].length,h.highlightFormatting&&(K.formatting="header"),K.f=K.inline,N(K);if(!(g(K.prevLine)||K.quote||Me||ne)&&(ie=Q.match(de)))return K.header=ie[0].charAt(0)=="="?1:2,h.highlightFormatting&&(K.formatting="header"),K.f=K.inline,N(K);if(Q.eat(">"))return K.quote=Ce?1:K.quote+1,h.highlightFormatting&&(K.formatting="quote"),Q.eatSpace(),N(K);if(Q.peek()==="[")return f(Q,K,C);if(Q.match(Z,!0))return K.hr=!0,j.hr;if((g(K.prevLine)||Me)&&(Q.match(se,!1)||Q.match(te,!1))){var oe=null;for(Q.match(se,!0)?oe="ul":(Q.match(te,!0),oe="ol"),K.indentation=Q.column()+Q.current().length,K.list=!0;K.listStack&&Q.column()<K.listStack[K.listStack.length-1];)K.listStack.pop();return K.listStack.push(K.indentation),h.taskLists&&Q.match(X,!1)&&(K.taskList=!0),K.f=K.inline,h.highlightFormatting&&(K.formatting=["list","list-"+oe]),N(K)}return h.fencedCodeBlocks&&(ie=Q.match(ue,!0))?(K.fencedChars=ie[1],K.localMode=u(ie[2]),K.localMode&&(K.localState=o.startState(K.localMode)),K.f=K.block=_,h.highlightFormatting&&(K.formatting="code-block"),K.code=-1,N(K)):f(Q,K,K.inline)}function w(Q,K){var Ce=I.token(Q,K.htmlState);if(!P){var Me=o.innerMode(I,K.htmlState);(Me.mode.name=="xml"&&Me.state.tagStart===null&&!Me.state.context&&Me.state.tokenize.isInText||K.md_inside&&Q.current().indexOf(">")>-1)&&(K.f=M,K.block=k,K.htmlState=null)}return Ce}function _(Q,K){return K.fencedChars&&Q.match(K.fencedChars,!1)?(K.localMode=K.localState=null,K.f=K.block=A,null):K.localMode?K.localMode.token(Q,K.localState):(Q.skipToEnd(),j.code)}function A(Q,K){Q.match(K.fencedChars),K.block=k,K.f=M,K.fencedChars=null,h.highlightFormatting&&(K.formatting="code-block"),K.code=1;var Ce=N(K);return K.code=0,Ce}function N(Q){var K=[];if(Q.formatting){K.push(j.formatting),typeof Q.formatting=="string"&&(Q.formatting=[Q.formatting]);for(var Ce=0;Ce<Q.formatting.length;Ce++)K.push(j.formatting+"-"+Q.formatting[Ce]),Q.formatting[Ce]==="header"&&K.push(j.formatting+"-"+Q.formatting[Ce]+"-"+Q.header),Q.formatting[Ce]==="quote"&&(!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=Q.quote?K.push(j.formatting+"-"+Q.formatting[Ce]+"-"+Q.quote):K.push("error"))}if(Q.taskOpen)return K.push("meta"),K.length?K.join(" "):null;if(Q.taskClosed)return K.push("property"),K.length?K.join(" "):null;if(Q.linkHref?K.push(j.linkHref,"url"):(Q.strong&&K.push(j.strong),Q.em&&K.push(j.em),Q.strikethrough&&K.push(j.strikethrough),Q.linkText&&K.push(j.linkText),Q.code&&K.push(j.code)),Q.header&&K.push(j.header,j.header+"-"+Q.header),Q.quote&&(K.push(j.quote),!h.maxBlockquoteDepth||h.maxBlockquoteDepth>=Q.quote?K.push(j.quote+"-"+Q.quote):K.push(j.quote+"-"+h.maxBlockquoteDepth)),Q.list!==!1){var Me=(Q.listStack.length-1)%3;Me?Me===1?K.push(j.list2):K.push(j.list3):K.push(j.list1)}return Q.trailingSpaceNewLine?K.push("trailing-space-new-line"):Q.trailingSpace&&K.push("trailing-space-"+(Q.trailingSpace%2?"a":"b")),K.length?K.join(" "):null}function b(Q,K){return Q.match(Y,!0)?N(K):void 0}function M(Q,K){var Ce=K.text(Q,K);if(typeof Ce<"u")return Ce;if(K.list)return K.list=null,N(K);if(K.taskList){var Me=Q.match(X,!0)[1]!=="x";return Me?K.taskOpen=!0:K.taskClosed=!0,h.highlightFormatting&&(K.formatting="task"),K.taskList=!1,N(K)}if(K.taskOpen=!1,K.taskClosed=!1,K.header&&Q.match(/^#+$/,!0))return h.highlightFormatting&&(K.formatting="header"),N(K);var ne=Q.sol(),ie=Q.next();if(K.linkTitle){K.linkTitle=!1;var oe=ie;ie==="("&&(oe=")"),oe=(oe+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");var ce="^\\s*(?:[^"+oe+"\\\\]+|\\\\\\\\|\\\\.)"+oe;if(Q.match(new RegExp(ce),!0))return j.linkHref}if(ie==="`"){var W=K.formatting;h.highlightFormatting&&(K.formatting="code"),Q.eatWhile("`");var ee=Q.current().length;if(K.code==0)return K.code=ee,N(K);if(ee==K.code){var pe=N(K);return K.code=0,pe}return K.formatting=W,N(K)}if(K.code)return N(K);if(ie==="\\"&&(Q.next(),h.highlightFormatting)){var ve=N(K),Ae=j.formatting+"-escape";return ve?ve+" "+Ae:Ae}if(ie==="!"&&Q.match(/\[[^\]]*\] ?(?:\(|\[)/,!1))return Q.match(/\[[^\]]*\]/),K.inline=K.f=D,j.image;if(ie==="["&&Q.match(/[^\]]*\](\(.*\)| ?\[.*?\])/,!1))return K.linkText=!0,h.highlightFormatting&&(K.formatting="link"),N(K);if(ie==="]"&&K.linkText&&Q.match(/\(.*?\)| ?\[.*?\]/,!1)){h.highlightFormatting&&(K.formatting="link");var ve=N(K);return K.linkText=!1,K.inline=K.f=D,ve}if(ie==="<"&&Q.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/,!1)){K.f=K.inline=E,h.highlightFormatting&&(K.formatting="link");var ve=N(K);return ve?ve+=" ":ve="",ve+j.linkInline}if(ie==="<"&&Q.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/,!1)){K.f=K.inline=E,h.highlightFormatting&&(K.formatting="link");var ve=N(K);return ve?ve+=" ":ve="",ve+j.linkEmail}if(ie==="<"&&Q.match(/^(!--|\w)/,!1)){var ke=Q.string.indexOf(">",Q.pos);if(ke!=-1){var Fe=Q.string.substring(Q.start,ke);/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(Fe)&&(K.md_inside=!0)}return Q.backUp(1),K.htmlState=o.startState(I),d(Q,K,w)}if(ie==="<"&&Q.match(/^\/\w*?>/))return K.md_inside=!1,"tag";var ae=!1;if(!h.underscoresBreakWords&&ie==="_"&&Q.peek()!=="_"&&Q.match(/(\w)/,!1)){var fe=Q.pos-2;if(fe>=0){var me=Q.string.charAt(fe);me!=="_"&&me.match(/(\w)/,!1)&&(ae=!0)}}if(ie==="*"||ie==="_"&&!ae){if(!(ne&&Q.peek()===" ")){if(K.strong===ie&&Q.eat(ie)){h.highlightFormatting&&(K.formatting="strong");var pe=N(K);return K.strong=!1,pe}if(!K.strong&&Q.eat(ie))return K.strong=ie,h.highlightFormatting&&(K.formatting="strong"),N(K);if(K.em===ie){h.highlightFormatting&&(K.formatting="em");var pe=N(K);return K.em=!1,pe}if(!K.em)return K.em=ie,h.highlightFormatting&&(K.formatting="em"),N(K)}}else if(ie===" "&&(Q.eat("*")||Q.eat("_"))){if(Q.peek()===" ")return N(K);Q.backUp(1)}if(h.strikethrough){if(ie==="~"&&Q.eatWhile(ie)){if(K.strikethrough){h.highlightFormatting&&(K.formatting="strikethrough");var pe=N(K);return K.strikethrough=!1,pe}if(Q.match(/^[^\s]/,!1))return K.strikethrough=!0,h.highlightFormatting&&(K.formatting="strikethrough"),N(K)}else if(ie===" "&&Q.match(/^~~/,!0)){if(Q.peek()===" ")return N(K);Q.backUp(2)}}return ie===" "&&(Q.match(/ +$/,!1)?K.trailingSpace++:K.trailingSpace&&(K.trailingSpaceNewLine=!0)),N(K)}function E(Q,K){var Ce=Q.next();if(Ce===">"){K.f=K.inline=M,h.highlightFormatting&&(K.formatting="link");var Me=N(K);return Me?Me+=" ":Me="",Me+j.linkInline}return Q.match(/^[^>]+/,!0),j.linkInline}function D(Q,K){if(Q.eatSpace())return null;var Ce=Q.next();return Ce==="("||Ce==="["?(K.f=K.inline=T(Ce==="("?")":"]"),h.highlightFormatting&&(K.formatting="link-string"),K.linkHref=!0,N(K)):"error"}function T(Q){return function(K,Ce){var Me=K.next();if(Me===Q){Ce.f=Ce.inline=M,h.highlightFormatting&&(Ce.formatting="link-string");var ne=N(Ce);return Ce.linkHref=!1,ne}return K.match(xe[Q]),Ce.linkHref=!0,N(Ce)}}function C(Q,K){return Q.match(/^([^\]\\]|\\.)*\]:/,!1)?(K.f=R,Q.next(),h.highlightFormatting&&(K.formatting="link"),K.linkText=!0,N(K)):f(Q,K,M)}function R(Q,K){if(Q.match(/^\]:/,!0)){K.f=K.inline=B,h.highlightFormatting&&(K.formatting="link");var Ce=N(K);return K.linkText=!1,Ce}return Q.match(/^([^\]\\]|\\.)+/,!0),j.linkText}function B(Q,K){return Q.eatSpace()?null:(Q.match(/^[^\s]+/,!0),Q.peek()===void 0?K.linkTitle=!0:Q.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/,!0),K.f=K.inline=M,j.linkHref+" url")}var I=o.getMode(l,"text/html"),P=I.name=="null";h.highlightFormatting===void 0&&(h.highlightFormatting=!1),h.maxBlockquoteDepth===void 0&&(h.maxBlockquoteDepth=0),h.underscoresBreakWords===void 0&&(h.underscoresBreakWords=!0),h.taskLists===void 0&&(h.taskLists=!1),h.strikethrough===void 0&&(h.strikethrough=!1),h.tokenTypeOverrides===void 0&&(h.tokenTypeOverrides={});var j={header:"header",code:"comment",quote:"quote",list1:"variable-2",list2:"variable-3",list3:"keyword",hr:"hr",image:"tag",formatting:"formatting",linkInline:"link",linkEmail:"link",linkText:"link",linkHref:"string",em:"em",strong:"strong",strikethrough:"strikethrough"};for(var $ in j)j.hasOwnProperty($)&&h.tokenTypeOverrides[$]&&(j[$]=h.tokenTypeOverrides[$]);var Z=/^([*\-_])(?:\s*\1){2,}\s*$/,se=/^[*\-+]\s+/,te=/^[0-9]+([.)])\s+/,X=/^\[(x| )\](?=\s)/,V=h.allowAtxHeaderWithoutSpace?/^(#+)/:/^(#+)(?: |$)/,de=/^ *(?:\={1,}|-{1,})\s*$/,Y=/^[^#!\[\]*_\\<>` "'(~]+/,ue=new RegExp("^("+(h.fencedCodeBlocks===!0?"~~~+|```+":h.fencedCodeBlocks)+")[ \\t]*([\\w+#-]*)"),xe={")":/^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,"]":/^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\\]]|\\.)*\])*?(?=\])/},we={startState:function(){return{f:k,prevLine:null,thisLine:null,block:k,htmlState:null,indentation:0,inline:M,text:b,formatting:!1,linkText:!1,linkHref:!1,linkTitle:!1,code:0,em:!1,strong:!1,header:0,hr:!1,taskList:!1,list:!1,listStack:[],quote:0,trailingSpace:0,trailingSpaceNewLine:!1,strikethrough:!1,fencedChars:null}},copyState:function(Q){return{f:Q.f,prevLine:Q.prevLine,thisLine:Q.thisLine,block:Q.block,htmlState:Q.htmlState&&o.copyState(I,Q.htmlState),indentation:Q.indentation,localMode:Q.localMode,localState:Q.localMode?o.copyState(Q.localMode,Q.localState):null,inline:Q.inline,text:Q.text,formatting:!1,linkTitle:Q.linkTitle,code:Q.code,em:Q.em,strong:Q.strong,strikethrough:Q.strikethrough,header:Q.header,hr:Q.hr,taskList:Q.taskList,list:Q.list,listStack:Q.listStack.slice(0),quote:Q.quote,indentedCode:Q.indentedCode,trailingSpace:Q.trailingSpace,trailingSpaceNewLine:Q.trailingSpaceNewLine,md_inside:Q.md_inside,fencedChars:Q.fencedChars}},token:function(Q,K){if(K.formatting=!1,Q!=K.thisLine){var Ce=K.header||K.hr;if(K.header=0,K.hr=!1,Q.match(/^\s*$/,!0)||Ce){if(y(K),!Ce)return null;K.prevLine=null}K.prevLine=K.thisLine,K.thisLine=Q,K.taskList=!1,K.trailingSpace=0,K.trailingSpaceNewLine=!1,K.f=K.block;var Me=Q.match(/^\s*/,!0)[0].replace(/\t/g,"    ").length;if(K.indentationDiff=Math.min(Me-K.indentation,4),K.indentation=K.indentation+K.indentationDiff,Me>0)return null}return K.f(Q,K)},innerMode:function(Q){return Q.block==w?{state:Q.htmlState,mode:I}:Q.localState?{state:Q.localState,mode:Q.localMode}:{state:Q,mode:we}},blankLine:y,getType:N,fold:"markdown"};return we},"xml"),o.defineMIME("text/x-markdown","markdown")})},{"../../lib/codemirror":10,"../meta":13,"../xml/xml":14}],13:[function(t,r,i){(function(o){o(typeof i=="object"&&typeof r=="object"?t("../lib/codemirror"):CodeMirror)})(function(o){o.modeInfo=[{name:"APL",mime:"text/apl",mode:"apl",ext:["dyalog","apl"]},{name:"PGP",mimes:["application/pgp","application/pgp-keys","application/pgp-signature"],mode:"asciiarmor",ext:["pgp"]},{name:"ASN.1",mime:"text/x-ttcn-asn",mode:"asn.1",ext:["asn","asn1"]},{name:"Asterisk",mime:"text/x-asterisk",mode:"asterisk",file:/^extensions\.conf$/i},{name:"Brainfuck",mime:"text/x-brainfuck",mode:"brainfuck",ext:["b","bf"]},{name:"C",mime:"text/x-csrc",mode:"clike",ext:["c","h"]},{name:"C++",mime:"text/x-c++src",mode:"clike",ext:["cpp","c++","cc","cxx","hpp","h++","hh","hxx"],alias:["cpp"]},{name:"Cobol",mime:"text/x-cobol",mode:"cobol",ext:["cob","cpy"]},{name:"C#",mime:"text/x-csharp",mode:"clike",ext:["cs"],alias:["csharp"]},{name:"Clojure",mime:"text/x-clojure",mode:"clojure",ext:["clj","cljc","cljx"]},{name:"ClojureScript",mime:"text/x-clojurescript",mode:"clojure",ext:["cljs"]},{name:"Closure Stylesheets (GSS)",mime:"text/x-gss",mode:"css",ext:["gss"]},{name:"CMake",mime:"text/x-cmake",mode:"cmake",ext:["cmake","cmake.in"],file:/^CMakeLists.txt$/},{name:"CoffeeScript",mime:"text/x-coffeescript",mode:"coffeescript",ext:["coffee"],alias:["coffee","coffee-script"]},{name:"Common Lisp",mime:"text/x-common-lisp",mode:"commonlisp",ext:["cl","lisp","el"],alias:["lisp"]},{name:"Cypher",mime:"application/x-cypher-query",mode:"cypher",ext:["cyp","cypher"]},{name:"Cython",mime:"text/x-cython",mode:"python",ext:["pyx","pxd","pxi"]},{name:"Crystal",mime:"text/x-crystal",mode:"crystal",ext:["cr"]},{name:"CSS",mime:"text/css",mode:"css",ext:["css"]},{name:"CQL",mime:"text/x-cassandra",mode:"sql",ext:["cql"]},{name:"D",mime:"text/x-d",mode:"d",ext:["d"]},{name:"Dart",mimes:["application/dart","text/x-dart"],mode:"dart",ext:["dart"]},{name:"diff",mime:"text/x-diff",mode:"diff",ext:["diff","patch"]},{name:"Django",mime:"text/x-django",mode:"django"},{name:"Dockerfile",mime:"text/x-dockerfile",mode:"dockerfile",file:/^Dockerfile$/},{name:"DTD",mime:"application/xml-dtd",mode:"dtd",ext:["dtd"]},{name:"Dylan",mime:"text/x-dylan",mode:"dylan",ext:["dylan","dyl","intr"]},{name:"EBNF",mime:"text/x-ebnf",mode:"ebnf"},{name:"ECL",mime:"text/x-ecl",mode:"ecl",ext:["ecl"]},{name:"edn",mime:"application/edn",mode:"clojure",ext:["edn"]},{name:"Eiffel",mime:"text/x-eiffel",mode:"eiffel",ext:["e"]},{name:"Elm",mime:"text/x-elm",mode:"elm",ext:["elm"]},{name:"Embedded Javascript",mime:"application/x-ejs",mode:"htmlembedded",ext:["ejs"]},{name:"Embedded Ruby",mime:"application/x-erb",mode:"htmlembedded",ext:["erb"]},{name:"Erlang",mime:"text/x-erlang",mode:"erlang",ext:["erl"]},{name:"Factor",mime:"text/x-factor",mode:"factor",ext:["factor"]},{name:"FCL",mime:"text/x-fcl",mode:"fcl"},{name:"Forth",mime:"text/x-forth",mode:"forth",ext:["forth","fth","4th"]},{name:"Fortran",mime:"text/x-fortran",mode:"fortran",ext:["f","for","f77","f90"]},{name:"F#",mime:"text/x-fsharp",mode:"mllike",ext:["fs"],alias:["fsharp"]},{name:"Gas",mime:"text/x-gas",mode:"gas",ext:["s"]},{name:"Gherkin",mime:"text/x-feature",mode:"gherkin",ext:["feature"]},{name:"GitHub Flavored Markdown",mime:"text/x-gfm",mode:"gfm",file:/^(readme|contributing|history).md$/i},{name:"Go",mime:"text/x-go",mode:"go",ext:["go"]},{name:"Groovy",mime:"text/x-groovy",mode:"groovy",ext:["groovy","gradle"]},{name:"HAML",mime:"text/x-haml",mode:"haml",ext:["haml"]},{name:"Haskell",mime:"text/x-haskell",mode:"haskell",ext:["hs"]},{name:"Haskell (Literate)",mime:"text/x-literate-haskell",mode:"haskell-literate",ext:["lhs"]},{name:"Haxe",mime:"text/x-haxe",mode:"haxe",ext:["hx"]},{name:"HXML",mime:"text/x-hxml",mode:"haxe",ext:["hxml"]},{name:"ASP.NET",mime:"application/x-aspx",mode:"htmlembedded",ext:["aspx"],alias:["asp","aspx"]},{name:"HTML",mime:"text/html",mode:"htmlmixed",ext:["html","htm"],alias:["xhtml"]},{name:"HTTP",mime:"message/http",mode:"http"},{name:"IDL",mime:"text/x-idl",mode:"idl",ext:["pro"]},{name:"Jade",mime:"text/x-jade",mode:"jade",ext:["jade"]},{name:"Java",mime:"text/x-java",mode:"clike",ext:["java"]},{name:"Java Server Pages",mime:"application/x-jsp",mode:"htmlembedded",ext:["jsp"],alias:["jsp"]},{name:"JavaScript",mimes:["text/javascript","text/ecmascript","application/javascript","application/x-javascript","application/ecmascript"],mode:"javascript",ext:["js"],alias:["ecmascript","js","node"]},{name:"JSON",mimes:["application/json","application/x-json"],mode:"javascript",ext:["json","map"],alias:["json5"]},{name:"JSON-LD",mime:"application/ld+json",mode:"javascript",ext:["jsonld"],alias:["jsonld"]},{name:"JSX",mime:"text/jsx",mode:"jsx",ext:["jsx"]},{name:"Jinja2",mime:"null",mode:"jinja2"},{name:"Julia",mime:"text/x-julia",mode:"julia",ext:["jl"]},{name:"Kotlin",mime:"text/x-kotlin",mode:"clike",ext:["kt"]},{name:"LESS",mime:"text/x-less",mode:"css",ext:["less"]},{name:"LiveScript",mime:"text/x-livescript",mode:"livescript",ext:["ls"],alias:["ls"]},{name:"Lua",mime:"text/x-lua",mode:"lua",ext:["lua"]},{name:"Markdown",mime:"text/x-markdown",mode:"markdown",ext:["markdown","md","mkd"]},{name:"mIRC",mime:"text/mirc",mode:"mirc"},{name:"MariaDB SQL",mime:"text/x-mariadb",mode:"sql"},{name:"Mathematica",mime:"text/x-mathematica",mode:"mathematica",ext:["m","nb"]},{name:"Modelica",mime:"text/x-modelica",mode:"modelica",ext:["mo"]},{name:"MUMPS",mime:"text/x-mumps",mode:"mumps",ext:["mps"]},{name:"MS SQL",mime:"text/x-mssql",mode:"sql"},{name:"mbox",mime:"application/mbox",mode:"mbox",ext:["mbox"]},{name:"MySQL",mime:"text/x-mysql",mode:"sql"},{name:"Nginx",mime:"text/x-nginx-conf",mode:"nginx",file:/nginx.*\.conf$/i},{name:"NSIS",mime:"text/x-nsis",mode:"nsis",ext:["nsh","nsi"]},{name:"NTriples",mime:"text/n-triples",mode:"ntriples",ext:["nt"]},{name:"Objective C",mime:"text/x-objectivec",mode:"clike",ext:["m","mm"],alias:["objective-c","objc"]},{name:"OCaml",mime:"text/x-ocaml",mode:"mllike",ext:["ml","mli","mll","mly"]},{name:"Octave",mime:"text/x-octave",mode:"octave",ext:["m"]},{name:"Oz",mime:"text/x-oz",mode:"oz",ext:["oz"]},{name:"Pascal",mime:"text/x-pascal",mode:"pascal",ext:["p","pas"]},{name:"PEG.js",mime:"null",mode:"pegjs",ext:["jsonld"]},{name:"Perl",mime:"text/x-perl",mode:"perl",ext:["pl","pm"]},{name:"PHP",mime:"application/x-httpd-php",mode:"php",ext:["php","php3","php4","php5","phtml"]},{name:"Pig",mime:"text/x-pig",mode:"pig",ext:["pig"]},{name:"Plain Text",mime:"text/plain",mode:"null",ext:["txt","text","conf","def","list","log"]},{name:"PLSQL",mime:"text/x-plsql",mode:"sql",ext:["pls"]},{name:"PowerShell",mime:"application/x-powershell",mode:"powershell",ext:["ps1","psd1","psm1"]},{name:"Properties files",mime:"text/x-properties",mode:"properties",ext:["properties","ini","in"],alias:["ini","properties"]},{name:"ProtoBuf",mime:"text/x-protobuf",mode:"protobuf",ext:["proto"]},{name:"Python",mime:"text/x-python",mode:"python",ext:["BUILD","bzl","py","pyw"],file:/^(BUCK|BUILD)$/},{name:"Puppet",mime:"text/x-puppet",mode:"puppet",ext:["pp"]},{name:"Q",mime:"text/x-q",mode:"q",ext:["q"]},{name:"R",mime:"text/x-rsrc",mode:"r",ext:["r"],alias:["rscript"]},{name:"reStructuredText",mime:"text/x-rst",mode:"rst",ext:["rst"],alias:["rst"]},{name:"RPM Changes",mime:"text/x-rpm-changes",mode:"rpm"},{name:"RPM Spec",mime:"text/x-rpm-spec",mode:"rpm",ext:["spec"]},{name:"Ruby",mime:"text/x-ruby",mode:"ruby",ext:["rb"],alias:["jruby","macruby","rake","rb","rbx"]},{name:"Rust",mime:"text/x-rustsrc",mode:"rust",ext:["rs"]},{name:"SAS",mime:"text/x-sas",mode:"sas",ext:["sas"]},{name:"Sass",mime:"text/x-sass",mode:"sass",ext:["sass"]},{name:"Scala",mime:"text/x-scala",mode:"clike",ext:["scala"]},{name:"Scheme",mime:"text/x-scheme",mode:"scheme",ext:["scm","ss"]},{name:"SCSS",mime:"text/x-scss",mode:"css",ext:["scss"]},{name:"Shell",mime:"text/x-sh",mode:"shell",ext:["sh","ksh","bash"],alias:["bash","sh","zsh"],file:/^PKGBUILD$/},{name:"Sieve",mime:"application/sieve",mode:"sieve",ext:["siv","sieve"]},{name:"Slim",mimes:["text/x-slim","application/x-slim"],mode:"slim",ext:["slim"]},{name:"Smalltalk",mime:"text/x-stsrc",mode:"smalltalk",ext:["st"]},{name:"Smarty",mime:"text/x-smarty",mode:"smarty",ext:["tpl"]},{name:"Solr",mime:"text/x-solr",mode:"solr"},{name:"Soy",mime:"text/x-soy",mode:"soy",ext:["soy"],alias:["closure template"]},{name:"SPARQL",mime:"application/sparql-query",mode:"sparql",ext:["rq","sparql"],alias:["sparul"]},{name:"Spreadsheet",mime:"text/x-spreadsheet",mode:"spreadsheet",alias:["excel","formula"]},{name:"SQL",mime:"text/x-sql",mode:"sql",ext:["sql"]},{name:"Squirrel",mime:"text/x-squirrel",mode:"clike",ext:["nut"]},{name:"Swift",mime:"text/x-swift",mode:"swift",ext:["swift"]},{name:"sTeX",mime:"text/x-stex",mode:"stex"},{name:"LaTeX",mime:"text/x-latex",mode:"stex",ext:["text","ltx"],alias:["tex"]},{name:"SystemVerilog",mime:"text/x-systemverilog",mode:"verilog",ext:["v"]},{name:"Tcl",mime:"text/x-tcl",mode:"tcl",ext:["tcl"]},{name:"Textile",mime:"text/x-textile",mode:"textile",ext:["textile"]},{name:"TiddlyWiki ",mime:"text/x-tiddlywiki",mode:"tiddlywiki"},{name:"Tiki wiki",mime:"text/tiki",mode:"tiki"},{name:"TOML",mime:"text/x-toml",mode:"toml",ext:["toml"]},{name:"Tornado",mime:"text/x-tornado",mode:"tornado"},{name:"troff",mime:"text/troff",mode:"troff",ext:["1","2","3","4","5","6","7","8","9"]},{name:"TTCN",mime:"text/x-ttcn",mode:"ttcn",ext:["ttcn","ttcn3","ttcnpp"]},{name:"TTCN_CFG",mime:"text/x-ttcn-cfg",mode:"ttcn-cfg",ext:["cfg"]},{name:"Turtle",mime:"text/turtle",mode:"turtle",ext:["ttl"]},{name:"TypeScript",mime:"application/typescript",mode:"javascript",ext:["ts"],alias:["ts"]},{name:"Twig",mime:"text/x-twig",mode:"twig"},{name:"Web IDL",mime:"text/x-webidl",mode:"webidl",ext:["webidl"]},{name:"VB.NET",mime:"text/x-vb",mode:"vb",ext:["vb"]},{name:"VBScript",mime:"text/vbscript",mode:"vbscript",ext:["vbs"]},{name:"Velocity",mime:"text/velocity",mode:"velocity",ext:["vtl"]},{name:"Verilog",mime:"text/x-verilog",mode:"verilog",ext:["v"]},{name:"VHDL",mime:"text/x-vhdl",mode:"vhdl",ext:["vhd","vhdl"]},{name:"XML",mimes:["application/xml","text/xml"],mode:"xml",ext:["xml","xsl","xsd"],alias:["rss","wsdl","xsd"]},{name:"XQuery",mime:"application/xquery",mode:"xquery",ext:["xy","xquery"]},{name:"Yacas",mime:"text/x-yacas",mode:"yacas",ext:["ys"]},{name:"YAML",mime:"text/x-yaml",mode:"yaml",ext:["yaml","yml"],alias:["yml"]},{name:"Z80",mime:"text/x-z80",mode:"z80",ext:["z80"]},{name:"mscgen",mime:"text/x-mscgen",mode:"mscgen",ext:["mscgen","mscin","msc"]},{name:"xu",mime:"text/x-xu",mode:"mscgen",ext:["xu"]},{name:"msgenny",mime:"text/x-msgenny",mode:"mscgen",ext:["msgenny"]}];for(var l=0;l<o.modeInfo.length;l++){var h=o.modeInfo[l];h.mimes&&(h.mime=h.mimes[0])}o.findModeByMIME=function(u){u=u.toLowerCase();for(var f=0;f<o.modeInfo.length;f++){var d=o.modeInfo[f];if(d.mime==u)return d;if(d.mimes){for(var g=0;g<d.mimes.length;g++)if(d.mimes[g]==u)return d}}},o.findModeByExtension=function(u){for(var f=0;f<o.modeInfo.length;f++){var d=o.modeInfo[f];if(d.ext){for(var g=0;g<d.ext.length;g++)if(d.ext[g]==u)return d}}},o.findModeByFileName=function(u){for(var f=0;f<o.modeInfo.length;f++){var d=o.modeInfo[f];if(d.file&&d.file.test(u))return d}var g=u.lastIndexOf("."),y=g>-1&&u.substring(g+1,u.length);return y?o.findModeByExtension(y):void 0},o.findModeByName=function(u){u=u.toLowerCase();for(var f=0;f<o.modeInfo.length;f++){var d=o.modeInfo[f];if(d.name.toLowerCase()==u)return d;if(d.alias){for(var g=0;g<d.alias.length;g++)if(d.alias[g].toLowerCase()==u)return d}}}})},{"../lib/codemirror":10}],14:[function(t,r,i){(function(o){o(typeof i=="object"&&typeof r=="object"?t("../../lib/codemirror"):CodeMirror)})(function(o){var l={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},h={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,caseFold:!1};o.defineMode("xml",function(u,f){function d(X,V){function de(xe){return V.tokenize=xe,xe(X,V)}var Y=X.next();if(Y=="<")return X.eat("!")?X.eat("[")?X.match("CDATA[")?de(k("atom","]]>")):null:X.match("--")?de(k("comment","-->")):X.match("DOCTYPE",!0,!0)?(X.eatWhile(/[\w\._\-]/),de(w(1))):null:X.eat("?")?(X.eatWhile(/[\w\._\-]/),V.tokenize=k("meta","?>"),"meta"):(se=X.eat("/")?"closeTag":"openTag",V.tokenize=g,"tag bracket");if(Y=="&"){var ue;return ue=X.eat("#")?X.eat("x")?X.eatWhile(/[a-fA-F\d]/)&&X.eat(";"):X.eatWhile(/[\d]/)&&X.eat(";"):X.eatWhile(/[\w\.\-:]/)&&X.eat(";"),ue?"atom":"error"}return X.eatWhile(/[^&<]/),null}function g(X,V){var de=X.next();if(de==">"||de=="/"&&X.eat(">"))return V.tokenize=d,se=de==">"?"endTag":"selfcloseTag","tag bracket";if(de=="=")return se="equals",null;if(de=="<"){V.tokenize=d,V.state=b,V.tagName=V.tagStart=null;var Y=V.tokenize(X,V);return Y?Y+" tag error":"tag error"}return/[\'\"]/.test(de)?(V.tokenize=y(de),V.stringStartCol=X.column(),V.tokenize(X,V)):(X.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function y(X){var V=function(de,Y){for(;!de.eol();)if(de.next()==X){Y.tokenize=g;break}return"string"};return V.isInAttribute=!0,V}function k(X,V){return function(de,Y){for(;!de.eol();){if(de.match(V)){Y.tokenize=d;break}de.next()}return X}}function w(X){return function(V,de){for(var Y;(Y=V.next())!=null;){if(Y=="<")return de.tokenize=w(X+1),de.tokenize(V,de);if(Y==">"){if(X==1){de.tokenize=d;break}return de.tokenize=w(X-1),de.tokenize(V,de)}}return"meta"}}function _(X,V,de){this.prev=X.context,this.tagName=V,this.indent=X.indented,this.startOfLine=de,(j.doNotIndent.hasOwnProperty(V)||X.context&&X.context.noIndent)&&(this.noIndent=!0)}function A(X){X.context&&(X.context=X.context.prev)}function N(X,V){for(var de;;){if(!X.context||(de=X.context.tagName,!j.contextGrabbers.hasOwnProperty(de)||!j.contextGrabbers[de].hasOwnProperty(V)))return;A(X)}}function b(X,V,de){return X=="openTag"?(de.tagStart=V.column(),M):X=="closeTag"?E:b}function M(X,V,de){return X=="word"?(de.tagName=V.current(),te="tag",C):(te="error",M)}function E(X,V,de){if(X=="word"){var Y=V.current();return de.context&&de.context.tagName!=Y&&j.implicitlyClosed.hasOwnProperty(de.context.tagName)&&A(de),de.context&&de.context.tagName==Y||j.matchClosing===!1?(te="tag",D):(te="tag error",T)}return te="error",T}function D(X,V,de){return X!="endTag"?(te="error",D):(A(de),b)}function T(X,V,de){return te="error",D(X,V,de)}function C(X,V,de){if(X=="word")return te="attribute",R;if(X=="endTag"||X=="selfcloseTag"){var Y=de.tagName,ue=de.tagStart;return de.tagName=de.tagStart=null,X=="selfcloseTag"||j.autoSelfClosers.hasOwnProperty(Y)?N(de,Y):(N(de,Y),de.context=new _(de,Y,ue==de.indented)),b}return te="error",C}function R(X,V,de){return X=="equals"?B:(j.allowMissing||(te="error"),C(X,V,de))}function B(X,V,de){return X=="string"?I:X=="word"&&j.allowUnquoted?(te="string",C):(te="error",C(X,V,de))}function I(X,V,de){return X=="string"?I:C(X,V,de)}var P=u.indentUnit,j={},$=f.htmlMode?l:h;for(var Z in $)j[Z]=$[Z];for(var Z in f)j[Z]=f[Z];var se,te;return d.isInText=!0,{startState:function(X){var V={tokenize:d,state:b,indented:X||0,tagName:null,tagStart:null,context:null};return X!=null&&(V.baseIndent=X),V},token:function(X,V){if(!V.tagName&&X.sol()&&(V.indented=X.indentation()),X.eatSpace())return null;se=null;var de=V.tokenize(X,V);return(de||se)&&de!="comment"&&(te=null,V.state=V.state(se||de,X,V),te&&(de=te=="error"?de+" error":te)),de},indent:function(X,V,de){var Y=X.context;if(X.tokenize.isInAttribute)return X.tagStart==X.indented?X.stringStartCol+1:X.indented+P;if(Y&&Y.noIndent)return o.Pass;if(X.tokenize!=g&&X.tokenize!=d)return de?de.match(/^(\s*)/)[0].length:0;if(X.tagName)return j.multilineTagIndentPastTag!==!1?X.tagStart+X.tagName.length+2:X.tagStart+P*(j.multilineTagIndentFactor||1);if(j.alignCDATA&&/<!\[CDATA\[/.test(V))return 0;var ue=V&&/^<(\/)?([\w_:\.-]*)/.exec(V);if(ue&&ue[1])for(;Y;){if(Y.tagName==ue[2]){Y=Y.prev;break}if(!j.implicitlyClosed.hasOwnProperty(Y.tagName))break;Y=Y.prev}else if(ue)for(;Y;){var xe=j.contextGrabbers[Y.tagName];if(!xe||!xe.hasOwnProperty(ue[2]))break;Y=Y.prev}for(;Y&&Y.prev&&!Y.startOfLine;)Y=Y.prev;return Y?Y.indent+P:X.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"<!--",blockCommentEnd:"-->",configuration:j.htmlMode?"html":"xml",helperType:j.htmlMode?"html":"xml",skipAttribute:function(X){X.state==B&&(X.state=C)}}}),o.defineMIME("text/xml","xml"),o.defineMIME("application/xml","xml"),o.mimeModes.hasOwnProperty("text/html")||o.defineMIME("text/html",{name:"xml",htmlMode:!0})})},{"../../lib/codemirror":10}],15:[function(t,r,i){i.read=function(o,l,h,u,f){var d,g,y=8*f-u-1,k=(1<<y)-1,w=k>>1,_=-7,A=h?f-1:0,N=h?-1:1,b=o[l+A];for(A+=N,d=b&(1<<-_)-1,b>>=-_,_+=y;_>0;d=256*d+o[l+A],A+=N,_-=8);for(g=d&(1<<-_)-1,d>>=-_,_+=u;_>0;g=256*g+o[l+A],A+=N,_-=8);if(d===0)d=1-w;else{if(d===k)return g?NaN:(b?-1:1)*(1/0);g+=Math.pow(2,u),d-=w}return(b?-1:1)*g*Math.pow(2,d-u)},i.write=function(o,l,h,u,f,d){var g,y,k,w=8*d-f-1,_=(1<<w)-1,A=_>>1,N=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=u?0:d-1,M=u?1:-1,E=0>l||l===0&&0>1/l?1:0;for(l=Math.abs(l),isNaN(l)||l===1/0?(y=isNaN(l)?1:0,g=_):(g=Math.floor(Math.log(l)/Math.LN2),l*(k=Math.pow(2,-g))<1&&(g--,k*=2),l+=g+A>=1?N/k:N*Math.pow(2,1-A),l*k>=2&&(g++,k/=2),g+A>=_?(y=0,g=_):g+A>=1?(y=(l*k-1)*Math.pow(2,f),g+=A):(y=l*Math.pow(2,A-1)*Math.pow(2,f),g=0));f>=8;o[h+b]=255&y,b+=M,y/=256,f-=8);for(g=g<<f|y,w+=f;w>0;o[h+b]=255&g,b+=M,g/=256,w-=8);o[h+b-M]|=128*E}},{}],16:[function(t,r,i){var o={}.toString;r.exports=Array.isArray||function(l){return o.call(l)=="[object Array]"}},{}],17:[function(t,r,i){(function(o){(function(){function l(b){this.tokens=[],this.tokens.links={},this.options=b||_.defaults,this.rules=A.normal,this.options.gfm&&(this.options.tables?this.rules=A.tables:this.rules=A.gfm)}function h(b,M){if(this.options=M||_.defaults,this.links=b,this.rules=N.normal,this.renderer=this.options.renderer||new u,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=N.breaks:this.rules=N.gfm:this.options.pedantic&&(this.rules=N.pedantic)}function u(b){this.options=b||{}}function f(b){this.tokens=[],this.token=null,this.options=b||_.defaults,this.options.renderer=this.options.renderer||new u,this.renderer=this.options.renderer,this.renderer.options=this.options}function d(b,M){return b.replace(M?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function g(b){return b.replace(/&([#\w]+);/g,function(M,E){return E=E.toLowerCase(),E==="colon"?":":E.charAt(0)==="#"?E.charAt(1)==="x"?String.fromCharCode(parseInt(E.substring(2),16)):String.fromCharCode(+E.substring(1)):""})}function y(b,M){return b=b.source,M=M||"",function E(D,T){return D?(T=T.source||T,T=T.replace(/(^|[^\[])\^/g,"$1"),b=b.replace(D,T),E):new RegExp(b,M)}}function k(){}function w(b){for(var M,E,D=1;D<arguments.length;D++){M=arguments[D];for(E in M)Object.prototype.hasOwnProperty.call(M,E)&&(b[E]=M[E])}return b}function _(b,M,E){if(E||typeof M=="function"){E||(E=M,M=null),M=w({},_.defaults,M||{});var D,T,C=M.highlight,R=0;try{D=l.lex(b,M)}catch(I){return E(I)}T=D.length;var B=function(I){if(I)return M.highlight=C,E(I);var P;try{P=f.parse(D,M)}catch(j){I=j}return M.highlight=C,I?E(I):E(null,P)};if(!C||C.length<3||(delete M.highlight,!T))return B();for(;R<D.length;R++)(function(I){return I.type!=="code"?--T||B():C(I.text,I.lang,function(P,j){return P?B(P):j==null||j===I.text?--T||B():(I.text=j,I.escaped=!0,void(--T||B()))})})(D[R])}else try{return M&&(M=w({},_.defaults,M)),f.parse(l.lex(b,M),M)}catch(I){if(I.message+=`
Please report this to https://github.com/chjj/marked.`,(M||_.defaults).silent)return"<p>An error occured:</p><pre>"+d(I.message+"",!0)+"</pre>";throw I}}var A={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:k,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:k,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:k,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};A.bullet=/(?:[*+-]|\d+\.)/,A.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,A.item=y(A.item,"gm")(/bull/g,A.bullet)(),A.list=y(A.list)(/bull/g,A.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+A.def.source+")")(),A.blockquote=y(A.blockquote)("def",A.def)(),A._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",A.html=y(A.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,A._tag)(),A.paragraph=y(A.paragraph)("hr",A.hr)("heading",A.heading)("lheading",A.lheading)("blockquote",A.blockquote)("tag","<"+A._tag)("def",A.def)(),A.normal=w({},A),A.gfm=w({},A.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),A.gfm.paragraph=y(A.paragraph)("(?!","(?!"+A.gfm.fences.source.replace("\\1","\\2")+"|"+A.list.source.replace("\\1","\\3")+"|")(),A.tables=w({},A.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),l.rules=A,l.lex=function(b,M){var E=new l(M);return E.lex(b)},l.prototype.lex=function(b){return b=b.replace(/\r\n|\r/g,`
`).replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,`
`),this.token(b,!0)},l.prototype.token=function(b,M,E){for(var D,T,C,R,B,I,P,j,$,b=b.replace(/^ +$/gm,"");b;)if((C=this.rules.newline.exec(b))&&(b=b.substring(C[0].length),C[0].length>1&&this.tokens.push({type:"space"})),C=this.rules.code.exec(b))b=b.substring(C[0].length),C=C[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?C:C.replace(/\n+$/,"")});else if(C=this.rules.fences.exec(b))b=b.substring(C[0].length),this.tokens.push({type:"code",lang:C[2],text:C[3]||""});else if(C=this.rules.heading.exec(b))b=b.substring(C[0].length),this.tokens.push({type:"heading",depth:C[1].length,text:C[2]});else if(M&&(C=this.rules.nptable.exec(b))){for(b=b.substring(C[0].length),I={type:"table",header:C[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:C[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:C[3].replace(/\n$/,"").split(`
`)},j=0;j<I.align.length;j++)/^ *-+: *$/.test(I.align[j])?I.align[j]="right":/^ *:-+: *$/.test(I.align[j])?I.align[j]="center":/^ *:-+ *$/.test(I.align[j])?I.align[j]="left":I.align[j]=null;for(j=0;j<I.cells.length;j++)I.cells[j]=I.cells[j].split(/ *\| */);this.tokens.push(I)}else if(C=this.rules.lheading.exec(b))b=b.substring(C[0].length),this.tokens.push({type:"heading",depth:C[2]==="="?1:2,text:C[1]});else if(C=this.rules.hr.exec(b))b=b.substring(C[0].length),this.tokens.push({type:"hr"});else if(C=this.rules.blockquote.exec(b))b=b.substring(C[0].length),this.tokens.push({type:"blockquote_start"}),C=C[0].replace(/^ *> ?/gm,""),this.token(C,M,!0),this.tokens.push({type:"blockquote_end"});else if(C=this.rules.list.exec(b)){for(b=b.substring(C[0].length),R=C[2],this.tokens.push({type:"list_start",ordered:R.length>1}),C=C[0].match(this.rules.item),D=!1,$=C.length,j=0;$>j;j++)I=C[j],P=I.length,I=I.replace(/^ *([*+-]|\d+\.) +/,""),~I.indexOf(`
 `)&&(P-=I.length,I=this.options.pedantic?I.replace(/^ {1,4}/gm,""):I.replace(new RegExp("^ {1,"+P+"}","gm"),"")),this.options.smartLists&&j!==$-1&&(B=A.bullet.exec(C[j+1])[0],R===B||R.length>1&&B.length>1||(b=C.slice(j+1).join(`
`)+b,j=$-1)),T=D||/\n\n(?!\s*$)/.test(I),j!==$-1&&(D=I.charAt(I.length-1)===`
`,T||(T=D)),this.tokens.push({type:T?"loose_item_start":"list_item_start"}),this.token(I,!1,E),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(C=this.rules.html.exec(b))b=b.substring(C[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&(C[1]==="pre"||C[1]==="script"||C[1]==="style"),text:C[0]});else if(!E&&M&&(C=this.rules.def.exec(b)))b=b.substring(C[0].length),this.tokens.links[C[1].toLowerCase()]={href:C[2],title:C[3]};else if(M&&(C=this.rules.table.exec(b))){for(b=b.substring(C[0].length),I={type:"table",header:C[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:C[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:C[3].replace(/(?: *\| *)?\n$/,"").split(`
`)},j=0;j<I.align.length;j++)/^ *-+: *$/.test(I.align[j])?I.align[j]="right":/^ *:-+: *$/.test(I.align[j])?I.align[j]="center":/^ *:-+ *$/.test(I.align[j])?I.align[j]="left":I.align[j]=null;for(j=0;j<I.cells.length;j++)I.cells[j]=I.cells[j].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(I)}else if(M&&(C=this.rules.paragraph.exec(b)))b=b.substring(C[0].length),this.tokens.push({type:"paragraph",text:C[1].charAt(C[1].length-1)===`
`?C[1].slice(0,-1):C[1]});else if(C=this.rules.text.exec(b))b=b.substring(C[0].length),this.tokens.push({type:"text",text:C[0]});else if(b)throw new Error("Infinite loop on byte: "+b.charCodeAt(0));return this.tokens};var N={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:k,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:k,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};N._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,N._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,N.link=y(N.link)("inside",N._inside)("href",N._href)(),N.reflink=y(N.reflink)("inside",N._inside)(),N.normal=w({},N),N.pedantic=w({},N.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),N.gfm=w({},N.normal,{escape:y(N.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:y(N.text)("]|","~]|")("|","|https?://|")()}),N.breaks=w({},N.gfm,{br:y(N.br)("{2,}","*")(),text:y(N.gfm.text)("{2,}","*")()}),h.rules=N,h.output=function(b,M,E){var D=new h(M,E);return D.output(b)},h.prototype.output=function(b){for(var M,E,D,T,C="";b;)if(T=this.rules.escape.exec(b))b=b.substring(T[0].length),C+=T[1];else if(T=this.rules.autolink.exec(b))b=b.substring(T[0].length),T[2]==="@"?(E=T[1].charAt(6)===":"?this.mangle(T[1].substring(7)):this.mangle(T[1]),D=this.mangle("mailto:")+E):(E=d(T[1]),D=E),C+=this.renderer.link(D,null,E);else if(this.inLink||!(T=this.rules.url.exec(b))){if(T=this.rules.tag.exec(b))!this.inLink&&/^<a /i.test(T[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(T[0])&&(this.inLink=!1),b=b.substring(T[0].length),C+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(T[0]):d(T[0]):T[0];else if(T=this.rules.link.exec(b))b=b.substring(T[0].length),this.inLink=!0,C+=this.outputLink(T,{href:T[2],title:T[3]}),this.inLink=!1;else if((T=this.rules.reflink.exec(b))||(T=this.rules.nolink.exec(b))){if(b=b.substring(T[0].length),M=(T[2]||T[1]).replace(/\s+/g," "),M=this.links[M.toLowerCase()],!M||!M.href){C+=T[0].charAt(0),b=T[0].substring(1)+b;continue}this.inLink=!0,C+=this.outputLink(T,M),this.inLink=!1}else if(T=this.rules.strong.exec(b))b=b.substring(T[0].length),C+=this.renderer.strong(this.output(T[2]||T[1]));else if(T=this.rules.em.exec(b))b=b.substring(T[0].length),C+=this.renderer.em(this.output(T[2]||T[1]));else if(T=this.rules.code.exec(b))b=b.substring(T[0].length),C+=this.renderer.codespan(d(T[2],!0));else if(T=this.rules.br.exec(b))b=b.substring(T[0].length),C+=this.renderer.br();else if(T=this.rules.del.exec(b))b=b.substring(T[0].length),C+=this.renderer.del(this.output(T[1]));else if(T=this.rules.text.exec(b))b=b.substring(T[0].length),C+=this.renderer.text(d(this.smartypants(T[0])));else if(b)throw new Error("Infinite loop on byte: "+b.charCodeAt(0))}else b=b.substring(T[0].length),E=d(T[1]),D=E,C+=this.renderer.link(D,null,E);return C},h.prototype.outputLink=function(b,M){var E=d(M.href),D=M.title?d(M.title):null;return b[0].charAt(0)!=="!"?this.renderer.link(E,D,this.output(b[1])):this.renderer.image(E,D,d(b[1]))},h.prototype.smartypants=function(b){return this.options.smartypants?b.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014\/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014\/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,""):b},h.prototype.mangle=function(b){if(!this.options.mangle)return b;for(var M,E="",D=b.length,T=0;D>T;T++)M=b.charCodeAt(T),Math.random()>.5&&(M="x"+M.toString(16)),E+="&#"+M+";";return E},u.prototype.code=function(b,M,E){if(this.options.highlight){var D=this.options.highlight(b,M);D!=null&&D!==b&&(E=!0,b=D)}return M?'<pre><code class="'+this.options.langPrefix+d(M,!0)+'">'+(E?b:d(b,!0))+`
</code></pre>
`:"<pre><code>"+(E?b:d(b,!0))+`
</code></pre>`},u.prototype.blockquote=function(b){return`<blockquote>
`+b+`</blockquote>
`},u.prototype.html=function(b){return b},u.prototype.heading=function(b,M,E){return"<h"+M+' id="'+this.options.headerPrefix+E.toLowerCase().replace(/[^\w]+/g,"-")+'">'+b+"</h"+M+`>
`},u.prototype.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},u.prototype.list=function(b,M){var E=M?"ol":"ul";return"<"+E+`>
`+b+"</"+E+`>
`},u.prototype.listitem=function(b){return"<li>"+b+`</li>
`},u.prototype.paragraph=function(b){return"<p>"+b+`</p>
`},u.prototype.table=function(b,M){return`<table>
<thead>
`+b+`</thead>
<tbody>
`+M+`</tbody>
</table>
`},u.prototype.tablerow=function(b){return`<tr>
`+b+`</tr>
`},u.prototype.tablecell=function(b,M){var E=M.header?"th":"td",D=M.align?"<"+E+' style="text-align:'+M.align+'">':"<"+E+">";return D+b+"</"+E+`>
`},u.prototype.strong=function(b){return"<strong>"+b+"</strong>"},u.prototype.em=function(b){return"<em>"+b+"</em>"},u.prototype.codespan=function(b){return"<code>"+b+"</code>"},u.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},u.prototype.del=function(b){return"<del>"+b+"</del>"},u.prototype.link=function(b,M,E){if(this.options.sanitize){try{var D=decodeURIComponent(g(b)).replace(/[^\w:]/g,"").toLowerCase()}catch{return""}if(D.indexOf("javascript:")===0||D.indexOf("vbscript:")===0)return""}var T='<a href="'+b+'"';return M&&(T+=' title="'+M+'"'),T+=">"+E+"</a>"},u.prototype.image=function(b,M,E){var D='<img src="'+b+'" alt="'+E+'"';return M&&(D+=' title="'+M+'"'),D+=this.options.xhtml?"/>":">"},u.prototype.text=function(b){return b},f.parse=function(b,M,E){var D=new f(M);return D.parse(b)},f.prototype.parse=function(b){this.inline=new h(b.links,this.options,this.renderer),this.tokens=b.reverse();for(var M="";this.next();)M+=this.tok();return M},f.prototype.next=function(){return this.token=this.tokens.pop()},f.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},f.prototype.parseText=function(){for(var b=this.token.text;this.peek().type==="text";)b+=`
`+this.next().text;return this.inline.output(b)},f.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var b,M,E,D,T="",C="";for(E="",b=0;b<this.token.header.length;b++)this.token.align[b],E+=this.renderer.tablecell(this.inline.output(this.token.header[b]),{header:!0,align:this.token.align[b]});for(T+=this.renderer.tablerow(E),b=0;b<this.token.cells.length;b++){for(M=this.token.cells[b],E="",D=0;D<M.length;D++)E+=this.renderer.tablecell(this.inline.output(M[D]),{header:!1,align:this.token.align[D]});C+=this.renderer.tablerow(E)}return this.renderer.table(T,C);case"blockquote_start":for(var C="";this.next().type!=="blockquote_end";)C+=this.tok();return this.renderer.blockquote(C);case"list_start":for(var C="",R=this.token.ordered;this.next().type!=="list_end";)C+=this.tok();return this.renderer.list(C,R);case"list_item_start":for(var C="";this.next().type!=="list_item_end";)C+=this.token.type==="text"?this.parseText():this.tok();return this.renderer.listitem(C);case"loose_item_start":for(var C="";this.next().type!=="list_item_end";)C+=this.tok();return this.renderer.listitem(C);case"html":var B=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(B);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},k.exec=k,_.options=_.setOptions=function(b){return w(_.defaults,b),_},_.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new u,xhtml:!1},_.Parser=f,_.parser=f.parse,_.Renderer=u,_.Lexer=l,_.lexer=l.lex,_.InlineLexer=h,_.inlineLexer=h.output,_.parse=_,typeof r<"u"&&typeof i=="object"?r.exports=_:this.marked=_}).call((function(){return this||(typeof window<"u"?window:o)})())}).call(this,typeof Oi<"u"?Oi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],18:[function(t,r,i){(function(o,l){var h=function(u,f,d,g){if(g=g||{},this.dictionary=null,this.rules={},this.dictionaryTable={},this.compoundRules=[],this.compoundRuleCodes={},this.replacementTable=[],this.flags=g.flags||{},u){if(this.dictionary=u,typeof window<"u"&&"chrome"in window&&"extension"in window.chrome&&"getURL"in window.chrome.extension)f||(f=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+u+"/"+u+".aff"))),d||(d=this._readFile(chrome.extension.getURL("lib/typo/dictionaries/"+u+"/"+u+".dic")));else{if(g.dictionaryPath)var y=g.dictionaryPath;else if(typeof l<"u")var y=l+"/dictionaries";else var y="./dictionaries";f||(f=this._readFile(y+"/"+u+"/"+u+".aff")),d||(d=this._readFile(y+"/"+u+"/"+u+".dic"))}this.rules=this._parseAFF(f),this.compoundRuleCodes={};for(var k=0,w=this.compoundRules.length;w>k;k++)for(var _=this.compoundRules[k],A=0,N=_.length;N>A;A++)this.compoundRuleCodes[_[A]]=[];"ONLYINCOMPOUND"in this.flags&&(this.compoundRuleCodes[this.flags.ONLYINCOMPOUND]=[]),this.dictionaryTable=this._parseDIC(d);for(var k in this.compoundRuleCodes)this.compoundRuleCodes[k].length==0&&delete this.compoundRuleCodes[k];for(var k=0,w=this.compoundRules.length;w>k;k++){for(var b=this.compoundRules[k],M="",A=0,N=b.length;N>A;A++){var E=b[A];M+=E in this.compoundRuleCodes?"("+this.compoundRuleCodes[E].join("|")+")":E}this.compoundRules[k]=new RegExp(M,"i")}}return this};h.prototype={load:function(u){for(var f in u)this[f]=u[f];return this},_readFile:function(u,f){if(f||(f="utf8"),typeof XMLHttpRequest<"u"){var d=new XMLHttpRequest;return d.open("GET",u,!1),d.overrideMimeType&&d.overrideMimeType("text/plain; charset="+f),d.send(null),d.responseText}if(typeof t<"u"){var g=t("fs");try{if(g.existsSync(u)){var y=g.statSync(u),k=g.openSync(u,"r"),w=new o(y.size);return g.readSync(k,w,0,w.length,null),w.toString(f,0,w.length)}console.log("Path "+u+" does not exist.")}catch(_){return console.log(_),""}}},_parseAFF:function(u){var f={};u=this._removeAffixComments(u);for(var d=u.split(`
`),g=0,y=d.length;y>g;g++){var k=d[g],w=k.split(/\s+/),_=w[0];if(_=="PFX"||_=="SFX"){for(var A=w[1],N=w[2],b=parseInt(w[3],10),M=[],E=g+1,D=g+1+b;D>E;E++){var k=d[E],T=k.split(/\s+/),C=T[2],R=T[3].split("/"),B=R[0];B==="0"&&(B="");var I=this.parseRuleCodes(R[1]),P=T[4],j={};j.add=B,I.length>0&&(j.continuationClasses=I),P!=="."&&(_==="SFX"?j.match=new RegExp(P+"$"):j.match=new RegExp("^"+P)),C!="0"&&(_==="SFX"?j.remove=new RegExp(C+"$"):j.remove=C),M.push(j)}f[A]={type:_,combineable:N=="Y",entries:M},g+=b}else if(_==="COMPOUNDRULE"){for(var b=parseInt(w[1],10),E=g+1,D=g+1+b;D>E;E++){var k=d[E],T=k.split(/\s+/);this.compoundRules.push(T[1])}g+=b}else if(_==="REP"){var T=k.split(/\s+/);T.length===3&&this.replacementTable.push([T[1],T[2]])}else this.flags[_]=w[1]}return f},_removeAffixComments:function(u){return u=u.replace(/#.*$/gm,""),u=u.replace(/^\s\s*/m,"").replace(/\s\s*$/m,""),u=u.replace(/\n{2,}/g,`
`),u=u.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},_parseDIC:function(u){function f(X,V){X in g&&typeof g[X]=="object"||(g[X]=[]),g[X].push(V)}u=this._removeDicComments(u);for(var d=u.split(`
`),g={},y=1,k=d.length;k>y;y++){var w=d[y],_=w.split("/",2),A=_[0];if(_.length>1){var N=this.parseRuleCodes(_[1]);"NEEDAFFIX"in this.flags&&N.indexOf(this.flags.NEEDAFFIX)!=-1||f(A,N);for(var b=0,M=N.length;M>b;b++){var E=N[b],D=this.rules[E];if(D)for(var T=this._applyRule(A,D),C=0,R=T.length;R>C;C++){var B=T[C];if(f(B,[]),D.combineable)for(var I=b+1;M>I;I++){var P=N[I],j=this.rules[P];if(j&&j.combineable&&D.type!=j.type)for(var $=this._applyRule(B,j),Z=0,se=$.length;se>Z;Z++){var te=$[Z];f(te,[])}}}E in this.compoundRuleCodes&&this.compoundRuleCodes[E].push(A)}}else f(A.trim(),[])}return g},_removeDicComments:function(u){return u=u.replace(/^\t.*$/gm,"")},parseRuleCodes:function(u){if(!u)return[];if(!("FLAG"in this.flags))return u.split("");if(this.flags.FLAG==="long"){for(var f=[],d=0,g=u.length;g>d;d+=2)f.push(u.substr(d,2));return f}return this.flags.FLAG==="num"?textCode.split(","):void 0},_applyRule:function(u,f){for(var d=f.entries,g=[],y=0,k=d.length;k>y;y++){var w=d[y];if(!w.match||u.match(w.match)){var _=u;if(w.remove&&(_=_.replace(w.remove,"")),f.type==="SFX"?_+=w.add:_=w.add+_,g.push(_),"continuationClasses"in w)for(var A=0,N=w.continuationClasses.length;N>A;A++){var b=this.rules[w.continuationClasses[A]];b&&(g=g.concat(this._applyRule(_,b)))}}}return g},check:function(u){var f=u.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(this.checkExact(f))return!0;if(f.toUpperCase()===f){var d=f[0]+f.substring(1).toLowerCase();if(this.hasFlag(d,"KEEPCASE"))return!1;if(this.checkExact(d))return!0}var g=f.toLowerCase();if(g!==f){if(this.hasFlag(g,"KEEPCASE"))return!1;if(this.checkExact(g))return!0}return!1},checkExact:function(u){var f=this.dictionaryTable[u];if(typeof f>"u"){if("COMPOUNDMIN"in this.flags&&u.length>=this.flags.COMPOUNDMIN){for(var d=0,g=this.compoundRules.length;g>d;d++)if(u.match(this.compoundRules[d]))return!0}return!1}if(typeof f=="object"){for(var d=0,g=f.length;g>d;d++)if(!this.hasFlag(u,"ONLYINCOMPOUND",f[d]))return!0;return!1}},hasFlag:function(u,f,d){if(f in this.flags){if(typeof d>"u")var d=Array.prototype.concat.apply([],this.dictionaryTable[u]);if(d&&d.indexOf(this.flags[f])!==-1)return!0}return!1},alphabet:"",suggest:function(u,f){function d(b){for(var M=[],E=0,D=b.length;D>E;E++){for(var T=b[E],C=[],R=0,B=T.length+1;B>R;R++)C.push([T.substring(0,R),T.substring(R,T.length)]);for(var I=[],R=0,B=C.length;B>R;R++){var P=C[R];P[1]&&I.push(P[0]+P[1].substring(1))}for(var j=[],R=0,B=C.length;B>R;R++){var P=C[R];P[1].length>1&&j.push(P[0]+P[1][1]+P[1][0]+P[1].substring(2))}for(var $=[],R=0,B=C.length;B>R;R++){var P=C[R];if(P[1])for(var Z=0,se=N.alphabet.length;se>Z;Z++)$.push(P[0]+N.alphabet[Z]+P[1].substring(1))}for(var te=[],R=0,B=C.length;B>R;R++){var P=C[R];if(P[1])for(var Z=0,se=N.alphabet.length;se>Z;Z++)$.push(P[0]+N.alphabet[Z]+P[1])}M=M.concat(I),M=M.concat(j),M=M.concat($),M=M.concat(te)}return M}function g(b){for(var M=[],E=0;E<b.length;E++)N.check(b[E])&&M.push(b[E]);return M}function y(b){function M(j,$){return j[1]<$[1]?-1:1}for(var E=d([b]),D=d(E),T=g(E).concat(g(D)),C={},R=0,B=T.length;B>R;R++)T[R]in C?C[T[R]]+=1:C[T[R]]=1;var I=[];for(var R in C)I.push([R,C[R]]);I.sort(M).reverse();for(var P=[],R=0,B=Math.min(f,I.length);B>R;R++)N.hasFlag(I[R][0],"NOSUGGEST")||P.push(I[R][0]);return P}if(f||(f=5),this.check(u))return[];for(var k=0,w=this.replacementTable.length;w>k;k++){var _=this.replacementTable[k];if(u.indexOf(_[0])!==-1){var A=u.replace(_[0],_[1]);if(this.check(A))return[A]}}var N=this;return N.alphabet="abcdefghijklmnopqrstuvwxyz",y(u)}},typeof r<"u"&&(r.exports=h)}).call(this,t("buffer").Buffer,"/node_modules/typo-js")},{buffer:3,fs:2}],19:[function(t,r,i){var o=t("codemirror");o.commands.tabAndIndentMarkdownList=function(l){var h=l.listSelections(),u=h[0].head,f=l.getStateAfter(u.line),d=f.list!==!1;if(d)return void l.execCommand("indentMore");if(l.options.indentWithTabs)l.execCommand("insertTab");else{var g=Array(l.options.tabSize+1).join(" ");l.replaceSelection(g)}},o.commands.shiftTabAndUnindentMarkdownList=function(l){var h=l.listSelections(),u=h[0].head,f=l.getStateAfter(u.line),d=f.list!==!1;if(d)return void l.execCommand("indentLess");if(l.options.indentWithTabs)l.execCommand("insertTab");else{var g=Array(l.options.tabSize+1).join(" ");l.replaceSelection(g)}}},{codemirror:10}],20:[function(t,r,i){function o(ae){return ae=ie?ae.replace("Ctrl","Cmd"):ae.replace("Cmd","Ctrl")}function l(ae,fe,me){ae=ae||{};var O=document.createElement("a");return fe=fe??!0,ae.title&&fe&&(O.title=u(ae.title,ae.action,me),ie&&(O.title=O.title.replace("Ctrl",""),O.title=O.title.replace("Alt",""))),O.tabIndex=-1,O.className=ae.className,O}function h(){var ae=document.createElement("i");return ae.className="separator",ae.innerHTML="|",ae}function u(ae,fe,me){var O,H=ae;return fe&&(O=W(fe),me[O]&&(H+=" ("+o(me[O])+")")),H}function f(ae,fe){fe=fe||ae.getCursor("start");var me=ae.getTokenAt(fe);if(!me.type)return{};for(var O,H,U=me.type.split(" "),le={},Se=0;Se<U.length;Se++)O=U[Se],O==="strong"?le.bold=!0:O==="variable-2"?(H=ae.getLine(fe.line),/^\s*\d+\.\s/.test(H)?le["ordered-list"]=!0:le["unordered-list"]=!0):O==="atom"?le.quote=!0:O==="em"?le.italic=!0:O==="quote"?le.quote=!0:O==="strikethrough"?le.strikethrough=!0:O==="comment"?le.code=!0:O==="link"?le.link=!0:O==="tag"?le.image=!0:O.match(/^header(\-[1-6])?$/)&&(le[O.replace("header","heading")]=!0);return le}function d(ae){var fe=ae.codemirror;fe.setOption("fullScreen",!fe.getOption("fullScreen")),fe.getOption("fullScreen")?(pe=document.body.style.overflow,document.body.style.overflow="hidden"):document.body.style.overflow=pe;var me=fe.getWrapperElement();/fullscreen/.test(me.previousSibling.className)?me.previousSibling.className=me.previousSibling.className.replace(/\s*fullscreen\b/,""):me.previousSibling.className+=" fullscreen";var O=ae.toolbarElements.fullscreen;/active/.test(O.className)?O.className=O.className.replace(/\s*active\s*/g,""):O.className+=" active";var H=fe.getWrapperElement().nextSibling;/editor-preview-active-side/.test(H.className)&&Z(ae)}function g(ae){de(ae,"bold",ae.options.blockStyles.bold)}function y(ae){de(ae,"italic",ae.options.blockStyles.italic)}function k(ae){de(ae,"strikethrough","~~")}function w(ae){function fe(Je){if(typeof Je!="object")throw"fencing_line() takes a 'line' object (not a line number, or line text).  Got: "+typeof Je+": "+Je;return Je.styles&&Je.styles[2]&&Je.styles[2].indexOf("formatting-code-block")!==-1}function me(Je){return Je.state.base.base||Je.state.base}function O(Je,bt,lt,xt,ft){lt=lt||Je.getLineHandle(bt),xt=xt||Je.getTokenAt({line:bt,ch:1}),ft=ft||!!lt.text&&Je.getTokenAt({line:bt,ch:lt.text.length-1});var dt=xt.type?xt.type.split(" "):[];return ft&&me(ft).indentedCode?"indented":dt.indexOf("comment")===-1?!1:me(xt).fencedChars||me(ft).fencedChars||fe(lt)?"fenced":"single"}function H(Je,bt,lt,xt){var ft=bt.line+1,dt=lt.line+1,it=bt.line!==lt.line,nn=xt+`
`,mn=`
`+xt;it&&dt++,it&&lt.ch===0&&(mn=xt+`
`,dt--),te(Je,!1,[nn,mn]),Je.setSelection({line:ft,ch:0},{line:dt,ch:0})}var U,le,Se,Le=ae.options.blockStyles.code,Pe=ae.codemirror,$e=Pe.getCursor("start"),Ze=Pe.getCursor("end"),pt=Pe.getTokenAt({line:$e.line,ch:$e.ch||1}),ct=Pe.getLineHandle($e.line),$t=O(Pe,$e.line,ct,pt);if($t==="single"){var Ot=ct.text.slice(0,$e.ch).replace("`",""),mt=ct.text.slice($e.ch).replace("`","");Pe.replaceRange(Ot+mt,{line:$e.line,ch:0},{line:$e.line,ch:99999999999999}),$e.ch--,$e!==Ze&&Ze.ch--,Pe.setSelection($e,Ze),Pe.focus()}else if($t==="fenced")if($e.line!==Ze.line||$e.ch!==Ze.ch){for(U=$e.line;U>=0&&(ct=Pe.getLineHandle(U),!fe(ct));U--);var De,ze,Qe,Et,wt=Pe.getTokenAt({line:U,ch:1}),yt=me(wt).fencedChars;fe(Pe.getLineHandle($e.line))?(De="",ze=$e.line):fe(Pe.getLineHandle($e.line-1))?(De="",ze=$e.line-1):(De=yt+`
`,ze=$e.line),fe(Pe.getLineHandle(Ze.line))?(Qe="",Et=Ze.line,Ze.ch===0&&(Et+=1)):Ze.ch!==0&&fe(Pe.getLineHandle(Ze.line+1))?(Qe="",Et=Ze.line+1):(Qe=yt+`
`,Et=Ze.line+1),Ze.ch===0&&(Et-=1),Pe.operation(function(){Pe.replaceRange(Qe,{line:Et,ch:0},{line:Et+(Qe?0:1),ch:0}),Pe.replaceRange(De,{line:ze,ch:0},{line:ze+(De?0:1),ch:0})}),Pe.setSelection({line:ze+(De?1:0),ch:0},{line:Et+(De?1:-1),ch:0}),Pe.focus()}else{var Ut=$e.line;if(fe(Pe.getLineHandle($e.line))&&(O(Pe,$e.line+1)==="fenced"?(U=$e.line,Ut=$e.line+1):(le=$e.line,Ut=$e.line-1)),U===void 0)for(U=Ut;U>=0&&(ct=Pe.getLineHandle(U),!fe(ct));U--);if(le===void 0)for(Se=Pe.lineCount(),le=Ut;Se>le&&(ct=Pe.getLineHandle(le),!fe(ct));le++);Pe.operation(function(){Pe.replaceRange("",{line:U,ch:0},{line:U+1,ch:0}),Pe.replaceRange("",{line:le-1,ch:0},{line:le,ch:0})}),Pe.focus()}else if($t==="indented"){if($e.line!==Ze.line||$e.ch!==Ze.ch)U=$e.line,le=Ze.line,Ze.ch===0&&le--;else{for(U=$e.line;U>=0;U--)if(ct=Pe.getLineHandle(U),!ct.text.match(/^\s*$/)&&O(Pe,U,ct)!=="indented"){U+=1;break}for(Se=Pe.lineCount(),le=$e.line;Se>le;le++)if(ct=Pe.getLineHandle(le),!ct.text.match(/^\s*$/)&&O(Pe,le,ct)!=="indented"){le-=1;break}}var qt=Pe.getLineHandle(le+1),ye=qt&&Pe.getTokenAt({line:le+1,ch:qt.text.length-1}),Ee=ye&&me(ye).indentedCode;Ee&&Pe.replaceRange(`
`,{line:le+1,ch:0});for(var Be=U;le>=Be;Be++)Pe.indentLine(Be,"subtract");Pe.focus()}else{var Ue=$e.line===Ze.line&&$e.ch===Ze.ch&&$e.ch===0,et=$e.line!==Ze.line;Ue||et?H(Pe,$e,Ze,Le):te(Pe,!1,["`","`"])}}function _(ae){var fe=ae.codemirror;V(fe,"quote")}function A(ae){var fe=ae.codemirror;X(fe,"smaller")}function N(ae){var fe=ae.codemirror;X(fe,"bigger")}function b(ae){var fe=ae.codemirror;X(fe,void 0,1)}function M(ae){var fe=ae.codemirror;X(fe,void 0,2)}function E(ae){var fe=ae.codemirror;X(fe,void 0,3)}function D(ae){var fe=ae.codemirror;V(fe,"unordered-list")}function T(ae){var fe=ae.codemirror;V(fe,"ordered-list")}function C(ae){var fe=ae.codemirror;Y(fe)}function R(ae){var fe=ae.codemirror,me=f(fe),O=ae.options,H="http://";return O.promptURLs&&(H=prompt(O.promptTexts.link),!H)?!1:void te(fe,me.link,O.insertTexts.link,H)}function B(ae){var fe=ae.codemirror,me=f(fe),O=ae.options,H="http://";return O.promptURLs&&(H=prompt(O.promptTexts.image),!H)?!1:void te(fe,me.image,O.insertTexts.image,H)}function I(ae){var fe=ae.codemirror,me=f(fe),O=ae.options;te(fe,me.table,O.insertTexts.table)}function P(ae){var fe=ae.codemirror,me=f(fe),O=ae.options;te(fe,me.image,O.insertTexts.horizontalRule)}function j(ae){var fe=ae.codemirror;fe.undo(),fe.focus()}function $(ae){var fe=ae.codemirror;fe.redo(),fe.focus()}function Z(ae){var fe=ae.codemirror,me=fe.getWrapperElement(),O=me.nextSibling,H=ae.toolbarElements["side-by-side"],U=!1;/editor-preview-active-side/.test(O.className)?(O.className=O.className.replace(/\s*editor-preview-active-side\s*/g,""),H.className=H.className.replace(/\s*active\s*/g,""),me.className=me.className.replace(/\s*CodeMirror-sided\s*/g," ")):(setTimeout(function(){fe.getOption("fullScreen")||d(ae),O.className+=" editor-preview-active-side"},1),H.className+=" active",me.className+=" CodeMirror-sided",U=!0);var le=me.lastChild;if(/editor-preview-active/.test(le.className)){le.className=le.className.replace(/\s*editor-preview-active\s*/g,"");var Se=ae.toolbarElements.preview,Le=me.previousSibling;Se.className=Se.className.replace(/\s*active\s*/g,""),Le.className=Le.className.replace(/\s*disabled-for-preview*/g,"")}var Pe=function(){O.innerHTML=ae.options.previewRender(ae.value(),O)};fe.sideBySideRenderingFunction||(fe.sideBySideRenderingFunction=Pe),U?(O.innerHTML=ae.options.previewRender(ae.value(),O),fe.on("update",fe.sideBySideRenderingFunction)):fe.off("update",fe.sideBySideRenderingFunction),fe.refresh()}function se(ae){var fe=ae.codemirror,me=fe.getWrapperElement(),O=me.previousSibling,H=ae.options.toolbar?ae.toolbarElements.preview:!1,U=me.lastChild;U&&/editor-preview/.test(U.className)||(U=document.createElement("div"),U.className="editor-preview",me.appendChild(U)),/editor-preview-active/.test(U.className)?(U.className=U.className.replace(/\s*editor-preview-active\s*/g,""),H&&(H.className=H.className.replace(/\s*active\s*/g,""),O.className=O.className.replace(/\s*disabled-for-preview*/g,""))):(setTimeout(function(){U.className+=" editor-preview-active"},1),H&&(H.className+=" active",O.className+=" disabled-for-preview")),U.innerHTML=ae.options.previewRender(ae.value(),U);var le=fe.getWrapperElement().nextSibling;/editor-preview-active-side/.test(le.className)&&Z(ae)}function te(ae,fe,me,O){if(!/editor-preview-active/.test(ae.getWrapperElement().lastChild.className)){var H,U=me[0],le=me[1],Se=ae.getCursor("start"),Le=ae.getCursor("end");O&&(le=le.replace("#url#",O)),fe?(H=ae.getLine(Se.line),U=H.slice(0,Se.ch),le=H.slice(Se.ch),ae.replaceRange(U+le,{line:Se.line,ch:0})):(H=ae.getSelection(),ae.replaceSelection(U+H+le),Se.ch+=U.length,Se!==Le&&(Le.ch+=U.length)),ae.setSelection(Se,Le),ae.focus()}}function X(ae,fe,me){if(!/editor-preview-active/.test(ae.getWrapperElement().lastChild.className)){for(var O=ae.getCursor("start"),H=ae.getCursor("end"),U=O.line;U<=H.line;U++)(function(le){var Se=ae.getLine(le),Le=Se.search(/[^#]/);Se=fe!==void 0?0>=Le?fe=="bigger"?"###### "+Se:"# "+Se:Le==6&&fe=="smaller"?Se.substr(7):Le==1&&fe=="bigger"?Se.substr(2):fe=="bigger"?Se.substr(1):"#"+Se:me==1?0>=Le?"# "+Se:Le==me?Se.substr(Le+1):"# "+Se.substr(Le+1):me==2?0>=Le?"## "+Se:Le==me?Se.substr(Le+1):"## "+Se.substr(Le+1):0>=Le?"### "+Se:Le==me?Se.substr(Le+1):"### "+Se.substr(Le+1),ae.replaceRange(Se,{line:le,ch:0},{line:le,ch:99999999999999})})(U);ae.focus()}}function V(ae,fe){if(!/editor-preview-active/.test(ae.getWrapperElement().lastChild.className)){for(var me=f(ae),O=ae.getCursor("start"),H=ae.getCursor("end"),U={quote:/^(\s*)\>\s+/,"unordered-list":/^(\s*)(\*|\-|\+)\s+/,"ordered-list":/^(\s*)\d+\.\s+/},le={quote:"> ","unordered-list":"* ","ordered-list":"1. "},Se=O.line;Se<=H.line;Se++)(function(Le){var Pe=ae.getLine(Le);Pe=me[fe]?Pe.replace(U[fe],"$1"):le[fe]+Pe,ae.replaceRange(Pe,{line:Le,ch:0},{line:Le,ch:99999999999999})})(Se);ae.focus()}}function de(ae,fe,me,O){if(!/editor-preview-active/.test(ae.codemirror.getWrapperElement().lastChild.className)){O=typeof O>"u"?me:O;var H,U=ae.codemirror,le=f(U),Se=me,Le=O,Pe=U.getCursor("start"),$e=U.getCursor("end");le[fe]?(H=U.getLine(Pe.line),Se=H.slice(0,Pe.ch),Le=H.slice(Pe.ch),fe=="bold"?(Se=Se.replace(/(\*\*|__)(?![\s\S]*(\*\*|__))/,""),Le=Le.replace(/(\*\*|__)/,"")):fe=="italic"?(Se=Se.replace(/(\*|_)(?![\s\S]*(\*|_))/,""),Le=Le.replace(/(\*|_)/,"")):fe=="strikethrough"&&(Se=Se.replace(/(\*\*|~~)(?![\s\S]*(\*\*|~~))/,""),Le=Le.replace(/(\*\*|~~)/,"")),U.replaceRange(Se+Le,{line:Pe.line,ch:0},{line:Pe.line,ch:99999999999999}),fe=="bold"||fe=="strikethrough"?(Pe.ch-=2,Pe!==$e&&($e.ch-=2)):fe=="italic"&&(Pe.ch-=1,Pe!==$e&&($e.ch-=1))):(H=U.getSelection(),fe=="bold"?(H=H.split("**").join(""),H=H.split("__").join("")):fe=="italic"?(H=H.split("*").join(""),H=H.split("_").join("")):fe=="strikethrough"&&(H=H.split("~~").join("")),U.replaceSelection(Se+H+Le),Pe.ch+=me.length,$e.ch=Pe.ch+H.length),U.setSelection(Pe,$e),U.focus()}}function Y(ae){if(!/editor-preview-active/.test(ae.getWrapperElement().lastChild.className))for(var fe,me=ae.getCursor("start"),O=ae.getCursor("end"),H=me.line;H<=O.line;H++)fe=ae.getLine(H),fe=fe.replace(/^[ ]*([# ]+|\*|\-|[> ]+|[0-9]+(.|\)))[ ]*/,""),ae.replaceRange(fe,{line:H,ch:0},{line:H,ch:99999999999999})}function ue(ae,fe){for(var me in fe)fe.hasOwnProperty(me)&&(fe[me]instanceof Array?ae[me]=fe[me].concat(ae[me]instanceof Array?ae[me]:[]):fe[me]!==null&&typeof fe[me]=="object"&&fe[me].constructor===Object?ae[me]=ue(ae[me]||{},fe[me]):ae[me]=fe[me]);return ae}function xe(ae){for(var fe=1;fe<arguments.length;fe++)ae=ue(ae,arguments[fe]);return ae}function we(ae){var fe=/[a-zA-Z0-9_\u0392-\u03c9\u0410-\u04F9]+|[\u4E00-\u9FFF\u3400-\u4dbf\uf900-\ufaff\u3040-\u309f\uac00-\ud7af]+/g,me=ae.match(fe),O=0;if(me===null)return O;for(var H=0;H<me.length;H++)O+=me[H].charCodeAt(0)>=19968?me[H].length:1;return O}function Q(ae){ae=ae||{},ae.parent=this;var fe=!0;if(ae.autoDownloadFontAwesome===!1&&(fe=!1),ae.autoDownloadFontAwesome!==!0)for(var me=document.styleSheets,O=0;O<me.length;O++)me[O].href&&me[O].href.indexOf("//maxcdn.bootstrapcdn.com/font-awesome/")>-1&&(fe=!1);if(fe){var H=document.createElement("link");H.rel="stylesheet",H.href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css",document.getElementsByTagName("head")[0].appendChild(H)}if(ae.element)this.element=ae.element;else if(ae.element===null)return void console.log("SimpleMDE: Error. No element was found.");if(ae.toolbar===void 0){ae.toolbar=[];for(var U in ve)ve.hasOwnProperty(U)&&(U.indexOf("separator-")!=-1&&ae.toolbar.push("|"),(ve[U].default===!0||ae.showIcons&&ae.showIcons.constructor===Array&&ae.showIcons.indexOf(U)!=-1)&&ae.toolbar.push(U))}ae.hasOwnProperty("status")||(ae.status=["autosave","lines","words","cursor"]),ae.previewRender||(ae.previewRender=function(le){return this.parent.markdown(le)}),ae.parsingConfig=xe({highlightFormatting:!0},ae.parsingConfig||{}),ae.insertTexts=xe({},Ae,ae.insertTexts||{}),ae.promptTexts=ke,ae.blockStyles=xe({},Fe,ae.blockStyles||{}),ae.shortcuts=xe({},ce,ae.shortcuts||{}),ae.autosave!=null&&ae.autosave.unique_id!=null&&ae.autosave.unique_id!=""&&(ae.autosave.uniqueId=ae.autosave.unique_id),this.options=ae,this.render(),!ae.initialValue||this.options.autosave&&this.options.autosave.foundSavedValue===!0||this.value(ae.initialValue)}function K(){if(typeof localStorage!="object")return!1;try{localStorage.setItem("smde_localStorage",1),localStorage.removeItem("smde_localStorage")}catch{return!1}return!0}var Ce=t("codemirror");t("codemirror/addon/edit/continuelist.js"),t("./codemirror/tablist"),t("codemirror/addon/display/fullscreen.js"),t("codemirror/mode/markdown/markdown.js"),t("codemirror/addon/mode/overlay.js"),t("codemirror/addon/display/placeholder.js"),t("codemirror/addon/selection/mark-selection.js"),t("codemirror/mode/gfm/gfm.js"),t("codemirror/mode/xml/xml.js");var Me=t("codemirror-spell-checker"),ne=t("marked"),ie=/Mac/.test(navigator.platform),oe={toggleBold:g,toggleItalic:y,drawLink:R,toggleHeadingSmaller:A,toggleHeadingBigger:N,drawImage:B,toggleBlockquote:_,toggleOrderedList:T,toggleUnorderedList:D,toggleCodeBlock:w,togglePreview:se,toggleStrikethrough:k,toggleHeading1:b,toggleHeading2:M,toggleHeading3:E,cleanBlock:C,drawTable:I,drawHorizontalRule:P,undo:j,redo:$,toggleSideBySide:Z,toggleFullScreen:d},ce={toggleBold:"Cmd-B",toggleItalic:"Cmd-I",drawLink:"Cmd-K",toggleHeadingSmaller:"Cmd-H",toggleHeadingBigger:"Shift-Cmd-H",cleanBlock:"Cmd-E",drawImage:"Cmd-Alt-I",toggleBlockquote:"Cmd-'",toggleOrderedList:"Cmd-Alt-L",toggleUnorderedList:"Cmd-L",toggleCodeBlock:"Cmd-Alt-C",togglePreview:"Cmd-P",toggleSideBySide:"F9",toggleFullScreen:"F11"},W=function(ae){for(var fe in oe)if(oe[fe]===ae)return fe;return null},ee=function(){var ae=!1;return(function(fe){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(fe)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(fe.substr(0,4)))&&(ae=!0)})(navigator.userAgent||navigator.vendor||window.opera),ae},pe="",ve={bold:{name:"bold",action:g,className:"fa fa-bold",title:"Bold",default:!0},italic:{name:"italic",action:y,className:"fa fa-italic",title:"Italic",default:!0},strikethrough:{name:"strikethrough",action:k,className:"fa fa-strikethrough",title:"Strikethrough"},heading:{name:"heading",action:A,className:"fa fa-header",title:"Heading",default:!0},"heading-smaller":{name:"heading-smaller",action:A,className:"fa fa-header fa-header-x fa-header-smaller",title:"Smaller Heading"},"heading-bigger":{name:"heading-bigger",action:N,className:"fa fa-header fa-header-x fa-header-bigger",title:"Bigger Heading"},"heading-1":{name:"heading-1",action:b,className:"fa fa-header fa-header-x fa-header-1",title:"Big Heading"},"heading-2":{name:"heading-2",action:M,className:"fa fa-header fa-header-x fa-header-2",title:"Medium Heading"},"heading-3":{name:"heading-3",action:E,className:"fa fa-header fa-header-x fa-header-3",title:"Small Heading"},"separator-1":{name:"separator-1"},code:{name:"code",action:w,className:"fa fa-code",title:"Code"},quote:{name:"quote",action:_,className:"fa fa-quote-left",title:"Quote",default:!0},"unordered-list":{name:"unordered-list",action:D,className:"fa fa-list-ul",title:"Generic List",default:!0},"ordered-list":{name:"ordered-list",action:T,className:"fa fa-list-ol",title:"Numbered List",default:!0},"clean-block":{name:"clean-block",action:C,className:"fa fa-eraser fa-clean-block",title:"Clean block"},"separator-2":{name:"separator-2"},link:{name:"link",action:R,className:"fa fa-link",title:"Create Link",default:!0},image:{name:"image",action:B,className:"fa fa-picture-o",title:"Insert Image",default:!0},table:{name:"table",action:I,className:"fa fa-table",title:"Insert Table"},"horizontal-rule":{name:"horizontal-rule",action:P,className:"fa fa-minus",title:"Insert Horizontal Line"},"separator-3":{name:"separator-3"},preview:{name:"preview",action:se,className:"fa fa-eye no-disable",title:"Toggle Preview",default:!0},"side-by-side":{name:"side-by-side",action:Z,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side",default:!0},fullscreen:{name:"fullscreen",action:d,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen",default:!0},"separator-4":{name:"separator-4"},guide:{name:"guide",action:"https://simplemde.com/markdown-guide",className:"fa fa-question-circle",title:"Markdown Guide",default:!0},"separator-5":{name:"separator-5"},undo:{name:"undo",action:j,className:"fa fa-undo no-disable",title:"Undo"},redo:{name:"redo",action:$,className:"fa fa-repeat no-disable",title:"Redo"}},Ae={link:["[","](#url#)"],image:["![](","#url#)"],table:["",`

| Column 1 | Column 2 | Column 3 |
| -------- | -------- | -------- |
| Text     | Text     | Text     |

`],horizontalRule:["",`

-----

`]},ke={link:"URL for the link:",image:"URL of the image:"},Fe={bold:"**",code:"```",italic:"*"};Q.prototype.markdown=function(ae){if(ne){var fe={};return this.options&&this.options.renderingConfig&&this.options.renderingConfig.singleLineBreaks===!1?fe.breaks=!1:fe.breaks=!0,this.options&&this.options.renderingConfig&&this.options.renderingConfig.codeSyntaxHighlighting===!0&&window.hljs&&(fe.highlight=function(me){return window.hljs.highlightAuto(me).value}),ne.setOptions(fe),ne(ae)}},Q.prototype.render=function(ae){if(ae||(ae=this.element||document.getElementsByTagName("textarea")[0]),!this._rendered||this._rendered!==ae){this.element=ae;var fe=this.options,me=this,O={};for(var H in fe.shortcuts)fe.shortcuts[H]!==null&&oe[H]!==null&&(function(Pe){O[o(fe.shortcuts[Pe])]=function(){oe[Pe](me)}})(H);O.Enter="newlineAndIndentContinueMarkdownList",O.Tab="tabAndIndentMarkdownList",O["Shift-Tab"]="shiftTabAndUnindentMarkdownList",O.Esc=function(Pe){Pe.getOption("fullScreen")&&d(me)},document.addEventListener("keydown",function(Pe){Pe=Pe||window.event,Pe.keyCode==27&&me.codemirror.getOption("fullScreen")&&d(me)},!1);var U,le;if(fe.spellChecker!==!1?(U="spell-checker",le=fe.parsingConfig,le.name="gfm",le.gitHubSpice=!1,Me({codeMirrorInstance:Ce})):(U=fe.parsingConfig,U.name="gfm",U.gitHubSpice=!1),this.codemirror=Ce.fromTextArea(ae,{mode:U,backdrop:le,theme:"paper",tabSize:fe.tabSize!=null?fe.tabSize:2,indentUnit:fe.tabSize!=null?fe.tabSize:2,indentWithTabs:fe.indentWithTabs!==!1,lineNumbers:!1,autofocus:fe.autofocus===!0,extraKeys:O,lineWrapping:fe.lineWrapping!==!1,allowDropFileTypes:["text/plain"],placeholder:fe.placeholder||ae.getAttribute("placeholder")||"",styleSelectedText:fe.styleSelectedText!=null?fe.styleSelectedText:!0}),fe.forceSync===!0){var Se=this.codemirror;Se.on("change",function(){Se.save()})}this.gui={},fe.toolbar!==!1&&(this.gui.toolbar=this.createToolbar()),fe.status!==!1&&(this.gui.statusbar=this.createStatusbar()),fe.autosave!=null&&fe.autosave.enabled===!0&&this.autosave(),this.gui.sideBySide=this.createSideBySide(),this._rendered=this.element;var Le=this.codemirror;setTimeout((function(){Le.refresh()}).bind(Le),0)}},Q.prototype.autosave=function(){if(K()){var ae=this;if(this.options.autosave.uniqueId==null||this.options.autosave.uniqueId=="")return void console.log("SimpleMDE: You must set a uniqueId to use the autosave feature");ae.element.form!=null&&ae.element.form!=null&&ae.element.form.addEventListener("submit",function(){localStorage.removeItem("smde_"+ae.options.autosave.uniqueId)}),this.options.autosave.loaded!==!0&&(typeof localStorage.getItem("smde_"+this.options.autosave.uniqueId)=="string"&&localStorage.getItem("smde_"+this.options.autosave.uniqueId)!=""&&(this.codemirror.setValue(localStorage.getItem("smde_"+this.options.autosave.uniqueId)),this.options.autosave.foundSavedValue=!0),this.options.autosave.loaded=!0),localStorage.setItem("smde_"+this.options.autosave.uniqueId,ae.value());var fe=document.getElementById("autosaved");if(fe!=null&&fe!=null&&fe!=""){var me=new Date,O=me.getHours(),H=me.getMinutes(),U="am",le=O;le>=12&&(le=O-12,U="pm"),le==0&&(le=12),H=10>H?"0"+H:H,fe.innerHTML="Autosaved: "+le+":"+H+" "+U}this.autosaveTimeoutId=setTimeout(function(){ae.autosave()},this.options.autosave.delay||1e4)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},Q.prototype.clearAutosavedValue=function(){if(K()){if(this.options.autosave==null||this.options.autosave.uniqueId==null||this.options.autosave.uniqueId=="")return void console.log("SimpleMDE: You must set a uniqueId to clear the autosave value");localStorage.removeItem("smde_"+this.options.autosave.uniqueId)}else console.log("SimpleMDE: localStorage not available, cannot autosave")},Q.prototype.createSideBySide=function(){var ae=this.codemirror,fe=ae.getWrapperElement(),me=fe.nextSibling;me&&/editor-preview-side/.test(me.className)||(me=document.createElement("div"),me.className="editor-preview-side",fe.parentNode.insertBefore(me,fe.nextSibling));var O=!1,H=!1;return ae.on("scroll",function(U){if(O)return void(O=!1);H=!0;var le=U.getScrollInfo().height-U.getScrollInfo().clientHeight,Se=parseFloat(U.getScrollInfo().top)/le,Le=(me.scrollHeight-me.clientHeight)*Se;me.scrollTop=Le}),me.onscroll=function(){if(H)return void(H=!1);O=!0;var U=me.scrollHeight-me.clientHeight,le=parseFloat(me.scrollTop)/U,Se=(ae.getScrollInfo().height-ae.getScrollInfo().clientHeight)*le;ae.scrollTo(0,Se)},me},Q.prototype.createToolbar=function(ae){if(ae=ae||this.options.toolbar,ae&&ae.length!==0){var fe;for(fe=0;fe<ae.length;fe++)ve[ae[fe]]!=null&&(ae[fe]=ve[ae[fe]]);var me=document.createElement("div");me.className="editor-toolbar";var O=this,H={};for(O.toolbar=ae,fe=0;fe<ae.length;fe++)if((ae[fe].name!="guide"||O.options.toolbarGuideIcon!==!1)&&!(O.options.hideIcons&&O.options.hideIcons.indexOf(ae[fe].name)!=-1||(ae[fe].name=="fullscreen"||ae[fe].name=="side-by-side")&&ee())){if(ae[fe]==="|"){for(var U=!1,le=fe+1;le<ae.length;le++)ae[le]==="|"||O.options.hideIcons&&O.options.hideIcons.indexOf(ae[le].name)!=-1||(U=!0);if(!U)continue}(function(Pe){var $e;$e=Pe==="|"?h():l(Pe,O.options.toolbarTips,O.options.shortcuts),Pe.action&&(typeof Pe.action=="function"?$e.onclick=function(Ze){Ze.preventDefault(),Pe.action(O)}:typeof Pe.action=="string"&&($e.href=Pe.action,$e.target="_blank")),H[Pe.name||Pe]=$e,me.appendChild($e)})(ae[fe])}O.toolbarElements=H;var Se=this.codemirror;Se.on("cursorActivity",function(){var Pe=f(Se);for(var $e in H)(function(Ze){var pt=H[Ze];Pe[Ze]?pt.className+=" active":Ze!="fullscreen"&&Ze!="side-by-side"&&(pt.className=pt.className.replace(/\s*active\s*/g,""))})($e)});var Le=Se.getWrapperElement();return Le.parentNode.insertBefore(me,Le),me}},Q.prototype.createStatusbar=function(ae){ae=ae||this.options.status;var fe=this.options,me=this.codemirror;if(ae&&ae.length!==0){var O,H,U,le=[];for(O=0;O<ae.length;O++)if(H=void 0,U=void 0,typeof ae[O]=="object")le.push({className:ae[O].className,defaultValue:ae[O].defaultValue,onUpdate:ae[O].onUpdate});else{var Se=ae[O];Se==="words"?(U=function(pt){pt.innerHTML=we(me.getValue())},H=function(pt){pt.innerHTML=we(me.getValue())}):Se==="lines"?(U=function(pt){pt.innerHTML=me.lineCount()},H=function(pt){pt.innerHTML=me.lineCount()}):Se==="cursor"?(U=function(pt){pt.innerHTML="0:0"},H=function(pt){var ct=me.getCursor();pt.innerHTML=ct.line+":"+ct.ch}):Se==="autosave"&&(U=function(pt){fe.autosave!=null&&fe.autosave.enabled===!0&&pt.setAttribute("id","autosaved")}),le.push({className:Se,defaultValue:U,onUpdate:H})}var Le=document.createElement("div");for(Le.className="editor-statusbar",O=0;O<le.length;O++){var Pe=le[O],$e=document.createElement("span");$e.className=Pe.className,typeof Pe.defaultValue=="function"&&Pe.defaultValue($e),typeof Pe.onUpdate=="function"&&this.codemirror.on("update",(function(pt,ct){return function(){ct.onUpdate(pt)}})($e,Pe)),Le.appendChild($e)}var Ze=this.codemirror.getWrapperElement();return Ze.parentNode.insertBefore(Le,Ze.nextSibling),Le}},Q.prototype.value=function(ae){return ae===void 0?this.codemirror.getValue():(this.codemirror.getDoc().setValue(ae),this)},Q.toggleBold=g,Q.toggleItalic=y,Q.toggleStrikethrough=k,Q.toggleBlockquote=_,Q.toggleHeadingSmaller=A,Q.toggleHeadingBigger=N,Q.toggleHeading1=b,Q.toggleHeading2=M,Q.toggleHeading3=E,Q.toggleCodeBlock=w,Q.toggleUnorderedList=D,Q.toggleOrderedList=T,Q.cleanBlock=C,Q.drawLink=R,Q.drawImage=B,Q.drawTable=I,Q.drawHorizontalRule=P,Q.undo=j,Q.redo=$,Q.togglePreview=se,Q.toggleSideBySide=Z,Q.toggleFullScreen=d,Q.prototype.toggleBold=function(){g(this)},Q.prototype.toggleItalic=function(){y(this)},Q.prototype.toggleStrikethrough=function(){k(this)},Q.prototype.toggleBlockquote=function(){_(this)},Q.prototype.toggleHeadingSmaller=function(){A(this)},Q.prototype.toggleHeadingBigger=function(){N(this)},Q.prototype.toggleHeading1=function(){b(this)},Q.prototype.toggleHeading2=function(){M(this)},Q.prototype.toggleHeading3=function(){E(this)},Q.prototype.toggleCodeBlock=function(){w(this)},Q.prototype.toggleUnorderedList=function(){D(this)},Q.prototype.toggleOrderedList=function(){T(this)},Q.prototype.cleanBlock=function(){C(this)},Q.prototype.drawLink=function(){R(this)},Q.prototype.drawImage=function(){B(this)},Q.prototype.drawTable=function(){I(this)},Q.prototype.drawHorizontalRule=function(){P(this)},Q.prototype.undo=function(){j(this)},Q.prototype.redo=function(){$(this)},Q.prototype.togglePreview=function(){se(this)},Q.prototype.toggleSideBySide=function(){Z(this)},Q.prototype.toggleFullScreen=function(){d(this)},Q.prototype.isPreviewActive=function(){var ae=this.codemirror,fe=ae.getWrapperElement(),me=fe.lastChild;return/editor-preview-active/.test(me.className)},Q.prototype.isSideBySideActive=function(){var ae=this.codemirror,fe=ae.getWrapperElement(),me=fe.nextSibling;return/editor-preview-active-side/.test(me.className)},Q.prototype.isFullscreenActive=function(){var ae=this.codemirror;return ae.getOption("fullScreen")},Q.prototype.getState=function(){var ae=this.codemirror;return f(ae)},Q.prototype.toTextArea=function(){var ae=this.codemirror,fe=ae.getWrapperElement();fe.parentNode&&(this.gui.toolbar&&fe.parentNode.removeChild(this.gui.toolbar),this.gui.statusbar&&fe.parentNode.removeChild(this.gui.statusbar),this.gui.sideBySide&&fe.parentNode.removeChild(this.gui.sideBySide)),ae.toTextArea(),this.autosaveTimeoutId&&(clearTimeout(this.autosaveTimeoutId),this.autosaveTimeoutId=void 0,this.clearAutosavedValue())},r.exports=Q},{"./codemirror/tablist":19,codemirror:10,"codemirror-spell-checker":4,"codemirror/addon/display/fullscreen.js":5,"codemirror/addon/display/placeholder.js":6,"codemirror/addon/edit/continuelist.js":7,"codemirror/addon/mode/overlay.js":8,"codemirror/addon/selection/mark-selection.js":9,"codemirror/mode/gfm/gfm.js":11,"codemirror/mode/markdown/markdown.js":12,"codemirror/mode/xml/xml.js":14,marked:17}]},{},[20])(20)})})(dv)),dv.exports}var AU=EU();const hi=Ol(AU);class TU extends dn{static values={text:String};get textarea(){return this.element.querySelector("textarea")}get uploadInput(){return this.element.querySelector(".upload")}initialize(){this.intersectionObserver=new IntersectionObserver(e=>this.processIntersectionEntries(e)),this.intersectionObserver.observe(this.element)}processIntersectionEntries(e){e.forEach(t=>{t.isIntersecting&&(this.intersectionObserver.unobserve(this.element),this.editor=this.initEditor())})}initEditor(){return new hi({autoDownloadFontAwesome:void 0,forceSync:!0,element:this.textarea,toolbar:[{name:"bold",action:hi.toggleBold,className:"fa fa-bold",title:"Bold"},{name:"italic",action:hi.toggleItalic,className:"fa fa-italic",title:"Italic"},{name:"heading",action:hi.toggleHeadingSmaller,className:"fa fa-header",title:"Heading"},"|",{name:"quote",action:hi.toggleBlockquote,className:"fa fa-quote-left",title:"Quote"},{name:"code",action:hi.toggleCodeBlock,className:"fa fa-code",title:"Code"},{name:"unordered-list",action:hi.toggleUnorderedList,className:"fa fa-list-ul",title:"Generic List"},{name:"ordered-list",action:hi.toggleOrderedList,className:"fa fa-list-ol",title:"Numbered List"},"|",{name:"link",action:hi.drawLink,className:"fa fa-link",title:"Link"},{name:"image",action:hi.drawImage,className:"fa fa-picture-o",title:"Insert Image"},{name:"upload",action:()=>this.showDialogUpload(),className:"fa fa-upload",title:"Upload File"},{name:"table",action:hi.drawTable,className:"fa fa-table",title:"Insert Table"},"|",{name:"preview",action:hi.togglePreview,className:"fa fa-eye no-disable",title:"Toggle Preview"},{name:"side-by-side",action:hi.toggleSideBySide,className:"fa fa-columns no-disable no-mobile",title:"Toggle Side by Side"},{name:"fullscreen",action:hi.toggleFullScreen,className:"fa fa-arrows-alt no-disable no-mobile",title:"Toggle Fullscreen"},"|",{name:"horizontal-rule",action:hi.drawHorizontalRule,className:"fa fa-minus",title:"Insert Horizontal Line"}],initialValue:JSON.parse(this.textValue),placeholder:this.textarea.placeholder,spellChecker:!1})}showDialogUpload(){this.uploadInput.click()}upload(e){const t=e.target.files[0];if(t==null)return;const r=new FormData;r.append("file",t),axios.post(this.prefix("/systems/files"),r).then(i=>{this.editor.codemirror.replaceSelection(i.data.url),e.target.value=null}).catch(i=>{console.warn(i),e.target.value=null})}}const kU=Object.freeze(Object.defineProperty({__proto__:null,default:TU},Symbol.toStringTag,{value:"Module"}));class CU extends dn{static values={model:String,action:String,selector:{type:String,default:".reorder-handle"},successMessage:{type:String,default:"Sorting saved successfully."},failureMessage:{type:String,default:"Failed to save sorting."}};connect(){this.sortable=new Kt(this.element,{animation:150,handle:this.selectorValue,onEnd:()=>this.reorderElements()})}reorderElements(){const e={model:this.modelValue,items:[]};this.element.querySelectorAll(this.selectorValue).forEach((r,i)=>{e.items.push({id:r.getAttribute("data-model-id"),sortOrder:i})}),axios.post(this.actionValue,e).then(()=>this.toast(this.successMessageValue)).catch(r=>{console.error(r),this.toast(this.failureMessageValue,"danger")})}}const OU=Object.freeze(Object.defineProperty({__proto__:null,default:CU},Symbol.toStringTag,{value:"Module"}));class LU extends dn{initialize(){const e=JSON.parse(localStorage.getItem(this.slug));this.hiddenColumns=e||[]}connect(){this.allowDefaultHidden(),this.renderColumn(),this.element.querySelector(".dropdown-column-menu")!==null&&this.element.querySelector(".dropdown-column-menu").addEventListener("click",e=>{e.stopPropagation()})}allowDefaultHidden(){localStorage.getItem(this.slug)===null&&this.element.querySelectorAll('input[data-default-hidden="true"]').forEach(e=>{this.hideColumn(e.dataset.column)})}toggleColumn(e){const t=e.target.dataset.column;this.hiddenColumns.includes(t)?this.showColumn(t):this.hideColumn(t);const r=JSON.stringify(this.hiddenColumns);this.renderColumn(),localStorage.setItem(this.slug,r)}showColumn(e){this.hiddenColumns=this.hiddenColumns.filter(t=>t!==e)}hideColumn(e){this.hiddenColumns.push(e)}renderColumn(){this.element.querySelectorAll("td[data-column], th[data-column]").forEach(r=>{r.style.display=""});const e=this.hiddenColumns.map(r=>`td[data-column="${r}"], th[data-column="${r}"]`).join();if(e.length<1)return;this.element.querySelectorAll(e).forEach(r=>{r.style.display="none"});const t=this.hiddenColumns.map(r=>`input[data-column="${r}"]`).join();this.element.querySelectorAll(t).forEach(r=>{r.checked=!1})}get slug(){return this.data.get("slug")}}const MU=Object.freeze(Object.defineProperty({__proto__:null,default:LU},Symbol.toStringTag,{value:"Module"}));class PU extends dn{connect(){const e=this.tabs(),t=window.location.href.split(/[?#]/)[0],r=e[t][this.data.get("slug")];[].slice.call(this.element.querySelectorAll('a[role="tablist"]')).forEach(function(i){let o=lo.getOrCreateInstance(i);i.addEventListener("click",l=>{l.preventDefault(),o.show()})}),r!==null&&!this.data.get("active-tab")&&lo.getOrCreateInstance(document.getElementById(r)).show()}setActiveTab(e){const t=e.target.id,r=this.tabs(),i=window.location.href.split(/[?#]/)[0];return r[i][this.data.get("slug")]=t,localStorage.setItem("tabs",JSON.stringify(r)),lo.getOrCreateInstance(document.getElementById(t)).show(),e.preventDefault()}tabs(){let e=JSON.parse(localStorage.getItem("tabs"));const t=window.location.href.split(/[?#]/)[0];return e===null&&(e={}),e[t]===void 0&&(e[t]={}),e[t][this.data.get("slug")]===void 0&&(e[t][this.data.get("slug")]=null),e}}const NU=Object.freeze(Object.defineProperty({__proto__:null,default:PU},Symbol.toStringTag,{value:"Module"}));class IU extends dn{connect(){"content"in document.createElement("template")||console.warn("Your browser does not support <template>"),this.template=this.element.querySelector("#toast"),this.showAllToasts()}alert(e,t,r="warning"){this.toast(`<b>${e}</b><br> ${t}`,r)}toast(e,t="warning"){const r=this.template.content.querySelector(".toast").cloneNode(!0);r.innerHTML=r.innerHTML.replace(/{message}/,e).replace(/{type}/,t),this.element.appendChild(r),this.showAllToasts()}showAllToasts(){const e=this.element.querySelector(".toast");e!==null&&(e.addEventListener("hidden.bs.toast",t=>{t.target.remove()}),new rc(e).show())}}const DU=Object.freeze(Object.defineProperty({__proto__:null,default:IU},Symbol.toStringTag,{value:"Module"}));class RU extends dn{static targets=["button"];toggle(){this.buttonTarget.click()}}const FU=Object.freeze(Object.defineProperty({__proto__:null,default:RU},Symbol.toStringTag,{value:"Module"}));class BU extends dn{connect(){this.tooltip=new nc(this.element,{boundary:"window"})}}const jU=Object.freeze(Object.defineProperty({__proto__:null,default:BU},Symbol.toStringTag,{value:"Module"}));var pv={exports:{}},vx;function HU(){return vx||(vx=1,(function(n,e){(function(r,i){n.exports=i()})(self,function(){return(function(){var t={3099:(function(l){l.exports=function(h){if(typeof h!="function")throw TypeError(String(h)+" is not a function");return h}}),6077:(function(l,h,u){var f=u(111);l.exports=function(d){if(!f(d)&&d!==null)throw TypeError("Can't set "+String(d)+" as a prototype");return d}}),1223:(function(l,h,u){var f=u(5112),d=u(30),g=u(3070),y=f("unscopables"),k=Array.prototype;k[y]==null&&g.f(k,y,{configurable:!0,value:d(null)}),l.exports=function(w){k[y][w]=!0}}),1530:(function(l,h,u){var f=u(8710).charAt;l.exports=function(d,g,y){return g+(y?f(d,g).length:1)}}),5787:(function(l){l.exports=function(h,u,f){if(!(h instanceof u))throw TypeError("Incorrect "+(f?f+" ":"")+"invocation");return h}}),9670:(function(l,h,u){var f=u(111);l.exports=function(d){if(!f(d))throw TypeError(String(d)+" is not an object");return d}}),4019:(function(l){l.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"}),260:(function(l,h,u){var f=u(4019),d=u(9781),g=u(7854),y=u(111),k=u(6656),w=u(648),_=u(8880),A=u(1320),N=u(3070).f,b=u(9518),M=u(7674),E=u(5112),D=u(9711),T=g.Int8Array,C=T&&T.prototype,R=g.Uint8ClampedArray,B=R&&R.prototype,I=T&&b(T),P=C&&b(C),j=Object.prototype,$=j.isPrototypeOf,Z=E("toStringTag"),se=D("TYPED_ARRAY_TAG"),te=f&&!!M&&w(g.opera)!=="Opera",X=!1,V,de={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Y={BigInt64Array:8,BigUint64Array:8},ue=function(ne){if(!y(ne))return!1;var ie=w(ne);return ie==="DataView"||k(de,ie)||k(Y,ie)},xe=function(Me){if(!y(Me))return!1;var ne=w(Me);return k(de,ne)||k(Y,ne)},we=function(Me){if(xe(Me))return Me;throw TypeError("Target is not a typed array")},Q=function(Me){if(M){if($.call(I,Me))return Me}else for(var ne in de)if(k(de,V)){var ie=g[ne];if(ie&&(Me===ie||$.call(ie,Me)))return Me}throw TypeError("Target is not a typed array constructor")},K=function(Me,ne,ie){if(d){if(ie)for(var oe in de){var ce=g[oe];ce&&k(ce.prototype,Me)&&delete ce.prototype[Me]}(!P[Me]||ie)&&A(P,Me,ie?ne:te&&C[Me]||ne)}},Ce=function(Me,ne,ie){var oe,ce;if(d){if(M){if(ie)for(oe in de)ce=g[oe],ce&&k(ce,Me)&&delete ce[Me];if(!I[Me]||ie)try{return A(I,Me,ie?ne:te&&T[Me]||ne)}catch{}else return}for(oe in de)ce=g[oe],ce&&(!ce[Me]||ie)&&A(ce,Me,ne)}};for(V in de)g[V]||(te=!1);if((!te||typeof I!="function"||I===Function.prototype)&&(I=function(){throw TypeError("Incorrect invocation")},te))for(V in de)g[V]&&M(g[V],I);if((!te||!P||P===j)&&(P=I.prototype,te))for(V in de)g[V]&&M(g[V].prototype,P);if(te&&b(B)!==P&&M(B,P),d&&!k(P,Z)){X=!0,N(P,Z,{get:function(){return y(this)?this[se]:void 0}});for(V in de)g[V]&&_(g[V],se,V)}l.exports={NATIVE_ARRAY_BUFFER_VIEWS:te,TYPED_ARRAY_TAG:X&&se,aTypedArray:we,aTypedArrayConstructor:Q,exportTypedArrayMethod:K,exportTypedArrayStaticMethod:Ce,isView:ue,isTypedArray:xe,TypedArray:I,TypedArrayPrototype:P}}),3331:(function(l,h,u){var f=u(7854),d=u(9781),g=u(4019),y=u(8880),k=u(2248),w=u(7293),_=u(5787),A=u(9958),N=u(7466),b=u(7067),M=u(1179),E=u(9518),D=u(7674),T=u(8006).f,C=u(3070).f,R=u(1285),B=u(8003),I=u(9909),P=I.get,j=I.set,$="ArrayBuffer",Z="DataView",se="prototype",te="Wrong length",X="Wrong index",V=f[$],de=V,Y=f[Z],ue=Y&&Y[se],xe=Object.prototype,we=f.RangeError,Q=M.pack,K=M.unpack,Ce=function(me){return[me&255]},Me=function(me){return[me&255,me>>8&255]},ne=function(me){return[me&255,me>>8&255,me>>16&255,me>>24&255]},ie=function(me){return me[3]<<24|me[2]<<16|me[1]<<8|me[0]},oe=function(me){return Q(me,23,4)},ce=function(me){return Q(me,52,8)},W=function(me,O){C(me[se],O,{get:function(){return P(this)[O]}})},ee=function(me,O,H,U){var le=b(H),Se=P(me);if(le+O>Se.byteLength)throw we(X);var Le=P(Se.buffer).bytes,Pe=le+Se.byteOffset,$e=Le.slice(Pe,Pe+O);return U?$e:$e.reverse()},pe=function(me,O,H,U,le,Se){var Le=b(H),Pe=P(me);if(Le+O>Pe.byteLength)throw we(X);for(var $e=P(Pe.buffer).bytes,Ze=Le+Pe.byteOffset,pt=U(+le),ct=0;ct<O;ct++)$e[Ze+ct]=pt[Se?ct:O-ct-1]};if(!g)de=function(O){_(this,de,$);var H=b(O);j(this,{bytes:R.call(new Array(H),0),byteLength:H}),d||(this.byteLength=H)},Y=function(O,H,U){_(this,Y,Z),_(O,de,Z);var le=P(O).byteLength,Se=A(H);if(Se<0||Se>le)throw we("Wrong offset");if(U=U===void 0?le-Se:N(U),Se+U>le)throw we(te);j(this,{buffer:O,byteLength:U,byteOffset:Se}),d||(this.buffer=O,this.byteLength=U,this.byteOffset=Se)},d&&(W(de,"byteLength"),W(Y,"buffer"),W(Y,"byteLength"),W(Y,"byteOffset")),k(Y[se],{getInt8:function(O){return ee(this,1,O)[0]<<24>>24},getUint8:function(O){return ee(this,1,O)[0]},getInt16:function(O){var H=ee(this,2,O,arguments.length>1?arguments[1]:void 0);return(H[1]<<8|H[0])<<16>>16},getUint16:function(O){var H=ee(this,2,O,arguments.length>1?arguments[1]:void 0);return H[1]<<8|H[0]},getInt32:function(O){return ie(ee(this,4,O,arguments.length>1?arguments[1]:void 0))},getUint32:function(O){return ie(ee(this,4,O,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(O){return K(ee(this,4,O,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(O){return K(ee(this,8,O,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(O,H){pe(this,1,O,Ce,H)},setUint8:function(O,H){pe(this,1,O,Ce,H)},setInt16:function(O,H){pe(this,2,O,Me,H,arguments.length>2?arguments[2]:void 0)},setUint16:function(O,H){pe(this,2,O,Me,H,arguments.length>2?arguments[2]:void 0)},setInt32:function(O,H){pe(this,4,O,ne,H,arguments.length>2?arguments[2]:void 0)},setUint32:function(O,H){pe(this,4,O,ne,H,arguments.length>2?arguments[2]:void 0)},setFloat32:function(O,H){pe(this,4,O,oe,H,arguments.length>2?arguments[2]:void 0)},setFloat64:function(O,H){pe(this,8,O,ce,H,arguments.length>2?arguments[2]:void 0)}});else{if(!w(function(){V(1)})||!w(function(){new V(-1)})||w(function(){return new V,new V(1.5),new V(NaN),V.name!=$})){de=function(O){return _(this,de),new V(b(O))};for(var ve=de[se]=V[se],Ae=T(V),ke=0,Fe;Ae.length>ke;)(Fe=Ae[ke++])in de||y(de,Fe,V[Fe]);ve.constructor=de}D&&E(ue)!==xe&&D(ue,xe);var ae=new Y(new de(2)),fe=ue.setInt8;ae.setInt8(0,2147483648),ae.setInt8(1,2147483649),(ae.getInt8(0)||!ae.getInt8(1))&&k(ue,{setInt8:function(O,H){fe.call(this,O,H<<24>>24)},setUint8:function(O,H){fe.call(this,O,H<<24>>24)}},{unsafe:!0})}B(de,$),B(Y,Z),l.exports={ArrayBuffer:de,DataView:Y}}),1048:(function(l,h,u){var f=u(7908),d=u(1400),g=u(7466),y=Math.min;l.exports=[].copyWithin||function(w,_){var A=f(this),N=g(A.length),b=d(w,N),M=d(_,N),E=arguments.length>2?arguments[2]:void 0,D=y((E===void 0?N:d(E,N))-M,N-b),T=1;for(M<b&&b<M+D&&(T=-1,M+=D-1,b+=D-1);D-- >0;)M in A?A[b]=A[M]:delete A[b],b+=T,M+=T;return A}}),1285:(function(l,h,u){var f=u(7908),d=u(1400),g=u(7466);l.exports=function(k){for(var w=f(this),_=g(w.length),A=arguments.length,N=d(A>1?arguments[1]:void 0,_),b=A>2?arguments[2]:void 0,M=b===void 0?_:d(b,_);M>N;)w[N++]=k;return w}}),8533:(function(l,h,u){var f=u(2092).forEach,d=u(9341),g=d("forEach");l.exports=g?[].forEach:function(k){return f(this,k,arguments.length>1?arguments[1]:void 0)}}),8457:(function(l,h,u){var f=u(9974),d=u(7908),g=u(3411),y=u(7659),k=u(7466),w=u(6135),_=u(1246);l.exports=function(N){var b=d(N),M=typeof this=="function"?this:Array,E=arguments.length,D=E>1?arguments[1]:void 0,T=D!==void 0,C=_(b),R=0,B,I,P,j,$,Z;if(T&&(D=f(D,E>2?arguments[2]:void 0,2)),C!=null&&!(M==Array&&y(C)))for(j=C.call(b),$=j.next,I=new M;!(P=$.call(j)).done;R++)Z=T?g(j,D,[P.value,R],!0):P.value,w(I,R,Z);else for(B=k(b.length),I=new M(B);B>R;R++)Z=T?D(b[R],R):b[R],w(I,R,Z);return I.length=R,I}}),1318:(function(l,h,u){var f=u(5656),d=u(7466),g=u(1400),y=function(k){return function(w,_,A){var N=f(w),b=d(N.length),M=g(A,b),E;if(k&&_!=_){for(;b>M;)if(E=N[M++],E!=E)return!0}else for(;b>M;M++)if((k||M in N)&&N[M]===_)return k||M||0;return!k&&-1}};l.exports={includes:y(!0),indexOf:y(!1)}}),2092:(function(l,h,u){var f=u(9974),d=u(8361),g=u(7908),y=u(7466),k=u(5417),w=[].push,_=function(A){var N=A==1,b=A==2,M=A==3,E=A==4,D=A==6,T=A==7,C=A==5||D;return function(R,B,I,P){for(var j=g(R),$=d(j),Z=f(B,I,3),se=y($.length),te=0,X=P||k,V=N?X(R,se):b||T?X(R,0):void 0,de,Y;se>te;te++)if((C||te in $)&&(de=$[te],Y=Z(de,te,j),A))if(N)V[te]=Y;else if(Y)switch(A){case 3:return!0;case 5:return de;case 6:return te;case 2:w.call(V,de)}else switch(A){case 4:return!1;case 7:w.call(V,de)}return D?-1:M||E?E:V}};l.exports={forEach:_(0),map:_(1),filter:_(2),some:_(3),every:_(4),find:_(5),findIndex:_(6),filterOut:_(7)}}),6583:(function(l,h,u){var f=u(5656),d=u(9958),g=u(7466),y=u(9341),k=Math.min,w=[].lastIndexOf,_=!!w&&1/[1].lastIndexOf(1,-0)<0,A=y("lastIndexOf"),N=_||!A;l.exports=N?function(M){if(_)return w.apply(this,arguments)||0;var E=f(this),D=g(E.length),T=D-1;for(arguments.length>1&&(T=k(T,d(arguments[1]))),T<0&&(T=D+T);T>=0;T--)if(T in E&&E[T]===M)return T||0;return-1}:w}),1194:(function(l,h,u){var f=u(7293),d=u(5112),g=u(7392),y=d("species");l.exports=function(k){return g>=51||!f(function(){var w=[],_=w.constructor={};return _[y]=function(){return{foo:1}},w[k](Boolean).foo!==1})}}),9341:(function(l,h,u){var f=u(7293);l.exports=function(d,g){var y=[][d];return!!y&&f(function(){y.call(null,g||function(){throw 1},1)})}}),3671:(function(l,h,u){var f=u(3099),d=u(7908),g=u(8361),y=u(7466),k=function(w){return function(_,A,N,b){f(A);var M=d(_),E=g(M),D=y(M.length),T=w?D-1:0,C=w?-1:1;if(N<2)for(;;){if(T in E){b=E[T],T+=C;break}if(T+=C,w?T<0:D<=T)throw TypeError("Reduce of empty array with no initial value")}for(;w?T>=0:D>T;T+=C)T in E&&(b=A(b,E[T],T,M));return b}};l.exports={left:k(!1),right:k(!0)}}),5417:(function(l,h,u){var f=u(111),d=u(3157),g=u(5112),y=g("species");l.exports=function(k,w){var _;return d(k)&&(_=k.constructor,typeof _=="function"&&(_===Array||d(_.prototype))?_=void 0:f(_)&&(_=_[y],_===null&&(_=void 0))),new(_===void 0?Array:_)(w===0?0:w)}}),3411:(function(l,h,u){var f=u(9670),d=u(9212);l.exports=function(g,y,k,w){try{return w?y(f(k)[0],k[1]):y(k)}catch(_){throw d(g),_}}}),7072:(function(l,h,u){var f=u(5112),d=f("iterator"),g=!1;try{var y=0,k={next:function(){return{done:!!y++}},return:function(){g=!0}};k[d]=function(){return this},Array.from(k,function(){throw 2})}catch{}l.exports=function(w,_){if(!_&&!g)return!1;var A=!1;try{var N={};N[d]=function(){return{next:function(){return{done:A=!0}}}},w(N)}catch{}return A}}),4326:(function(l){var h={}.toString;l.exports=function(u){return h.call(u).slice(8,-1)}}),648:(function(l,h,u){var f=u(1694),d=u(4326),g=u(5112),y=g("toStringTag"),k=d((function(){return arguments})())=="Arguments",w=function(_,A){try{return _[A]}catch{}};l.exports=f?d:function(_){var A,N,b;return _===void 0?"Undefined":_===null?"Null":typeof(N=w(A=Object(_),y))=="string"?N:k?d(A):(b=d(A))=="Object"&&typeof A.callee=="function"?"Arguments":b}}),9920:(function(l,h,u){var f=u(6656),d=u(3887),g=u(1236),y=u(3070);l.exports=function(k,w){for(var _=d(w),A=y.f,N=g.f,b=0;b<_.length;b++){var M=_[b];f(k,M)||A(k,M,N(w,M))}}}),8544:(function(l,h,u){var f=u(7293);l.exports=!f(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})}),4994:(function(l,h,u){var f=u(3383).IteratorPrototype,d=u(30),g=u(9114),y=u(8003),k=u(7497),w=function(){return this};l.exports=function(_,A,N){var b=A+" Iterator";return _.prototype=d(f,{next:g(1,N)}),y(_,b,!1,!0),k[b]=w,_}}),8880:(function(l,h,u){var f=u(9781),d=u(3070),g=u(9114);l.exports=f?function(y,k,w){return d.f(y,k,g(1,w))}:function(y,k,w){return y[k]=w,y}}),9114:(function(l){l.exports=function(h,u){return{enumerable:!(h&1),configurable:!(h&2),writable:!(h&4),value:u}}}),6135:(function(l,h,u){var f=u(7593),d=u(3070),g=u(9114);l.exports=function(y,k,w){var _=f(k);_ in y?d.f(y,_,g(0,w)):y[_]=w}}),654:(function(l,h,u){var f=u(2109),d=u(4994),g=u(9518),y=u(7674),k=u(8003),w=u(8880),_=u(1320),A=u(5112),N=u(1913),b=u(7497),M=u(3383),E=M.IteratorPrototype,D=M.BUGGY_SAFARI_ITERATORS,T=A("iterator"),C="keys",R="values",B="entries",I=function(){return this};l.exports=function(P,j,$,Z,se,te,X){d($,j,Z);var V=function(ne){if(ne===se&&we)return we;if(!D&&ne in ue)return ue[ne];switch(ne){case C:return function(){return new $(this,ne)};case R:return function(){return new $(this,ne)};case B:return function(){return new $(this,ne)}}return function(){return new $(this)}},de=j+" Iterator",Y=!1,ue=P.prototype,xe=ue[T]||ue["@@iterator"]||se&&ue[se],we=!D&&xe||V(se),Q=j=="Array"&&ue.entries||xe,K,Ce,Me;if(Q&&(K=g(Q.call(new P)),E!==Object.prototype&&K.next&&(!N&&g(K)!==E&&(y?y(K,E):typeof K[T]!="function"&&w(K,T,I)),k(K,de,!0,!0),N&&(b[de]=I))),se==R&&xe&&xe.name!==R&&(Y=!0,we=function(){return xe.call(this)}),(!N||X)&&ue[T]!==we&&w(ue,T,we),b[j]=we,se)if(Ce={values:V(R),keys:te?we:V(C),entries:V(B)},X)for(Me in Ce)(D||Y||!(Me in ue))&&_(ue,Me,Ce[Me]);else f({target:j,proto:!0,forced:D||Y},Ce);return Ce}}),9781:(function(l,h,u){var f=u(7293);l.exports=!f(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})}),317:(function(l,h,u){var f=u(7854),d=u(111),g=f.document,y=d(g)&&d(g.createElement);l.exports=function(k){return y?g.createElement(k):{}}}),8324:(function(l){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}),8113:(function(l,h,u){var f=u(5005);l.exports=f("navigator","userAgent")||""}),7392:(function(l,h,u){var f=u(7854),d=u(8113),g=f.process,y=g&&g.versions,k=y&&y.v8,w,_;k?(w=k.split("."),_=w[0]+w[1]):d&&(w=d.match(/Edge\/(\d+)/),(!w||w[1]>=74)&&(w=d.match(/Chrome\/(\d+)/),w&&(_=w[1]))),l.exports=_&&+_}),748:(function(l){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]}),2109:(function(l,h,u){var f=u(7854),d=u(1236).f,g=u(8880),y=u(1320),k=u(3505),w=u(9920),_=u(4705);l.exports=function(A,N){var b=A.target,M=A.global,E=A.stat,D,T,C,R,B,I;if(M?T=f:E?T=f[b]||k(b,{}):T=(f[b]||{}).prototype,T)for(C in N){if(B=N[C],A.noTargetGet?(I=d(T,C),R=I&&I.value):R=T[C],D=_(M?C:b+(E?".":"#")+C,A.forced),!D&&R!==void 0){if(typeof B==typeof R)continue;w(B,R)}(A.sham||R&&R.sham)&&g(B,"sham",!0),y(T,C,B,A)}}}),7293:(function(l){l.exports=function(h){try{return!!h()}catch{return!0}}}),7007:(function(l,h,u){u(4916);var f=u(1320),d=u(7293),g=u(5112),y=u(2261),k=u(8880),w=g("species"),_=!d(function(){var E=/./;return E.exec=function(){var D=[];return D.groups={a:"7"},D},"".replace(E,"$<a>")!=="7"}),A=(function(){return"a".replace(/./,"$0")==="$0"})(),N=g("replace"),b=(function(){return/./[N]?/./[N]("a","$0")==="":!1})(),M=!d(function(){var E=/(?:)/,D=E.exec;E.exec=function(){return D.apply(this,arguments)};var T="ab".split(E);return T.length!==2||T[0]!=="a"||T[1]!=="b"});l.exports=function(E,D,T,C){var R=g(E),B=!d(function(){var se={};return se[R]=function(){return 7},""[E](se)!=7}),I=B&&!d(function(){var se=!1,te=/a/;return E==="split"&&(te={},te.constructor={},te.constructor[w]=function(){return te},te.flags="",te[R]=/./[R]),te.exec=function(){return se=!0,null},te[R](""),!se});if(!B||!I||E==="replace"&&!(_&&A&&!b)||E==="split"&&!M){var P=/./[R],j=T(R,""[E],function(se,te,X,V,de){return te.exec===y?B&&!de?{done:!0,value:P.call(te,X,V)}:{done:!0,value:se.call(X,te,V)}:{done:!1}},{REPLACE_KEEPS_$0:A,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),$=j[0],Z=j[1];f(String.prototype,E,$),f(RegExp.prototype,R,D==2?function(se,te){return Z.call(se,this,te)}:function(se){return Z.call(se,this)})}C&&k(RegExp.prototype[R],"sham",!0)}}),9974:(function(l,h,u){var f=u(3099);l.exports=function(d,g,y){if(f(d),g===void 0)return d;switch(y){case 0:return function(){return d.call(g)};case 1:return function(k){return d.call(g,k)};case 2:return function(k,w){return d.call(g,k,w)};case 3:return function(k,w,_){return d.call(g,k,w,_)}}return function(){return d.apply(g,arguments)}}}),5005:(function(l,h,u){var f=u(857),d=u(7854),g=function(y){return typeof y=="function"?y:void 0};l.exports=function(y,k){return arguments.length<2?g(f[y])||g(d[y]):f[y]&&f[y][k]||d[y]&&d[y][k]}}),1246:(function(l,h,u){var f=u(648),d=u(7497),g=u(5112),y=g("iterator");l.exports=function(k){if(k!=null)return k[y]||k["@@iterator"]||d[f(k)]}}),8554:(function(l,h,u){var f=u(9670),d=u(1246);l.exports=function(g){var y=d(g);if(typeof y!="function")throw TypeError(String(g)+" is not iterable");return f(y.call(g))}}),647:(function(l,h,u){var f=u(7908),d=Math.floor,g="".replace,y=/\$([$&'`]|\d\d?|<[^>]*>)/g,k=/\$([$&'`]|\d\d?)/g;l.exports=function(w,_,A,N,b,M){var E=A+w.length,D=N.length,T=k;return b!==void 0&&(b=f(b),T=y),g.call(M,T,function(C,R){var B;switch(R.charAt(0)){case"$":return"$";case"&":return w;case"`":return _.slice(0,A);case"'":return _.slice(E);case"<":B=b[R.slice(1,-1)];break;default:var I=+R;if(I===0)return C;if(I>D){var P=d(I/10);return P===0?C:P<=D?N[P-1]===void 0?R.charAt(1):N[P-1]+R.charAt(1):C}B=N[I-1]}return B===void 0?"":B})}}),7854:(function(l,h,u){var f=function(d){return d&&d.Math==Math&&d};l.exports=f(typeof globalThis=="object"&&globalThis)||f(typeof window=="object"&&window)||f(typeof self=="object"&&self)||f(typeof u.g=="object"&&u.g)||(function(){return this})()||Function("return this")()}),6656:(function(l){var h={}.hasOwnProperty;l.exports=function(u,f){return h.call(u,f)}}),3501:(function(l){l.exports={}}),490:(function(l,h,u){var f=u(5005);l.exports=f("document","documentElement")}),4664:(function(l,h,u){var f=u(9781),d=u(7293),g=u(317);l.exports=!f&&!d(function(){return Object.defineProperty(g("div"),"a",{get:function(){return 7}}).a!=7})}),1179:(function(l){var h=Math.abs,u=Math.pow,f=Math.floor,d=Math.log,g=Math.LN2,y=function(w,_,A){var N=new Array(A),b=A*8-_-1,M=(1<<b)-1,E=M>>1,D=_===23?u(2,-24)-u(2,-77):0,T=w<0||w===0&&1/w<0?1:0,C=0,R,B,I;for(w=h(w),w!=w||w===1/0?(B=w!=w?1:0,R=M):(R=f(d(w)/g),w*(I=u(2,-R))<1&&(R--,I*=2),R+E>=1?w+=D/I:w+=D*u(2,1-E),w*I>=2&&(R++,I/=2),R+E>=M?(B=0,R=M):R+E>=1?(B=(w*I-1)*u(2,_),R=R+E):(B=w*u(2,E-1)*u(2,_),R=0));_>=8;N[C++]=B&255,B/=256,_-=8);for(R=R<<_|B,b+=_;b>0;N[C++]=R&255,R/=256,b-=8);return N[--C]|=T*128,N},k=function(w,_){var A=w.length,N=A*8-_-1,b=(1<<N)-1,M=b>>1,E=N-7,D=A-1,T=w[D--],C=T&127,R;for(T>>=7;E>0;C=C*256+w[D],D--,E-=8);for(R=C&(1<<-E)-1,C>>=-E,E+=_;E>0;R=R*256+w[D],D--,E-=8);if(C===0)C=1-M;else{if(C===b)return R?NaN:T?-1/0:1/0;R=R+u(2,_),C=C-M}return(T?-1:1)*R*u(2,C-_)};l.exports={pack:y,unpack:k}}),8361:(function(l,h,u){var f=u(7293),d=u(4326),g="".split;l.exports=f(function(){return!Object("z").propertyIsEnumerable(0)})?function(y){return d(y)=="String"?g.call(y,""):Object(y)}:Object}),9587:(function(l,h,u){var f=u(111),d=u(7674);l.exports=function(g,y,k){var w,_;return d&&typeof(w=y.constructor)=="function"&&w!==k&&f(_=w.prototype)&&_!==k.prototype&&d(g,_),g}}),2788:(function(l,h,u){var f=u(5465),d=Function.toString;typeof f.inspectSource!="function"&&(f.inspectSource=function(g){return d.call(g)}),l.exports=f.inspectSource}),9909:(function(l,h,u){var f=u(8536),d=u(7854),g=u(111),y=u(8880),k=u(6656),w=u(5465),_=u(6200),A=u(3501),N=d.WeakMap,b,M,E,D=function(j){return E(j)?M(j):b(j,{})},T=function(j){return function($){var Z;if(!g($)||(Z=M($)).type!==j)throw TypeError("Incompatible receiver, "+j+" required");return Z}};if(f){var C=w.state||(w.state=new N),R=C.get,B=C.has,I=C.set;b=function(j,$){return $.facade=j,I.call(C,j,$),$},M=function(j){return R.call(C,j)||{}},E=function(j){return B.call(C,j)}}else{var P=_("state");A[P]=!0,b=function(j,$){return $.facade=j,y(j,P,$),$},M=function(j){return k(j,P)?j[P]:{}},E=function(j){return k(j,P)}}l.exports={set:b,get:M,has:E,enforce:D,getterFor:T}}),7659:(function(l,h,u){var f=u(5112),d=u(7497),g=f("iterator"),y=Array.prototype;l.exports=function(k){return k!==void 0&&(d.Array===k||y[g]===k)}}),3157:(function(l,h,u){var f=u(4326);l.exports=Array.isArray||function(g){return f(g)=="Array"}}),4705:(function(l,h,u){var f=u(7293),d=/#|\.prototype\./,g=function(A,N){var b=k[y(A)];return b==_?!0:b==w?!1:typeof N=="function"?f(N):!!N},y=g.normalize=function(A){return String(A).replace(d,".").toLowerCase()},k=g.data={},w=g.NATIVE="N",_=g.POLYFILL="P";l.exports=g}),111:(function(l){l.exports=function(h){return typeof h=="object"?h!==null:typeof h=="function"}}),1913:(function(l){l.exports=!1}),7850:(function(l,h,u){var f=u(111),d=u(4326),g=u(5112),y=g("match");l.exports=function(k){var w;return f(k)&&((w=k[y])!==void 0?!!w:d(k)=="RegExp")}}),9212:(function(l,h,u){var f=u(9670);l.exports=function(d){var g=d.return;if(g!==void 0)return f(g.call(d)).value}}),3383:(function(l,h,u){var f=u(7293),d=u(9518),g=u(8880),y=u(6656),k=u(5112),w=u(1913),_=k("iterator"),A=!1,N=function(){return this},b,M,E;[].keys&&(E=[].keys(),"next"in E?(M=d(d(E)),M!==Object.prototype&&(b=M)):A=!0);var D=b==null||f(function(){var T={};return b[_].call(T)!==T});D&&(b={}),(!w||D)&&!y(b,_)&&g(b,_,N),l.exports={IteratorPrototype:b,BUGGY_SAFARI_ITERATORS:A}}),7497:(function(l){l.exports={}}),133:(function(l,h,u){var f=u(7293);l.exports=!!Object.getOwnPropertySymbols&&!f(function(){return!String(Symbol())})}),590:(function(l,h,u){var f=u(7293),d=u(5112),g=u(1913),y=d("iterator");l.exports=!f(function(){var k=new URL("b?a=1&b=2&c=3","http://a"),w=k.searchParams,_="";return k.pathname="c%20d",w.forEach(function(A,N){w.delete("b"),_+=N+A}),g&&!k.toJSON||!w.sort||k.href!=="http://a/c%20d?a=1&c=3"||w.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!w[y]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||_!=="a1c3"||new URL("http://x",void 0).host!=="x"})}),8536:(function(l,h,u){var f=u(7854),d=u(2788),g=f.WeakMap;l.exports=typeof g=="function"&&/native code/.test(d(g))}),1574:(function(l,h,u){var f=u(9781),d=u(7293),g=u(1956),y=u(5181),k=u(5296),w=u(7908),_=u(8361),A=Object.assign,N=Object.defineProperty;l.exports=!A||d(function(){if(f&&A({b:1},A(N({},"a",{enumerable:!0,get:function(){N(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var b={},M={},E=Symbol(),D="abcdefghijklmnopqrst";return b[E]=7,D.split("").forEach(function(T){M[T]=T}),A({},b)[E]!=7||g(A({},M)).join("")!=D})?function(M,E){for(var D=w(M),T=arguments.length,C=1,R=y.f,B=k.f;T>C;)for(var I=_(arguments[C++]),P=R?g(I).concat(R(I)):g(I),j=P.length,$=0,Z;j>$;)Z=P[$++],(!f||B.call(I,Z))&&(D[Z]=I[Z]);return D}:A}),30:(function(l,h,u){var f=u(9670),d=u(6048),g=u(748),y=u(3501),k=u(490),w=u(317),_=u(6200),A=">",N="<",b="prototype",M="script",E=_("IE_PROTO"),D=function(){},T=function(P){return N+M+A+P+N+"/"+M+A},C=function(P){P.write(T("")),P.close();var j=P.parentWindow.Object;return P=null,j},R=function(){var P=w("iframe"),j="java"+M+":",$;return P.style.display="none",k.appendChild(P),P.src=String(j),$=P.contentWindow.document,$.open(),$.write(T("document.F=Object")),$.close(),$.F},B,I=function(){try{B=document.domain&&new ActiveXObject("htmlfile")}catch{}I=B?C(B):R();for(var P=g.length;P--;)delete I[b][g[P]];return I()};y[E]=!0,l.exports=Object.create||function(j,$){var Z;return j!==null?(D[b]=f(j),Z=new D,D[b]=null,Z[E]=j):Z=I(),$===void 0?Z:d(Z,$)}}),6048:(function(l,h,u){var f=u(9781),d=u(3070),g=u(9670),y=u(1956);l.exports=f?Object.defineProperties:function(w,_){g(w);for(var A=y(_),N=A.length,b=0,M;N>b;)d.f(w,M=A[b++],_[M]);return w}}),3070:(function(l,h,u){var f=u(9781),d=u(4664),g=u(9670),y=u(7593),k=Object.defineProperty;h.f=f?k:function(_,A,N){if(g(_),A=y(A,!0),g(N),d)try{return k(_,A,N)}catch{}if("get"in N||"set"in N)throw TypeError("Accessors not supported");return"value"in N&&(_[A]=N.value),_}}),1236:(function(l,h,u){var f=u(9781),d=u(5296),g=u(9114),y=u(5656),k=u(7593),w=u(6656),_=u(4664),A=Object.getOwnPropertyDescriptor;h.f=f?A:function(b,M){if(b=y(b),M=k(M,!0),_)try{return A(b,M)}catch{}if(w(b,M))return g(!d.f.call(b,M),b[M])}}),8006:(function(l,h,u){var f=u(6324),d=u(748),g=d.concat("length","prototype");h.f=Object.getOwnPropertyNames||function(k){return f(k,g)}}),5181:(function(l,h){h.f=Object.getOwnPropertySymbols}),9518:(function(l,h,u){var f=u(6656),d=u(7908),g=u(6200),y=u(8544),k=g("IE_PROTO"),w=Object.prototype;l.exports=y?Object.getPrototypeOf:function(_){return _=d(_),f(_,k)?_[k]:typeof _.constructor=="function"&&_ instanceof _.constructor?_.constructor.prototype:_ instanceof Object?w:null}}),6324:(function(l,h,u){var f=u(6656),d=u(5656),g=u(1318).indexOf,y=u(3501);l.exports=function(k,w){var _=d(k),A=0,N=[],b;for(b in _)!f(y,b)&&f(_,b)&&N.push(b);for(;w.length>A;)f(_,b=w[A++])&&(~g(N,b)||N.push(b));return N}}),1956:(function(l,h,u){var f=u(6324),d=u(748);l.exports=Object.keys||function(y){return f(y,d)}}),5296:(function(l,h){var u={}.propertyIsEnumerable,f=Object.getOwnPropertyDescriptor,d=f&&!u.call({1:2},1);h.f=d?function(y){var k=f(this,y);return!!k&&k.enumerable}:u}),7674:(function(l,h,u){var f=u(9670),d=u(6077);l.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var g=!1,y={},k;try{k=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,k.call(y,[]),g=y instanceof Array}catch{}return function(_,A){return f(_),d(A),g?k.call(_,A):_.__proto__=A,_}})():void 0)}),288:(function(l,h,u){var f=u(1694),d=u(648);l.exports=f?{}.toString:function(){return"[object "+d(this)+"]"}}),3887:(function(l,h,u){var f=u(5005),d=u(8006),g=u(5181),y=u(9670);l.exports=f("Reflect","ownKeys")||function(w){var _=d.f(y(w)),A=g.f;return A?_.concat(A(w)):_}}),857:(function(l,h,u){var f=u(7854);l.exports=f}),2248:(function(l,h,u){var f=u(1320);l.exports=function(d,g,y){for(var k in g)f(d,k,g[k],y);return d}}),1320:(function(l,h,u){var f=u(7854),d=u(8880),g=u(6656),y=u(3505),k=u(2788),w=u(9909),_=w.get,A=w.enforce,N=String(String).split("String");(l.exports=function(b,M,E,D){var T=D?!!D.unsafe:!1,C=D?!!D.enumerable:!1,R=D?!!D.noTargetGet:!1,B;if(typeof E=="function"&&(typeof M=="string"&&!g(E,"name")&&d(E,"name",M),B=A(E),B.source||(B.source=N.join(typeof M=="string"?M:""))),b===f){C?b[M]=E:y(M,E);return}else T?!R&&b[M]&&(C=!0):delete b[M];C?b[M]=E:d(b,M,E)})(Function.prototype,"toString",function(){return typeof this=="function"&&_(this).source||k(this)})}),7651:(function(l,h,u){var f=u(4326),d=u(2261);l.exports=function(g,y){var k=g.exec;if(typeof k=="function"){var w=k.call(g,y);if(typeof w!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return w}if(f(g)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return d.call(g,y)}}),2261:(function(l,h,u){var f=u(7066),d=u(2999),g=RegExp.prototype.exec,y=String.prototype.replace,k=g,w=(function(){var b=/a/,M=/b*/g;return g.call(b,"a"),g.call(M,"a"),b.lastIndex!==0||M.lastIndex!==0})(),_=d.UNSUPPORTED_Y||d.BROKEN_CARET,A=/()??/.exec("")[1]!==void 0,N=w||A||_;N&&(k=function(M){var E=this,D,T,C,R,B=_&&E.sticky,I=f.call(E),P=E.source,j=0,$=M;return B&&(I=I.replace("y",""),I.indexOf("g")===-1&&(I+="g"),$=String(M).slice(E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&M[E.lastIndex-1]!==`
`)&&(P="(?: "+P+")",$=" "+$,j++),T=new RegExp("^(?:"+P+")",I)),A&&(T=new RegExp("^"+P+"$(?!\\s)",I)),w&&(D=E.lastIndex),C=g.call(B?T:E,$),B?C?(C.input=C.input.slice(j),C[0]=C[0].slice(j),C.index=E.lastIndex,E.lastIndex+=C[0].length):E.lastIndex=0:w&&C&&(E.lastIndex=E.global?C.index+C[0].length:D),A&&C&&C.length>1&&y.call(C[0],T,function(){for(R=1;R<arguments.length-2;R++)arguments[R]===void 0&&(C[R]=void 0)}),C}),l.exports=k}),7066:(function(l,h,u){var f=u(9670);l.exports=function(){var d=f(this),g="";return d.global&&(g+="g"),d.ignoreCase&&(g+="i"),d.multiline&&(g+="m"),d.dotAll&&(g+="s"),d.unicode&&(g+="u"),d.sticky&&(g+="y"),g}}),2999:(function(l,h,u){var f=u(7293);function d(g,y){return RegExp(g,y)}h.UNSUPPORTED_Y=f(function(){var g=d("a","y");return g.lastIndex=2,g.exec("abcd")!=null}),h.BROKEN_CARET=f(function(){var g=d("^r","gy");return g.lastIndex=2,g.exec("str")!=null})}),4488:(function(l){l.exports=function(h){if(h==null)throw TypeError("Can't call method on "+h);return h}}),3505:(function(l,h,u){var f=u(7854),d=u(8880);l.exports=function(g,y){try{d(f,g,y)}catch{f[g]=y}return y}}),6340:(function(l,h,u){var f=u(5005),d=u(3070),g=u(5112),y=u(9781),k=g("species");l.exports=function(w){var _=f(w),A=d.f;y&&_&&!_[k]&&A(_,k,{configurable:!0,get:function(){return this}})}}),8003:(function(l,h,u){var f=u(3070).f,d=u(6656),g=u(5112),y=g("toStringTag");l.exports=function(k,w,_){k&&!d(k=_?k:k.prototype,y)&&f(k,y,{configurable:!0,value:w})}}),6200:(function(l,h,u){var f=u(2309),d=u(9711),g=f("keys");l.exports=function(y){return g[y]||(g[y]=d(y))}}),5465:(function(l,h,u){var f=u(7854),d=u(3505),g="__core-js_shared__",y=f[g]||d(g,{});l.exports=y}),2309:(function(l,h,u){var f=u(1913),d=u(5465);(l.exports=function(g,y){return d[g]||(d[g]=y!==void 0?y:{})})("versions",[]).push({version:"3.9.0",mode:f?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})}),6707:(function(l,h,u){var f=u(9670),d=u(3099),g=u(5112),y=g("species");l.exports=function(k,w){var _=f(k).constructor,A;return _===void 0||(A=f(_)[y])==null?w:d(A)}}),8710:(function(l,h,u){var f=u(9958),d=u(4488),g=function(y){return function(k,w){var _=String(d(k)),A=f(w),N=_.length,b,M;return A<0||A>=N?y?"":void 0:(b=_.charCodeAt(A),b<55296||b>56319||A+1===N||(M=_.charCodeAt(A+1))<56320||M>57343?y?_.charAt(A):b:y?_.slice(A,A+2):(b-55296<<10)+(M-56320)+65536)}};l.exports={codeAt:g(!1),charAt:g(!0)}}),3197:(function(l){var h=2147483647,u=36,f=1,d=26,g=38,y=700,k=72,w=128,_="-",A=/[^\0-\u007E]/,N=/[.\u3002\uFF0E\uFF61]/g,b="Overflow: input needs wider integers to process",M=u-f,E=Math.floor,D=String.fromCharCode,T=function(I){for(var P=[],j=0,$=I.length;j<$;){var Z=I.charCodeAt(j++);if(Z>=55296&&Z<=56319&&j<$){var se=I.charCodeAt(j++);(se&64512)==56320?P.push(((Z&1023)<<10)+(se&1023)+65536):(P.push(Z),j--)}else P.push(Z)}return P},C=function(I){return I+22+75*(I<26)},R=function(I,P,j){var $=0;for(I=j?E(I/y):I>>1,I+=E(I/P);I>M*d>>1;$+=u)I=E(I/M);return E($+(M+1)*I/(I+g))},B=function(I){var P=[];I=T(I);var j=I.length,$=w,Z=0,se=k,te,X;for(te=0;te<I.length;te++)X=I[te],X<128&&P.push(D(X));var V=P.length,de=V;for(V&&P.push(_);de<j;){var Y=h;for(te=0;te<I.length;te++)X=I[te],X>=$&&X<Y&&(Y=X);var ue=de+1;if(Y-$>E((h-Z)/ue))throw RangeError(b);for(Z+=(Y-$)*ue,$=Y,te=0;te<I.length;te++){if(X=I[te],X<$&&++Z>h)throw RangeError(b);if(X==$){for(var xe=Z,we=u;;we+=u){var Q=we<=se?f:we>=se+d?d:we-se;if(xe<Q)break;var K=xe-Q,Ce=u-Q;P.push(D(C(Q+K%Ce))),xe=E(K/Ce)}P.push(D(C(xe))),se=R(Z,ue,de==V),Z=0,++de}}++Z,++$}return P.join("")};l.exports=function(I){var P=[],j=I.toLowerCase().replace(N,".").split("."),$,Z;for($=0;$<j.length;$++)Z=j[$],P.push(A.test(Z)?"xn--"+B(Z):Z);return P.join(".")}}),6091:(function(l,h,u){var f=u(7293),d=u(1361),g="";l.exports=function(y){return f(function(){return!!d[y]()||g[y]()!=g||d[y].name!==y})}}),3111:(function(l,h,u){var f=u(4488),d=u(1361),g="["+d+"]",y=RegExp("^"+g+g+"*"),k=RegExp(g+g+"*$"),w=function(_){return function(A){var N=String(f(A));return _&1&&(N=N.replace(y,"")),_&2&&(N=N.replace(k,"")),N}};l.exports={start:w(1),end:w(2),trim:w(3)}}),1400:(function(l,h,u){var f=u(9958),d=Math.max,g=Math.min;l.exports=function(y,k){var w=f(y);return w<0?d(w+k,0):g(w,k)}}),7067:(function(l,h,u){var f=u(9958),d=u(7466);l.exports=function(g){if(g===void 0)return 0;var y=f(g),k=d(y);if(y!==k)throw RangeError("Wrong length or index");return k}}),5656:(function(l,h,u){var f=u(8361),d=u(4488);l.exports=function(g){return f(d(g))}}),9958:(function(l){var h=Math.ceil,u=Math.floor;l.exports=function(f){return isNaN(f=+f)?0:(f>0?u:h)(f)}}),7466:(function(l,h,u){var f=u(9958),d=Math.min;l.exports=function(g){return g>0?d(f(g),9007199254740991):0}}),7908:(function(l,h,u){var f=u(4488);l.exports=function(d){return Object(f(d))}}),4590:(function(l,h,u){var f=u(3002);l.exports=function(d,g){var y=f(d);if(y%g)throw RangeError("Wrong offset");return y}}),3002:(function(l,h,u){var f=u(9958);l.exports=function(d){var g=f(d);if(g<0)throw RangeError("The argument can't be less than 0");return g}}),7593:(function(l,h,u){var f=u(111);l.exports=function(d,g){if(!f(d))return d;var y,k;if(g&&typeof(y=d.toString)=="function"&&!f(k=y.call(d))||typeof(y=d.valueOf)=="function"&&!f(k=y.call(d))||!g&&typeof(y=d.toString)=="function"&&!f(k=y.call(d)))return k;throw TypeError("Can't convert object to primitive value")}}),1694:(function(l,h,u){var f=u(5112),d=f("toStringTag"),g={};g[d]="z",l.exports=String(g)==="[object z]"}),9843:(function(l,h,u){var f=u(2109),d=u(7854),g=u(9781),y=u(3832),k=u(260),w=u(3331),_=u(5787),A=u(9114),N=u(8880),b=u(7466),M=u(7067),E=u(4590),D=u(7593),T=u(6656),C=u(648),R=u(111),B=u(30),I=u(7674),P=u(8006).f,j=u(7321),$=u(2092).forEach,Z=u(6340),se=u(3070),te=u(1236),X=u(9909),V=u(9587),de=X.get,Y=X.set,ue=se.f,xe=te.f,we=Math.round,Q=d.RangeError,K=w.ArrayBuffer,Ce=w.DataView,Me=k.NATIVE_ARRAY_BUFFER_VIEWS,ne=k.TYPED_ARRAY_TAG,ie=k.TypedArray,oe=k.TypedArrayPrototype,ce=k.aTypedArrayConstructor,W=k.isTypedArray,ee="BYTES_PER_ELEMENT",pe="Wrong length",ve=function(me,O){for(var H=0,U=O.length,le=new(ce(me))(U);U>H;)le[H]=O[H++];return le},Ae=function(me,O){ue(me,O,{get:function(){return de(this)[O]}})},ke=function(me){var O;return me instanceof K||(O=C(me))=="ArrayBuffer"||O=="SharedArrayBuffer"},Fe=function(me,O){return W(me)&&typeof O!="symbol"&&O in me&&String(+O)==String(O)},ae=function(O,H){return Fe(O,H=D(H,!0))?A(2,O[H]):xe(O,H)},fe=function(O,H,U){return Fe(O,H=D(H,!0))&&R(U)&&T(U,"value")&&!T(U,"get")&&!T(U,"set")&&!U.configurable&&(!T(U,"writable")||U.writable)&&(!T(U,"enumerable")||U.enumerable)?(O[H]=U.value,O):ue(O,H,U)};g?(Me||(te.f=ae,se.f=fe,Ae(oe,"buffer"),Ae(oe,"byteOffset"),Ae(oe,"byteLength"),Ae(oe,"length")),f({target:"Object",stat:!0,forced:!Me},{getOwnPropertyDescriptor:ae,defineProperty:fe}),l.exports=function(me,O,H){var U=me.match(/\d+$/)[0]/8,le=me+(H?"Clamped":"")+"Array",Se="get"+me,Le="set"+me,Pe=d[le],$e=Pe,Ze=$e&&$e.prototype,pt={},ct=function(mt,De){var ze=de(mt);return ze.view[Se](De*U+ze.byteOffset,!0)},$t=function(mt,De,ze){var Qe=de(mt);H&&(ze=(ze=we(ze))<0?0:ze>255?255:ze&255),Qe.view[Le](De*U+Qe.byteOffset,ze,!0)},Ot=function(mt,De){ue(mt,De,{get:function(){return ct(this,De)},set:function(ze){return $t(this,De,ze)},enumerable:!0})};Me?y&&($e=O(function(mt,De,ze,Qe){return _(mt,$e,le),V((function(){return R(De)?ke(De)?Qe!==void 0?new Pe(De,E(ze,U),Qe):ze!==void 0?new Pe(De,E(ze,U)):new Pe(De):W(De)?ve($e,De):j.call($e,De):new Pe(M(De))})(),mt,$e)}),I&&I($e,ie),$(P(Pe),function(mt){mt in $e||N($e,mt,Pe[mt])}),$e.prototype=Ze):($e=O(function(mt,De,ze,Qe){_(mt,$e,le);var Et=0,wt=0,yt,Ut,qt;if(!R(De))qt=M(De),Ut=qt*U,yt=new K(Ut);else if(ke(De)){yt=De,wt=E(ze,U);var ye=De.byteLength;if(Qe===void 0){if(ye%U||(Ut=ye-wt,Ut<0))throw Q(pe)}else if(Ut=b(Qe)*U,Ut+wt>ye)throw Q(pe);qt=Ut/U}else return W(De)?ve($e,De):j.call($e,De);for(Y(mt,{buffer:yt,byteOffset:wt,byteLength:Ut,length:qt,view:new Ce(yt)});Et<qt;)Ot(mt,Et++)}),I&&I($e,ie),Ze=$e.prototype=B(oe)),Ze.constructor!==$e&&N(Ze,"constructor",$e),ne&&N(Ze,ne,le),pt[le]=$e,f({global:!0,forced:$e!=Pe,sham:!Me},pt),ee in $e||N($e,ee,U),ee in Ze||N(Ze,ee,U),Z(le)}):l.exports=function(){}}),3832:(function(l,h,u){var f=u(7854),d=u(7293),g=u(7072),y=u(260).NATIVE_ARRAY_BUFFER_VIEWS,k=f.ArrayBuffer,w=f.Int8Array;l.exports=!y||!d(function(){w(1)})||!d(function(){new w(-1)})||!g(function(_){new w,new w(null),new w(1.5),new w(_)},!0)||d(function(){return new w(new k(2),1,void 0).length!==1})}),3074:(function(l,h,u){var f=u(260).aTypedArrayConstructor,d=u(6707);l.exports=function(g,y){for(var k=d(g,g.constructor),w=0,_=y.length,A=new(f(k))(_);_>w;)A[w]=y[w++];return A}}),7321:(function(l,h,u){var f=u(7908),d=u(7466),g=u(1246),y=u(7659),k=u(9974),w=u(260).aTypedArrayConstructor;l.exports=function(A){var N=f(A),b=arguments.length,M=b>1?arguments[1]:void 0,E=M!==void 0,D=g(N),T,C,R,B,I,P;if(D!=null&&!y(D))for(I=D.call(N),P=I.next,N=[];!(B=P.call(I)).done;)N.push(B.value);for(E&&b>2&&(M=k(M,arguments[2],2)),C=d(N.length),R=new(w(this))(C),T=0;C>T;T++)R[T]=E?M(N[T],T):N[T];return R}}),9711:(function(l){var h=0,u=Math.random();l.exports=function(f){return"Symbol("+String(f===void 0?"":f)+")_"+(++h+u).toString(36)}}),3307:(function(l,h,u){var f=u(133);l.exports=f&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}),5112:(function(l,h,u){var f=u(7854),d=u(2309),g=u(6656),y=u(9711),k=u(133),w=u(3307),_=d("wks"),A=f.Symbol,N=w?A:A&&A.withoutSetter||y;l.exports=function(b){return g(_,b)||(k&&g(A,b)?_[b]=A[b]:_[b]=N("Symbol."+b)),_[b]}}),1361:(function(l){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`}),8264:(function(l,h,u){var f=u(2109),d=u(7854),g=u(3331),y=u(6340),k="ArrayBuffer",w=g[k],_=d[k];f({global:!0,forced:_!==w},{ArrayBuffer:w}),y(k)}),2222:(function(l,h,u){var f=u(2109),d=u(7293),g=u(3157),y=u(111),k=u(7908),w=u(7466),_=u(6135),A=u(5417),N=u(1194),b=u(5112),M=u(7392),E=b("isConcatSpreadable"),D=9007199254740991,T="Maximum allowed index exceeded",C=M>=51||!d(function(){var P=[];return P[E]=!1,P.concat()[0]!==P}),R=N("concat"),B=function(P){if(!y(P))return!1;var j=P[E];return j!==void 0?!!j:g(P)},I=!C||!R;f({target:"Array",proto:!0,forced:I},{concat:function(j){var $=k(this),Z=A($,0),se=0,te,X,V,de,Y;for(te=-1,V=arguments.length;te<V;te++)if(Y=te===-1?$:arguments[te],B(Y)){if(de=w(Y.length),se+de>D)throw TypeError(T);for(X=0;X<de;X++,se++)X in Y&&_(Z,se,Y[X])}else{if(se>=D)throw TypeError(T);_(Z,se++,Y)}return Z.length=se,Z}})}),7327:(function(l,h,u){var f=u(2109),d=u(2092).filter,g=u(1194),y=g("filter");f({target:"Array",proto:!0,forced:!y},{filter:function(w){return d(this,w,arguments.length>1?arguments[1]:void 0)}})}),2772:(function(l,h,u){var f=u(2109),d=u(1318).indexOf,g=u(9341),y=[].indexOf,k=!!y&&1/[1].indexOf(1,-0)<0,w=g("indexOf");f({target:"Array",proto:!0,forced:k||!w},{indexOf:function(A){return k?y.apply(this,arguments)||0:d(this,A,arguments.length>1?arguments[1]:void 0)}})}),6992:(function(l,h,u){var f=u(5656),d=u(1223),g=u(7497),y=u(9909),k=u(654),w="Array Iterator",_=y.set,A=y.getterFor(w);l.exports=k(Array,"Array",function(N,b){_(this,{type:w,target:f(N),index:0,kind:b})},function(){var N=A(this),b=N.target,M=N.kind,E=N.index++;return!b||E>=b.length?(N.target=void 0,{value:void 0,done:!0}):M=="keys"?{value:E,done:!1}:M=="values"?{value:b[E],done:!1}:{value:[E,b[E]],done:!1}},"values"),g.Arguments=g.Array,d("keys"),d("values"),d("entries")}),1249:(function(l,h,u){var f=u(2109),d=u(2092).map,g=u(1194),y=g("map");f({target:"Array",proto:!0,forced:!y},{map:function(w){return d(this,w,arguments.length>1?arguments[1]:void 0)}})}),7042:(function(l,h,u){var f=u(2109),d=u(111),g=u(3157),y=u(1400),k=u(7466),w=u(5656),_=u(6135),A=u(5112),N=u(1194),b=N("slice"),M=A("species"),E=[].slice,D=Math.max;f({target:"Array",proto:!0,forced:!b},{slice:function(C,R){var B=w(this),I=k(B.length),P=y(C,I),j=y(R===void 0?I:R,I),$,Z,se;if(g(B)&&($=B.constructor,typeof $=="function"&&($===Array||g($.prototype))?$=void 0:d($)&&($=$[M],$===null&&($=void 0)),$===Array||$===void 0))return E.call(B,P,j);for(Z=new($===void 0?Array:$)(D(j-P,0)),se=0;P<j;P++,se++)P in B&&_(Z,se,B[P]);return Z.length=se,Z}})}),561:(function(l,h,u){var f=u(2109),d=u(1400),g=u(9958),y=u(7466),k=u(7908),w=u(5417),_=u(6135),A=u(1194),N=A("splice"),b=Math.max,M=Math.min,E=9007199254740991,D="Maximum allowed length exceeded";f({target:"Array",proto:!0,forced:!N},{splice:function(C,R){var B=k(this),I=y(B.length),P=d(C,I),j=arguments.length,$,Z,se,te,X,V;if(j===0?$=Z=0:j===1?($=0,Z=I-P):($=j-2,Z=M(b(g(R),0),I-P)),I+$-Z>E)throw TypeError(D);for(se=w(B,Z),te=0;te<Z;te++)X=P+te,X in B&&_(se,te,B[X]);if(se.length=Z,$<Z){for(te=P;te<I-Z;te++)X=te+Z,V=te+$,X in B?B[V]=B[X]:delete B[V];for(te=I;te>I-Z+$;te--)delete B[te-1]}else if($>Z)for(te=I-Z;te>P;te--)X=te+Z-1,V=te+$-1,X in B?B[V]=B[X]:delete B[V];for(te=0;te<$;te++)B[te+P]=arguments[te+2];return B.length=I-Z+$,se}})}),8309:(function(l,h,u){var f=u(9781),d=u(3070).f,g=Function.prototype,y=g.toString,k=/^\s*function ([^ (]*)/,w="name";f&&!(w in g)&&d(g,w,{configurable:!0,get:function(){try{return y.call(this).match(k)[1]}catch{return""}}})}),489:(function(l,h,u){var f=u(2109),d=u(7293),g=u(7908),y=u(9518),k=u(8544),w=d(function(){y(1)});f({target:"Object",stat:!0,forced:w,sham:!k},{getPrototypeOf:function(A){return y(g(A))}})}),1539:(function(l,h,u){var f=u(1694),d=u(1320),g=u(288);f||d(Object.prototype,"toString",g,{unsafe:!0})}),4916:(function(l,h,u){var f=u(2109),d=u(2261);f({target:"RegExp",proto:!0,forced:/./.exec!==d},{exec:d})}),9714:(function(l,h,u){var f=u(1320),d=u(9670),g=u(7293),y=u(7066),k="toString",w=RegExp.prototype,_=w[k],A=g(function(){return _.call({source:"a",flags:"b"})!="/a/b"}),N=_.name!=k;(A||N)&&f(RegExp.prototype,k,function(){var M=d(this),E=String(M.source),D=M.flags,T=String(D===void 0&&M instanceof RegExp&&!("flags"in w)?y.call(M):D);return"/"+E+"/"+T},{unsafe:!0})}),8783:(function(l,h,u){var f=u(8710).charAt,d=u(9909),g=u(654),y="String Iterator",k=d.set,w=d.getterFor(y);g(String,"String",function(_){k(this,{type:y,string:String(_),index:0})},function(){var A=w(this),N=A.string,b=A.index,M;return b>=N.length?{value:void 0,done:!0}:(M=f(N,b),A.index+=M.length,{value:M,done:!1})})}),4723:(function(l,h,u){var f=u(7007),d=u(9670),g=u(7466),y=u(4488),k=u(1530),w=u(7651);f("match",1,function(_,A,N){return[function(M){var E=y(this),D=M?.[_];return D!==void 0?D.call(M,E):new RegExp(M)[_](String(E))},function(b){var M=N(A,b,this);if(M.done)return M.value;var E=d(b),D=String(this);if(!E.global)return w(E,D);var T=E.unicode;E.lastIndex=0;for(var C=[],R=0,B;(B=w(E,D))!==null;){var I=String(B[0]);C[R]=I,I===""&&(E.lastIndex=k(D,g(E.lastIndex),T)),R++}return R===0?null:C}]})}),5306:(function(l,h,u){var f=u(7007),d=u(9670),g=u(7466),y=u(9958),k=u(4488),w=u(1530),_=u(647),A=u(7651),N=Math.max,b=Math.min,M=function(E){return E===void 0?E:String(E)};f("replace",2,function(E,D,T,C){var R=C.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=C.REPLACE_KEEPS_$0,I=R?"$":"$0";return[function(j,$){var Z=k(this),se=j?.[E];return se!==void 0?se.call(j,Z,$):D.call(String(Z),j,$)},function(P,j){if(!R&&B||typeof j=="string"&&j.indexOf(I)===-1){var $=T(D,P,this,j);if($.done)return $.value}var Z=d(P),se=String(this),te=typeof j=="function";te||(j=String(j));var X=Z.global;if(X){var V=Z.unicode;Z.lastIndex=0}for(var de=[];;){var Y=A(Z,se);if(Y===null||(de.push(Y),!X))break;var ue=String(Y[0]);ue===""&&(Z.lastIndex=w(se,g(Z.lastIndex),V))}for(var xe="",we=0,Q=0;Q<de.length;Q++){Y=de[Q];for(var K=String(Y[0]),Ce=N(b(y(Y.index),se.length),0),Me=[],ne=1;ne<Y.length;ne++)Me.push(M(Y[ne]));var ie=Y.groups;if(te){var oe=[K].concat(Me,Ce,se);ie!==void 0&&oe.push(ie);var ce=String(j.apply(void 0,oe))}else ce=_(K,se,Ce,Me,ie,j);Ce>=we&&(xe+=se.slice(we,Ce)+ce,we=Ce+K.length)}return xe+se.slice(we)}]})}),3123:(function(l,h,u){var f=u(7007),d=u(7850),g=u(9670),y=u(4488),k=u(6707),w=u(1530),_=u(7466),A=u(7651),N=u(2261),b=u(7293),M=[].push,E=Math.min,D=4294967295,T=!b(function(){return!RegExp(D,"y")});f("split",2,function(C,R,B){var I;return"abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?I=function(P,j){var $=String(y(this)),Z=j===void 0?D:j>>>0;if(Z===0)return[];if(P===void 0)return[$];if(!d(P))return R.call($,P,Z);for(var se=[],te=(P.ignoreCase?"i":"")+(P.multiline?"m":"")+(P.unicode?"u":"")+(P.sticky?"y":""),X=0,V=new RegExp(P.source,te+"g"),de,Y,ue;(de=N.call(V,$))&&(Y=V.lastIndex,!(Y>X&&(se.push($.slice(X,de.index)),de.length>1&&de.index<$.length&&M.apply(se,de.slice(1)),ue=de[0].length,X=Y,se.length>=Z)));)V.lastIndex===de.index&&V.lastIndex++;return X===$.length?(ue||!V.test(""))&&se.push(""):se.push($.slice(X)),se.length>Z?se.slice(0,Z):se}:"0".split(void 0,0).length?I=function(P,j){return P===void 0&&j===0?[]:R.call(this,P,j)}:I=R,[function(j,$){var Z=y(this),se=j?.[C];return se!==void 0?se.call(j,Z,$):I.call(String(Z),j,$)},function(P,j){var $=B(I,P,this,j,I!==R);if($.done)return $.value;var Z=g(P),se=String(this),te=k(Z,RegExp),X=Z.unicode,V=(Z.ignoreCase?"i":"")+(Z.multiline?"m":"")+(Z.unicode?"u":"")+(T?"y":"g"),de=new te(T?Z:"^(?:"+Z.source+")",V),Y=j===void 0?D:j>>>0;if(Y===0)return[];if(se.length===0)return A(de,se)===null?[se]:[];for(var ue=0,xe=0,we=[];xe<se.length;){de.lastIndex=T?xe:0;var Q=A(de,T?se:se.slice(xe)),K;if(Q===null||(K=E(_(de.lastIndex+(T?0:xe)),se.length))===ue)xe=w(se,xe,X);else{if(we.push(se.slice(ue,xe)),we.length===Y)return we;for(var Ce=1;Ce<=Q.length-1;Ce++)if(we.push(Q[Ce]),we.length===Y)return we;xe=ue=K}}return we.push(se.slice(ue)),we}]},!T)}),3210:(function(l,h,u){var f=u(2109),d=u(3111).trim,g=u(6091);f({target:"String",proto:!0,forced:g("trim")},{trim:function(){return d(this)}})}),2990:(function(l,h,u){var f=u(260),d=u(1048),g=f.aTypedArray,y=f.exportTypedArrayMethod;y("copyWithin",function(w,_){return d.call(g(this),w,_,arguments.length>2?arguments[2]:void 0)})}),8927:(function(l,h,u){var f=u(260),d=u(2092).every,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("every",function(w){return d(g(this),w,arguments.length>1?arguments[1]:void 0)})}),3105:(function(l,h,u){var f=u(260),d=u(1285),g=f.aTypedArray,y=f.exportTypedArrayMethod;y("fill",function(w){return d.apply(g(this),arguments)})}),5035:(function(l,h,u){var f=u(260),d=u(2092).filter,g=u(3074),y=f.aTypedArray,k=f.exportTypedArrayMethod;k("filter",function(_){var A=d(y(this),_,arguments.length>1?arguments[1]:void 0);return g(this,A)})}),7174:(function(l,h,u){var f=u(260),d=u(2092).findIndex,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("findIndex",function(w){return d(g(this),w,arguments.length>1?arguments[1]:void 0)})}),4345:(function(l,h,u){var f=u(260),d=u(2092).find,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("find",function(w){return d(g(this),w,arguments.length>1?arguments[1]:void 0)})}),2846:(function(l,h,u){var f=u(260),d=u(2092).forEach,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("forEach",function(w){d(g(this),w,arguments.length>1?arguments[1]:void 0)})}),4731:(function(l,h,u){var f=u(260),d=u(1318).includes,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("includes",function(w){return d(g(this),w,arguments.length>1?arguments[1]:void 0)})}),7209:(function(l,h,u){var f=u(260),d=u(1318).indexOf,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("indexOf",function(w){return d(g(this),w,arguments.length>1?arguments[1]:void 0)})}),6319:(function(l,h,u){var f=u(7854),d=u(260),g=u(6992),y=u(5112),k=y("iterator"),w=f.Uint8Array,_=g.values,A=g.keys,N=g.entries,b=d.aTypedArray,M=d.exportTypedArrayMethod,E=w&&w.prototype[k],D=!!E&&(E.name=="values"||E.name==null),T=function(){return _.call(b(this))};M("entries",function(){return N.call(b(this))}),M("keys",function(){return A.call(b(this))}),M("values",T,!D),M(k,T,!D)}),8867:(function(l,h,u){var f=u(260),d=f.aTypedArray,g=f.exportTypedArrayMethod,y=[].join;g("join",function(w){return y.apply(d(this),arguments)})}),7789:(function(l,h,u){var f=u(260),d=u(6583),g=f.aTypedArray,y=f.exportTypedArrayMethod;y("lastIndexOf",function(w){return d.apply(g(this),arguments)})}),3739:(function(l,h,u){var f=u(260),d=u(2092).map,g=u(6707),y=f.aTypedArray,k=f.aTypedArrayConstructor,w=f.exportTypedArrayMethod;w("map",function(A){return d(y(this),A,arguments.length>1?arguments[1]:void 0,function(N,b){return new(k(g(N,N.constructor)))(b)})})}),4483:(function(l,h,u){var f=u(260),d=u(3671).right,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("reduceRight",function(w){return d(g(this),w,arguments.length,arguments.length>1?arguments[1]:void 0)})}),9368:(function(l,h,u){var f=u(260),d=u(3671).left,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("reduce",function(w){return d(g(this),w,arguments.length,arguments.length>1?arguments[1]:void 0)})}),2056:(function(l,h,u){var f=u(260),d=f.aTypedArray,g=f.exportTypedArrayMethod,y=Math.floor;g("reverse",function(){for(var w=this,_=d(w).length,A=y(_/2),N=0,b;N<A;)b=w[N],w[N++]=w[--_],w[_]=b;return w})}),3462:(function(l,h,u){var f=u(260),d=u(7466),g=u(4590),y=u(7908),k=u(7293),w=f.aTypedArray,_=f.exportTypedArrayMethod,A=k(function(){new Int8Array(1).set({})});_("set",function(b){w(this);var M=g(arguments.length>1?arguments[1]:void 0,1),E=this.length,D=y(b),T=d(D.length),C=0;if(T+M>E)throw RangeError("Wrong length");for(;C<T;)this[M+C]=D[C++]},A)}),678:(function(l,h,u){var f=u(260),d=u(6707),g=u(7293),y=f.aTypedArray,k=f.aTypedArrayConstructor,w=f.exportTypedArrayMethod,_=[].slice,A=g(function(){new Int8Array(1).slice()});w("slice",function(b,M){for(var E=_.call(y(this),b,M),D=d(this,this.constructor),T=0,C=E.length,R=new(k(D))(C);C>T;)R[T]=E[T++];return R},A)}),7462:(function(l,h,u){var f=u(260),d=u(2092).some,g=f.aTypedArray,y=f.exportTypedArrayMethod;y("some",function(w){return d(g(this),w,arguments.length>1?arguments[1]:void 0)})}),3824:(function(l,h,u){var f=u(260),d=f.aTypedArray,g=f.exportTypedArrayMethod,y=[].sort;g("sort",function(w){return y.call(d(this),w)})}),5021:(function(l,h,u){var f=u(260),d=u(7466),g=u(1400),y=u(6707),k=f.aTypedArray,w=f.exportTypedArrayMethod;w("subarray",function(A,N){var b=k(this),M=b.length,E=g(A,M);return new(y(b,b.constructor))(b.buffer,b.byteOffset+E*b.BYTES_PER_ELEMENT,d((N===void 0?M:g(N,M))-E))})}),2974:(function(l,h,u){var f=u(7854),d=u(260),g=u(7293),y=f.Int8Array,k=d.aTypedArray,w=d.exportTypedArrayMethod,_=[].toLocaleString,A=[].slice,N=!!y&&g(function(){_.call(new y(1))}),b=g(function(){return[1,2].toLocaleString()!=new y([1,2]).toLocaleString()})||!g(function(){y.prototype.toLocaleString.call([1,2])});w("toLocaleString",function(){return _.apply(N?A.call(k(this)):k(this),arguments)},b)}),5016:(function(l,h,u){var f=u(260).exportTypedArrayMethod,d=u(7293),g=u(7854),y=g.Uint8Array,k=y&&y.prototype||{},w=[].toString,_=[].join;d(function(){w.call({})})&&(w=function(){return _.call(this)});var A=k.toString!=w;f("toString",w,A)}),2472:(function(l,h,u){var f=u(9843);f("Uint8",function(d){return function(y,k,w){return d(this,y,k,w)}})}),4747:(function(l,h,u){var f=u(7854),d=u(8324),g=u(8533),y=u(8880);for(var k in d){var w=f[k],_=w&&w.prototype;if(_&&_.forEach!==g)try{y(_,"forEach",g)}catch{_.forEach=g}}}),3948:(function(l,h,u){var f=u(7854),d=u(8324),g=u(6992),y=u(8880),k=u(5112),w=k("iterator"),_=k("toStringTag"),A=g.values;for(var N in d){var b=f[N],M=b&&b.prototype;if(M){if(M[w]!==A)try{y(M,w,A)}catch{M[w]=A}if(M[_]||y(M,_,N),d[N]){for(var E in g)if(M[E]!==g[E])try{y(M,E,g[E])}catch{M[E]=g[E]}}}}}),1637:(function(l,h,u){u(6992);var f=u(2109),d=u(5005),g=u(590),y=u(1320),k=u(2248),w=u(8003),_=u(4994),A=u(9909),N=u(5787),b=u(6656),M=u(9974),E=u(648),D=u(9670),T=u(111),C=u(30),R=u(9114),B=u(8554),I=u(1246),P=u(5112),j=d("fetch"),$=d("Headers"),Z=P("iterator"),se="URLSearchParams",te=se+"Iterator",X=A.set,V=A.getterFor(se),de=A.getterFor(te),Y=/\+/g,ue=Array(4),xe=function(ve){return ue[ve-1]||(ue[ve-1]=RegExp("((?:%[\\da-f]{2}){"+ve+"})","gi"))},we=function(ve){try{return decodeURIComponent(ve)}catch{return ve}},Q=function(ve){var Ae=ve.replace(Y," "),ke=4;try{return decodeURIComponent(Ae)}catch{for(;ke;)Ae=Ae.replace(xe(ke--),we);return Ae}},K=/[!'()~]|%20/g,Ce={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Me=function(ve){return Ce[ve]},ne=function(ve){return encodeURIComponent(ve).replace(K,Me)},ie=function(ve,Ae){if(Ae)for(var ke=Ae.split("&"),Fe=0,ae,fe;Fe<ke.length;)ae=ke[Fe++],ae.length&&(fe=ae.split("="),ve.push({key:Q(fe.shift()),value:Q(fe.join("="))}))},oe=function(ve){this.entries.length=0,ie(this.entries,ve)},ce=function(ve,Ae){if(ve<Ae)throw TypeError("Not enough arguments")},W=_(function(Ae,ke){X(this,{type:te,iterator:B(V(Ae).entries),kind:ke})},"Iterator",function(){var Ae=de(this),ke=Ae.kind,Fe=Ae.iterator.next(),ae=Fe.value;return Fe.done||(Fe.value=ke==="keys"?ae.key:ke==="values"?ae.value:[ae.key,ae.value]),Fe}),ee=function(){N(this,ee,se);var Ae=arguments.length>0?arguments[0]:void 0,ke=this,Fe=[],ae,fe,me,O,H,U,le,Se,Le;if(X(ke,{type:se,entries:Fe,updateURL:function(){},updateSearchParams:oe}),Ae!==void 0)if(T(Ae))if(ae=I(Ae),typeof ae=="function")for(fe=ae.call(Ae),me=fe.next;!(O=me.call(fe)).done;){if(H=B(D(O.value)),U=H.next,(le=U.call(H)).done||(Se=U.call(H)).done||!U.call(H).done)throw TypeError("Expected sequence with length 2");Fe.push({key:le.value+"",value:Se.value+""})}else for(Le in Ae)b(Ae,Le)&&Fe.push({key:Le,value:Ae[Le]+""});else ie(Fe,typeof Ae=="string"?Ae.charAt(0)==="?"?Ae.slice(1):Ae:Ae+"")},pe=ee.prototype;k(pe,{append:function(Ae,ke){ce(arguments.length,2);var Fe=V(this);Fe.entries.push({key:Ae+"",value:ke+""}),Fe.updateURL()},delete:function(ve){ce(arguments.length,1);for(var Ae=V(this),ke=Ae.entries,Fe=ve+"",ae=0;ae<ke.length;)ke[ae].key===Fe?ke.splice(ae,1):ae++;Ae.updateURL()},get:function(Ae){ce(arguments.length,1);for(var ke=V(this).entries,Fe=Ae+"",ae=0;ae<ke.length;ae++)if(ke[ae].key===Fe)return ke[ae].value;return null},getAll:function(Ae){ce(arguments.length,1);for(var ke=V(this).entries,Fe=Ae+"",ae=[],fe=0;fe<ke.length;fe++)ke[fe].key===Fe&&ae.push(ke[fe].value);return ae},has:function(Ae){ce(arguments.length,1);for(var ke=V(this).entries,Fe=Ae+"",ae=0;ae<ke.length;)if(ke[ae++].key===Fe)return!0;return!1},set:function(Ae,ke){ce(arguments.length,1);for(var Fe=V(this),ae=Fe.entries,fe=!1,me=Ae+"",O=ke+"",H=0,U;H<ae.length;H++)U=ae[H],U.key===me&&(fe?ae.splice(H--,1):(fe=!0,U.value=O));fe||ae.push({key:me,value:O}),Fe.updateURL()},sort:function(){var Ae=V(this),ke=Ae.entries,Fe=ke.slice(),ae,fe,me;for(ke.length=0,me=0;me<Fe.length;me++){for(ae=Fe[me],fe=0;fe<me;fe++)if(ke[fe].key>ae.key){ke.splice(fe,0,ae);break}fe===me&&ke.push(ae)}Ae.updateURL()},forEach:function(Ae){for(var ke=V(this).entries,Fe=M(Ae,arguments.length>1?arguments[1]:void 0,3),ae=0,fe;ae<ke.length;)fe=ke[ae++],Fe(fe.value,fe.key,this)},keys:function(){return new W(this,"keys")},values:function(){return new W(this,"values")},entries:function(){return new W(this,"entries")}},{enumerable:!0}),y(pe,Z,pe.entries),y(pe,"toString",function(){for(var Ae=V(this).entries,ke=[],Fe=0,ae;Fe<Ae.length;)ae=Ae[Fe++],ke.push(ne(ae.key)+"="+ne(ae.value));return ke.join("&")},{enumerable:!0}),w(ee,se),f({global:!0,forced:!g},{URLSearchParams:ee}),!g&&typeof j=="function"&&typeof $=="function"&&f({global:!0,enumerable:!0,forced:!0},{fetch:function(Ae){var ke=[Ae],Fe,ae,fe;return arguments.length>1&&(Fe=arguments[1],T(Fe)&&(ae=Fe.body,E(ae)===se&&(fe=Fe.headers?new $(Fe.headers):new $,fe.has("content-type")||fe.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),Fe=C(Fe,{body:R(0,String(ae)),headers:R(0,fe)}))),ke.push(Fe)),j.apply(this,ke)}}),l.exports={URLSearchParams:ee,getState:V}}),285:(function(l,h,u){u(8783);var f=u(2109),d=u(9781),g=u(590),y=u(7854),k=u(6048),w=u(1320),_=u(5787),A=u(6656),N=u(1574),b=u(8457),M=u(8710).codeAt,E=u(3197),D=u(8003),T=u(1637),C=u(9909),R=y.URL,B=T.URLSearchParams,I=T.getState,P=C.set,j=C.getterFor("URL"),$=Math.floor,Z=Math.pow,se="Invalid authority",te="Invalid scheme",X="Invalid host",V="Invalid port",de=/[A-Za-z]/,Y=/[\d+-.A-Za-z]/,ue=/\d/,xe=/^(0x|0X)/,we=/^[0-7]+$/,Q=/^\d+$/,K=/^[\dA-Fa-f]+$/,Ce=/[\u0000\t\u000A\u000D #%/:?@[\\]]/,Me=/[\u0000\t\u000A\u000D #/:?@[\\]]/,ne=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ie=/[\t\u000A\u000D]/g,oe,ce=function(Te,Ye){var Ke,nt,ot;if(Ye.charAt(0)=="["){if(Ye.charAt(Ye.length-1)!="]"||(Ke=ee(Ye.slice(1,-1)),!Ke))return X;Te.host=Ke}else if(O(Te)){if(Ye=E(Ye),Ce.test(Ye)||(Ke=W(Ye),Ke===null))return X;Te.host=Ke}else{if(Me.test(Ye))return X;for(Ke="",nt=b(Ye),ot=0;ot<nt.length;ot++)Ke+=fe(nt[ot],Ae);Te.host=Ke}},W=function(Te){var Ye=Te.split("."),Ke,nt,ot,jt,_t,rn,sn;if(Ye.length&&Ye[Ye.length-1]==""&&Ye.pop(),Ke=Ye.length,Ke>4)return Te;for(nt=[],ot=0;ot<Ke;ot++){if(jt=Ye[ot],jt=="")return Te;if(_t=10,jt.length>1&&jt.charAt(0)=="0"&&(_t=xe.test(jt)?16:8,jt=jt.slice(_t==8?1:2)),jt==="")rn=0;else{if(!(_t==10?Q:_t==8?we:K).test(jt))return Te;rn=parseInt(jt,_t)}nt.push(rn)}for(ot=0;ot<Ke;ot++)if(rn=nt[ot],ot==Ke-1){if(rn>=Z(256,5-Ke))return null}else if(rn>255)return null;for(sn=nt.pop(),ot=0;ot<nt.length;ot++)sn+=nt[ot]*Z(256,3-ot);return sn},ee=function(Te){var Ye=[0,0,0,0,0,0,0,0],Ke=0,nt=null,ot=0,jt,_t,rn,sn,wn,zn,rt,Mt=function(){return Te.charAt(ot)};if(Mt()==":"){if(Te.charAt(1)!=":")return;ot+=2,Ke++,nt=Ke}for(;Mt();){if(Ke==8)return;if(Mt()==":"){if(nt!==null)return;ot++,Ke++,nt=Ke;continue}for(jt=_t=0;_t<4&&K.test(Mt());)jt=jt*16+parseInt(Mt(),16),ot++,_t++;if(Mt()=="."){if(_t==0||(ot-=_t,Ke>6))return;for(rn=0;Mt();){if(sn=null,rn>0)if(Mt()=="."&&rn<4)ot++;else return;if(!ue.test(Mt()))return;for(;ue.test(Mt());){if(wn=parseInt(Mt(),10),sn===null)sn=wn;else{if(sn==0)return;sn=sn*10+wn}if(sn>255)return;ot++}Ye[Ke]=Ye[Ke]*256+sn,rn++,(rn==2||rn==4)&&Ke++}if(rn!=4)return;break}else if(Mt()==":"){if(ot++,!Mt())return}else if(Mt())return;Ye[Ke++]=jt}if(nt!==null)for(zn=Ke-nt,Ke=7;Ke!=0&&zn>0;)rt=Ye[Ke],Ye[Ke--]=Ye[nt+zn-1],Ye[nt+--zn]=rt;else if(Ke!=8)return;return Ye},pe=function(Te){for(var Ye=null,Ke=1,nt=null,ot=0,jt=0;jt<8;jt++)Te[jt]!==0?(ot>Ke&&(Ye=nt,Ke=ot),nt=null,ot=0):(nt===null&&(nt=jt),++ot);return ot>Ke&&(Ye=nt,Ke=ot),Ye},ve=function(Te){var Ye,Ke,nt,ot;if(typeof Te=="number"){for(Ye=[],Ke=0;Ke<4;Ke++)Ye.unshift(Te%256),Te=$(Te/256);return Ye.join(".")}else if(typeof Te=="object"){for(Ye="",nt=pe(Te),Ke=0;Ke<8;Ke++)ot&&Te[Ke]===0||(ot&&(ot=!1),nt===Ke?(Ye+=Ke?":":"::",ot=!0):(Ye+=Te[Ke].toString(16),Ke<7&&(Ye+=":")));return"["+Ye+"]"}return Te},Ae={},ke=N({},Ae,{" ":1,'"':1,"<":1,">":1,"`":1}),Fe=N({},ke,{"#":1,"?":1,"{":1,"}":1}),ae=N({},Fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),fe=function(Te,Ye){var Ke=M(Te,0);return Ke>32&&Ke<127&&!A(Ye,Te)?Te:encodeURIComponent(Te)},me={ftp:21,file:null,http:80,https:443,ws:80,wss:443},O=function(Te){return A(me,Te.scheme)},H=function(Te){return Te.username!=""||Te.password!=""},U=function(Te){return!Te.host||Te.cannotBeABaseURL||Te.scheme=="file"},le=function(Te,Ye){var Ke;return Te.length==2&&de.test(Te.charAt(0))&&((Ke=Te.charAt(1))==":"||!Ye&&Ke=="|")},Se=function(Te){var Ye;return Te.length>1&&le(Te.slice(0,2))&&(Te.length==2||(Ye=Te.charAt(2))==="/"||Ye==="\\"||Ye==="?"||Ye==="#")},Le=function(Te){var Ye=Te.path,Ke=Ye.length;Ke&&(Te.scheme!="file"||Ke!=1||!le(Ye[0],!0))&&Ye.pop()},Pe=function(Te){return Te==="."||Te.toLowerCase()==="%2e"},$e=function(Te){return Te=Te.toLowerCase(),Te===".."||Te==="%2e."||Te===".%2e"||Te==="%2e%2e"},Ze={},pt={},ct={},$t={},Ot={},mt={},De={},ze={},Qe={},Et={},wt={},yt={},Ut={},qt={},ye={},Ee={},Be={},Ue={},et={},Je={},bt={},lt=function(Te,Ye,Ke,nt){var ot=Ke||Ze,jt=0,_t="",rn=!1,sn=!1,wn=!1,zn,rt,Mt,cn;for(Ke||(Te.scheme="",Te.username="",Te.password="",Te.host=null,Te.port=null,Te.path=[],Te.query=null,Te.fragment=null,Te.cannotBeABaseURL=!1,Ye=Ye.replace(ne,"")),Ye=Ye.replace(ie,""),zn=b(Ye);jt<=zn.length;){switch(rt=zn[jt],ot){case Ze:if(rt&&de.test(rt))_t+=rt.toLowerCase(),ot=pt;else{if(Ke)return te;ot=ct;continue}break;case pt:if(rt&&(Y.test(rt)||rt=="+"||rt=="-"||rt=="."))_t+=rt.toLowerCase();else if(rt==":"){if(Ke&&(O(Te)!=A(me,_t)||_t=="file"&&(H(Te)||Te.port!==null)||Te.scheme=="file"&&!Te.host))return;if(Te.scheme=_t,Ke){O(Te)&&me[Te.scheme]==Te.port&&(Te.port=null);return}_t="",Te.scheme=="file"?ot=qt:O(Te)&&nt&&nt.scheme==Te.scheme?ot=$t:O(Te)?ot=ze:zn[jt+1]=="/"?(ot=Ot,jt++):(Te.cannotBeABaseURL=!0,Te.path.push(""),ot=et)}else{if(Ke)return te;_t="",ot=ct,jt=0;continue}break;case ct:if(!nt||nt.cannotBeABaseURL&&rt!="#")return te;if(nt.cannotBeABaseURL&&rt=="#"){Te.scheme=nt.scheme,Te.path=nt.path.slice(),Te.query=nt.query,Te.fragment="",Te.cannotBeABaseURL=!0,ot=bt;break}ot=nt.scheme=="file"?qt:mt;continue;case $t:if(rt=="/"&&zn[jt+1]=="/")ot=Qe,jt++;else{ot=mt;continue}break;case Ot:if(rt=="/"){ot=Et;break}else{ot=Ue;continue}case mt:if(Te.scheme=nt.scheme,rt==oe)Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.query=nt.query;else if(rt=="/"||rt=="\\"&&O(Te))ot=De;else if(rt=="?")Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.query="",ot=Je;else if(rt=="#")Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.query=nt.query,Te.fragment="",ot=bt;else{Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,Te.path=nt.path.slice(),Te.path.pop(),ot=Ue;continue}break;case De:if(O(Te)&&(rt=="/"||rt=="\\"))ot=Qe;else if(rt=="/")ot=Et;else{Te.username=nt.username,Te.password=nt.password,Te.host=nt.host,Te.port=nt.port,ot=Ue;continue}break;case ze:if(ot=Qe,rt!="/"||_t.charAt(jt+1)!="/")continue;jt++;break;case Qe:if(rt!="/"&&rt!="\\"){ot=Et;continue}break;case Et:if(rt=="@"){rn&&(_t="%40"+_t),rn=!0,Mt=b(_t);for(var Ir=0;Ir<Mt.length;Ir++){var $n=Mt[Ir];if($n==":"&&!wn){wn=!0;continue}var lr=fe($n,ae);wn?Te.password+=lr:Te.username+=lr}_t=""}else if(rt==oe||rt=="/"||rt=="?"||rt=="#"||rt=="\\"&&O(Te)){if(rn&&_t=="")return se;jt-=b(_t).length+1,_t="",ot=wt}else _t+=rt;break;case wt:case yt:if(Ke&&Te.scheme=="file"){ot=Ee;continue}else if(rt==":"&&!sn){if(_t=="")return X;if(cn=ce(Te,_t),cn)return cn;if(_t="",ot=Ut,Ke==yt)return}else if(rt==oe||rt=="/"||rt=="?"||rt=="#"||rt=="\\"&&O(Te)){if(O(Te)&&_t=="")return X;if(Ke&&_t==""&&(H(Te)||Te.port!==null))return;if(cn=ce(Te,_t),cn)return cn;if(_t="",ot=Be,Ke)return;continue}else rt=="["?sn=!0:rt=="]"&&(sn=!1),_t+=rt;break;case Ut:if(ue.test(rt))_t+=rt;else if(rt==oe||rt=="/"||rt=="?"||rt=="#"||rt=="\\"&&O(Te)||Ke){if(_t!=""){var ur=parseInt(_t,10);if(ur>65535)return V;Te.port=O(Te)&&ur===me[Te.scheme]?null:ur,_t=""}if(Ke)return;ot=Be;continue}else return V;break;case qt:if(Te.scheme="file",rt=="/"||rt=="\\")ot=ye;else if(nt&&nt.scheme=="file")if(rt==oe)Te.host=nt.host,Te.path=nt.path.slice(),Te.query=nt.query;else if(rt=="?")Te.host=nt.host,Te.path=nt.path.slice(),Te.query="",ot=Je;else if(rt=="#")Te.host=nt.host,Te.path=nt.path.slice(),Te.query=nt.query,Te.fragment="",ot=bt;else{Se(zn.slice(jt).join(""))||(Te.host=nt.host,Te.path=nt.path.slice(),Le(Te)),ot=Ue;continue}else{ot=Ue;continue}break;case ye:if(rt=="/"||rt=="\\"){ot=Ee;break}nt&&nt.scheme=="file"&&!Se(zn.slice(jt).join(""))&&(le(nt.path[0],!0)?Te.path.push(nt.path[0]):Te.host=nt.host),ot=Ue;continue;case Ee:if(rt==oe||rt=="/"||rt=="\\"||rt=="?"||rt=="#"){if(!Ke&&le(_t))ot=Ue;else if(_t==""){if(Te.host="",Ke)return;ot=Be}else{if(cn=ce(Te,_t),cn)return cn;if(Te.host=="localhost"&&(Te.host=""),Ke)return;_t="",ot=Be}continue}else _t+=rt;break;case Be:if(O(Te)){if(ot=Ue,rt!="/"&&rt!="\\")continue}else if(!Ke&&rt=="?")Te.query="",ot=Je;else if(!Ke&&rt=="#")Te.fragment="",ot=bt;else if(rt!=oe&&(ot=Ue,rt!="/"))continue;break;case Ue:if(rt==oe||rt=="/"||rt=="\\"&&O(Te)||!Ke&&(rt=="?"||rt=="#")){if($e(_t)?(Le(Te),rt!="/"&&!(rt=="\\"&&O(Te))&&Te.path.push("")):Pe(_t)?rt!="/"&&!(rt=="\\"&&O(Te))&&Te.path.push(""):(Te.scheme=="file"&&!Te.path.length&&le(_t)&&(Te.host&&(Te.host=""),_t=_t.charAt(0)+":"),Te.path.push(_t)),_t="",Te.scheme=="file"&&(rt==oe||rt=="?"||rt=="#"))for(;Te.path.length>1&&Te.path[0]==="";)Te.path.shift();rt=="?"?(Te.query="",ot=Je):rt=="#"&&(Te.fragment="",ot=bt)}else _t+=fe(rt,Fe);break;case et:rt=="?"?(Te.query="",ot=Je):rt=="#"?(Te.fragment="",ot=bt):rt!=oe&&(Te.path[0]+=fe(rt,Ae));break;case Je:!Ke&&rt=="#"?(Te.fragment="",ot=bt):rt!=oe&&(rt=="'"&&O(Te)?Te.query+="%27":rt=="#"?Te.query+="%23":Te.query+=fe(rt,Ae));break;case bt:rt!=oe&&(Te.fragment+=fe(rt,ke));break}jt++}},xt=function(Ye){var Ke=_(this,xt,"URL"),nt=arguments.length>1?arguments[1]:void 0,ot=String(Ye),jt=P(Ke,{type:"URL"}),_t,rn;if(nt!==void 0){if(nt instanceof xt)_t=j(nt);else if(rn=lt(_t={},String(nt)),rn)throw TypeError(rn)}if(rn=lt(jt,ot,null,_t),rn)throw TypeError(rn);var sn=jt.searchParams=new B,wn=I(sn);wn.updateSearchParams(jt.query),wn.updateURL=function(){jt.query=String(sn)||null},d||(Ke.href=dt.call(Ke),Ke.origin=it.call(Ke),Ke.protocol=nn.call(Ke),Ke.username=mn.call(Ke),Ke.password=qn.call(Ke),Ke.host=Dn.call(Ke),Ke.hostname=vr.call(Ke),Ke.port=Wn.call(Ke),Ke.pathname=fn.call(Ke),Ke.search=Nr.call(Ke),Ke.searchParams=Ar.call(Ke),Ke.hash=Rn.call(Ke))},ft=xt.prototype,dt=function(){var Te=j(this),Ye=Te.scheme,Ke=Te.username,nt=Te.password,ot=Te.host,jt=Te.port,_t=Te.path,rn=Te.query,sn=Te.fragment,wn=Ye+":";return ot!==null?(wn+="//",H(Te)&&(wn+=Ke+(nt?":"+nt:"")+"@"),wn+=ve(ot),jt!==null&&(wn+=":"+jt)):Ye=="file"&&(wn+="//"),wn+=Te.cannotBeABaseURL?_t[0]:_t.length?"/"+_t.join("/"):"",rn!==null&&(wn+="?"+rn),sn!==null&&(wn+="#"+sn),wn},it=function(){var Te=j(this),Ye=Te.scheme,Ke=Te.port;if(Ye=="blob")try{return new URL(Ye.path[0]).origin}catch{return"null"}return Ye=="file"||!O(Te)?"null":Ye+"://"+ve(Te.host)+(Ke!==null?":"+Ke:"")},nn=function(){return j(this).scheme+":"},mn=function(){return j(this).username},qn=function(){return j(this).password},Dn=function(){var Te=j(this),Ye=Te.host,Ke=Te.port;return Ye===null?"":Ke===null?ve(Ye):ve(Ye)+":"+Ke},vr=function(){var Te=j(this).host;return Te===null?"":ve(Te)},Wn=function(){var Te=j(this).port;return Te===null?"":String(Te)},fn=function(){var Te=j(this),Ye=Te.path;return Te.cannotBeABaseURL?Ye[0]:Ye.length?"/"+Ye.join("/"):""},Nr=function(){var Te=j(this).query;return Te?"?"+Te:""},Ar=function(){return j(this).searchParams},Rn=function(){var Te=j(this).fragment;return Te?"#"+Te:""},En=function(Te,Ye){return{get:Te,set:Ye,configurable:!0,enumerable:!0}};if(d&&k(ft,{href:En(dt,function(Te){var Ye=j(this),Ke=String(Te),nt=lt(Ye,Ke);if(nt)throw TypeError(nt);I(Ye.searchParams).updateSearchParams(Ye.query)}),origin:En(it),protocol:En(nn,function(Te){var Ye=j(this);lt(Ye,String(Te)+":",Ze)}),username:En(mn,function(Te){var Ye=j(this),Ke=b(String(Te));if(!U(Ye)){Ye.username="";for(var nt=0;nt<Ke.length;nt++)Ye.username+=fe(Ke[nt],ae)}}),password:En(qn,function(Te){var Ye=j(this),Ke=b(String(Te));if(!U(Ye)){Ye.password="";for(var nt=0;nt<Ke.length;nt++)Ye.password+=fe(Ke[nt],ae)}}),host:En(Dn,function(Te){var Ye=j(this);Ye.cannotBeABaseURL||lt(Ye,String(Te),wt)}),hostname:En(vr,function(Te){var Ye=j(this);Ye.cannotBeABaseURL||lt(Ye,String(Te),yt)}),port:En(Wn,function(Te){var Ye=j(this);U(Ye)||(Te=String(Te),Te==""?Ye.port=null:lt(Ye,Te,Ut))}),pathname:En(fn,function(Te){var Ye=j(this);Ye.cannotBeABaseURL||(Ye.path=[],lt(Ye,Te+"",Be))}),search:En(Nr,function(Te){var Ye=j(this);Te=String(Te),Te==""?Ye.query=null:(Te.charAt(0)=="?"&&(Te=Te.slice(1)),Ye.query="",lt(Ye,Te,Je)),I(Ye.searchParams).updateSearchParams(Ye.query)}),searchParams:En(Ar),hash:En(Rn,function(Te){var Ye=j(this);if(Te=String(Te),Te==""){Ye.fragment=null;return}Te.charAt(0)=="#"&&(Te=Te.slice(1)),Ye.fragment="",lt(Ye,Te,bt)})}),w(ft,"toJSON",function(){return dt.call(this)},{enumerable:!0}),w(ft,"toString",function(){return dt.call(this)},{enumerable:!0}),R){var Tr=R.createObjectURL,Cn=R.revokeObjectURL;Tr&&w(xt,"createObjectURL",function(Ye){return Tr.apply(R,arguments)}),Cn&&w(xt,"revokeObjectURL",function(Ye){return Cn.apply(R,arguments)})}D(xt,"URL"),f({global:!0,forced:!g,sham:!d},{URL:xt})})},r={};function i(l){if(r[l])return r[l].exports;var h=r[l]={exports:{}};return t[l](h,h.exports,i),h.exports}(function(){i.d=function(l,h){for(var u in h)i.o(h,u)&&!i.o(l,u)&&Object.defineProperty(l,u,{enumerable:!0,get:h[u]})}})(),(function(){i.g=(function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}})()})(),(function(){i.o=function(l,h){return Object.prototype.hasOwnProperty.call(l,h)}})(),(function(){i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})}})();var o={};return(function(){i.r(o),i.d(o,{Dropzone:function(){return V},default:function(){return Me}}),i(2222),i(7327),i(2772),i(6992),i(1249),i(7042),i(561),i(8264),i(8309),i(489),i(1539),i(4916),i(9714),i(8783),i(4723),i(5306),i(3123),i(3210),i(2472),i(2990),i(8927),i(3105),i(5035),i(4345),i(7174),i(2846),i(4731),i(7209),i(6319),i(8867),i(7789),i(3739),i(9368),i(4483),i(2056),i(3462),i(678),i(7462),i(3824),i(5021),i(2974),i(5016),i(4747),i(3948),i(285);function l(ne,ie){var oe;if(typeof Symbol>"u"||ne[Symbol.iterator]==null){if(Array.isArray(ne)||(oe=h(ne))||ne&&typeof ne.length=="number"){oe&&(ne=oe);var ce=0,W=function(){};return{s:W,n:function(){return ce>=ne.length?{done:!0}:{done:!1,value:ne[ce++]}},e:function(ke){throw ke},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee=!0,pe=!1,ve;return{s:function(){oe=ne[Symbol.iterator]()},n:function(){var ke=oe.next();return ee=ke.done,ke},e:function(ke){pe=!0,ve=ke},f:function(){try{!ee&&oe.return!=null&&oe.return()}finally{if(pe)throw ve}}}}function h(ne,ie){if(ne){if(typeof ne=="string")return u(ne,ie);var oe=Object.prototype.toString.call(ne).slice(8,-1);if(oe==="Object"&&ne.constructor&&(oe=ne.constructor.name),oe==="Map"||oe==="Set")return Array.from(ne);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return u(ne,ie)}}function u(ne,ie){(ie==null||ie>ne.length)&&(ie=ne.length);for(var oe=0,ce=new Array(ie);oe<ie;oe++)ce[oe]=ne[oe];return ce}function f(ne,ie){if(!(ne instanceof ie))throw new TypeError("Cannot call a class as a function")}function d(ne,ie){for(var oe=0;oe<ie.length;oe++){var ce=ie[oe];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ne,ce.key,ce)}}function g(ne,ie,oe){return ie&&d(ne.prototype,ie),ne}var y=(function(){function ne(){f(this,ne)}return g(ne,[{key:"on",value:function(oe,ce){return this._callbacks=this._callbacks||{},this._callbacks[oe]||(this._callbacks[oe]=[]),this._callbacks[oe].push(ce),this}},{key:"emit",value:function(oe){this._callbacks=this._callbacks||{};for(var ce=this._callbacks[oe],W=arguments.length,ee=new Array(W>1?W-1:0),pe=1;pe<W;pe++)ee[pe-1]=arguments[pe];if(ce){var ve=l(ce),Ae;try{for(ve.s();!(Ae=ve.n()).done;){var ke=Ae.value;ke.apply(this,ee)}}catch(Fe){ve.e(Fe)}finally{ve.f()}}return this.element&&this.element.dispatchEvent(this.makeEvent("dropzone:"+oe,{args:ee})),this}},{key:"makeEvent",value:function(oe,ce){var W={bubbles:!0,cancelable:!0,detail:ce};if(typeof window.CustomEvent=="function")return new CustomEvent(oe,W);var ee=document.createEvent("CustomEvent");return ee.initCustomEvent(oe,W.bubbles,W.cancelable,W.detail),ee}},{key:"off",value:function(oe,ce){if(!this._callbacks||arguments.length===0)return this._callbacks={},this;var W=this._callbacks[oe];if(!W)return this;if(arguments.length===1)return delete this._callbacks[oe],this;for(var ee=0;ee<W.length;ee++){var pe=W[ee];if(pe===ce){W.splice(ee,1);break}}return this}}]),ne})(),k='<div class="dz-preview dz-file-preview"> <div class="dz-image"><img data-dz-thumbnail/></div> <div class="dz-details"> <div class="dz-size"><span data-dz-size></span></div> <div class="dz-filename"><span data-dz-name></span></div> </div> <div class="dz-progress"> <span class="dz-upload" data-dz-uploadprogress></span> </div> <div class="dz-error-message"><span data-dz-errormessage></span></div> <div class="dz-success-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Check</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF"></path> </g> </svg> </div> <div class="dz-error-mark"> <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>Error</title> <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475"> <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z"></path> </g> </g> </svg> </div> </div> ',w=k;function _(ne,ie){var oe;if(typeof Symbol>"u"||ne[Symbol.iterator]==null){if(Array.isArray(ne)||(oe=A(ne))||ne&&typeof ne.length=="number"){oe&&(ne=oe);var ce=0,W=function(){};return{s:W,n:function(){return ce>=ne.length?{done:!0}:{done:!1,value:ne[ce++]}},e:function(ke){throw ke},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee=!0,pe=!1,ve;return{s:function(){oe=ne[Symbol.iterator]()},n:function(){var ke=oe.next();return ee=ke.done,ke},e:function(ke){pe=!0,ve=ke},f:function(){try{!ee&&oe.return!=null&&oe.return()}finally{if(pe)throw ve}}}}function A(ne,ie){if(ne){if(typeof ne=="string")return N(ne,ie);var oe=Object.prototype.toString.call(ne).slice(8,-1);if(oe==="Object"&&ne.constructor&&(oe=ne.constructor.name),oe==="Map"||oe==="Set")return Array.from(ne);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return N(ne,ie)}}function N(ne,ie){(ie==null||ie>ne.length)&&(ie=ne.length);for(var oe=0,ce=new Array(ie);oe<ie;oe++)ce[oe]=ne[oe];return ce}var b={url:null,method:"post",withCredentials:!1,timeout:null,parallelUploads:2,uploadMultiple:!1,chunking:!1,forceChunking:!1,chunkSize:2e6,parallelChunkUploads:!1,retryChunks:!1,retryChunksLimit:3,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,thumbnailMethod:"crop",resizeWidth:null,resizeHeight:null,resizeMimeType:null,resizeQuality:.8,resizeMethod:"contain",filesizeBase:1e3,maxFiles:null,headers:null,clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,disablePreviews:!1,hiddenInputContainer:"body",capture:null,renameFilename:null,renameFile:null,forceFallback:!1,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictUploadCanceled:"Upload canceled.",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",dictFileSizeUnits:{tb:"TB",gb:"GB",mb:"MB",kb:"KB",b:"b"},init:function(){},params:function(ie,oe,ce){if(ce)return{dzuuid:ce.file.upload.uuid,dzchunkindex:ce.index,dztotalfilesize:ce.file.size,dzchunksize:this.options.chunkSize,dztotalchunkcount:ce.file.upload.totalChunkCount,dzchunkbyteoffset:ce.index*this.options.chunkSize}},accept:function(ie,oe){return oe()},chunksUploaded:function(ie,oe){oe()},fallback:function(){var ie;this.element.className="".concat(this.element.className," dz-browser-not-supported");var oe=_(this.element.getElementsByTagName("div")),ce;try{for(oe.s();!(ce=oe.n()).done;){var W=ce.value;if(/(^| )dz-message($| )/.test(W.className)){ie=W,W.className="dz-message";break}}}catch(pe){oe.e(pe)}finally{oe.f()}ie||(ie=V.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(ie));var ee=ie.getElementsByTagName("span")[0];return ee&&(ee.textContent!=null?ee.textContent=this.options.dictFallbackMessage:ee.innerText!=null&&(ee.innerText=this.options.dictFallbackMessage)),this.element.appendChild(this.getFallbackForm())},resize:function(ie,oe,ce,W){var ee={srcX:0,srcY:0,srcWidth:ie.width,srcHeight:ie.height},pe=ie.width/ie.height;oe==null&&ce==null?(oe=ee.srcWidth,ce=ee.srcHeight):oe==null?oe=ce*pe:ce==null&&(ce=oe/pe),oe=Math.min(oe,ee.srcWidth),ce=Math.min(ce,ee.srcHeight);var ve=oe/ce;if(ee.srcWidth>oe||ee.srcHeight>ce)if(W==="crop")pe>ve?(ee.srcHeight=ie.height,ee.srcWidth=ee.srcHeight*ve):(ee.srcWidth=ie.width,ee.srcHeight=ee.srcWidth/ve);else if(W==="contain")pe>ve?ce=oe/pe:oe=ce*pe;else throw new Error("Unknown resizeMethod '".concat(W,"'"));return ee.srcX=(ie.width-ee.srcWidth)/2,ee.srcY=(ie.height-ee.srcHeight)/2,ee.trgWidth=oe,ee.trgHeight=ce,ee},transformFile:function(ie,oe){return(this.options.resizeWidth||this.options.resizeHeight)&&ie.type.match(/image.*/)?this.resizeImage(ie,this.options.resizeWidth,this.options.resizeHeight,this.options.resizeMethod,oe):oe(ie)},previewTemplate:w,drop:function(ie){return this.element.classList.remove("dz-drag-hover")},dragstart:function(ie){},dragend:function(ie){return this.element.classList.remove("dz-drag-hover")},dragenter:function(ie){return this.element.classList.add("dz-drag-hover")},dragover:function(ie){return this.element.classList.add("dz-drag-hover")},dragleave:function(ie){return this.element.classList.remove("dz-drag-hover")},paste:function(ie){},reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(ie){var oe=this;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer&&!this.options.disablePreviews){ie.previewElement=V.createElement(this.options.previewTemplate.trim()),ie.previewTemplate=ie.previewElement,this.previewsContainer.appendChild(ie.previewElement);var ce=_(ie.previewElement.querySelectorAll("[data-dz-name]")),W;try{for(ce.s();!(W=ce.n()).done;){var ee=W.value;ee.textContent=ie.name}}catch(fe){ce.e(fe)}finally{ce.f()}var pe=_(ie.previewElement.querySelectorAll("[data-dz-size]")),ve;try{for(pe.s();!(ve=pe.n()).done;)ee=ve.value,ee.innerHTML=this.filesize(ie.size)}catch(fe){pe.e(fe)}finally{pe.f()}this.options.addRemoveLinks&&(ie._removeLink=V.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'.concat(this.options.dictRemoveFile,"</a>")),ie.previewElement.appendChild(ie._removeLink));var Ae=function(me){return me.preventDefault(),me.stopPropagation(),ie.status===V.UPLOADING?V.confirm(oe.options.dictCancelUploadConfirmation,function(){return oe.removeFile(ie)}):oe.options.dictRemoveFileConfirmation?V.confirm(oe.options.dictRemoveFileConfirmation,function(){return oe.removeFile(ie)}):oe.removeFile(ie)},ke=_(ie.previewElement.querySelectorAll("[data-dz-remove]")),Fe;try{for(ke.s();!(Fe=ke.n()).done;){var ae=Fe.value;ae.addEventListener("click",Ae)}}catch(fe){ke.e(fe)}finally{ke.f()}}},removedfile:function(ie){return ie.previewElement!=null&&ie.previewElement.parentNode!=null&&ie.previewElement.parentNode.removeChild(ie.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(ie,oe){if(ie.previewElement){ie.previewElement.classList.remove("dz-file-preview");var ce=_(ie.previewElement.querySelectorAll("[data-dz-thumbnail]")),W;try{for(ce.s();!(W=ce.n()).done;){var ee=W.value;ee.alt=ie.name,ee.src=oe}}catch(pe){ce.e(pe)}finally{ce.f()}return setTimeout(function(){return ie.previewElement.classList.add("dz-image-preview")},1)}},error:function(ie,oe){if(ie.previewElement){ie.previewElement.classList.add("dz-error"),typeof oe!="string"&&oe.error&&(oe=oe.error);var ce=_(ie.previewElement.querySelectorAll("[data-dz-errormessage]")),W;try{for(ce.s();!(W=ce.n()).done;){var ee=W.value;ee.textContent=oe}}catch(pe){ce.e(pe)}finally{ce.f()}}},errormultiple:function(){},processing:function(ie){if(ie.previewElement&&(ie.previewElement.classList.add("dz-processing"),ie._removeLink))return ie._removeLink.innerHTML=this.options.dictCancelUpload},processingmultiple:function(){},uploadprogress:function(ie,oe,ce){if(ie.previewElement){var W=_(ie.previewElement.querySelectorAll("[data-dz-uploadprogress]")),ee;try{for(W.s();!(ee=W.n()).done;){var pe=ee.value;pe.nodeName==="PROGRESS"?pe.value=oe:pe.style.width="".concat(oe,"%")}}catch(ve){W.e(ve)}finally{W.f()}}},totaluploadprogress:function(){},sending:function(){},sendingmultiple:function(){},success:function(ie){if(ie.previewElement)return ie.previewElement.classList.add("dz-success")},successmultiple:function(){},canceled:function(ie){return this.emit("error",ie,this.options.dictUploadCanceled)},canceledmultiple:function(){},complete:function(ie){if(ie._removeLink&&(ie._removeLink.innerHTML=this.options.dictRemoveFile),ie.previewElement)return ie.previewElement.classList.add("dz-complete")},completemultiple:function(){},maxfilesexceeded:function(){},maxfilesreached:function(){},queuecomplete:function(){},addedfiles:function(){}},M=b;function E(ne){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?E=function(oe){return typeof oe}:E=function(oe){return oe&&typeof Symbol=="function"&&oe.constructor===Symbol&&oe!==Symbol.prototype?"symbol":typeof oe},E(ne)}function D(ne,ie){var oe;if(typeof Symbol>"u"||ne[Symbol.iterator]==null){if(Array.isArray(ne)||(oe=T(ne))||ne&&typeof ne.length=="number"){oe&&(ne=oe);var ce=0,W=function(){};return{s:W,n:function(){return ce>=ne.length?{done:!0}:{done:!1,value:ne[ce++]}},e:function(ke){throw ke},f:W}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ee=!0,pe=!1,ve;return{s:function(){oe=ne[Symbol.iterator]()},n:function(){var ke=oe.next();return ee=ke.done,ke},e:function(ke){pe=!0,ve=ke},f:function(){try{!ee&&oe.return!=null&&oe.return()}finally{if(pe)throw ve}}}}function T(ne,ie){if(ne){if(typeof ne=="string")return C(ne,ie);var oe=Object.prototype.toString.call(ne).slice(8,-1);if(oe==="Object"&&ne.constructor&&(oe=ne.constructor.name),oe==="Map"||oe==="Set")return Array.from(ne);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return C(ne,ie)}}function C(ne,ie){(ie==null||ie>ne.length)&&(ie=ne.length);for(var oe=0,ce=new Array(ie);oe<ie;oe++)ce[oe]=ne[oe];return ce}function R(ne,ie){if(!(ne instanceof ie))throw new TypeError("Cannot call a class as a function")}function B(ne,ie){for(var oe=0;oe<ie.length;oe++){var ce=ie[oe];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(ne,ce.key,ce)}}function I(ne,ie,oe){return ie&&B(ne.prototype,ie),oe&&B(ne,oe),ne}function P(ne,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),ie&&j(ne,ie)}function j(ne,ie){return j=Object.setPrototypeOf||function(ce,W){return ce.__proto__=W,ce},j(ne,ie)}function $(ne){var ie=te();return function(){var ce=X(ne),W;if(ie){var ee=X(this).constructor;W=Reflect.construct(ce,arguments,ee)}else W=ce.apply(this,arguments);return Z(this,W)}}function Z(ne,ie){return ie&&(E(ie)==="object"||typeof ie=="function")?ie:se(ne)}function se(ne){if(ne===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ne}function te(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function X(ne){return X=Object.setPrototypeOf?Object.getPrototypeOf:function(oe){return oe.__proto__||Object.getPrototypeOf(oe)},X(ne)}var V=(function(ne){P(oe,ne);var ie=$(oe);function oe(ce,W){var ee;R(this,oe),ee=ie.call(this);var pe,ve;if(ee.element=ce,ee.version=oe.version,ee.clickableElements=[],ee.listeners=[],ee.files=[],typeof ee.element=="string"&&(ee.element=document.querySelector(ee.element)),!ee.element||ee.element.nodeType==null)throw new Error("Invalid dropzone element.");if(ee.element.dropzone)throw new Error("Dropzone already attached.");oe.instances.push(se(ee)),ee.element.dropzone=se(ee);var Ae=(ve=oe.optionsForElement(ee.element))!=null?ve:{};if(ee.options=oe.extend({},M,Ae,W??{}),ee.options.previewTemplate=ee.options.previewTemplate.replace(/\n*/g,""),ee.options.forceFallback||!oe.isBrowserSupported())return Z(ee,ee.options.fallback.call(se(ee)));if(ee.options.url==null&&(ee.options.url=ee.element.getAttribute("action")),!ee.options.url)throw new Error("No URL provided.");if(ee.options.acceptedFiles&&ee.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");if(ee.options.uploadMultiple&&ee.options.chunking)throw new Error("You cannot set both: uploadMultiple and chunking.");return ee.options.acceptedMimeTypes&&(ee.options.acceptedFiles=ee.options.acceptedMimeTypes,delete ee.options.acceptedMimeTypes),ee.options.renameFilename!=null&&(ee.options.renameFile=function(ke){return ee.options.renameFilename.call(se(ee),ke.name,ke)}),typeof ee.options.method=="string"&&(ee.options.method=ee.options.method.toUpperCase()),(pe=ee.getExistingFallback())&&pe.parentNode&&pe.parentNode.removeChild(pe),ee.options.previewsContainer!==!1&&(ee.options.previewsContainer?ee.previewsContainer=oe.getElement(ee.options.previewsContainer,"previewsContainer"):ee.previewsContainer=ee.element),ee.options.clickable&&(ee.options.clickable===!0?ee.clickableElements=[ee.element]:ee.clickableElements=oe.getElements(ee.options.clickable,"clickable")),ee.init(),ee}return I(oe,[{key:"getAcceptedFiles",value:function(){return this.files.filter(function(W){return W.accepted}).map(function(W){return W})}},{key:"getRejectedFiles",value:function(){return this.files.filter(function(W){return!W.accepted}).map(function(W){return W})}},{key:"getFilesWithStatus",value:function(W){return this.files.filter(function(ee){return ee.status===W}).map(function(ee){return ee})}},{key:"getQueuedFiles",value:function(){return this.getFilesWithStatus(oe.QUEUED)}},{key:"getUploadingFiles",value:function(){return this.getFilesWithStatus(oe.UPLOADING)}},{key:"getAddedFiles",value:function(){return this.getFilesWithStatus(oe.ADDED)}},{key:"getActiveFiles",value:function(){return this.files.filter(function(W){return W.status===oe.UPLOADING||W.status===oe.QUEUED}).map(function(W){return W})}},{key:"init",value:function(){var W=this;if(this.element.tagName==="form"&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(oe.createElement('<div class="dz-default dz-message"><button class="dz-button" type="button">'.concat(this.options.dictDefaultMessage,"</button></div>"))),this.clickableElements.length){var ee=function ae(){W.hiddenFileInput&&W.hiddenFileInput.parentNode.removeChild(W.hiddenFileInput),W.hiddenFileInput=document.createElement("input"),W.hiddenFileInput.setAttribute("type","file"),(W.options.maxFiles===null||W.options.maxFiles>1)&&W.hiddenFileInput.setAttribute("multiple","multiple"),W.hiddenFileInput.className="dz-hidden-input",W.options.acceptedFiles!==null&&W.hiddenFileInput.setAttribute("accept",W.options.acceptedFiles),W.options.capture!==null&&W.hiddenFileInput.setAttribute("capture",W.options.capture),W.hiddenFileInput.setAttribute("tabindex","-1"),W.hiddenFileInput.style.visibility="hidden",W.hiddenFileInput.style.position="absolute",W.hiddenFileInput.style.top="0",W.hiddenFileInput.style.left="0",W.hiddenFileInput.style.height="0",W.hiddenFileInput.style.width="0",oe.getElement(W.options.hiddenInputContainer,"hiddenInputContainer").appendChild(W.hiddenFileInput),W.hiddenFileInput.addEventListener("change",function(){var fe=W.hiddenFileInput.files;if(fe.length){var me=D(fe),O;try{for(me.s();!(O=me.n()).done;){var H=O.value;W.addFile(H)}}catch(U){me.e(U)}finally{me.f()}}W.emit("addedfiles",fe),ae()})};ee()}this.URL=window.URL!==null?window.URL:window.webkitURL;var pe=D(this.events),ve;try{for(pe.s();!(ve=pe.n()).done;){var Ae=ve.value;this.on(Ae,this.options[Ae])}}catch(ae){pe.e(ae)}finally{pe.f()}this.on("uploadprogress",function(){return W.updateTotalUploadProgress()}),this.on("removedfile",function(){return W.updateTotalUploadProgress()}),this.on("canceled",function(ae){return W.emit("complete",ae)}),this.on("complete",function(ae){if(W.getAddedFiles().length===0&&W.getUploadingFiles().length===0&&W.getQueuedFiles().length===0)return setTimeout(function(){return W.emit("queuecomplete")},0)});var ke=function(fe){if(fe.dataTransfer.types){for(var me=0;me<fe.dataTransfer.types.length;me++)if(fe.dataTransfer.types[me]==="Files")return!0}return!1},Fe=function(fe){if(ke(fe))return fe.stopPropagation(),fe.preventDefault?fe.preventDefault():fe.returnValue=!1};return this.listeners=[{element:this.element,events:{dragstart:function(fe){return W.emit("dragstart",fe)},dragenter:function(fe){return Fe(fe),W.emit("dragenter",fe)},dragover:function(fe){var me;try{me=fe.dataTransfer.effectAllowed}catch{}return fe.dataTransfer.dropEffect=me==="move"||me==="linkMove"?"move":"copy",Fe(fe),W.emit("dragover",fe)},dragleave:function(fe){return W.emit("dragleave",fe)},drop:function(fe){return Fe(fe),W.drop(fe)},dragend:function(fe){return W.emit("dragend",fe)}}}],this.clickableElements.forEach(function(ae){return W.listeners.push({element:ae,events:{click:function(me){return(ae!==W.element||me.target===W.element||oe.elementInside(me.target,W.element.querySelector(".dz-message")))&&W.hiddenFileInput.click(),!0}}})}),this.enable(),this.options.init.call(this)}},{key:"destroy",value:function(){return this.disable(),this.removeAllFiles(!0),this.hiddenFileInput!=null&&this.hiddenFileInput.parentNode&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,oe.instances.splice(oe.instances.indexOf(this),1)}},{key:"updateTotalUploadProgress",value:function(){var W,ee=0,pe=0,ve=this.getActiveFiles();if(ve.length){var Ae=D(this.getActiveFiles()),ke;try{for(Ae.s();!(ke=Ae.n()).done;){var Fe=ke.value;ee+=Fe.upload.bytesSent,pe+=Fe.upload.total}}catch(ae){Ae.e(ae)}finally{Ae.f()}W=100*ee/pe}else W=100;return this.emit("totaluploadprogress",W,pe,ee)}},{key:"_getParamName",value:function(W){return typeof this.options.paramName=="function"?this.options.paramName(W):"".concat(this.options.paramName).concat(this.options.uploadMultiple?"[".concat(W,"]"):"")}},{key:"_renameFile",value:function(W){return typeof this.options.renameFile!="function"?W.name:this.options.renameFile(W)}},{key:"getFallbackForm",value:function(){var W,ee;if(W=this.getExistingFallback())return W;var pe='<div class="dz-fallback">';this.options.dictFallbackText&&(pe+="<p>".concat(this.options.dictFallbackText,"</p>")),pe+='<input type="file" name="'.concat(this._getParamName(0),'" ').concat(this.options.uploadMultiple?'multiple="multiple"':void 0,' /><input type="submit" value="Upload!"></div>');var ve=oe.createElement(pe);return this.element.tagName!=="FORM"?(ee=oe.createElement('<form action="'.concat(this.options.url,'" enctype="multipart/form-data" method="').concat(this.options.method,'"></form>')),ee.appendChild(ve)):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),ee??ve}},{key:"getExistingFallback",value:function(){for(var W=function(Fe){var ae=D(Fe),fe;try{for(ae.s();!(fe=ae.n()).done;){var me=fe.value;if(/(^| )fallback($| )/.test(me.className))return me}}catch(O){ae.e(O)}finally{ae.f()}},ee=0,pe=["div","form"];ee<pe.length;ee++){var ve=pe[ee],Ae;if(Ae=W(this.element.getElementsByTagName(ve)))return Ae}}},{key:"setupEventListeners",value:function(){return this.listeners.map(function(W){return(function(){var ee=[];for(var pe in W.events){var ve=W.events[pe];ee.push(W.element.addEventListener(pe,ve,!1))}return ee})()})}},{key:"removeEventListeners",value:function(){return this.listeners.map(function(W){return(function(){var ee=[];for(var pe in W.events){var ve=W.events[pe];ee.push(W.element.removeEventListener(pe,ve,!1))}return ee})()})}},{key:"disable",value:function(){var W=this;return this.clickableElements.forEach(function(ee){return ee.classList.remove("dz-clickable")}),this.removeEventListeners(),this.disabled=!0,this.files.map(function(ee){return W.cancelUpload(ee)})}},{key:"enable",value:function(){return delete this.disabled,this.clickableElements.forEach(function(W){return W.classList.add("dz-clickable")}),this.setupEventListeners()}},{key:"filesize",value:function(W){var ee=0,pe="b";if(W>0){for(var ve=["tb","gb","mb","kb","b"],Ae=0;Ae<ve.length;Ae++){var ke=ve[Ae],Fe=Math.pow(this.options.filesizeBase,4-Ae)/10;if(W>=Fe){ee=W/Math.pow(this.options.filesizeBase,4-Ae),pe=ke;break}}ee=Math.round(10*ee)/10}return"<strong>".concat(ee,"</strong> ").concat(this.options.dictFileSizeUnits[pe])}},{key:"_updateMaxFilesReachedClass",value:function(){return this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")}},{key:"drop",value:function(W){if(W.dataTransfer){this.emit("drop",W);for(var ee=[],pe=0;pe<W.dataTransfer.files.length;pe++)ee[pe]=W.dataTransfer.files[pe];if(ee.length){var ve=W.dataTransfer.items;ve&&ve.length&&ve[0].webkitGetAsEntry!=null?this._addFilesFromItems(ve):this.handleFiles(ee)}this.emit("addedfiles",ee)}}},{key:"paste",value:function(W){if(K(W?.clipboardData,function(pe){return pe.items})!=null){this.emit("paste",W);var ee=W.clipboardData.items;if(ee.length)return this._addFilesFromItems(ee)}}},{key:"handleFiles",value:function(W){var ee=D(W),pe;try{for(ee.s();!(pe=ee.n()).done;){var ve=pe.value;this.addFile(ve)}}catch(Ae){ee.e(Ae)}finally{ee.f()}}},{key:"_addFilesFromItems",value:function(W){var ee=this;return(function(){var pe=[],ve=D(W),Ae;try{for(ve.s();!(Ae=ve.n()).done;){var ke=Ae.value,Fe;ke.webkitGetAsEntry!=null&&(Fe=ke.webkitGetAsEntry())?Fe.isFile?pe.push(ee.addFile(ke.getAsFile())):Fe.isDirectory?pe.push(ee._addFilesFromDirectory(Fe,Fe.name)):pe.push(void 0):ke.getAsFile!=null&&(ke.kind==null||ke.kind==="file")?pe.push(ee.addFile(ke.getAsFile())):pe.push(void 0)}}catch(ae){ve.e(ae)}finally{ve.f()}return pe})()}},{key:"_addFilesFromDirectory",value:function(W,ee){var pe=this,ve=W.createReader(),Ae=function(ae){return Ce(console,"log",function(fe){return fe.log(ae)})},ke=function Fe(){return ve.readEntries(function(ae){if(ae.length>0){var fe=D(ae),me;try{for(fe.s();!(me=fe.n()).done;){var O=me.value;O.isFile?O.file(function(H){if(!(pe.options.ignoreHiddenFiles&&H.name.substring(0,1)==="."))return H.fullPath="".concat(ee,"/").concat(H.name),pe.addFile(H)}):O.isDirectory&&pe._addFilesFromDirectory(O,"".concat(ee,"/").concat(O.name))}}catch(H){fe.e(H)}finally{fe.f()}Fe()}return null},Ae)};return ke()}},{key:"accept",value:function(W,ee){this.options.maxFilesize&&W.size>this.options.maxFilesize*1024*1024?ee(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(W.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):oe.isValidFile(W,this.options.acceptedFiles)?this.options.maxFiles!=null&&this.getAcceptedFiles().length>=this.options.maxFiles?(ee(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",W)):this.options.accept.call(this,W,ee):ee(this.options.dictInvalidFileType)}},{key:"addFile",value:function(W){var ee=this;W.upload={uuid:oe.uuidv4(),progress:0,total:W.size,bytesSent:0,filename:this._renameFile(W)},this.files.push(W),W.status=oe.ADDED,this.emit("addedfile",W),this._enqueueThumbnail(W),this.accept(W,function(pe){pe?(W.accepted=!1,ee._errorProcessing([W],pe)):(W.accepted=!0,ee.options.autoQueue&&ee.enqueueFile(W)),ee._updateMaxFilesReachedClass()})}},{key:"enqueueFiles",value:function(W){var ee=D(W),pe;try{for(ee.s();!(pe=ee.n()).done;){var ve=pe.value;this.enqueueFile(ve)}}catch(Ae){ee.e(Ae)}finally{ee.f()}return null}},{key:"enqueueFile",value:function(W){var ee=this;if(W.status===oe.ADDED&&W.accepted===!0){if(W.status=oe.QUEUED,this.options.autoProcessQueue)return setTimeout(function(){return ee.processQueue()},0)}else throw new Error("This file can't be queued because it has already been processed or was rejected.")}},{key:"_enqueueThumbnail",value:function(W){var ee=this;if(this.options.createImageThumbnails&&W.type.match(/image.*/)&&W.size<=this.options.maxThumbnailFilesize*1024*1024)return this._thumbnailQueue.push(W),setTimeout(function(){return ee._processThumbnailQueue()},0)}},{key:"_processThumbnailQueue",value:function(){var W=this;if(!(this._processingThumbnail||this._thumbnailQueue.length===0)){this._processingThumbnail=!0;var ee=this._thumbnailQueue.shift();return this.createThumbnail(ee,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,!0,function(pe){return W.emit("thumbnail",ee,pe),W._processingThumbnail=!1,W._processThumbnailQueue()})}}},{key:"removeFile",value:function(W){if(W.status===oe.UPLOADING&&this.cancelUpload(W),this.files=de(this.files,W),this.emit("removedfile",W),this.files.length===0)return this.emit("reset")}},{key:"removeAllFiles",value:function(W){W==null&&(W=!1);var ee=D(this.files.slice()),pe;try{for(ee.s();!(pe=ee.n()).done;){var ve=pe.value;(ve.status!==oe.UPLOADING||W)&&this.removeFile(ve)}}catch(Ae){ee.e(Ae)}finally{ee.f()}return null}},{key:"resizeImage",value:function(W,ee,pe,ve,Ae){var ke=this;return this.createThumbnail(W,ee,pe,ve,!0,function(Fe,ae){if(ae==null)return Ae(W);var fe=ke.options.resizeMimeType;fe==null&&(fe=W.type);var me=ae.toDataURL(fe,ke.options.resizeQuality);return(fe==="image/jpeg"||fe==="image/jpg")&&(me=we.restore(W.dataURL,me)),Ae(oe.dataURItoBlob(me))})}},{key:"createThumbnail",value:function(W,ee,pe,ve,Ae,ke){var Fe=this,ae=new FileReader;ae.onload=function(){if(W.dataURL=ae.result,W.type==="image/svg+xml"){ke?.(ae.result);return}Fe.createThumbnailFromUrl(W,ee,pe,ve,Ae,ke)},ae.readAsDataURL(W)}},{key:"displayExistingFile",value:function(W,ee,pe,ve){var Ae=this,ke=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(this.emit("addedfile",W),this.emit("complete",W),!ke)this.emit("thumbnail",W,ee),pe&&pe();else{var Fe=function(fe){Ae.emit("thumbnail",W,fe),pe&&pe()};W.dataURL=ee,this.createThumbnailFromUrl(W,this.options.thumbnailWidth,this.options.thumbnailHeight,this.options.thumbnailMethod,this.options.fixOrientation,Fe,ve)}}},{key:"createThumbnailFromUrl",value:function(W,ee,pe,ve,Ae,ke,Fe){var ae=this,fe=document.createElement("img");return Fe&&(fe.crossOrigin=Fe),Ae=getComputedStyle(document.body).imageOrientation=="from-image"?!1:Ae,fe.onload=function(){var me=function(H){return H(1)};return typeof EXIF<"u"&&EXIF!==null&&Ae&&(me=function(H){return EXIF.getData(fe,function(){return H(EXIF.getTag(this,"Orientation"))})}),me(function(O){W.width=fe.width,W.height=fe.height;var H=ae.options.resize.call(ae,W,ee,pe,ve),U=document.createElement("canvas"),le=U.getContext("2d");switch(U.width=H.trgWidth,U.height=H.trgHeight,O>4&&(U.width=H.trgHeight,U.height=H.trgWidth),O){case 2:le.translate(U.width,0),le.scale(-1,1);break;case 3:le.translate(U.width,U.height),le.rotate(Math.PI);break;case 4:le.translate(0,U.height),le.scale(1,-1);break;case 5:le.rotate(.5*Math.PI),le.scale(1,-1);break;case 6:le.rotate(.5*Math.PI),le.translate(0,-U.width);break;case 7:le.rotate(.5*Math.PI),le.translate(U.height,-U.width),le.scale(-1,1);break;case 8:le.rotate(-.5*Math.PI),le.translate(-U.height,0);break}xe(le,fe,H.srcX!=null?H.srcX:0,H.srcY!=null?H.srcY:0,H.srcWidth,H.srcHeight,H.trgX!=null?H.trgX:0,H.trgY!=null?H.trgY:0,H.trgWidth,H.trgHeight);var Se=U.toDataURL("image/png");if(ke!=null)return ke(Se,U)})},ke!=null&&(fe.onerror=ke),fe.src=W.dataURL}},{key:"processQueue",value:function(){var W=this.options.parallelUploads,ee=this.getUploadingFiles().length,pe=ee;if(!(ee>=W)){var ve=this.getQueuedFiles();if(ve.length>0){if(this.options.uploadMultiple)return this.processFiles(ve.slice(0,W-ee));for(;pe<W;){if(!ve.length)return;this.processFile(ve.shift()),pe++}}}}},{key:"processFile",value:function(W){return this.processFiles([W])}},{key:"processFiles",value:function(W){var ee=D(W),pe;try{for(ee.s();!(pe=ee.n()).done;){var ve=pe.value;ve.processing=!0,ve.status=oe.UPLOADING,this.emit("processing",ve)}}catch(Ae){ee.e(Ae)}finally{ee.f()}return this.options.uploadMultiple&&this.emit("processingmultiple",W),this.uploadFiles(W)}},{key:"_getFilesWithXhr",value:function(W){return this.files.filter(function(ee){return ee.xhr===W}).map(function(ee){return ee})}},{key:"cancelUpload",value:function(W){if(W.status===oe.UPLOADING){var ee=this._getFilesWithXhr(W.xhr),pe=D(ee),ve;try{for(pe.s();!(ve=pe.n()).done;){var Ae=ve.value;Ae.status=oe.CANCELED}}catch(fe){pe.e(fe)}finally{pe.f()}typeof W.xhr<"u"&&W.xhr.abort();var ke=D(ee),Fe;try{for(ke.s();!(Fe=ke.n()).done;){var ae=Fe.value;this.emit("canceled",ae)}}catch(fe){ke.e(fe)}finally{ke.f()}this.options.uploadMultiple&&this.emit("canceledmultiple",ee)}else(W.status===oe.ADDED||W.status===oe.QUEUED)&&(W.status=oe.CANCELED,this.emit("canceled",W),this.options.uploadMultiple&&this.emit("canceledmultiple",[W]));if(this.options.autoProcessQueue)return this.processQueue()}},{key:"resolveOption",value:function(W){if(typeof W=="function"){for(var ee=arguments.length,pe=new Array(ee>1?ee-1:0),ve=1;ve<ee;ve++)pe[ve-1]=arguments[ve];return W.apply(this,pe)}return W}},{key:"uploadFile",value:function(W){return this.uploadFiles([W])}},{key:"uploadFiles",value:function(W){var ee=this;this._transformFiles(W,function(pe){if(ee.options.chunking){var ve=pe[0];W[0].upload.chunked=ee.options.chunking&&(ee.options.forceChunking||ve.size>ee.options.chunkSize),W[0].upload.totalChunkCount=Math.ceil(ve.size/ee.options.chunkSize)}if(W[0].upload.chunked){var Ae=W[0],ke=pe[0];Ae.upload.chunks=[];var Fe=function(){for(var H=0;Ae.upload.chunks[H]!==void 0;)H++;if(!(H>=Ae.upload.totalChunkCount)){var U=H*ee.options.chunkSize,le=Math.min(U+ee.options.chunkSize,ke.size),Se={name:ee._getParamName(0),data:ke.webkitSlice?ke.webkitSlice(U,le):ke.slice(U,le),filename:Ae.upload.filename,chunkIndex:H};Ae.upload.chunks[H]={file:Ae,index:H,dataBlock:Se,status:oe.UPLOADING,progress:0,retries:0},ee._uploadData(W,[Se])}};if(Ae.upload.finishedChunkUpload=function(O,H){var U=!0;O.status=oe.SUCCESS,O.dataBlock=null,O.xhr=null;for(var le=0;le<Ae.upload.totalChunkCount;le++){if(Ae.upload.chunks[le]===void 0)return Fe();Ae.upload.chunks[le].status!==oe.SUCCESS&&(U=!1)}U&&ee.options.chunksUploaded(Ae,function(){ee._finished(W,H,null)})},ee.options.parallelChunkUploads)for(var ae=0;ae<Ae.upload.totalChunkCount;ae++)Fe();else Fe()}else{for(var fe=[],me=0;me<W.length;me++)fe[me]={name:ee._getParamName(me),data:pe[me],filename:W[me].upload.filename};ee._uploadData(W,fe)}})}},{key:"_getChunk",value:function(W,ee){for(var pe=0;pe<W.upload.totalChunkCount;pe++)if(W.upload.chunks[pe]!==void 0&&W.upload.chunks[pe].xhr===ee)return W.upload.chunks[pe]}},{key:"_uploadData",value:function(W,ee){var pe=this,ve=new XMLHttpRequest,Ae=D(W),ke;try{for(Ae.s();!(ke=Ae.n()).done;){var Fe=ke.value;Fe.xhr=ve}}catch(De){Ae.e(De)}finally{Ae.f()}W[0].upload.chunked&&(W[0].upload.chunks[ee[0].chunkIndex].xhr=ve);var ae=this.resolveOption(this.options.method,W),fe=this.resolveOption(this.options.url,W);ve.open(ae,fe,!0);var me=this.resolveOption(this.options.timeout,W);me&&(ve.timeout=this.resolveOption(this.options.timeout,W)),ve.withCredentials=!!this.options.withCredentials,ve.onload=function(De){pe._finishedUploading(W,ve,De)},ve.ontimeout=function(){pe._handleUploadError(W,ve,"Request timedout after ".concat(pe.options.timeout/1e3," seconds"))},ve.onerror=function(){pe._handleUploadError(W,ve)};var O=ve.upload!=null?ve.upload:ve;O.onprogress=function(De){return pe._updateFilesUploadProgress(W,ve,De)};var H={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"};this.options.headers&&oe.extend(H,this.options.headers);for(var U in H){var le=H[U];le&&ve.setRequestHeader(U,le)}var Se=new FormData;if(this.options.params){var Le=this.options.params;typeof Le=="function"&&(Le=Le.call(this,W,ve,W[0].upload.chunked?this._getChunk(W[0],ve):null));for(var Pe in Le){var $e=Le[Pe];if(Array.isArray($e))for(var Ze=0;Ze<$e.length;Ze++)Se.append(Pe,$e[Ze]);else Se.append(Pe,$e)}}var pt=D(W),ct;try{for(pt.s();!(ct=pt.n()).done;){var $t=ct.value;this.emit("sending",$t,ve,Se)}}catch(De){pt.e(De)}finally{pt.f()}this.options.uploadMultiple&&this.emit("sendingmultiple",W,ve,Se),this._addFormElementData(Se);for(var Ot=0;Ot<ee.length;Ot++){var mt=ee[Ot];Se.append(mt.name,mt.data,mt.filename)}this.submitRequest(ve,Se,W)}},{key:"_transformFiles",value:function(W,ee){for(var pe=this,ve=[],Ae=0,ke=function(fe){pe.options.transformFile.call(pe,W[fe],function(me){ve[fe]=me,++Ae===W.length&&ee(ve)})},Fe=0;Fe<W.length;Fe++)ke(Fe)}},{key:"_addFormElementData",value:function(W){if(this.element.tagName==="FORM"){var ee=D(this.element.querySelectorAll("input, textarea, select, button")),pe;try{for(ee.s();!(pe=ee.n()).done;){var ve=pe.value,Ae=ve.getAttribute("name"),ke=ve.getAttribute("type");if(ke&&(ke=ke.toLowerCase()),!(typeof Ae>"u"||Ae===null))if(ve.tagName==="SELECT"&&ve.hasAttribute("multiple")){var Fe=D(ve.options,!0),ae;try{for(Fe.s();!(ae=Fe.n()).done;){var fe=ae.value;fe.selected&&W.append(Ae,fe.value)}}catch(me){Fe.e(me)}finally{Fe.f()}}else(!ke||ke!=="checkbox"&&ke!=="radio"||ve.checked)&&W.append(Ae,ve.value)}}catch(me){ee.e(me)}finally{ee.f()}}}},{key:"_updateFilesUploadProgress",value:function(W,ee,pe){if(W[0].upload.chunked){var Fe=W[0],ae=this._getChunk(Fe,ee);pe?(ae.progress=100*pe.loaded/pe.total,ae.total=pe.total,ae.bytesSent=pe.loaded):(ae.progress=100,ae.bytesSent=ae.total),Fe.upload.progress=0,Fe.upload.total=0,Fe.upload.bytesSent=0;for(var fe=0;fe<Fe.upload.totalChunkCount;fe++)Fe.upload.chunks[fe]&&typeof Fe.upload.chunks[fe].progress<"u"&&(Fe.upload.progress+=Fe.upload.chunks[fe].progress,Fe.upload.total+=Fe.upload.chunks[fe].total,Fe.upload.bytesSent+=Fe.upload.chunks[fe].bytesSent);Fe.upload.progress=Fe.upload.progress/Fe.upload.totalChunkCount,this.emit("uploadprogress",Fe,Fe.upload.progress,Fe.upload.bytesSent)}else{var ve=D(W),Ae;try{for(ve.s();!(Ae=ve.n()).done;){var ke=Ae.value;ke.upload.total&&ke.upload.bytesSent&&ke.upload.bytesSent==ke.upload.total||(pe?(ke.upload.progress=100*pe.loaded/pe.total,ke.upload.total=pe.total,ke.upload.bytesSent=pe.loaded):(ke.upload.progress=100,ke.upload.bytesSent=ke.upload.total),this.emit("uploadprogress",ke,ke.upload.progress,ke.upload.bytesSent))}}catch(me){ve.e(me)}finally{ve.f()}}}},{key:"_finishedUploading",value:function(W,ee,pe){var ve;if(W[0].status!==oe.CANCELED&&ee.readyState===4){if(ee.responseType!=="arraybuffer"&&ee.responseType!=="blob"&&(ve=ee.responseText,ee.getResponseHeader("content-type")&&~ee.getResponseHeader("content-type").indexOf("application/json")))try{ve=JSON.parse(ve)}catch(Ae){pe=Ae,ve="Invalid JSON response from server."}this._updateFilesUploadProgress(W,ee),200<=ee.status&&ee.status<300?W[0].upload.chunked?W[0].upload.finishedChunkUpload(this._getChunk(W[0],ee),ve):this._finished(W,ve,pe):this._handleUploadError(W,ee,ve)}}},{key:"_handleUploadError",value:function(W,ee,pe){if(W[0].status!==oe.CANCELED){if(W[0].upload.chunked&&this.options.retryChunks){var ve=this._getChunk(W[0],ee);if(ve.retries++<this.options.retryChunksLimit){this._uploadData(W,[ve.dataBlock]);return}else console.warn("Retried this chunk too often. Giving up.")}this._errorProcessing(W,pe||this.options.dictResponseError.replace("{{statusCode}}",ee.status),ee)}}},{key:"submitRequest",value:function(W,ee,pe){if(W.readyState!=1){console.warn("Cannot send this request because the XMLHttpRequest.readyState is not OPENED.");return}W.send(ee)}},{key:"_finished",value:function(W,ee,pe){var ve=D(W),Ae;try{for(ve.s();!(Ae=ve.n()).done;){var ke=Ae.value;ke.status=oe.SUCCESS,this.emit("success",ke,ee,pe),this.emit("complete",ke)}}catch(Fe){ve.e(Fe)}finally{ve.f()}if(this.options.uploadMultiple&&(this.emit("successmultiple",W,ee,pe),this.emit("completemultiple",W)),this.options.autoProcessQueue)return this.processQueue()}},{key:"_errorProcessing",value:function(W,ee,pe){var ve=D(W),Ae;try{for(ve.s();!(Ae=ve.n()).done;){var ke=Ae.value;ke.status=oe.ERROR,this.emit("error",ke,ee,pe),this.emit("complete",ke)}}catch(Fe){ve.e(Fe)}finally{ve.f()}if(this.options.uploadMultiple&&(this.emit("errormultiple",W,ee,pe),this.emit("completemultiple",W)),this.options.autoProcessQueue)return this.processQueue()}}],[{key:"initClass",value:function(){this.prototype.Emitter=y,this.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","addedfiles","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],this.prototype._thumbnailQueue=[],this.prototype._processingThumbnail=!1}},{key:"extend",value:function(W){for(var ee=arguments.length,pe=new Array(ee>1?ee-1:0),ve=1;ve<ee;ve++)pe[ve-1]=arguments[ve];for(var Ae=0,ke=pe;Ae<ke.length;Ae++){var Fe=ke[Ae];for(var ae in Fe){var fe=Fe[ae];W[ae]=fe}}return W}},{key:"uuidv4",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(W){var ee=Math.random()*16|0,pe=W==="x"?ee:ee&3|8;return pe.toString(16)})}}]),oe})(y);V.initClass(),V.version="5.9.3",V.options={},V.optionsForElement=function(ne){if(ne.getAttribute("id"))return V.options[Y(ne.getAttribute("id"))]},V.instances=[],V.forElement=function(ne){if(typeof ne=="string"&&(ne=document.querySelector(ne)),ne?.dropzone==null)throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return ne.dropzone},V.autoDiscover=!0,V.discover=function(){var ne;if(document.querySelectorAll)ne=document.querySelectorAll(".dropzone");else{ne=[];var ie=function(ce){return(function(){var W=[],ee=D(ce),pe;try{for(ee.s();!(pe=ee.n()).done;){var ve=pe.value;/(^| )dropzone($| )/.test(ve.className)?W.push(ne.push(ve)):W.push(void 0)}}catch(Ae){ee.e(Ae)}finally{ee.f()}return W})()};ie(document.getElementsByTagName("div")),ie(document.getElementsByTagName("form"))}return(function(){var oe=[],ce=D(ne),W;try{for(ce.s();!(W=ce.n()).done;){var ee=W.value;V.optionsForElement(ee)!==!1?oe.push(new V(ee)):oe.push(void 0)}}catch(pe){ce.e(pe)}finally{ce.f()}return oe})()},V.blockedBrowsers=[/opera.*(Macintosh|Windows Phone).*version\/12/i],V.isBrowserSupported=function(){var ne=!0;if(window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if(!("classList"in document.createElement("a")))ne=!1;else{V.blacklistedBrowsers!==void 0&&(V.blockedBrowsers=V.blacklistedBrowsers);var ie=D(V.blockedBrowsers),oe;try{for(ie.s();!(oe=ie.n()).done;){var ce=oe.value;if(ce.test(navigator.userAgent)){ne=!1;continue}}}catch(W){ie.e(W)}finally{ie.f()}}else ne=!1;return ne},V.dataURItoBlob=function(ne){for(var ie=atob(ne.split(",")[1]),oe=ne.split(",")[0].split(":")[1].split(";")[0],ce=new ArrayBuffer(ie.length),W=new Uint8Array(ce),ee=0,pe=ie.length,ve=0<=pe;ve?ee<=pe:ee>=pe;ve?ee++:ee--)W[ee]=ie.charCodeAt(ee);return new Blob([ce],{type:oe})};var de=function(ie,oe){return ie.filter(function(ce){return ce!==oe}).map(function(ce){return ce})},Y=function(ie){return ie.replace(/[\-_](\w)/g,function(oe){return oe.charAt(1).toUpperCase()})};V.createElement=function(ne){var ie=document.createElement("div");return ie.innerHTML=ne,ie.childNodes[0]},V.elementInside=function(ne,ie){if(ne===ie)return!0;for(;ne=ne.parentNode;)if(ne===ie)return!0;return!1},V.getElement=function(ne,ie){var oe;if(typeof ne=="string"?oe=document.querySelector(ne):ne.nodeType!=null&&(oe=ne),oe==null)throw new Error("Invalid `".concat(ie,"` option provided. Please provide a CSS selector or a plain HTML element."));return oe},V.getElements=function(ne,ie){var oe,ce;if(ne instanceof Array){ce=[];try{var W=D(ne,!0),ee;try{for(W.s();!(ee=W.n()).done;)oe=ee.value,ce.push(this.getElement(oe,ie))}catch(Ae){W.e(Ae)}finally{W.f()}}catch{ce=null}}else if(typeof ne=="string"){ce=[];var pe=D(document.querySelectorAll(ne)),ve;try{for(pe.s();!(ve=pe.n()).done;)oe=ve.value,ce.push(oe)}catch(Ae){pe.e(Ae)}finally{pe.f()}}else ne.nodeType!=null&&(ce=[ne]);if(ce==null||!ce.length)throw new Error("Invalid `".concat(ie,"` option provided. Please provide a CSS selector, a plain HTML element or a list of those."));return ce},V.confirm=function(ne,ie,oe){if(window.confirm(ne))return ie();if(oe!=null)return oe()},V.isValidFile=function(ne,ie){if(!ie)return!0;ie=ie.split(",");var oe=ne.type,ce=oe.replace(/\/.*$/,""),W=D(ie),ee;try{for(W.s();!(ee=W.n()).done;){var pe=ee.value;if(pe=pe.trim(),pe.charAt(0)==="."){if(ne.name.toLowerCase().indexOf(pe.toLowerCase(),ne.name.length-pe.length)!==-1)return!0}else if(/\/\*$/.test(pe)){if(ce===pe.replace(/\/.*$/,""))return!0}else if(oe===pe)return!0}}catch(ve){W.e(ve)}finally{W.f()}return!1},typeof jQuery<"u"&&jQuery!==null&&(jQuery.fn.dropzone=function(ne){return this.each(function(){return new V(this,ne)})}),V.ADDED="added",V.QUEUED="queued",V.ACCEPTED=V.QUEUED,V.UPLOADING="uploading",V.PROCESSING=V.UPLOADING,V.CANCELED="canceled",V.ERROR="error",V.SUCCESS="success";var ue=function(ie){ie.naturalWidth;var oe=ie.naturalHeight,ce=document.createElement("canvas");ce.width=1,ce.height=oe;var W=ce.getContext("2d");W.drawImage(ie,0,0);for(var ee=W.getImageData(1,0,1,oe),pe=ee.data,ve=0,Ae=oe,ke=oe;ke>ve;){var Fe=pe[(ke-1)*4+3];Fe===0?Ae=ke:ve=ke,ke=Ae+ve>>1}var ae=ke/oe;return ae===0?1:ae},xe=function(ie,oe,ce,W,ee,pe,ve,Ae,ke,Fe){var ae=ue(oe);return ie.drawImage(oe,ce,W,ee,pe,ve,Ae,ke,Fe/ae)},we=(function(){function ne(){R(this,ne)}return I(ne,null,[{key:"initClass",value:function(){this.KEY_STR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}},{key:"encode64",value:function(oe){for(var ce="",W=void 0,ee=void 0,pe="",ve=void 0,Ae=void 0,ke=void 0,Fe="",ae=0;W=oe[ae++],ee=oe[ae++],pe=oe[ae++],ve=W>>2,Ae=(W&3)<<4|ee>>4,ke=(ee&15)<<2|pe>>6,Fe=pe&63,isNaN(ee)?ke=Fe=64:isNaN(pe)&&(Fe=64),ce=ce+this.KEY_STR.charAt(ve)+this.KEY_STR.charAt(Ae)+this.KEY_STR.charAt(ke)+this.KEY_STR.charAt(Fe),W=ee=pe="",ve=Ae=ke=Fe="",ae<oe.length;);return ce}},{key:"restore",value:function(oe,ce){if(!oe.match("data:image/jpeg;base64,"))return ce;var W=this.decode64(oe.replace("data:image/jpeg;base64,","")),ee=this.slice2Segments(W),pe=this.exifManipulation(ce,ee);return"data:image/jpeg;base64,".concat(this.encode64(pe))}},{key:"exifManipulation",value:function(oe,ce){var W=this.getExifArray(ce),ee=this.insertExif(oe,W),pe=new Uint8Array(ee);return pe}},{key:"getExifArray",value:function(oe){for(var ce=void 0,W=0;W<oe.length;){if(ce=oe[W],ce[0]===255&ce[1]===225)return ce;W++}return[]}},{key:"insertExif",value:function(oe,ce){var W=oe.replace("data:image/jpeg;base64,",""),ee=this.decode64(W),pe=ee.indexOf(255,3),ve=ee.slice(0,pe),Ae=ee.slice(pe),ke=ve;return ke=ke.concat(ce),ke=ke.concat(Ae),ke}},{key:"slice2Segments",value:function(oe){for(var ce=0,W=[];;){var ee;if(oe[ce]===255&oe[ce+1]===218)break;if(oe[ce]===255&oe[ce+1]===216)ce+=2;else{ee=oe[ce+2]*256+oe[ce+3];var pe=ce+ee+2,ve=oe.slice(ce,pe);W.push(ve),ce=pe}if(ce>oe.length)break}return W}},{key:"decode64",value:function(oe){var ce=void 0,W=void 0,ee="",pe=void 0,ve=void 0,Ae=void 0,ke="",Fe=0,ae=[],fe=/[^A-Za-z0-9\+\/\=]/g;for(fe.exec(oe)&&console.warn(`There were invalid base64 characters in the input text.
Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='
Expect errors in decoding.`),oe=oe.replace(/[^A-Za-z0-9\+\/\=]/g,"");pe=this.KEY_STR.indexOf(oe.charAt(Fe++)),ve=this.KEY_STR.indexOf(oe.charAt(Fe++)),Ae=this.KEY_STR.indexOf(oe.charAt(Fe++)),ke=this.KEY_STR.indexOf(oe.charAt(Fe++)),ce=pe<<2|ve>>4,W=(ve&15)<<4|Ae>>2,ee=(Ae&3)<<6|ke,ae.push(ce),Ae!==64&&ae.push(W),ke!==64&&ae.push(ee),ce=W=ee="",pe=ve=Ae=ke="",Fe<oe.length;);return ae}}]),ne})();we.initClass();var Q=function(ie,oe){var ce=!1,W=!0,ee=ie.document,pe=ee.documentElement,ve=ee.addEventListener?"addEventListener":"attachEvent",Ae=ee.addEventListener?"removeEventListener":"detachEvent",ke=ee.addEventListener?"":"on",Fe=function fe(me){if(!(me.type==="readystatechange"&&ee.readyState!=="complete")&&((me.type==="load"?ie:ee)[Ae](ke+me.type,fe,!1),!ce&&(ce=!0)))return oe.call(ie,me.type||me)},ae=function fe(){try{pe.doScroll("left")}catch{setTimeout(fe,50);return}return Fe("poll")};if(ee.readyState!=="complete"){if(ee.createEventObject&&pe.doScroll){try{W=!ie.frameElement}catch{}W&&ae()}return ee[ve](ke+"DOMContentLoaded",Fe,!1),ee[ve](ke+"readystatechange",Fe,!1),ie[ve](ke+"load",Fe,!1)}};V._autoDiscoverFunction=function(){if(V.autoDiscover)return V.discover()},Q(window,V._autoDiscoverFunction);function K(ne,ie){return typeof ne<"u"&&ne!==null?ie(ne):void 0}function Ce(ne,ie,oe){if(typeof ne<"u"&&ne!==null&&typeof ne[ie]=="function")return oe(ne,ie)}window.Dropzone=V;var Me=V})(),o})()})})(pv)),pv.exports}var Kc=HU();class zU extends dn{static targets=["search","name","original","alt","description","url","loadmore"];constructor(e){super(e),this.attachments={},this.mediaList=[],this.allMediaList={}}initialize(){this.page=1}get dropname(){return this.element.querySelector("#"+this.data.get("id"))}get activeAttachment(){return{id:this.activeAchivmentId,name:this[this.getAttachmentTargetKey("name")].value||"",alt:this[this.getAttachmentTargetKey("alt")].value||"",description:this[this.getAttachmentTargetKey("description")].value||"",original_name:this[this.getAttachmentTargetKey("original")].value||""}}set activeAttachment(e){this.activeAchivmentId=e.id,this[this.getAttachmentTargetKey("name")].value=e.name||"",this[this.getAttachmentTargetKey("original")].value=e.original_name||"",this[this.getAttachmentTargetKey("alt")].value=e.alt||"",this[this.getAttachmentTargetKey("description")].value=e.description||"",this.data.set("url",e.url)}openLink(e){e.preventDefault(),window.open(this.data.get("url"))}connect(){this.initDropZone(),this.initSortable()}save(){const e=this.activeAttachment,t=this.dropname;pi.getOrCreateInstance(t.querySelector(".attachment.modal")).toggle();const i=e.name+e.id;this.attachments.hasOwnProperty(i)&&(this.attachments[i].name=e.name,this.attachments[i].alt=e.alt,this.attachments[i].description=e.description,this.attachments[i].original_name=e.original_name),axios.put(this.prefix(`/systems/files/post/${e.id}`),e).then()}getAttachmentTargetKey(e){return`${e}Target`}loadInfo(e){const t=e.name+e.id;this.attachments.hasOwnProperty(t)||(this.attachments[t]=e),this.activeAttachment=e}resortElement(){const e={},t=this,r=this.dropname,i=axios.CancelToken;typeof this.cancelRequest=="function"&&this.cancelRequest(),r.querySelectorAll(":scope .file-sort").forEach((l,h)=>{const u=l.getAttribute("data-file-id");e[u]=h}),axios.post(this.prefix("/systems/files/sort"),{files:e},{cancelToken:new i(function(h){t.cancelRequest=h})}).then()}initSortable(){new Kt(this.element.querySelector(".sortable-dropzone"),{animation:150,onEnd:()=>{this.resortElement()}})}addSortDataAtributes(e,t,r){const i=e.querySelectorAll(" .dz-complete");i!==null&&i.item(i.length-1)!==null&&(i.item(i.length-1).setAttribute("data-file-id",r.id),i.item(i.length-1).classList.add("file-sort"));const o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",t+"[]"),o.setAttribute("value",r.id),o.classList.add("files-"+r.id),e.appendChild(o)}initDropZone(){const e=this,t=this.data.get("data")&&JSON.parse(this.data.get("data")),r=this.data.get("storage"),i=this.data.get("name"),o=this.loadInfo.bind(this),l=this.dropname,h=this.data.get("groups"),u=this.data.get("path"),f=!!this.data.get("multiple"),d=this.data.get("is-media-library"),g=this.element.querySelector("#"+this.data.get("id")+"-remove-button").innerHTML.trim(),y=this.element.querySelector("#"+this.data.get("id")+"-edit-button").innerHTML.trim(),k=this,w=this.prefix("/systems/files/");this.dropZone=new Kc.Dropzone(this.element.querySelector("#"+this.data.get("id")),{url:this.prefix("/systems/files"),method:"post",uploadMultiple:!0,maxFilesize:this.data.get("max-file-size"),maxFiles:f?this.data.get("max-files"):1,timeout:this.data.get("timeout"),acceptedFiles:this.data.get("accepted-files"),resizeQuality:this.data.get("resize-quality"),resizeWidth:this.data.get("resize-width"),resizeHeight:this.data.get("resize-height"),paramName:"files",previewsContainer:l.querySelector(".visual-dropzone"),addRemoveLinks:!1,dictFileTooBig:"File is big",autoDiscover:!1,init:function(){this.on("addedfile",N=>{console.log("dropzone.addedfile"),this.files.length>this.options.maxFiles&&(k.alert("Validation error","Max files"),this.removeFile(N));const b=Kc.Dropzone.createElement(y),M=Kc.Dropzone.createElement(g);M.addEventListener("click",E=>{E.preventDefault(),E.stopPropagation(),this.removeFile(N)}),b.addEventListener("click",()=>{o(N.data),pi.getOrCreateInstance(l.querySelector(".attachment.modal")).show()}),N.previewElement.appendChild(M),N.previewElement.appendChild(b)}),this.on("maxfilesexceeded",N=>{k.alert("Validation error","Max files exceeded"),this.removeFile(N)}),this.on("sending",(N,b,M)=>{let E=document.querySelector("meta[name='csrf_token']").getAttribute("content");M.append("_token",E),M.append("storage",r),M.append("group",h),M.append("path",u)}),this.on("removedfile",N=>{if(N.hasOwnProperty("data")&&N.data.hasOwnProperty("id")){let b=l.querySelector(`.files-${N.data.id}`);b!==null&&b.parentNode!==null&&b.parentNode.removeChild(b),!d&&axios.delete(w+N.data.id,{storage:r}).then()}}),f||this.hiddenFileInput.removeAttribute("multiple");const _=t;_&&Object.values(_).forEach(N=>{const b={id:N.id,name:N.original_name,size:N.size,type:N.mime,status:Kc.Dropzone.ADDED,url:`${N.url}`,data:N};this.emit("addedfile",b),this.emit("thumbnail",b,b.url),this.emit("complete",b),this.files.push(b),e.addSortDataAtributes(l,i,N)});let A=l.querySelector(".dz-progress");A!==null&&A.parentNode!==null&&A.parentNode.removeChild(A)},error(_,A){return k.alert("Validation error","File upload error"),this.removeFile(_),Object.prototype.toString.call(A).replace(/^\[object (.+)\]$/,"$1").toLowerCase()==="string"?A:A.message},success(_,A){Array.isArray(A)||(A=[A]),A.forEach(N=>{if(_.name===N.original_name)return _.data=N,!1}),e.addSortDataAtributes(l,i,_.data),e.resortElement()}})}openMedia(){const e=this.dropname;e.querySelector(".media-loader").style.display="",e.querySelector(".media-results").style.display="none",this.resetPage(),this.loadMedia()}loadMore(e){e.preventDefault(),this.page++,this.loadMedia()}resetPage(){this.allMediaList={},this.page=1,this.dropname.querySelector(".media-results").innerHTML=""}loadMedia(){const e=this,t=axios.CancelToken,r=this.dropname;typeof this.cancelRequest=="function"&&this.cancelRequest(),pi.getOrCreateInstance(r.querySelector(".media.modal")).show();let o={disk:this.data.get("storage"),original_name:this.searchTarget.value,group:this.data.get("groups")||null};Object.keys(o).forEach(l=>o[l]===null&&delete o[l]),axios.post(this.prefix(`/systems/media?page=${this.page}`),{filter:o},{cancelToken:new t(function(h){e.cancelRequest=h})}).then(l=>{this.mediaList=l.data.data,this.loadmoreTarget.classList.toggle("d-none",l.data.last_page===this.page),this.renderMedia()})}renderMedia(){this.mediaList.forEach((e,t)=>{const r=this.page+"-"+t,i=this.element.querySelector("#"+this.data.get("id")+"-media").content.querySelector(".media-item").cloneNode(!0);i.innerHTML=i.innerHTML.replace(/{index}/,r).replace(/{element.url}/,e.url).replace(/{element.original_name}/,e.original_name).replace(/{element.original_name}/,e.original_name),this.dropname.querySelector(".media-results").appendChild(i),this.allMediaList[r]=e}),this.dropname.querySelector(".media-loader").style.display="none",this.dropname.querySelector(".media-results").style.display=""}addFile(e){const t=e.currentTarget.dataset.key,r=this.allMediaList[t];this.addedExistFile(r),this.data.get("close-on-add")&&pi.getOrCreateInstance(this.dropname.querySelector(".media.modal")).hide()}addedExistFile(e){const r=!!this.data.get("multiple")?this.data.get("max-files"):1;if(this.dropZone.files.length>=r){this.alert("Max files exceeded");return}const i={id:e.id,name:e.original_name,size:e.size,type:e.mime,status:Kc.Dropzone.ADDED,url:`${e.url}`,data:e};this.dropZone.emit("addedfile",i),this.dropZone.emit("thumbnail",i,i.url),this.dropZone.emit("complete",i),this.dropZone.files.push(i),this.addSortDataAtributes(this.dropname,this.data.get("name"),i),this.resortElement()}}const $U=Object.freeze(Object.defineProperty({__proto__:null,default:zU},Symbol.toStringTag,{value:"Module"}));class UU extends dn{static targets=["url","source","medium","campaign","term","content"];connect(){if(!this.urlTarget.value)return;let e=new URL(this.urlTarget.value);this.sourceTarget.value=this.loadParam(e,"source"),this.mediumTarget.value=this.loadParam(e,"medium"),this.campaignTarget.value=this.loadParam(e,"campaign"),this.termTarget.value=this.loadParam(e,"term"),this.contentTarget.value=this.loadParam(e,"content")}generate(){let e=new URL(this.urlTarget.value);this.urlTarget.value=e.protocol+"//"+e.host+e.pathname,this.addParams("source",this.sourceTarget.value),this.addParams("medium",this.mediumTarget.value),this.addParams("campaign",this.campaignTarget.value),this.addParams("term",this.termTarget.value),this.addParams("content",this.contentTarget.value)}slugify(e){return e.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")}add(e,t,r){this.urlTarget.value+=`${e+t}=${encodeURIComponent(r)}`}change(e,t){this.urlTarget.value=this.urlTarget.value.replace(e,`$1${encodeURIComponent(t)}`)}addParams(e,t){if(e=`utm_${e}`,t=this.slugify(t),t.trim().length===0)return;let r=new RegExp("([?&]"+e+"=)[^&]+","");if(this.urlTarget.value.indexOf("?")===-1){this.add("?",e,t);return}if(r.test(this.link)){this.change(r,t);return}this.add("&",e,t)}loadParam(e,t){return e.searchParams.get("utm_"+t)}}const qU=Object.freeze(Object.defineProperty({__proto__:null,default:UU},Symbol.toStringTag,{value:"Module"}));class WU extends Tl{initialize(){this.intersectionObserver=new IntersectionObserver(e=>this.processIntersectionEntries(e))}connect(){this.intersectionObserver.observe(this.element)}disconnect(){this.intersectionObserver.unobserve(this.element)}processIntersectionEntries(e){e.forEach(t=>{this.element.classList.toggle(this.data.get("class"),t.isIntersecting&&window.document.body.scrollHeight>window.document.body.clientHeight+400)})}}const VU=Object.freeze(Object.defineProperty({__proto__:null,default:WU},Symbol.toStringTag,{value:"Module"}));var GU=/^(?:.*?(?:controllers|components)\/|\.?\.\/)?(.+)(?:[/_-]controller\..+?)$/;function YU(n,e){n.load(KU(e))}function KU(n){return Object.entries(n).map(ZU).filter(e=>e)}function ZU([n,e]){var t;const r=XU(n),i=(t=e.default)!=null?t:e;if(r&&typeof i=="function")return{identifier:r,controllerConstructor:i}}function XU(n){const e=(n.match(GU)||[])[1];if(e)return e.replace(/_/g,"-").replace(/\//g,"--")}window.Turbo=NB;window.Bootstrap=VR;window.application=AC.start();window.Controller=dn;window.Orchid=kx;const JU=Object.assign({"./controllers/application_controller.js":zC,"./controllers/attach_controller.js":pO,"./controllers/browsing_controller.js":gO,"./controllers/button_controller.js":yO,"./controllers/chart_controller.js":FM,"./controllers/checkbox_controller.js":jM,"./controllers/code_controller.js":KM,"./controllers/confirm_controller.js":YR,"./controllers/cropper_controller.js":j2,"./controllers/datetime_controller.js":eF,"./controllers/filter_controller.js":p3,"./controllers/form_controller.js":g3,"./controllers/html_load_controller.js":G4,"./controllers/input_controller.js":Q4,"./controllers/listener_controller.js":t5,"./controllers/map_controller.js":o5,"./controllers/matrix_controller.js":l5,"./controllers/menu_controller.js":c5,"./controllers/modal_controller.js":f5,"./controllers/modal_toggle_controller.js":p5,"./controllers/notification_controller.js":g5,"./controllers/password_controller.js":y5,"./controllers/picture_controller.js":w5,"./controllers/popover_controller.js":x5,"./controllers/pull-to-refresh_controller.js":E5,"./controllers/quill_controller.js":C$,"./controllers/radiobutton_controller.js":L$,"./controllers/relation_controller.js":vU,"./controllers/reload_controller.js":bU,"./controllers/search_controller.js":_U,"./controllers/select_controller.js":SU,"./controllers/simplemde_controller.js":kU,"./controllers/sortable_controller.js":OU,"./controllers/table_controller.js":MU,"./controllers/tabs_controller.js":NU,"./controllers/toast_controller.js":DU,"./controllers/toggle_controller.js":FU,"./controllers/tooltip_controller.js":jU,"./controllers/upload_controller.js":$U,"./controllers/utm_controller.js":qU,"./controllers/viewport-entrance-toggle_controller.js":VU});YU(application,JU);window.addEventListener("turbo:before-fetch-request",n=>{let e=document.getElementById("screen-state")?.value;e&&e.length>0&&n.detail?.fetchOptions?.body?.append("_state",e)})});export default QU();
